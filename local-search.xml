<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Hongyi Li&#39;s Machine learning course notes</title>
    <link href="/2023/03/16/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2023/03/16/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Li’s-Machine-Learning"><a href="#Li’s-Machine-Learning" class="headerlink" title="Li’s Machine-Learning"></a>Li’s Machine-Learning</h1><h2 id="Model-bias-amp-Optimazition-issue"><a href="#Model-bias-amp-Optimazition-issue" class="headerlink" title="Model bias &amp; Optimazition issue"></a>Model bias &amp; Optimazition issue</h2><p>训练过程中，先对 <code>training data</code> 的 <code>loss</code> 进行判定，如果<strong>大</strong>，则考虑两种情况</p><ul><li>模型不够弹性（Model bias）</li><li>优化器做得不够好（Optimization）</li></ul><p>搜索范围不够广还是优化器不能达到全局最优（SVM）？</p><p>如果发生下述情况，则说明优化器做得不够好</p><script type="math/tex; mode=display">\begin{array}{|c|c|c|c|c|c|}\hline & \text { 1 layer } & \text { 2 layer } & \text { 3 layer } & \text { 4 layer } & \text { 5 layer } \\\hline 2017-2020 & 0.28 \mathrm{k} & 0.18 \mathrm{k} & 0.14 \mathrm{k} & 0.10 \mathrm{k} & 0.34 \mathrm{k} \\\hline\end{array}</script><p>优化过程中 <code>Loss</code> 趋于不变，$\nabla f\to 0$，可能在 <code>Local minima</code> 或者 <code>saddle point</code>，区别方法：Hesse matrix 分别正定、既不正定也不负定</p><script type="math/tex; mode=display">L(\theta) \approx L\left(\theta^{\prime}\right)+\frac{1}{2}\left(\theta-\theta^{\prime}\right)^T H\left(\theta-\theta^{\prime}\right)</script><blockquote><p> 在<strong>鞍点</strong>处往 $\lambda &lt;0$ 对应的特征向量方向 $\vec{u}$ 优化，$H\vec{u}=\lambda \vec{u}\Longrightarrow L(\theta^{\prime})&lt;L(\theta)$，但实际中涉及二阶导和求解矩阵特征值运算，几乎不用。</p></blockquote><p>维度高代表参数空间有更多的路可以走，实验给出，Hesse matrix 中特征值大于 $0$ 的比例大多数集中在 $0.5$ 附近，即多数情况下是卡在 <code>saddle point</code>。</p><p><img src="/img/李宏毅机器学习笔记/image-20230207205526588.png" alt="image-20230207205526588" style="zoom:33%;" /></p><h2 id="Critical-point"><a href="#Critical-point" class="headerlink" title="Critical point"></a>Critical point</h2><h3 id="Batch"><a href="#Batch" class="headerlink" title="Batch"></a>Batch</h3><p>不用所有的训练资料计算梯度，随机混合分组，每组 Batch 更新同一组参数，能够节约时间，虽然噪声影响大，但轮数多。（Batch 大不一定计算梯度时间长，现代硬件有平行运算能力）</p><p>大的 Batch-size 往往得到比较差的模型，在 Training data 和 Test data 上正确率都比较低，这是 Optimize 问题，因为不同的 Batch 形成的噪声能更好地跨过 <code>saddle point</code>。小的 Batch-size 在 Test data 上也表现好（一种解释是 Small batch 更容易进入“平原”）</p><p><img src="/img/李宏毅机器学习笔记/image-20230207204504569.png" alt="image-20230207204504569" style="zoom:20%;" /></p><h3 id="Momentum"><a href="#Momentum" class="headerlink" title="Momentum"></a>Momentum</h3><p>在原始梯度下降（Vanilla）中加入惯性，引入 $m^{i}$ 为每次改变中的质量，$g^i$ 为每次计算的梯度 </p><script type="math/tex; mode=display">\begin{aligned}m^2&=\lambda m^1-\eta g^1\\\theta^2&=\theta^1+m^2\end{aligned}</script><p>容易跨过鞍点</p><h2 id="Learning-rate"><a href="#Learning-rate" class="headerlink" title="Learning_rate"></a>Learning_rate</h2><blockquote><p>Adam means <strong>Adaptive momentum</strong>.</p></blockquote><h3 id="Root-Mean-Square-Adagrad"><a href="#Root-Mean-Square-Adagrad" class="headerlink" title="Root Mean Square(Adagrad)"></a>Root Mean Square(Adagrad)</h3><p>在一个等高线椭圆狭长的优化问题上优化</p><p><img src="/img/李宏毅机器学习笔记/image-20230207205820987.png" alt="image-20230207205820987" style="zoom:33%;" /></p><p>更新参数</p><script type="math/tex; mode=display">\theta_i^{t+1} \leftarrow \theta_i^{t}-\frac{\eta}{\sigma_i^t}g_i^{t}</script><p>对每个参数 $i$，使用前面梯度的方均根给参数 $\sigma_i^t$，如下</p><script type="math/tex; mode=display">\theta_i^{t+1} \leftarrow \theta_i^{t}-\frac{\eta}{\sigma_i^t} g_i^{t} \quad \sigma_i^t=\sqrt{\frac{1}{t+1} \sum_{i=0}^t\left(g_{\dot{i}}^{t}\right)^2}</script><p>即如果当前更新速度一直很慢的话可调大学习率，否则降低学习率</p><h3 id="RMSProp"><a href="#RMSProp" class="headerlink" title="RMSProp"></a>RMSProp</h3><blockquote><p>Google 使用的优化器</p></blockquote><p>上述要求梯度基本一样，加入超参数 $\alpha$ 表征前者调整的比例</p><script type="math/tex; mode=display">\theta_i^{t+1} \leftarrow \theta_i^{t}-\frac{\eta}{\sigma_i^t} g_i^{t} \quad \sigma_i^t=\sqrt{\alpha\left(\sigma_i^{t-1}\right)^2+(1-\alpha)\left(g_i^{t}\right)^2}</script><p><strong>Adam</strong>：RMSProp + Momentum</p><h3 id="Learning-Rate-Scheduling"><a href="#Learning-Rate-Scheduling" class="headerlink" title="Learning Rate Scheduling"></a>Learning Rate Scheduling</h3><p><img src="/img/李宏毅机器学习笔记/image-20230207211811638.png" alt="image-20230207211811638" style="zoom:33%;" /></p><p>随着训练进行，将学习率本身不断减小</p><p>Warm-up 黑科技，在训练初期逐渐增加 <code>Learning_rate</code>，代表初期探索</p><h2 id="Overfitting"><a href="#Overfitting" class="headerlink" title="Overfitting"></a>Overfitting</h2><p>上述过程均检测正常，即 <code>training data</code> 中 <code>loss</code> 较小，但 <code>testing data</code> 中 <code>loss</code> 较大，一个极端的例子是</p><p>Training data: $\left\{\left(x^1, \hat{y}^1\right),\left(x^2, \hat{y}^2\right), \ldots,\left(x^N, \hat{y}^N\right)\right\}$</p><script type="math/tex; mode=display">f(x)=\left\{\begin{array}{cl}\hat{y}^i & \exists x^i=x \\\text { random } & \text { otherwise }\end{array} \quad\right.</script><p>model 越大，overfitting 的概率越大（另一种为 mismatch，就算有更多的资料，训练集和测试集的分布不一样）</p><p><strong>解决办法：</strong></p><ul><li><p>Data augmentation，将图片水平翻转或者放大让训练集变大</p></li><li><p>Constrain，让模型限制在某些函数上</p></li><li><p>共用参数，限制参数</p><script type="math/tex; mode=display">\text{CNN}\in \text{Fully-Connected model}</script></li><li><p>N-fold Cross Validation，提高 private-data 准确率 </p></li></ul><p>L2 正则化和 weight decay 是一样的，L2 正则就是权重衰减。</p>]]></content>
    
    
    <categories>
      
      <category>计算机科学</category>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Summary of autumn term in the second college</title>
    <link href="/2023/01/09/%E6%80%BB%E7%BB%93/%E5%A4%A7%E4%BA%8C%E4%B8%8A%E6%80%BB%E7%BB%93/"/>
    <url>/2023/01/09/%E6%80%BB%E7%BB%93/%E5%A4%A7%E4%BA%8C%E4%B8%8A%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="学业"><a href="#学业" class="headerlink" title="学业"></a>学业</h2><p>还是照例谈谈这学期的学业情况，大二上学期一共上了 $12$ 门课程，共 $31$ 学分（按课序号排序，不分先后），记了两门 $PF$，一门多音，一门马原，实际只有 $25$ 学分。</p><p><strong>Matlab 与科学计算</strong>，一门随便报的任选课，主要是想学一下 Matlab，期末写了一个随机游走的模拟程序并对曲线进行模拟，曲线形状=为反比例函数，查找了很多资料提到平均自由场理论，但由于时间原因，没能深入了解。交了报告之后助教批改了，私聊之后助教说我大作业写得不错。这门课平常主要是对 Matlab 的各种功能加以介绍，开课老师是航院的，非常典型的工科院系了，说来惭愧，一学期只去听了第一节课，后面基本就是面向作业学习，不过还是学到 Matlab 很多东西，之后也用 Matlab 处理实验报告，也算是有一定收获吧。</p><p><strong>多元文化中的音乐现象</strong>，听说是艺术课组中非常好的课了，任选要砸一志愿，而我当时砸的刘慧凝老师的沟通表达与基础，结果掉了，白给。秋季开学的时候跟 lrf 一起手选，结果有半天的时间差吧，导致只有我手选上了，lrf 比较遗憾没有选上。后来上课遇到 qqc 和 lfh，之后课堂展示的时候就跟他们组了队，算是一种比较特殊的组队方式了，一般都是随机分配。我们以 jazz 为载体，结合疫情放开编了一个小话剧。线上播放提前录制的视频效果欠佳，还好有 lzc 公子哥打了个圆场，总体印象应该不错。期间我跟 qqc 由于对艺术一窍不通，就主要负责联系淘宝商家剪辑视频，给视频当中的画面加上微信发送信息。</p><p>前八周的时候罗老师讲卡农的时候还是比较有感触，加上忙的时候自己平常也喜欢听古典音乐集中精力，就以罗老师结尾“<a href="http://lr-tsinghua11.github.io/2022/12/28/%E5%A4%9A%E5%85%83%E6%96%87%E5%8C%96%E4%B8%AD%E7%9A%84%E9%9F%B3%E4%B9%90%E7%8E%B0%E8%B1%A1%E6%8A%A5%E5%91%8A/">你眼中的卡农</a>”为题，写了一篇报告。由于上学期被诗词这种偏艺术创作的课程背刺，这学期疫情可以有两门课程记 PF ，我就把这门课记了 PF。结果前几天上树洞发现可以在网络学堂已批改作业里面查看分数，原来罗老师设置了不公布分数，其实在 HTML 里面就是加了一句 <code>style=&#39;display:none&#39;</code>，内容还是可以在网页源代码里面看到，结果就看到自己拿了 $97$ 分，有点小遗憾吧。写报告的时候我已经记了 PF，也许就是比较真诚的心里话打动了罗老师吧，后来她又调整为 $93$ 分，不知道是计算了课堂展示，还是单纯的调分，反正 P 了一个 4.0……</p><p><strong>复变函数</strong>，物理系 lys 老师开设的前八周课程，老师上课挺幽默的，最后几节课还给我们透露了期末考题方向，半期考试相当于就是这门课的期末考试，五个大题，<a href="https://lr-tsinghua11.github.io/pdf/复变函数期末考试回忆版.pdf">回忆版</a>在此。考试的时候还是有一点小慌，毕竟题量小、分值大，稍不注意容易翻车。当时留数定理第二个题差点没有考虑到挖去两个点，不过总体还行。考完期末之后还可以提交小论文加分，听说之前疫情期间松神挂过将近三分之一的同学，还是比较恐怖。</p><p>这门课学到的知识倒是基本快忘了，毕竟计算居多，不过松神教会我们如何使用 Mathematica 软件，这确实是工科专业必备软件了，djl 他们大一上费曼物理学 (1) 就要用这个数学专业软件，还是挺有趣的。关于松神还有一些人物轶事，可以看看这篇<a href="https://news.ifeng.com/c/7fYQffQwnln">新闻</a>。他还教大学物理、分析力学、数理方程、基础物理学 (3)，是个比较顶的老师，江湖有“四大松学”之说。他的研究方向为粒子物理和量子计算，算是理想中真正搞物理的大佬了。</p><p><strong>基础物理实验(2)</strong>，未央专属课程，老师跟基物实验 (1) 一样，总之大家都是怨声载道的。有了上学期 $\LaTeX$ 经验，这学期找 gha 要了 typora 的仿论文样式，写实验报告快了很多，加上这学期有一定的 Matlab 知识，绘图什么的不在话下。前半学期最忙的时候可以当天做完实验当天交实验报告，报告均在 $90$ 分以上。塞曼效应那次实验遇到环境学院的 lhgg，挺好说话的助教，在跟他交流了有关磁场和电流的变化特性之后，他提示我往磁化曲线方向去考虑，由此实验报告有了亮点，第一次在基础物理实验中取得 $95+$ 的成绩。这门课也罕见地拿到了 $A$ 的等级，也很欣慰。</p><p><strong>基础物理实验(3)</strong>，未央电的专属课程，当时看自己还有学分就顺便上了，这个实验主要是电磁学相关，老师是 gxb。老师给分超好，次次 $95+$，最后一次实验报告由于涉及计算机编程模拟同轴光子晶体，给了 $100 $ 分，报告详细内容可以看<a href="https://lr-tsinghua11.github.io/2022/12/15/%E5%90%8C%E8%BD%B4%E5%85%89%E5%AD%90%E6%99%B6%E4%BD%93%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/">这篇</a>，最后当然顺利拿到 $A$，这学期两门基物实验课双开，从第四周开始几乎每周都有实验，尤其是中午一点半的实验真的犯困，在巨大的压力之下还是顶住了，本科物理实验就此结束咧。</p><p><strong>二年级男生乒乓球</strong>，wx 老师的的乒乓球课，由于自己从小学到乒乓球打到现在，对弧圈、左右旋、上下旋有一定概念，对我来说还算比较轻松。不过还是有些大佬，他们发球我需要一定时间才能破解。之后疫情转为线上授课了，之后的比赛就取消了，转为录制乒乓操视频。这学期要测试 $3\text{km}$ 以及立定跳远，成绩没有去年好了，主要是今年学业压力太重了。。</p><p><strong>量子力学(1)</strong>，cx 老师的，主要是看到培养方案大三下这门课必修，就提前学习，反正如果半期考试考差了就退课，结果半期考试巨简单，考了 $99$，就还是继续撑下来。量子力学说实话国内没有讲得很好的教材，这门课用的曾谨言《量子力学教程》，书如作者其名，写得跟数学书有得一拼，用公理-引理-定理-例题书写逻辑，门槛很高，不过认真读下来还是有很多收获。</p><p>不过赵凯华的《量子物理》简直就是玄学，各种描述性的文字，我们学习量子力学又不是去调用量子力学 API，而是学习背后的逻辑，整本书甚至都称不上量子力学的说明文档，连调用层级都是乱的，总之这本书骂声一片。赵凯华的《热学》那更是玄学，个人觉得热学的公理化不是很能让人信服，热学是更偏向唯象的一门学科，不过深入到统计部分后会好一些。扯远了，总之国内的教材一言难尽，还是多参考国外的教材吧。</p><p>前半期主要是涉及薛定谔方程以及相关算符的计算，半期考试难度上甚至达不到基物。后半期收获很多，本质上是物理学家绞尽脑汁去求解薛定谔方程，<strong>有氢原子能级、朗道规范、$J-S$ 耦合</strong>，思想上有<strong>表象变换和微扰论</strong>两种很深受启发的处理技术，按照老师上课的说法，表象变换就是“换皮肤”，确实很形象，对应线代里面的相似型。微扰论本质上是物理学家常用技能了，江湖称“放小量”，跟机器学习用线性函数模拟任何函数有点类似。期末考试跟半期一样，$7$ 个大题，开始前两个题没有思路，还好考试前听助教习题课说可能涉及上半学期知识，没想到两个题的最终落点都是在不确定性关系，还是顺利解答，期末 $J-S$ 变换没理解题意，拿了 $93$ 分。</p><p>寒假期间向老师提交了关于束缚态量子数可数性质的证明，主要是结合离散数学 (1) 中的无穷基数，陈老师赞许了我的工作，并提出量子力学目前仍待完善的观点。的确，总感觉量子力学没有出现一种像分析力学那样对整个经典力学系统比较系统的描述，当然也有可能我学得不够深入，量子场论对这方面应该有更加抽象的叙述。原意是想申请 $A+$，但陈老师貌似没有正面回答这个问题。</p><p><strong>基础物理学(2)</strong>，csm 老师的，讲授内容是光学和量子物理，第四周有个 challenge-test，就报名参加了，当时跟初等概率论和奖学金评定三天连着考，还是比较麻。challenge-test 还考察了上学期相对论的相关内容，当时对不确定关系还没有深入理解，脑子里只有 $\Delta p\cdot \Delta x\geq \dfrac{\hbar}{2}$ 这一个公式。challenge-test 考过了，直接给 $A$ 的成绩。半期的时候 zcy 让我去开一个半期小班辅导，对自己的 reputation 有益，当时编写的<a href="https://lr-tsinghua11.github.io/2022/10/29/Fundamental_Physics_2/">讲义</a>在这里，使用 $\text{Q-book}$ $\LaTeX$ 框架，现场到了 $20$ 余人，加上线上有 $50$ 来人，还算是比较令人满意。</p><p>不得不吐槽一下基础物理学的上课逻辑：力学-光学-量子力学-电磁学-热学，请问这是物理学的发展逻辑吗？学量子力学的时候使用部分分析力学的知识暂且不提，涉及到粒子在电场磁场中咋办？例如氢原子磁矩如何解释？真的为教学质量担忧，学生其实最后就只学到了如何调用物理的 API，跟高中学习导体棒切割磁场一样，学生根本不知道来龙去脉，物理学成为了公式学。。</p><p><strong>离散数学(1)</strong>，软院 lsx 老师开的，内容是数理逻辑和集合论，前面数理逻辑学了一堆感觉翻来覆去还不如真值表快，期末考试唯一需要列真值表的题目结果没看到用字典序，后面集合论学了很多定义，有<strong>自反、反自反、对称、反对称、传递</strong>，以及满足一些条件下的逆序、偏序、全序等关系，还学了集合论的公理化系统，在量子力学中有关能级分离的证明中发挥了重要作用，期末考试寄了，客观题错太多题了，还希望 sxjj 捞捞我[可怜]。</p><p>这门课 sxjj 捞得厉害，期末考试客观题做得比较急，主观题反而做得好一些。客观题犯了很多低级错误，实在是不应该。下学期开始对计算机相关的专业课要走心了，不然容易酿成惨剧……</p><p><strong>数据结构</strong>，软院 dgg 老师开的，学习了各种数据结构基础知识，有平常小作业、oj 作业和期末考试，oj 最难写的就是 kd-tree，用完了所有次数（共 $5$ 次）才过，耗费了好几天时间，平常小作业感觉无理取闹，没啥意思，但是总是犯些低级错误，每次要被扣许多分。</p><p>期末考试个跟考研中的数据结构题目差不多，这里有一份数据结构复习<a href="https://lr-tsinghua11.github.io/2022/12/25/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%80%BB%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/">笔记</a>，主要还是理解各种<strong>逻辑结构、存储结构以及相应的数据操作</strong>。考完之后第二天跟大师对了一波，客观题问题不大，代码填空题没能很好理解题意，有几个空不对，后面大题就比较放水了，就是些归并排序、插入排序、最小生成树、拓扑排序比较基本的内容。</p><p><strong>初等概率论</strong>，统计学中心 dwl 老师开设的前八周课，课程前期讲了一些很偏分析的内容，比如 $\sigma-$代数、Boral 集合， 后期就是一些经典的期望、期望、协方差、大数定律以及结合各种分布下的应用。考试有期中和期末，最难的还是概念判断，毕竟我们这种学工科的各种近似放到嗨起的比不过理科人的严谨，错了几个判断题。半期考得还行 $94$，期末不知道咋样，dwl 老师说不透露，的确，如果提前让我们知道自己情况，课程替代对于其他同学不公平。期末自我感觉还行，没有完全不会的题，后半期课程替代原培养方案中“概率论”一门课，最后顺利过关。</p><p><strong>马克思主义原理</strong>，马原院长 zad 老师的，任务量比较重，但挺适合我这种不怎么懂政治的。有慕课、小班讨论、线下上课、读书报告、期末论文。 zad 老师还是我们四川乐山人，在仕途上很不错了。他上课还给我们讲怎么写好读书报告和期末论文，多写一些人生经历和个人感悟，少一些空话套话。读书报告看了《共产党宣言》和《帝国主义论》，对马克思主义萌芽初期的历史和发展有一定了解。期末报告写了一下全球形势，自己感觉也没分析啥出来。。最后反正也 $P$ 了。</p><h2 id="志愿"><a href="#志愿" class="headerlink" title="志愿"></a>志愿</h2><p><strong>软院迎新</strong>，暑假的时候报名成为软院迎新志愿者，在新生报道现场负责给新生登记学籍档案，顺便认识认识软院学生会的一帮人。有肯德基早饭，忙了一上午，当天太阳还比较毒辣，还吃了好几个雪糕，看着各种活蹦乱跳的吉祥物，青涩的学弟学妹们，还是很高兴的。</p><p><strong>答疑坊</strong>，这是大学以来最走心的志愿，开学初期答疑坊招新面试通过，从第四周开始双周坐班，这个志愿充分体现“费曼学习法”的好处，来答疑的主要是微积分 A(1) 和线性代数的知识，把自己“学会”的知识重新给别人讲一遍之后的收获是不一样的、在答疑过程中，我经常对知识有更加新奇的认知。当时学这门课的时候毕竟也是抱着通过考试的想法，有些知识没有深入消化，尤其是线性代数，这门大一的公共基础课内容是真的丰富。答疑坊这个地方真的是高手云集，在志愿者群里面问问题基本都有人能求解。</p><p>期中的时候收到来自学姐、学妹、学弟的喜报，大四学姐微积分 C 半期 80、大一学妹线性代数半期很不错、大一学弟微积分 A(1) 半期 99、幸甚至哉。他们分享的喜悦让我在匆忙的期中周也很开心。</p><p>后半期我拓宽了疆域，开始接离散数学、数据结构等计算机方向订单。不得不说，在答疑坊这个地方，我能够即时地了解到各大院系培养方案的差别，比如电子系大杂烩离散数学，经管学院各种错误代码满天飞的数据结构，计算机系程序设计基础跟数据结构难度有的一拼的算法部分。成外几个学弟学妹也经常问我程设的问题，他们像极了当年的我，代码风格脏乱差，代码习惯还得从小培养。</p><p>期中给大一学妹讲杨 Sir 线代的时候口碑还比较好，后半期她推荐给另一位外文系的学妹单独辅导线性代数。杨 Sir 的讲义一直很有品味，比中文涉及的知识面更广，让我在<strong>奇异值分解、厄米矩阵、高维空间数据点拟合</strong>有了更深一步的认识。每周末的授课让我的知识掌握能力和表述能力都有很好的提升，尤其是当把各种对矩阵的拆解串起来的时候，有醍醐灌顶的感觉，教学相长这四个字真不是乱说的。</p><p>我自己平常很难遇到异性，答疑坊这个圈子来问问题的很多都是女生，微信好友个数也随之增加，某种意义上好友男女比更加均衡。平常在解答女生问题的时候顺便克服面对女生的胆怯，也要为之后考虑咧。、</p><h2 id="科研"><a href="#科研" class="headerlink" title="科研"></a>科研</h2><p>这学期 SRT 报龙明盛的课题，结果被拒绝了，主要是报的同学都太强了。不是 129 奖学金就是国家奖学金，我一个非软院血统的排不上号，不过也有可能有其他因素吧，进龙组还是比较难的。</p><p>然后听 zcy 的建议选个贵系的 SRT，然后就报了关于因果推断的，这学期下来熟悉了一下知识图谱和 PC 算法，做的主要内容是 AI for Science，还有个医学院的哥们儿，有很多的生物医学名词搞不太懂。不过这方向上的 paper 发表在机器学习会议上，最重要的还是 AI 的设计，说大点叫机器学习领域的落地，说小点叫医药蹭蹭 AI 的热度。</p><p>不过我们只有三个人，大家都太忙了，毕竟没有 target，也不知道这个项目最后会以什么方式呈现结果。</p><h2 id="社工"><a href="#社工" class="headerlink" title="社工"></a>社工</h2><p><strong>校科协</strong>这学期貌似没干啥。</p><p><strong>贵系科协</strong>组织了一次见面会，大家相互介绍了一下，高老板阐述了相关工作，之后开展了几次 AI 学习小组，不过在预料之中，这个项目自然而然地烂尾了，讨论 AI 最后变成讨论作业。</p><p><strong>软院科协</strong>负责 <a href="https://ssast-readme.github.io/">ReadMe 项目</a>，传了很多大一下学期记的电子版笔记，志愿工时真的丰厚，知识就是力量。这学期每隔几周就举办技术部例会这种形式还很好的，大家聊聊最近学习中遇到的问题，吐槽一下，顺便分享一些 trick，学习到很多 mac terminal 相关插件，直接一个 <code>brew install</code> 就装好了，至今也还很有用。</p><p>这种举办方式能让组员凝聚起来，大家唠唠嗑挺好的，毕竟大家课业都很繁重，这种方式既能放松心情，也能学习到更新的技术，一举两得。</p>]]></content>
    
    
    <categories>
      
      <category>总结</category>
      
      <category>大二上</category>
      
    </categories>
    
    
    <tags>
      
      <tag>大二上</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Summary of freshman year</title>
    <link href="/2022/12/29/%E6%80%BB%E7%BB%93/%E5%A4%A7%E4%B8%80%E5%AD%A6%E5%B9%B4%E6%80%BB%E7%BB%93/"/>
    <url>/2022/12/29/%E6%80%BB%E7%BB%93/%E5%A4%A7%E4%B8%80%E5%AD%A6%E5%B9%B4%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<p><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"theme":"#FADFA3","loop":true,"lang":"zh-cn//语言","screenshot":true,"hotkey":true,"preload":"auto","volume":0.9,"video":{"url":"https://lr-tsinghua11.github.io/video/亲爱的旅人啊.mp4","pic":"https://lr-tsinghua11.github.io/img/亲爱的旅人啊.jpg"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></p><p>之所以写这个大一学年总结，是因为看到很多学 CS的前辈们都喜欢在稍微放松的节点总结一下。之前高中的时候没有这个习惯，感觉时间过了就过了，忙完这件事情总有下一件事情要忙，权当写一个像样的大一总结吧，也希望看到这些的你有所启发。</p><h2 id="暑假">暑假</h2><p><strong>高考</strong>，也许上天还是看得起我的努力（如果之后有时间我可以详细叙述一下我高中的破防时光，不过现在觉得也是一笔财富），高考成绩误打误撞地考上了华子的（半个？）CS，有欣喜，也有忐忑，不知道在这条全新的道路上自己究竟会发展成什么样子。</p><p><strong>学车</strong>，高考完后几天在一个露天坝花了一上午的时间学会骑自行车（手动捂脸），接着暑假先是和绝大多数毕业生一样报名学车，在闷热的夏天里每天重复着同样的动作，个人觉得还没有在华子脱靶骑自行车好玩，学车就和几个在县城读书的高三毕业生一起学，之间也很少有交流，教练也经常刷短视频，不得不再次评价短视频推荐算法的厉害，反正感觉好多时间就在这种无聊透顶的驾驶中消逝。科一科二顺利一把过，但暑假后期由于开学比较早，科三没预约成功，就只有等着寒假再说。</p><p><strong>游泳</strong>，八月份联系上教育园区的游泳班，想的是毕竟在华子毕业游泳不过不行啊，就去学了个蛙泳，小学的时候我还有好几次去游泳馆被水呛到发烧的经历，心理上不是很能放松。跟一堆5、6岁的小孩一起学游泳，真的是搞不懂，明明我都知道阿基米德原理，结果自己的平均密度很容易变高，老是减少排水量，那些小朋友在水里面都开始到处耍了我还不得要领……反正前半期还学得比较难受，后面掌握到技巧后慢慢的就会了，后面几次就在1.4m的水池游来游去，反正至少淹不死了……游泳的话前面由于刚学会骑自行车比较兴奋，每天骑一个小时到郊区学游泳，后面发现晒黑了，就改乘公交车。</p><p><strong>编程，</strong>在母亲大人认识到的一位从业者的建议下，开始啃《C++primerplus》。虽然现在看来这种入门方式非常不友好，并且当时啥也不知道，拿着破windows 电脑（其实在后面我的<del>调教</del>下还蛮不错的），安装 Vs6.0，画风如下图。真的搞不懂，那个时候我自己的鲁棒性堪称极高，在这样的界面以及各种过时C语言规范折磨下，我还能把那本将近七百页的书看个八九不离十，做完大部分现在看起来几乎没什么意思的习题，虽然大部分忘了……然后我承认是看到python 语言各种天花乱坠的宣传，也搞了一点点 python，主要也就是熟悉python 语法。</p><p><strong>夏令营，</strong>严格来说不算是一个夏令营，就是一个线上的讲座吧，主讲人是华子宣传片《追光少年》里面的角色原型，研究立方卫星的，主要是讲他们实验室的工作，反正也听不懂就报了名。最终有两个作业，一个是弄一个单片机，一个是用matplotlib结合数据绘制卫星的轨迹图。当时觉得前面那个挺有趣的，就买了个单片机，配置了一堆硬件软件，最后把硬件语言烧在芯片上，大概跟zcy 的数字电路实验比较相似，只不过我们这个是超级低配版的。好在有 C语言基础，照着 PPT上的代码结合网上的参考资料，还把进阶内容也做了出来（呼吸闪光灯），感觉效果还行。</p><p>暑假大概就这样，当然免不了毕业典礼、宴席、经验分享以及杂七杂八之类的，主要大部分时间生活在县城，同学之间来往很少，就这样，在教练车的兜兜转转中，在阳光下聒噪的蝉鸣中，在跳来跳去的黑框框，暑假就这样过去了。</p><p>其实现在想来，那个暑假有点封闭，跟之后寒假生活亦或是今年的暑假相比，感觉自己懵懵懂懂，也没跟外界或者是其他人有交集。</p><h2 id="秋季">秋季</h2><p>初高中那时幻想大学的生活会很丰富，但是上了华子之后，还是真的感觉事多。学业上写沟微积分线性代数程设每门课都比较硬，每周都要花很多时间，尤其是那个时候乖到所有课都到教室，所有习题课都去听，所有作业都独立认真完成。</p><h3 id="学业">学业</h3><p>秋季学习一共上了 <span class="math inline">\(8\)</span> 门课程，共<span class="math inline">\(24\)</span> 学分。</p><p><strong>军事理论</strong>，考前认真复习了，主要是成外学长们有齐全的资料，感想提前写在参考资料上，感谢这些资料让我大学开局<span class="math inline">\(A-\)</span>。</p><p><strong>写作与沟通</strong>，主题是<strong>数字化生存</strong>，其实现在看起来这个主题还蛮适合的，至少我的博客是这样的。ZYY人美心善，是个宝藏老师，让这门课的痛苦减轻了不少。短文写了一个贴吧现象，自认为比较烂，长文总体框架选择得比较好，从媒介发展视角探讨了微信“拍一拍”流行的原因。虽然这些传媒学方面的知识之后应该是用不到了，但至少学到的文献查找以及一些写作技巧还是很有帮助的。</p><p><strong>微积分A(1)</strong>，WXF 的课对我来说真的nice，他从数的起源开始讲起，自然数、有理数、实数、良序关系、绝对值、指数对数、三角函数，一切被中学数学公式化（或者说功利化）的符号在几条公理的基础上就能建立起来。</p><p>最有印象的是 WXF第一次开放线下答疑，同学们“蜂拥而至”，当时好像是用阿基米德公理证明选择公理什么的，我们思考了好久都解不出来，WXF直接口述证明过程，赞叹不已。前几次作业，每次作业花上十个小时都不过分，有的open question 想不出来，还让我不得不去看实分析教材……</p><p>但是不足的是，从功利的角度，WXF上课对考试帮助不大，毕竟平常都深入数学的深刻本质去了，哪有时间讲怎么算对考试的那些题……好在当时维持了高中刷题的好习惯，提前做了一些往年题，保持考试手感，这门课至少没寄掉……按照WXF 的说法，期末解答出附加题的同学且总评 <span class="math inline">\(\in[90,100]\)</span> 的同学总评是 <spanclass="math inline">\(A+\)</span>，当时发下试卷看了一下附加题，好像是用一个积分中值第二定理再处理一下就能证明，就先做了附加题，最后拿到人生第一个<span class="math inline">\(A+\)</span> 。（手动狗头）</p><p><strong>线性代数</strong>，JY 姐姐的课，比较 nice，讲课 ppt非常数学，满篇都是公式，不像 WXF 还放点 Geogebra作的图，但思路确实比较清晰，至少对于我这种代数基础比较薄弱的很友好。还有JY 每次作业都有些补充题需要多动一些脑筋，而且他们作业都是手批，比 WXF的助教认真多了（ WXF 助教基本到期末才改平常的作业） ，可见如果是 JY的助教工作量是有多大。</p><p>比较有印象的一节课，她讲到正定二次型的时候，举了一个薯片形状为马鞍面抗压能力大的例子，还挺有趣的，JY姐姐难得在课堂上笑了一次。虽然有时候下雨的冬天坐在五教会犯困，甚至有次把笔记本落在教室了，还好一位日新的好心人帮忙送还，但是JY 的课也很推荐，至少学到了很多东西。</p><p><strong>程序设计基础</strong>，软院 LYS老师的大硬课，这门课来年春天的时候被评为优秀课堂。其实个人觉得这种课其实上课啥的都不重要，最重要的是动手实践。经常在LYS 老师课上写 JY 的线代作业，然后 LYS老师讲到他在美国读书什么什么的就认真听一下……</p><p>每周四都要上机，在东配楼，机房电脑上全是灰尘，随着课程的进行，后面和链表相关的题真的让人头疼，感觉用数组做呢，感觉过不去，用链表呢，链表要手写，太麻烦……然后当时助教让我当组长，结果就成了PPT 制作者 + PPT 报告者……虽然增加了工作量，不过也能锻炼自己。</p><p>然后临近期末就是头疼的大作业了，助教给了一个大约 800 行用 WIN32编写的框架，要求实现一个横版闯关游戏，那段时间是真的肝，而且当时一点模块化思想都没有，一个文件写到底，一旦调不出来直接塞到全局变量去，到后面加个按钮都非常炸裂。当时的启蒙书是毛星云的《逐梦旅程：Windows游戏编程之从零开始》，哎，没想到浅墨竟然就在我大作业交后两天辞别人世，我一直记得《逐梦旅程》中的一句话：</p><blockquote><p>谨以此书献给所有怀揣游戏开发梦想的人们，因为，你们不是一个人在战斗。</p></blockquote><p>愿浅墨在天堂实现他的梦想，逝者安息。</p><p>期末考试五个题，一堆<strong>码农题</strong>，写起来还挺难受的，当时不知道一些技巧，有个题要讨论八个方向，直接复制粘贴改数据八次……然后最后一个算法题，还以为自己没法做出来，但当时还有将近两个小时的时间（手动狗头），就拿出纸笔开始写思路，当时想测一下穷举法能过几个，然后写了一堆for，提交，结果就神奇般的过了，对，除了处理初始数据有个优化之外，其他啥都没优化，直接就给过了，然后三小时考试一个半小时提前交卷……LYS老师是图形所的，之后还会提到他。</p><p><strong>体育(1)</strong>，WJH老师，是一个和蔼的老头，经常口出一些顺口溜，<strong>“祖国好，清华好，无体育，不清华，全面发展我最好”</strong>，清华的<strong>3000米</strong>是真的难受，对于我这种初高中跑1km都难受得要死的体育差生简直是五雷轰顶。不过跟着清华阳光长跑的氛围，经常在紫荆操场上跑步，逐渐在耐力方面有所提升，长跑项目还是可以练的嘛，贵在坚持。反正最后体育成绩也算可以接受。</p><p><strong>思想道德与法律</strong>，ZXM老师，这门课任务量挺大的，分组小组展示。个人其实很讨厌这种小组活动，感觉跟生产队一样，分组也全看运气，如果分到摆烂组是真的难受。当时还选了一个组长，结果我实在看不下去，好多事情被我一个人包办了……</p><p>然后不得不说，有次上课一个同班好朋友拉我翘课去写微积分作业，结果那堂课就签到了……也没有怪罪好朋友的意思，当时我自己也没有定力，思修教室人很多很闷，特别难受，觉是睡过好几次了，课也没听进去几个字，思修群倒是特别热闹，好像老师也不怎么管，都让大家畅所欲言，唯一的收获是一堆表情包……就这样咯，本来对这种从小到大都不感冒的课程无所谓。</p><p><strong>英语听说讨论</strong>，Matthew的课，一个新聘请的外教老师，本来对华子的英语课抱有希望拯救我这垃圾英语，没想到还是失望了……前面几节课认真听讲，后面结果摆烂，上英语课的时候当天程设小作业就放出来了，于是在英语课堂上写代码，然后个人presentation 还行，结果又是 group presentation随机分组难受，一堆人摆烂，好多事情都是我做的，结果最后展示的时候组员忘词是真的无语了好吧……反正跟zcy 学长说的一样，华子英语课上是学不到东西的……</p><p><strong>未央工程导论</strong>，究极大屑课，跟贵系的<strong>信息技术科学概论</strong>有的一拼，未央十二个专业方向“百饼齐放”。而且这课还要签到，签到学号十分随机，时序数据预测很难。有次讲座是副校长，直接让半个未央的同学全来签到，还记得那次室友在群里一发，我们宿舍剩下三个人马上骑车飞奔到现场，真的是有惊无险。好在那堂课讲课还行，用一个动画展现了排队中的统筹策略，授课比较风趣。不过这门课是真的难受，还要写两篇报告，照着PPT 修修补补，总算弄完了这个烂摊子。</p><h3 id="srt">SRT</h3><p>未央工程导论中间有几堂课是导师引领相关研究方向，然后 SEY老师开始画大饼大法把我们一半的同学<del>骗</del>到 SRT项目中（包括我），项目题目叫<strong>二次曲线曲面函数求交库</strong>，是关于数学方面很底层的求交算法实现，前期对git 命令不是很熟悉，以及对整个 SRT项目抱有太多期待，投入了过量的时间……总之，顺着 GEMS 项目迁移了许多函数到GMT中，得到相应的测试，但感觉浪费了不少时间……不过，大一需要尝试，也算是一个经历吧……</p><h2 id="寒假">寒假</h2><p><strong>高中助教</strong>，年前回了趟成外当一个培训机构的助教，顺便和lsq在成外附近把好吃的又都吃了一遍，新开那家翘脚牛肉店味道不错，反正每顿饭都可以报销，就还算吃得痛快。还有一次吃了简阳羊肉汤，之前我家楼下有一家羊肉汤店，烟囱直上，出口基本就我们家窗户附近（我们家顶楼），每天中午都可以闻到非常浓郁的羊肉汤味道，可能开始觉得有点腥，后来闻惯了真觉得这是独特的家乡味道。确实吃着比较爽，还记得当时为了报销，把票分成了两次。</p><p><strong>“给我卷”</strong>，期间给 zcy说了目前的成绩，他特别兴奋，直接打来一个电话，我记得当时这个电话打完，我绕着成外不知道走了多少圈，他对我很是一番鼓励，还专门拉了一个群，跟罗哥一起提前卷卷下学期的课程。也算是那次真正认识了zcy吧，之前高一的时候跟他一起在东五楼学竞赛，现在他确实混得风生水起，本来刚刚开始大学生活比较迷茫，他算是让我少走了好多弯路。</p><p><strong>约饭</strong>，时期间还约了高中的英语老师在猫爱上鱼这家店吃烤鱼，她送了我一个笔记本，然后互相聊了聊近况，高中低迷期间她经常鼓励我，我还是很感激她。在四处逛教室的时候还见到了高二期间的高中班主任，我们在外面吃富顺豆花，他疯狂安利上海这座城市的好，他也感觉是个有趣的人，每天乐呵呵的。心态确实好，当年被各种竞赛教练“围攻”，还是安心教书，跟学生关系也挺不错的，对其他老师都没有怨言，我们也聊得开，高考前经常找他聊天，也很感激他。</p><p>说起来，高中过去小半年了，怀念的还是最纯真的那些老师，而不是各种以功利为导向、用奖金刺激、搞特殊化的竞赛老师。也有可能与竞赛上的失利有关吧，或者说是另一种形式上的PUA？总感觉竞赛这段岁月很不真实，很难想起那些年中存在温情的时候了，倒是留在普通班各位老师同学的鼓励让我觉得自己经历过高中的青春岁月。有次晚上考试监考还碰见了现任副校长的物理竞赛教练，他问我回来想干嘛，我直接回怼了一句“挣钱”，直接结束话题，后来他也就没来问我了。</p><p><strong>过年</strong>期间，当年还是要享受过年的气氛，虽然还是到处都有疫情，大年初一乐山大佛一日游，大年初六青城山一日游，还是感谢老爸，都是当天去当天回来，路上我基本都在睡觉，而我爸不仅跟我们走了全程（微信步数20000 步+），还开了往返的车。</p><p>中间几天就是到各种亲戚家串门，各种吃吃吃、耍耍耍，老屋里那个平板上的植物大战僵尸2从来都是过年的时候我推进进度，寒假期间貌似又通了两个地图，这种塔防游戏设计确实有意思，尤其是能量豆的合理使用，增加了非常多的不确定性。</p><p>之后就是 <strong>SRT</strong>那边推进度，主要问题还是有一大半的人摆烂，基本就三个人在做事情，推进过程中也耗费了不少时间。间有次去考科目三，结果两次都是最后靠边停车没到位，还是有点气，不过也没法。最后跟ly 一起从简阳坐飞机回到北京，开始大一下的生活。</p><h2 id="春季">春季</h2><h3 id="学业-1">学业</h3><p>春季学习一共上了 <span class="math inline">\(16\)</span> 门课程，共<span class="math inline">\(26\)</span> 学分（不算 PF 的）。</p><p><strong>微积分A(2)</strong>，一如既往地选择了wxf，前半学期听课出勤率挺高的，能有 50-60%吧，后半期大多时候就没怎么听了。前半期 wxf依然是一如既往地天马行空，讲了许多数学上比较抽象的概念，比如<strong>范数、凸集、双线性、梯度下降法、勒让德变换、Gamma函数</strong>等一系列知识，不完全统计的话涉及到<strong>高等代数、泛函分析、机器学习数学部分、数学物理方程</strong>等各种课程。</p><p>一如既往地，认为讲的这些和期中考试没有半毛钱关系，结果挺难的，印象中压轴题是平常一次作业题，结果没做出来，就没上90分，还挺亏的。后半期就基本没怎么听了，讲的都是些电磁学里面基本都会用到的东西，主要熟悉了一下数学意义上的缠绕数，没记错的话后半期几乎就没听过课。</p><p>作业的话每次都使用的 markdown格式，跟大师学的，各种数学方程式的排版技巧基本都掌握了，作业以及全套 pdf链接可以点击<ahref="https://lr-tsinghua11.github.io/2022/06/18/Math/%E5%BE%AE%E7%A7%AF%E5%88%86A2%E4%BD%9C%E4%B8%9A%E5%90%88%E9%9B%86%EF%BC%881-10%EF%BC%89/">此处</a>，也算是为之后的论文排版提供一定基础？这门课还开设了周末“高等习题课”，上来就讲了一堆实变函数的东西，根本听不懂，后来去了几次也就开摆了。期末的时候想到可以合影留恋就去听了一下，讲的常微分方程幂级数解法，也属于数学物理方程范畴吧，这部分内容听着还行，毕竟氢原子波函数就是靠这解出来的。</p><p>期末的时候在计算机开放实验室考的，最后总排班上第三（第一还是成外的巨神zjk ，信息集训队预科班恐怖如斯），加了些周天习题课的证据。又获得了一个<span class="math inline">\(A+\)</span>，这样的话对我来说 wxf在给分方面还行（再次狗头）。</p><p><strong>基础物理实验(1)</strong>，这是我上大学以来最无语的课了，实验内容跟玩具一样，只要会认字就能做完实验拿到实验数据，然后评分仅仅只看实验报告，简直没有比这更sb 的课了。然后就想着怎么卷报告呗， 好家伙在 windows 上 <spanclass="math inline">\(\LaTeX\)</span>就配置了一天，然后各种拼接模板，关键是编译花的时间太长了，一篇报告基本要花好几天。学了python 用来画图，结果时间上还是消耗得比较多，就应该用 excel水水，没必要事事都做得特别精细。而且无论报告写得多精致，基本就在 88-92之间徘徊，最后拿了 <spanclass="math inline">\(A-\)</span>，属于是大一唯一 <spanclass="math inline">\(A-\)</span>的理科了。以后吸取了教训，这种课就不应该花过多时间。</p><p><strong>大学化学(B)</strong>，让人不理解的课，但未央大半部分都要学这个，想想也就算了，之后还要学生物导论，是真的理综都被打牢了。选的cc 老师的课，期中巨水，可以带 A4纸，就在一个比较小的教室考，基本可以看周围同学的，反正也只占一次作业分。期中考完之后北京就爆发疫情了，本来可以查卷，结果试卷送不进来，到了期末的时候才能查卷。</p><p>我一般很少查卷的，那天可能期末周比较闲，就去何添楼查卷，结果助教就说了一句很可疑的话，查卷的时候不能询问正确答案，我就觉得很奇怪。然后就把半期试卷上的内容基本都背了下来，我还记得我坐在楼梯上打开电脑开始敲markdown，果不其然，期末就考了好几道一样的题，好在通过百度我已经提前得到了标准答案，最后还意外地拿了<span class="math inline">\(A\)</span>，比较对得起自己的努力。</p><p><strong>中国近代史纲要</strong>，选课经历海淀区最大赌场选上了sw，据说按照字数线性给分，快到截止日期的时候跟 yyj 到清华学堂 rush期末论文，在 zcy 的建议下写了觉醒年代的观后感，水了 1.4w字，期末考试的时候抄 ppt手都抄麻了，尤其是中间有个题，连着十几页貌似都是答案，抄到后面实在是抄不完了，就偷工减料了一些，问题不大。第一次在政治课上拿<span class="math inline">\(A\)</span>，最离谱的还是 sw经常在群聊以及朋友圈里转发各种公众号，然后每次点击去都是违规无法访问，也没什么，课水给分好的老师也不多了。。</p><p><strong>形式与政策</strong>，lzd后八周，赶上疫情，有几次线上，中途校长来上了一次课，开始听着还有意思，后面就比较无聊了。期末写了一篇有关乡村振兴的论文，3k字也还行，也拿了 <span class="math inline">\(A\)</span>。</p><p><strong>诗词格律与创作</strong>，最无语的一门课了，老师上课照着自己提前写好的word文档念，后面去的人越来越少，然后这个外校聘请的老师不知道清华的打分制度，我交了几首高中期间写的一些诗词，格律方面也都查过了。可能是不符合老师的口味吧，然后吃了一个<span class="math inline">\(B-\)</span>，是真的难受。最难绷的是本来有 PF机会的，结果问了助教，他说问题不大，然后就这样了。。开校的时候老的师可能也有点内疚吧，希望给我们申请成绩复议，结果人文学院的教务就一直通不过，我了解到有<span class="math inline">\(4\)</span> 位同学吃 3.0，我也有同学拿了4.0，不过也就这样咯，这位老师应该也只有这一次失误了，相信后面的同学也都会好些吧。</p><p><strong>体育(2)</strong>，zsl老师，他其实算是半个体育老师，搞数据分析的，自己说 python 和 R语言玩得贼溜，依据统计模型给运动员提供科学策略。的确，现代的体育项目都是在玩高科技，专业团队和运动员都是相辅相成的。zsl老师人特好，当时引体向上我们班好多男生都菜（包括我），他专门单独教我们怎么练习，然后有次模拟测试的时候我从单杠上摔下来了，虎口磨破了皮，他就把花名册给我让我代替原来的班长。之后疫情教职工不能进来，然后我就成了组织者，笑死，自己三步篮都悬还组织大家考试，反正考试应水尽水，数据也是我在统计，除了有位同学记了PF，其余基本都 4.0 吧，拿了 <spanclass="math inline">\(A\)</span>，百分制98，应该是担任临时班长加了些分。</p><p><strong>游泳测试</strong>，十二周左右吧，游 50m就合格，旁边站着若干个拿着竹竿准备物理意义上的捞人，蛙泳过去的，比较慢，我记得还被后面一位同学反超了，还被狠狠地踢了一脚，最后上岸的时候我大口地喘气，有惊无险地<span class="math inline">\(P\)</span> 过了。还记得测完试去东主楼听 rls将如何科学上网，整个教室窗帘紧闭，周围好几个贵系的老师看守，阴森恐怖，也教了怎么搭建博客，hexo那一套，也算见识了大佬。</p><p><strong>英语阅读写作(B)</strong>，zzp老师的，这门课是真的任务量大，每周都要写预习作业，然后写短文长文。那个老师长得还真像我爸，语气态度什么的都很温和，上课都很死气沉沉，感觉大家都很水。期末考试可以使用各种电子词典，最后混了个<spanclass="math inline">\(A-\)</span>，貌似啥也没学到，自己的英语水平实在是堪忧。</p><p><strong>科技与人文研讨课</strong>，属于是未央的专属课程了，两个学期一共<span class="math inline">\(1\)</span> 学分，期间写了 <spanclass="math inline">\(6\)</span>篇读书报告。主要是选择的文章可读性比较差，那些田野调查和事实相比不能说有理有据吧，只能说毫无关系。上学期和这学期一共汇报过两次，一次是菊儿胡同，吴良镛工匠的杰作，不过现在都成为商业街泯然于南锣鼓巷了……另一次则是有关大厂的田野调查，汇报完之后，班主任对这本书的各种细节利用事实狠狠地反驳了一番。的确，一个针对大厂的社会学研究听着就不像是反映真实情况的。当然薪资不想书中反映的那么少，只不过996的情况确实比较普遍。班主任说我们这个行业一般三种途径，国内大厂、外资企业和体制内，对应三种不同的生活方式，主要看个人的喜好。最后，他还给我们展示了他们组SRT 的成果，发了一篇 CCFA（实际是还没正式登刊），作者是他的博士生 xjz还有软院大一学生 hyx。他还向我们推荐了cs-Rank，也算是让我们提前了解一些目前科研的现状。由于我们班代表 ljf上学期展示得分最高，助教也认可我们读书报告的美观，拿了 <spanclass="math inline">\(A\)</span>。</p><p><strong>基础物理学(1)</strong>，wsy老师，内容涵盖力学和相对论，没啥难的，只不过每周都有作业，期中还考得不理想，一去查卷发现自己真的想当然了，期末就认真准备，心想还是混个<span class="math inline">\(A-\)</span>吧，没想到期末异常简单，好几道跟作业一模一样的题，最后 <spanclass="math inline">\(A\)</span>。有意思的是，期末做了 js 老师之前的<ahref="https://lr-tsinghua11.github.io/2022/06/20/General%20Physics%20finals(Jiang%20Shuo)/">两套往年题</a>，结果他们更水，可以带A4 纸，稳定的 <span class="math inline">\(2-3\)</span>道作业原题，还有加上这学期一共连着考了 <spanclass="math inline">\(3\)</span> 次的题。题目是关于 16年那次震惊世界的引力波探测实验，数据都不改是认真的嘛。。当然也跟当时的疫情有关，据说物理教学组的说法也是应水尽水。</p><p><strong>面向对象程序设计基础</strong>，yjh老师，软院图形学所长，知乎上评价蛮高的，也许是年轻的时候太刻苦了没注意身体，这门课一直是录播，就听着广播音。后来大家都没去了，课程作业也很无聊，给一个话题代码、测试、报告啥都自己写。我评价自己的作业质量是单调递减，结果还一直是100 分，是真的离谱。期间 yyj 问过我很多贵系的 oop作业，感觉他们内容非常丰富，主要是有oj，各种题目涵盖调<strong>试技巧、STL、数据结构、现代 C++体系</strong>，蛮有意思的，只不过他们期末考试貌似 oj 系统挂了。。</p><p>说回来，期末写了个大作业，写了个函数绘图器，我在 github 上找了一个用qt写的，我还征求了作者的同意，魔改了一波，现在看来中缀表达式处理得不是优雅，当时用的很慢的regex 正则表达式库，应该用栈和运算符优先级来转换的，或者 python 里面自带<code>eval()</code>，不过当时不太懂，还是年少无知。。最后提交到算法挑战平台上可以加分，最后拿了<span class="math inline">\(A+\)</span>。</p><p><strong>计算机系统研讨</strong>，很水的一门自带 PF的课程，作业有一些杂七杂八关于体系结构的 task，顺便练习 wsl各种操作，反正作业交了都是 <spanclass="math inline">\(P\)</span>，算是混了个科学课组的学分。</p><p><strong>初等数论</strong>，跟着室友一起报的，他之前学数竞，这些内容对他不算难，作业只占<spanclass="math inline">\(20\%\)</span>，半期的时候担心寄，就记了任选的PF。期末还算比较认真，考场上只有最后一个题的第二种情况没想出来，后来发现思路没跳回到前面。结果总评<span class="math inline">\(94\)</span>，得了一个 <spanclass="math inline">\(P\)</span>。虽然有点小遗憾，不过倒也没啥，毕竟也学到了很多知识，掌握了<strong>孙子定理、剩余系、原根、勒让德符号</strong>这些概念，在数论层面至少也算是入了门吧，之后学习散列表的时候发现还挺有用处的。</p><p><strong>高等代数选讲(英)</strong>，杨 SIr的课，课上得比较好，属于是基本旁听下来的一门课，主要是跟 yyj一起讨论，学到了很多代数方面上的知识。不过感觉数学的提升是永无止境的，现在就算再学一遍线性代数都有不一样的收获，之后有空我也多复习一下这方面的内容，尤其是关于张量那一块，据说研究上经常用得到，毕竟杨Sir 也说过万物都是 Tensor。</p><h3 id="srt-1">SRT</h3><p><strong>大学生研究训练项目(SRT)</strong>，期中周准备挑战杯答辩，熬夜赶进度，我去参观了其中一个信息赛道专场的全过程，挑战杯真的可以叫做PPT杯，内容各种天花乱坠，只有一个超声波定点传声有实物展示，挑战杯不让说院系也是有道理的，毕竟很难从一个6分钟汇报能区分各种项目的优劣。最后我们项目获得了信息赛道二等奖，还是对得起期中周之前好几天的熬夜付出。最后应该是挑战杯获奖的原因吧，这门课拿了<span class="math inline">\(A+\)</span>，虽然不知道评分写个 <spanclass="math inline">\(96\)</span> 是什么意思。。</p><h3 id="竞赛">竞赛</h3><p>期中周的时候去参加了一下求真书院举办的<strong>新生数理基础大赛</strong>，具体经历可以看<ahref="https://lr-tsinghua11.github.io/2022/04/10/Math%20Contest/">这里</a>，考试的时候有“无限量”的士力架，题目和食物都不错，体验感很好，亚赛风格。当天晚上就出了成绩，大师拿了第一92，我第二 88，笑死，比微积分半期还高。可以报销 400 元，不亏。</p><p>5月份跟大师他们组队参加<strong>清华大学人工智能大赛（Thuai）</strong>，大师一波操作，指出赛事方平台shit代码中的各种通讯问题，不得不佩服大师对代码的理解能力。比赛主要比拼的是“英雄”和策略的选择，大师码力一个顶仨，不过中期因为比较忙大家比较摆，DDL前其余队都隐匿实力，结果我们中招了，想了一个策略看着还行就提交上去了，结果被暴虐，混了个三等奖。</p><h3 id="社工">社工</h3><p>在室友的邀请下，进入<strong>校科协活动策划部</strong>，这学期的主要工作是筹办第四十届挑战杯学生课外科技作品展，担任工作人员，在展览区里待了一天，看到了很多有趣的玩意儿。比如贵系有个根据盲打显示单词的，估计是用的隐马尔科夫模型训练了一些样本，本质上跟拼音输入法也差不多。还有生命学院用VR眼睛可视化他们的生物大分子成果，挺逼真的。航院还是什么具体忘了，下载一个软件来控制无人机飞行，然后照了一张照片。现场也有Thuai的解说，整个展览吸引了很多同学，很棒的一次体验，说是工作人员，倒不如说也是参观人员。</p><p>总之，这学期在学业方面也算是学到了更多的东西，逐渐适应了大学生活，也许有一些成绩上的小遗憾，不过长远来看到也没啥。生活也需要留一点遗憾嘛，这学期圈子也扩展了一些，相比之下，还是心满意足了。</p><h2 id="小学期">小学期</h2><h3 id="学业-2">学业</h3><p>小学期一共上了 <span class="math inline">\(4\)</span> 门课程，共<span class="math inline">\(9\)</span>学分，一路上下来我自己也感到震惊。</p><p><strong>程序设计实训</strong>，这门课是培养方案里面的课程，软院的 xf老师上的，讲课确实挺不错的，跟之前的课形成鲜明对比，不过 PPT内容其实比较单一，基本就是照着 more effective C++讲的，感觉好多东西也不怎么用。当然也有可能是我 C++学得不够深入。。期间写 24点属实伤了一些脑筋，后来才发现可以用递归的方式写，当时硬刚了一个递推的写法，其余都是些Qt的练习。大作业是写一个视频剪辑软件，知道消息之后提早写了一个出来，后来发现与需求有点出入，不得不评价助教还是有点摆，md需求文档不是很清晰，文档最后一句话还缺少宾语。。在二教答辩，期间还出了一个bug，后来联系助教说没事，顺利拿下 <spanclass="math inline">\(A\)</span>。</p><p><strong>程序设计训练</strong>，这门课是贵系的 hwt 老师开的，在 zcy的建议下软院贵系双开，同时推进两个大作业，h 老师 Rust语言的设计理念讲得挺不错的，这儿有一份<ahref="https://lr-tsinghua11.github.io/2022/09/11/rust/">笔记</a>。Oj上的作业也蛮有意思的，还记得有一个二叉搜索树的题目，感觉贵系的风格就是你不会，总有人会。还好Copilot 基本都会（狗头），不会的就写注释”询问“它。不过 Rust编译器是真的智能，各种容易触发安全问题的代码片段全都提示出来，基本扫光所有error 和 warning 之后，代码能出的问题就只有运行逻辑问题了。Rust的生态圈也很友好，虽然赶不上python，不过应对需求应该也够了，况且其速度优势不再话下。后来也许是跟贵系另外一门爬虫小学期相比，Rust这门课的任务量实在是太大了，取消了两次小作业，的确，只有经历小学期的人才能体会到什么是真正的工程。这门课有个课程贡献加分，我就把课程笔记传了上去，之前帮助教过了一遍环境配置，加了一些分，也拿下了<span class="math inline">\(A\)</span>。</p><p><strong>量子计算研讨课</strong>，贵系 yms 教授开的，zcy让我跟他一起上，没想到这门课对全校学生开放。不过这门课的门槛是真的太高了，上来就从希尔伯特空间、量子力学五大公设的数学表述开始讲起，属实有些劝退，后来是jzf教授讲授的关于量子算法、量子电路相关部分。他自己也提到，许多做量子计算方向的博士生也难以掌握Shor算法，的确，非常前沿的课题是相当困难的，量子计算目前最难以跨越的还是物理实现，各种算法、理论已经满天飞，也许跟早年计算机模型的提出差不多吧，还是希望这棵令人无限遐想的科技树被点亮。</p><p>考核方式是论文调研，去年是读书报告。和 hsh、zcy组队，写了一篇关于量子纠错编码的综述论文，工作量比较大吧，答辩的时候 jsf教授只提了一个关于子空间编码的问题，hsh还在机场，刚好我可以回答，也算是比较幸运的。答辩结束的时候，jsf教授也很感慨，最初 70 多人，到最后只有 20多人参加答辩，的确这门课对于本科生来说难度过高。极为不友好。最后给了<spanclass="math inline">\(A-\)</span>，也算是比较中肯的评价了，毕竟本科生也很难在量子计算领域提出新的想法。</p><p><strong>毛泽东思想和中国特色社会主义概论(2)</strong>，自带 PF的实践课，主要是希望大家参与清华实践中。暑假 7月末去了趟武汉调研物流行业的情况，各种物流企业各有所长，顺丰主要针对中高端用户，中国邮政国营企业dddd，中通比较牛马，老总还非常得意地说解决许多就业问题，山农绿产品背后有供销社，也算是半个国营企业，京东非常神秘，还不让进工厂，害怕科技资料泄露吧，九州通专注于医疗产品，科技创新方面也是走在世界前列。前面几天都在繁忙地访谈记录整理，最后一天去了趟长江大桥附近，吹了一下江边的晚风，可惜没有白天登黄鹤楼，不过时间也不等人，还是踏上了高铁回到了家乡。这门课给分还有个小插曲，开始lzd 老师以为不是 PF 属性，结果我还吃了一个 <spanclass="math inline">\(B+\)</span>，后来还是改成了 <spanclass="math inline">\(P\)</span>。</p><h3 id="科研">科研</h3><p>参与班主任数据压缩相关工作，主要是参与一个江苏省太湖实验室举办的比赛，组队队员有之前提到的xjz、hyx、yyj，初赛当时有个编码一直没能破解，后来帮他们手写了 (51, 63)BCH编码的算法实现，大幅提高了压缩率，反正前三十名都进入决赛，最终以第三名的成绩进入决赛。</p><p>决赛是针对一个庞大的张量进行压缩，现在想来，我们当时一直走偏了方向，一直按照论文中比较传统的编码+压缩方式对数据进行压缩，最后直接细分到每种文件采用不同的方式进行压缩，后来发现应该基于预测的方式进行压缩，比如可以通过数据的一个子集来推断整个数据集，如果预测得当的话残差就很小，这样就能提高压缩比率。还记得中秋节在软院402绞尽脑汁，我们队反应过来的时候已经很晚了，只能说长一个教训。当然中途出现了<code>sizeof()</code> 和 <code>strlen()</code>不分的低级错误，我也犯了不少错，最后决赛没能入围答辩，还是得进一步提升自己的实力。</p><p>回想大一，大一上主要在适应，大一下在学业方面还是找到了方法，暑假三门硬课的磨炼也提升了我的能力，会<strong>永远热爱生活，热爱学习</strong>。</p>]]></content>
    
    
    <categories>
      
      <category>总结</category>
      
      <category>大一学年</category>
      
    </categories>
    
    
    <tags>
      
      <tag>大一学年</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Report of music phenomena in the multi-culture</title>
    <link href="/2022/12/28/%E7%94%9F%E6%B4%BB/%E5%A4%9A%E5%85%83%E6%96%87%E5%8C%96%E4%B8%AD%E7%9A%84%E9%9F%B3%E4%B9%90%E7%8E%B0%E8%B1%A1%E8%AF%BE%E7%A8%8B%E6%8A%A5%E5%91%8A/"/>
    <url>/2022/12/28/%E7%94%9F%E6%B4%BB/%E5%A4%9A%E5%85%83%E6%96%87%E5%8C%96%E4%B8%AD%E7%9A%84%E9%9F%B3%E4%B9%90%E7%8E%B0%E8%B1%A1%E8%AF%BE%E7%A8%8B%E6%8A%A5%E5%91%8A/</url>
    
    <content type="html"><![CDATA[<p><img src="/img/image-20221219171930079.png" alt="image-20221219171930079" style="zoom: 25%;" /></p><h1 id="凡是过往，皆为序章——我眼中的卡农"><a href="#凡是过往，皆为序章——我眼中的卡农" class="headerlink" title="凡是过往，皆为序章——我眼中的卡农"></a>凡是过往，皆为序章——我眼中的卡农</h1><blockquote><p>复制不是卡农的精髓，同构才是。                                                                    ——引言</p></blockquote><h2 id="Present"><a href="#Present" class="headerlink" title="Present"></a>Present</h2><p>聆听了罗薇老师对 <code>art music</code> 的讲解，当熟悉的卡农曲调从艺教多功能厅中响起时，这首从小学到现在一直维持在歌单里的钢琴曲，让我不禁陷入了沉思……</p><p>罗老师讲到五线谱最开始是没有线的，这也体现了音乐的高度创作性，而卡农则是一首标准的模仿式音乐。最开始我以为卡农动听的原因是巴赫在韵律方面的灵感，没想到卡农本质上就是 <code>Control+c/v</code>，仅仅是运用一些复制的技巧，就能够谱写出如此美妙的旋律。</p><p>卡农乐曲是一种能够让人沉浸在内心深处的音乐，在高三繁忙的学习之中，在大学繁忙的 <code>pre</code> 和 <code>ddl</code> 的催促中 ，卡农钢琴曲的演奏让我感觉到一种远离外界喧嚣的安静，与自己的情感对话，从某种意义上来说，这首音乐改变了我的一生。</p><h2 id="Past"><a href="#Past" class="headerlink" title="Past"></a>Past</h2><p>小学、初中、高中、大学，每个阶段都有相应的流行乐曲，遍布于各大商场，但由于商业创作的因素，终究在时间的考验下淹没于尘埃之中，经久不衰的仍然是古典音乐。而我仔细思考，卡农这种本质上看似轻巧的复制手法，的确能给人带来心灵的震撼。</p><p>谁也不想复制他人绚丽的人生？我出生于四川小县城，在机缘巧合下来到了成都读高中，一路走来，有欢喜，有悲伤。在高中竞赛的收官之战前几天，竞赛教练把我叫出去说来自小地方的考生不容易脱颖而出云云，但我绝不向命运妥协。</p><p>我永远忘不了两年前国庆节的前一天，那天怀有希望的我收到了进入决赛的通知，但不到一个小时，组委会一句 <code>excel</code> 表统计错位便收回了名单，那种坠入深渊的感觉向我袭来。最终，我以一分之差结束了长达两年的竞赛生涯，刚刚经历了范进中举般狂喜的我最终灰溜溜地转回到高三班上。我在刷题期间内心始终无法平静，下午还被竞赛教练“威逼利诱”，这无疑点燃了我的情绪。</p><p>当前晚上我质疑过，破罐子破摔过，我曾冲进副校长办公室，愤怒地想要讨回公正，得到的仅仅是踢皮球的推卸回应。父母激动地来到川大的组委会与书记理论，得到的也是向上级反应的百般无赖。</p><p><strong>或许自己不能复刻出他人的经历，正如卡农也不是完完全全递归般的复制粘贴，而是应用了错位、镜像、混合等多种技巧。让音乐活起来的也不是等位的复制，而是同构。</strong></p><p>高三一年，在两年未曾学习高考的基础上，我稳扎稳打，最终在一年的努力之下通过高考来到了清华园，也与许多提前保送的竞赛生一样，为中学的求学之路画上了圆满的句号。</p><p>但这激荡的过去，也仅仅只是未来的序章。</p><h2 id="Future"><a href="#Future" class="headerlink" title="Future"></a>Future</h2><p>来到大学后，山外有山，人外有人，无论多难的考试都能考满分的“卷王”，无论任何方面都有更厉害、更耀眼的成果。也许是卡农无形之中带给我的启迪，我变得没那么焦躁，<strong>岂能完事顺心，但求无愧于心</strong>。</p><p>学习上我找到了自己的方法，追求平稳，社工上我结实了各种各样的朋友，他们都很真诚，我从他们身上学会了很多，志愿上凭借自身在高中积累的数理优势在校答疑坊找到了自身的价值……虽然把一个人映射于不同维度进行打分的方式让我有些忙乱，但就像音乐中的转调一样，灵活地掌控各种曲调也不失为一首美妙的乐章。</p><p>课后作为理科生的我在罗老师的推荐下阅读了<strong>《哥德尔、艾舍尔、巴赫（GEB）》</strong>，这本书丰富的交叉学科知识让我在音乐、绘画、数学、计算机科学等各种看似毫不相干的学科之间建立了联系，它们之间也有丰富的<strong>同构</strong>。</p><p>该书由于使用了许多英语句法上的巧妙，在翻译成中文时比较困难，但处于对中文博大精深的热爱，作者还亲自为中文译本作了序，而且取了一个中式化的名字——<strong>侯世达</strong>。他还对其中一则虚拟对话修改成了中文藏头对话，相当于用两种语言以致敬德国作曲家巴赫，可见作者对中文的喜爱。</p><p>总之，一则则小故事让我茅塞顿开，其中印象最深刻的便是作者对<strong>同构</strong>的理解，<strong>同构是科学之路上永恒不变的话题</strong>，作者宽广的学识的确让我佩服，他提到螃蟹卡农中的同构、绘画中的主体与衬底、中文的回文诗、第三次数学危机乃至群论等各种知识无不运用了同构的思想，这也让不懂音乐的我认识到各学科之间竟然是如此紧密地联系在一起。</p><p><img src="/img/birds.jpeg" alt="birds" style="zoom: 33%;" /></p><center><b> &nbsp&nbsp&nbsp图</b> 艾舍尔画作</figcaption></center><p>就拿最近很火的人工智能 <code>charGPT</code> 举例，许多人都称赞这个聊天机器人的智能，但也在各种狂轰滥炸之下暴露出各种花式问题，其实人工智能从根本上始终没有解决好<strong>同构</strong>这个问题，同构意味着自指，当前所谓的人工智能只能在庞大的数据集中摸清一些统计规律，他们缺乏对自我的认知，<strong>他们丧失了同构的本质——循环</strong>。</p><p>人类是在成千上万年地自我循环中逐渐启迪了自己，当第一只猿人抬头仰望漫天星空提出我是谁的问题时，人类的自我意识在循环往复地发问之中逐渐觉醒，在不断地往复迭代的过程中，最终才形成纷繁的现代社会。</p><p><strong>自我意识的缘由不是物质，而是循环。</strong>当 DNA 双螺旋交织时，生命活了；当音符出现循环时，卡农活了；当主体和衬底交错时，艾舍尔的《鸟》活了；当集合包含自身时，高度公理化的集合论活了……</p><p>薛定谔在《生命是什么》这本著作中提到“生命以负熵为食”，也就是从混乱中找到顺序，也就是找到<strong>同构</strong>。但寻求同构是一件非常困难的事情，计算机总可以被理性化地研究，但是生命的指引者——大脑却难以被研究透彻，因为我们对复杂的大脑了解甚少。</p><p>在大数学家希尔伯特看来，对于数学“我们必将知道，我们一定知道”，代表那个年代人类对数学的信心，但是随着<strong>哥德尔同构的理论分析</strong>，我们不得不承认我们并不了解这一切，对于未知的真理，我们甚至能够“证明”这样的真理的“证明”我们无法做到。</p><p>或许这样的结果是让人揪心的，但这何尝不是一种开创？经典巴赫卡农最后一个音符的结束，也并不妨碍更多美妙悦耳的乐章，一个划时代的成果终究成为更多成果的基石。上个世纪那么多的计算机科学家们，他们即使掌握着最先进的计算机知识，也永远无法使用我现在正在敲字的个人笔记本电脑。</p><p>或许我们总想着复制别人的生活，我们总是抱怨这里不是那里也不是。但静下心来想想，其实复制不是卡农悦耳的秘诀，同构才是。我们不必迷恋人生的完美，应该迷恋人生的心境，成功只有一个——按照自己的方式，去度过人生。</p><p>𝑱𝒖𝒔𝒕 𝒍𝒊𝒔𝒕𝒆𝒏 𝒕𝒐 𝑪𝒂𝒏𝒐𝒏! 𝑨𝒔𝒔𝒆𝒎𝒃𝒍𝒊𝒏𝒈 𝒚𝒐𝒖𝒓 𝒍𝒊𝒇𝒆 𝒂𝒄𝒄𝒐𝒓𝒅𝒊𝒏𝒈 𝒕𝒐 𝒚𝒐𝒖𝒓 𝒐𝒘𝒏 𝒉𝒆𝒂𝒓𝒕! 𝑨𝒍𝒍 𝒕𝒉𝒂𝒕 𝒉𝒂𝒔 𝒑𝒂𝒔𝒔𝒆𝒅 𝒊𝒔 𝒂 𝒑𝒓𝒆𝒂𝒎𝒃𝒍𝒆. 𝑨𝒍𝒍 𝒕𝒉𝒂𝒕 𝒕𝒉𝒆 𝒉𝒆𝒂𝒓𝒕 𝒅𝒆𝒔𝒊𝒓𝒆𝒔 𝒊𝒔 𝒇𝒖𝒍𝒇𝒊𝒍𝒍𝒆𝒅.</p><p><strong>卡农奏响，寻心所向。凡是过往，皆为序章。用心酝酿，悉数以偿。</strong></p>]]></content>
    
    
    <categories>
      
      <category>生活</category>
      
      <category>多元文化中的音乐现象</category>
      
    </categories>
    
    
    <tags>
      
      <tag>多元文化中的音乐现象</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Data structure review</title>
    <link href="/2022/12/25/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/12/25/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="数据结构总复习笔记"><a href="#数据结构总复习笔记" class="headerlink" title="数据结构总复习笔记"></a>数据结构总复习笔记</h1><h2 id="绪论"><a href="#绪论" class="headerlink" title="绪论"></a>绪论</h2><p>数据结构三元素：<strong>逻辑结构、存储结构、数据在运算上的实现</strong>。</p><p>逻辑结构：<strong>集合、线性、树、图</strong></p><p>存储结构：<strong>顺序、链式、索引、散列</strong></p><blockquote><p>Note. 逻辑结构为树但存储结构可以为顺序，例如使用数组存储一棵完全二叉树。</p></blockquote><h2 id="向量与列表"><a href="#向量与列表" class="headerlink" title="向量与列表"></a>向量与列表</h2><h3 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h3><p>性质1：折半查找判定树是平衡二叉树，其<strong>高度差要么为 $0,1$，要么为 $0,-1$</strong>。</p><blockquote><p>Prof. 当前序列为奇数个时，一定能保证两侧数量相同；当前序列为偶数个时，要么为 $\left\lceil\dfrac{l+r}{2}\right\rceil$，要么为 $\left\lfloor\dfrac{l+r}{2}\right\rfloor$，对应高度差为 $1$ 和 $-1$，递归调用时一般不会更改中位数的选取，从而高度差要么非负、要么非正。</p></blockquote><p>性质2：二分查找次数形成的树高为 $\left\lceil\log _{2}(n+1)\right\rceil$</p><blockquote><p>Prof.  $2^0+\dots+2^{h-1}\leq n\leq2^0+\dots+2^{h}\Longrightarrow h\in[\log _2(n+1)-1,\log _{2}(n+1)]$</p></blockquote><h2 id="栈与队列"><a href="#栈与队列" class="headerlink" title="栈与队列"></a>栈与队列</h2><p><strong>（括号）匹配操作</strong>需要借助栈。</p><h3 id="栈模拟队列"><a href="#栈模拟队列" class="headerlink" title="栈模拟队列"></a>栈模拟队列</h3><p>使用两个栈模拟队列，记“大小栈”容量为 $M,N(M&gt;N)$，能够模拟的队列最大容量为 $2N+1$。</p><blockquote><p>Prof. $1,\cdots,N$ 入大栈，依次弹出进入小栈，大栈加入 $N+1,\cdots,2N+1$，因为还可以保留一个。输出队列时，小栈先依次弹出为 $1,\cdots,N$，大栈弹出 $2N+1,\cdots N+2$  进入小栈，剩下一个 $N+1$，先弹出 $N+1$，再弹出小栈中的元素，恰好形成一个队列。</p></blockquote><h3 id="表达式求值"><a href="#表达式求值" class="headerlink" title="表达式求值"></a>表达式求值</h3><p>前后缀表达式求值仅需维护<strong>一个数字栈</strong>。</p><p>后缀表达式：<strong>从左往右</strong>依次数字入栈，遇到操作符将栈顶的两个元素计算后结果入栈。</p><p>前缀表达式：<strong>从右往左</strong>依次数字入栈，遇到操作符将栈顶的两个元素计算后结果入栈。</p><blockquote><p>Note. 如果有括号将内部计算均做完后左右括号出栈。</p></blockquote><p>性质1：将表达式转换为二叉🌲，前缀、中缀、后缀表达式依次对应二叉树的前序、中序、后序遍历。</p><blockquote><p>Note. 在构建时 $\neg\neg P$ 前序为 $\neg\neg P$，后序则为 $P\neg\neg$。</p></blockquote><h2 id="树的结构"><a href="#树的结构" class="headerlink" title="树的结构"></a>树的结构</h2><p>以下讨论皆规定根节点🌲高为 $1$，$V$ 为🌲的节点个数，度为 $i$ 的数目为 $n_i$，🌲的度 $d$ 定义为所有节点度的最大值，度为 $d$ 且有左右树之分的树称作 $d$ 叉🌲，满足</p><script type="math/tex; mode=display">\begin{equation}\color{green}V=\sum_{i=0}^{d} n_i\end{equation}</script><h3 id="基本特性"><a href="#基本特性" class="headerlink" title="基本特性"></a>基本特性</h3><p>对任何🌲 可以看成最小连通图，顶点的数目比度的总数多 $1$，即</p><script type="math/tex; mode=display">\begin{equation}\color{green}1+\sum_{i=1}^{d} in_i=V\end{equation}</script><p>给定一棵树的部分 $n_i$，使用公式 (1)(2) 可以获取许多信息。</p><h3 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h3><p>对一棵二叉树度为 $2$ 的点有 $n_2$ 个，叶节点（度为 $0$）的点有 $n_0$，则</p><script type="math/tex; mode=display">\begin{equation}\color{green}n_0=n_2+1\end{equation}</script><blockquote><p>Prof. 二叉树代入公式(1) $1+0\cdot n_0+1\cdot n_1+2\cdot n_2=n_0+n_1+n_2$ 即证。</p></blockquote><p>具有 $n$ 个节点的二叉树的最小深度为 $\color{green}\log_2(n+1)$。</p><p>二叉树遍历方式</p><ol><li><p>广度优先遍历（层次遍历，使用<strong>队列</strong>模拟，记所有层中数量最大的为 $F$，队列最大容量为 $F$ 中的节点数）</p></li><li><p>深度优先遍历</p><p><strong>先序遍历</strong> <strong>根</strong>左右（可以看成绕🌲外围一圈，图的深度优先遍历来源）</p><p><img src="/img/数据结构总复习笔记/image-20221222142445872.png" alt="image-20221222142445872" width=400 /></p><p><strong>中序遍历</strong> 左<strong>根</strong>右（可以看成顺次掉落，其为有序的，无论平衡与否）</p><p><img src="/img/数据结构总复习笔记/image-20221222143306555.png" alt="image-20221222143306555" width=400; /></p><p><strong>后序遍历</strong> 左右<strong>根</strong>（可以看成从左往右依次剪葡萄）</p><p><img src="/img/数据结构总复习笔记/image-20221222143738244.png" alt="image-20221222143738244" width=400 /></p></li></ol><p>使用递推的方式遍历二叉树需要<strong>栈</strong></p><p>性质1：<strong>完全确定二叉树至少需要中序遍历以及另外一种遍历，先序遍历和后序遍历不能完全确定一棵二叉树，除非保证每个节点的度为偶数。</strong></p><blockquote><p>Prof. 中序遍历为左根右，前序或者后序遍历能给出根节点，从而能够区分出左右子树节点集合，对左右子树递归操作，能构建完整树。而先序和后序当存在度为 $1$ 的节点时叶节点可左可右，当每个节点的度为偶数时保证可重建二叉树。</p></blockquote><p>性质2：<strong>若一棵二叉树的前序遍历和后序遍历相反，则该二叉树为链状。</strong></p><blockquote><p>Prof. 反证法，若有个节点有左右子树，则前序和后序遍历不互为逆序。</p></blockquote><p>据此可求出已知前序遍历和后序遍历（记作 $A$ 和 $B$）条件下构建二叉树的方法：$A$ 的第一位和 $B$ 的最后一位均为根节点，去掉这两位，判断剩下 $A$ 首位和 $B$ 的末尾是否相同，若相同，则该位与根节点形成<strong>“链表”</strong>，依此类推，若不同，则分别为左右子树的根节点，以两者的位置分别确定每棵子树的集合。剩下子树同样按照上述流程，同理，<strong>只要存在逆序字符串，该字符串对应的拓扑结构一定为链状</strong>。</p><p>性质3：<strong>若一个🍃为二叉树中序遍历最后一个节点，则该节点也为前序遍历最后一个节点，反之不成立。</strong></p><blockquote><p> Prof. 中序遍历为左根右，最后一个节点为🍃，则该叶子一定在右子树，依次递推下去，该叶子一定为若干个右子树最后的叶子，在前序遍历时一定作为最后一个节点。反之，若🍃节点为前序遍历最后一个节点，其可以为左子树的🍃，此时中序遍历最后一个节点可以为根节点，即反过来不成立。在🍃时成立中序最后 $\Longrightarrow$ 前序最后。</p></blockquote><p><strong>子集树：</strong>$n$ 个元素集合的子集可以看成是一颗<strong>叶子节点数为 $2^{n}$ 的满二叉树</strong>，左和右分别代表选择或者不选。</p><p><strong>二叉排序树</strong>：左子树所有元素值小于根节点，右子树所有元素值大于根节点。（二叉树<strong>不要求平衡</strong>）</p><p>性质4：<strong>二叉排序树插入节点的复杂度为 $O(n)$。</strong></p><blockquote><p>Prof. 最坏情况退化成链表，复杂度为 $O(n)$。</p></blockquote><p>性质5：<strong>若排列组合随机，二叉树高度为 $O(\log n)$；若形状随机，高度则为 $O(\sqrt{n})$。</strong></p><blockquote><p>Prof. 前者证明参考算法导论二叉搜索树最后一节，后者证明参考论文，过于复杂，</p></blockquote><h3 id="完全二叉树"><a href="#完全二叉树" class="headerlink" title="完全二叉树"></a>完全二叉树</h3><p><strong>定义：除了最后一层外，其他各层全是满的， 并且最后一层的节点尽可能往左靠</strong>。</p><p>性质6：<strong>总点数为 $n$ 的完全二叉树的非叶子节点如下</strong></p><script type="math/tex; mode=display">\begin{equation}\color{green}完全二叉🌲,\sum _{叶子节点}1=\lceil \dfrac{n}{2}\rceil\end{equation}</script><blockquote><p>Prof. 完全二叉树只有最后一层度为 $1$ 的点为 $0,1$，即 $n_1=0,1$，代入 $n_0=n_2+1,n=n_0+n_1+n_2$，解得 $n_0=\dfrac{n}{2},\dfrac{n+1}{2}=\lceil \dfrac{n}{2}\rceil$。</p></blockquote><p>性质7：<strong>🍃节点数为 $n$ 的完全二叉树节点总数为 $\color{green}2n-1,2n$，共 $\color{green}2$ 种。</strong></p><blockquote><p>Prof. 注意完全二叉树度为 $1$ 的节点个数为 $n_1=0,1$，有两种情况。</p></blockquote><p>完全二叉树的🍃可能在最后一层，可能在倒数第二层，对应两种情况。例如一棵高度为 $h$ 的完全二叉树第 $i$ 层有 $x$ 个叶子，计算完全二叉树的节点数需要考虑该层为倒数第二层或者倒数第一层。</p><p>性质8：<strong>完全二叉树从 $1$ 开始顺次标号，则标为 $n$ 的节点左右节点为 $2n$ 和 $2n+1$。</strong> </p><blockquote><p>Note. 一般的二叉树没有这样的性质，其放在数组中有许多元素为空。</p></blockquote><h3 id="平衡二叉树"><a href="#平衡二叉树" class="headerlink" title="平衡二叉树"></a>平衡二叉树</h3><p><strong>定义：$\color{green}\forall 节点,|h_{l}-h_{r}|\leq 1$，即任意节点左右子树的高度差不大于 $1$。</strong></p><p>性质9：令数列 $\text{Fib}(n)$ 满足 $\text{Fib(1)}=\text{Fib(2)}=1,\text{Fib(n+2)}=\text{Fib(n+1)}+\text{Fib(n)}$，<strong>则总高度为 $h$ 的平衡二叉树节点数量满足</strong></p><script type="math/tex; mode=display">\begin{equation}\color{green}V_h \in\left[\operatorname{Fib}(h+2)-1,2^h-1\right]\end{equation}</script><blockquote><p>Prof. 对树高为 $h$ 平衡二叉树，构造左右子树分别为 $h-1$ 和 $h-2$ 对应的最少平衡二叉树，满足平衡二叉树条件，且任意少一个节点要么让树高小于 $h$，要么不平衡，该构造为充分必要的，从而 $V_{\min}(h)=V_{\min}(h-1)+V_{\min}(h-2)+1$，则左边得证。右边为满二叉树情形 $2^0+2^1+\cdots+2^{h-1}=2^h-1$。</p></blockquote><h3 id="真二叉树"><a href="#真二叉树" class="headerlink" title="真二叉树"></a>真二叉树</h3><p>定义：<strong>所有节点的度为 $0$ 或 $2$ 的二叉树，如哈夫曼树。</strong></p><h2 id="树的应用"><a href="#树的应用" class="headerlink" title="树的应用"></a>树的应用</h2><h3 id="森林转换"><a href="#森林转换" class="headerlink" title="森林转换"></a>森林转换</h3><p>有序树定义为<strong>兄弟节点有次序的树</strong>。</p><p><strong>有序树转换为二叉树</strong>：先将每棵多叉树转换为二叉树，每个节点而言，<strong>“左孩子右兄弟”</strong><br>，即初始左孩子仍为其左孩子，初始（右侧）兄弟转换为右孩子。</p><p><strong>二叉树转换为有序树</strong>：作为上述过程的逆过程，将右孩子变为兄弟即可。</p><p>性质1：<strong>一棵森林中树的数目等于总节点数减去总边数。</strong></p><p>性质2：<strong>有序树的遍历仅有前序和后序，分别等于转换后二叉树的前序和中序。</strong></p><blockquote><p>Prof. 构造基本有序树 $\begin{gathered}b \newline/\quad \backslash\\a\quad  c\end{gathered}$，其转换为二叉树 $\begin{gathered}b \\/\quad \newline a\longrightarrow c\end{gathered}$，满足前者前序序列等于后者前序序列 $bac$，前者后序序列等于后者中序序列 $acb$。</p></blockquote><p>性质3：<strong>给定有序树的前序和后序遍历能完全确定该有序树。</strong></p><blockquote><p>Prof. 由性质2和重构二叉树的性质即证。</p></blockquote><p><strong>森林转换为二叉树：</strong>先将每棵多叉树转换为二叉树，然后将所有二叉树根看成兄弟（假定有隐藏根节点），转换为一棵二叉树。</p><p><img src="/img/数据结构总复习笔记/image-20221221162312328.png" alt="image-20221221162312328" style="zoom: 20%;" /></p><p>性质4：<strong>原森林中叶节点数量等于二叉树中无左孩子节点数量。</strong></p><blockquote><p>Prof. 原森林叶节点可能有兄弟导致在二叉树中有右孩子，但由于其没有孩子，其在二叉树中一定没有左孩子，两者一一映射，数量相同。</p></blockquote><p>性质5：<strong>一棵树非🍃节点有 $m$ 个，其转换为二叉树后无右孩子的节点有 $m+1$ 个。</strong></p><blockquote><p>Prof. $m$ 也为有孩子的节点数量，每个有孩子的节点，其有唯一的最右孩子，该孩子转换为二叉树之后无右孩子，其余孩子由于有右边的兄弟则有右孩子。还要加上根节点，其无兄弟，转换后无右孩子。</p></blockquote><p><strong>二叉树转换为森林</strong>：左孩子不变，把右孩子转换为自己的兄弟，然后从根节点开始，最长右孩子序列每个元素对应森林中每棵🌲的根。</p><h3 id="哈夫曼树"><a href="#哈夫曼树" class="headerlink" title="哈夫曼树"></a>哈夫曼树</h3><p><strong>哈夫曼树（</strong>也叫<strong>最优编码树）</strong>：每个🍃带权，使得带权路径长度最小的二叉树，构建方法：森林 $F$ 初始化为 $n$ 个权值的节点，重复下述操作直到 $F$ 仅含一棵二叉🌲：</p><ol><li>在 $F$ 中选取两棵根节点的权值最小的树作为左右子树构造一 个新的二叉树，且置新的二叉树的根节点的权值为左右子树上根节点的权值之和；</li><li>在 $F$ 中删除这两棵树，同时将新得到的二叉树加入 $F$ 中。</li></ol><p>对二叉🌲，每个🍃标定“路线”（例如：$\{0110,10,1110,1111,110,00,0111,010\}$），保证不是前缀码，为最优编码。</p><p><strong>最小带权路径长度（WPL）</strong>：构建的哈夫曼树对每个🍃节点以及路径长度加权求和，满足等于使用二进制编码字符串的最小长度。</p><p>性质6： <strong>$n$ 个节点的哈夫曼树对应 $\dfrac{n+1}{2}$ 个叶子节点。</strong></p><blockquote><p>Prof. 由 $n_0+n_2=n,n_0=n_2+1$ 即得。 </p></blockquote><p>性质7：<strong>出现次数最多和最少的字符哈夫曼编码中位数一定为最短和最长。</strong></p><blockquote><p>Prof. 使用反证法易证。</p></blockquote><p><strong>多叉树的带权最短路径</strong>：要求严格 $m$ 叉树，通过 $mn_{m}+1=n_0+n_{m}=n$ 补若干个 $0$ （即不影响权的情况下适当增加 $n$）使得上述方程有整数解，之后仿造哈夫曼编码的方式，每次选择 $m$ 棵树进行合并。</p><h3 id="AVL-树"><a href="#AVL-树" class="headerlink" title="AVL 树"></a>AVL 树</h3><p>保证搜索树平衡，防止其退化为链式树。</p><p><strong>选择 $g, p, v$</strong> ：$g$ 为<strong>最小失衡子树根节点</strong> ，$p$ 和 $v$ 分别为 $g$ 和 $p$ 孩子中的<strong>较高者</strong>。</p><p><strong>调整：</strong>从左往右依次为 $\text{zig-zig,zag-zag,zag-zig,zig-zag}$ 四种旋转方式。</p><p><img src="/img/数据结构总复习笔记/image-20221223160212730.png" alt="image-20221223160212730" style="zoom: 20%;" /></p><p>例如顺次加入 $7, 6, 4, 10, 8, 11$ 六个节点，形成的 AVL 树如下</p><p><img src="/img/数据结构总复习笔记/image-20221226210942607.png" alt="image-20221226210942607" style="zoom: 20%;" /></p><p>性质8：AVL 🌲插入结点之后若不平衡，则调整之后与插入之前的🌲高相同。</p><blockquote><p>Prof. 如果添加之后发生旋转，一定能让多出的一层通过旋转减少，AVL🌲仅有不旋转的时候“增高”。</p></blockquote><p><strong>删除：</strong>如果删除的节点 $P$ 在根节点上，用 $P$ 的中序直接前驱 $O$ 替代，进而替代删除 $O$，由此进行递归删除</p><p><img src="/img/数据结构总复习笔记/image-20221223160646898.png" alt="image-20221223160646898" style="zoom:25%;" /></p><h2 id="高级搜索树"><a href="#高级搜索树" class="headerlink" title="高级搜索树"></a>高级搜索树</h2><h3 id="B-树"><a href="#B-树" class="headerlink" title="B 树"></a>B 树</h3><p>$m$ 阶B🌲又称 $\left(\left\lceil \dfrac{m}{2}\right\rceil,m\right)$ 🌲，代表其分支数的取值范围，满足以下几种约束</p><ol><li><p>🍃的深度相同，根节点度数 $\color{green}\in[2,m]$；</p></li><li><p>非根节点度数 $\color{green}\in \left[\left\lceil \dfrac{m}{2}\right\rceil,m\right]$；</p></li><li><p>非🍃节点度数比关键码多 $1$。</p></li></ol><p><img src="/img/数据结构总复习笔记/image-20221221215435138.png" alt="image-20221221215435138" style="zoom: 25%;" /></p><p>性质1：<strong>B🌲下层与上层分支数之差等于本层关键码数</strong>，令 $L_{h}$ 为第 $h$ 层下层分支数，$L_{h-1}$ 为第 $h$ 层上层分支数，$N_{h}$ 为第 $h$ 层关键码数，则有</p><script type="math/tex; mode=display">\begin{equation}\color{green}L_{h-1}+N_h=L_h\end{equation}</script><blockquote><p>Prof. 对上一层的每个分支，假设关键码有 $n_i$ 个，其下一层假设有 $l_i$ 个分支，由约束(2)，可知 $1+n_i=l_i$，对上层每个分支求和即得。</p></blockquote><p>该性质可以结合边界条件 $L_{-1}=1$ 得</p><script type="math/tex; mode=display">\begin{equation}\color{green}L_h=1+\sum_{i=1}^h N_i\end{equation}</script><p>性质2：$m$ 阶 B🌲总高度满足</p><script type="math/tex; mode=display">\begin{equation}\color{green}\log _m(N+1) \leq h \leq \log _{\left\lceil\frac{m}{2}\right\rceil}\left\lfloor\frac{N+1}{2}\right\rfloor+1\end{equation}</script><blockquote><p>Prof. 由约束(2)(3)可知度数满足条件 $d_{i}\in\left[\lceil \dfrac{m}{2}\rceil,m\right]$，🌲最矮的情况对应每个节点都填满 $m-1$ 个值，有 $(m-1)\cdot (1+m+\cdots+m^{h-1})=m^{h}-1=N$，左边得证；🌲最高的情况对应根节点度数为 $2$，每个节点填满 $\lceil \dfrac{m}{2}\rceil-1$ 个值，第 $i$ 层有 $2\cdot \left( \left\lceil \dfrac{m}{2}\right\rceil\right)^{i}$ 组，$1+\left(\lceil \dfrac{m}{2}\rceil-1\right)\cdot2\cdot\left[ \left( \left\lceil \dfrac{m}{2}\right\rceil\right)+\cdots+ \left( \left\lceil \dfrac{m}{2}\right\rceil\right)^{h-1}\right]=1+2\left[\left( \left\lceil \dfrac{m}{2}\right\rceil\right)^{h-1}-1\right]=N$，右边得证。</p></blockquote><p>另一种写法为，给定总高度 $h$，$m$ 阶 B🌲总节点数的取值范围为</p><script type="math/tex; mode=display">\begin{equation}\color{green}\left[2 \cdot\left(\left\lceil\frac{m}{2}\right\rceil\right)^{h-1}-1, m^h-1\right]\end{equation}</script><blockquote><p> Note. B🌲总节点数和关键码数不同，后者可能不考虑叶子节点，对应 $h$ 减 $1$。</p></blockquote><p><strong>插入节点</strong>：</p><p><strong>①</strong> 根据性质查找插入的位置，如果<code>overflow</code>，就在中间关键码处<code>split</code>（这就是每节点的分支数大于 $m/2$ 的原因），即：把中间关键码放到它的父亲节点中，并把它原本的左右键值看成它的左右孩子。（<strong>找 medieum 之后上溢</strong>）</p><p><strong>②</strong> 如果父亲节点此时也 <code>overflow</code>，就不断分裂上溢。</p><p><strong>③</strong> 如果一直 <code>split</code> 到根节点，就为根节点创造一个新的 <code>root</code>。（允许根节点最少只有两个分支，仅有这种方法能长高，<strong>有爸求爸，没爸造爸</strong>）</p><p><strong>删除节点</strong>：</p><p><strong>①</strong> 找到要删的节点，如果不是叶子，交换其与后继的位置，转换为删除其后继，直到删除节点为叶子。</p><p><strong>②</strong> 删除叶子之后如果 <code>underflow</code>，先看左右兄弟是否能“借”它一个节点。如果可以，就通过<strong>三角债</strong>的方式从父节点处 <code>rotate</code>。</p><p><strong>③</strong> 如果不可以，也就是说它和它的兄弟都恰好到下确界，就把它和它的右兄弟以及它们的父亲合并成一个孩子节点。这会导致父亲节点数-1. 如果这样，父亲需要重复上述操作。如果已经到了根节点，就意味着树的高度减 $1$。（对树高的改变，和 <code>Insert</code>一样，是很少出现的）</p><p>性质3：<strong>如果某个非🍃节点中所有关键码都存在直接后继，则这些后继都是🍃。</strong></p><blockquote><p>Prof. 观察下面这棵 B-树，第一层的关键码的直接后继需要迭代两层才能找到，仅有倒数第二层的关键码存在直接后继，后继均为🍃。</p><p><img src="/img/数据结构总复习笔记/image-20221229234821971.png" alt="image-20221229234821971" style="zoom:25%;" /></p></blockquote><h3 id="KD-树"><a href="#KD-树" class="headerlink" title="KD 树"></a>KD 树</h3><p>对于搜索范围 $R$ 的每条边，每个节点的 $4$ 个孙子中不超过 $2$ 个会与它相交，这意味着递归，如下图 (c) 中粗线最多只能交出 $2$ 条线，则</p><script type="math/tex; mode=display">Q(n) = 2 + 2Q(n/4), Q(1) = O(1) \Longrightarrow Q(n) = O(\sqrt{n})</script><p><img src="/img/数据结构总复习笔记/image-20221223162515054.png" alt="image-20221223162515054" style="zoom: 25%;" /></p><h2 id="卡特兰数"><a href="#卡特兰数" class="headerlink" title="卡特兰数"></a>卡特兰数</h2><p>定义：$n$ 个节点可构造的不同二叉树数目，显然其满足递推式 </p><script type="math/tex; mode=display">\begin{equation}\color{green}H_n=\sum_{i=0}^{n-1} H_i H_{n-i-1} \quad(n \geq 2)\end{equation}</script><blockquote><p>Prof. $n$ 个节点的二叉树根节点有 $1$ 个，左右分别为 $i$ 个和 $n-i-1$ 个节点，两者相乘并求和为 $H_n$。</p></blockquote><p>性质1：$\color{green}H_n=\dfrac{(2n)!}{n!(n+1)!}=\dfrac{\begin{pmatrix}2n\\n\end{pmatrix}}{n+1}=1,1,2,5,14,42\cdots\\!$其渐进于 $\color{green}\sim\dfrac{4^n}{\sqrt{\pi}n^{3/2}}$</p><blockquote><p>Prof. 令生成函数 $H(x)=\displaystyle\sum_{n \geq 0} H_n x^n$，由边界条件 $H(0)=H(1)=1$，由递推式$H(x)=1+\displaystyle\sum_{n\geq 1}\sum_{i=0}^{n-1}H_{i}H_{n-i-1}x^n=1+x\sum_{n\geq 1}\sum_{i=0}^{n-1}H_ix^{i}H_{n-i-1}x^{n-i-1}$，更换求和顺序，先对 $i$ 求和有 $\displaystyle\sum_{n\geq 1}\sum_{i=0}^{n-1}H_ix^{i}H_{n-i-1}x^{n-i-1}=\sum_{i=0}^{+\infty}H_ix^i\sum_{j=0}^{+\infty}H_{j}x^{j}=H(x)^2$，则该函数满足方程 $H(x)=1+xH(x)^2,H(0)=1$，取极限下 $H(x)=\dfrac{1- \sqrt{1-4x}}{2x}$，由二项式定理 $H(x)=\dfrac{1-\left(1+\displaystyle\sum_{n=1}^{+\infty}\begin{pmatrix}1/2\\n\end{pmatrix}(-4x)^{n}\right)}{2x},\begin{pmatrix}1/2\\n\end{pmatrix}=(-1)^{n-1}\dfrac{(2n-3)!!}{2^nn!}=\dfrac{(-1)^{n-1}(2n-2)!}{2^{2n-1}n!(n-1)!}$代入得 $H(x)=\dfrac{\displaystyle\sum_{n=1}^{+\infty}\dfrac{2(2n-2)!}{n!(n-1)!}x^n}{2x}=\displaystyle\sum_{n=1}^{\infty}\dfrac{(2n-2)!}{n!(n-1)!}x^{n-1}=\sum_{n=0}^{\infty}\dfrac{(2n)!}{n!(n+1)!}x^{n}$，得证。</p></blockquote><p>性质2：<strong>$n$ 个元素的栈混洗个数有 $H_n$ 个。</strong></p><blockquote><p>Prof. 考虑最后一个出栈元素，设其为 $k$，其必须满足前面 $k-1$ 个元素入栈且出栈以及原序列中后面 $n-k$ 个元素入栈且出栈，当两个过程全部完成 $k$ 最后出栈，求和得$\displaystyle \sum h(k-1)\cdot h(n-k)$，不重不漏且满足递推式。</p></blockquote><p>性质3：<strong>给定长度为 $n$ 的前序遍历，中序遍历数量为 $H_n$。</strong></p><blockquote><p>Prof. 由性质1给出 $H_n$ 种二叉树的形态，按照这些形态“输入”前序遍历获得完整的二叉树，每棵二叉树的中序遍历均不同，因为如果相同，由前序遍历和中序遍历完全确定一棵二叉树从而矛盾，故在前序遍历确定的情况下，每个二叉树形态与每个中序遍历一一对应。</p></blockquote><p>性质4：<strong>一个凸 $n+2$ 边形，用直线连接若干对顶点使之分成多个三角形，要求每条直线不能相交，共有 $H_n$ 种划分方案。</strong></p><blockquote><p>Prof. 任意选取其中一条边以及连接中间第 $k$ 和 $k+1$ 个顶点，满足递推关系。</p></blockquote><p>性质5：<strong>律师每天从 $A$ 到 $B$ 走 $2n$ 个街区上班，要求不能穿越（但可以碰到）从家到办公室的对角线（只能经过<font color='green'>绿色点</font>），一共有 $H_n$ 条可能路线。</strong></p><p><img src="/img/数据结构总复习笔记/image-20221227192655173.png" alt="image-20221227192655173" style="zoom:25%;" /></p><blockquote><p>Prof. 每一次向上走看作入栈，向左走看作出栈，则等价于 $n$ 元素的栈混洗个数。</p></blockquote><h2 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h2><h3 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h3><p><strong>Floyd 堆合并算法</strong>，将所有<strong>非叶子节点下滤</strong>，由公式 (5)，筛选次数为 $\color{green}\sim\dfrac{n}{2}$。</p><p>性质1：<strong>建堆时比较次数为 $\color{green}O(n)$</strong></p><blockquote><p> Prof. 设高度为 $h$（ $1$ 个节点高度为 $0$）相较之前的逐个插入法</p><script type="math/tex; mode=display"> \sum _{i=0}^{h}i2^i\Longrightarrow\sum _{i=0}^{h}(h-i)2^i\\ (h-1)2^{h+1}+2=O(n\log n)\Longrightarrow2^{h+1}-h-2=n-\log _2(n+1)=O(n)</script></blockquote><p>性质2：代码实现上<strong>从序列末尾开始向前遍历</strong>，比如从倒数第二层的最后一个节点开始上滤，但同层节点的下滤次序对算法的正确性和效率都没有影响，其互不相干。</p><p>性质3：<strong>合并</strong>两个一般堆与建堆的时间复杂度相同，时间为 $\color{green}O(n)$。</p><blockquote><p>Prof. 两个一般堆的合并使用 Floyd 算法目前为最快的 $O(n)$，使用左式堆可以降到 $O(\log n)$。</p><p>程序中的堆是自己生成自己回收，栈是操作系统来分配。</p></blockquote><p>性质4：<strong>堆排序时间复杂度为 $\color{green}O(n\log n)$，其中建堆次数共 $\color{green}n$ 次</strong></p><blockquote><p>Prof. 建堆时间 $O(n)$，之后每次移去最值并下滤，操作时间为 $O(n\cdot \log n)$。初始 $1$ 次，之后仅用下滤并取极值 $n-1$ 次，共 $n$ 次。</p></blockquote><h2 id="图"><a href="#图" class="headerlink" title="图"></a>图</h2><h3 id="基本性质"><a href="#基本性质" class="headerlink" title="基本性质"></a>基本性质</h3><p><strong>无向图</strong>中描述<strong>两顶点</strong>之间的关系可以用 <code>(v1, v2)</code> 来表示。</p><p><strong>有向图</strong>中描述<strong>两顶点</strong>的单向关系用 <code>&lt;v1,v2&gt;</code> 来表示。</p><p><strong>简单路径</strong>：经过的点互相不重复的路径。（回路<strong>不是</strong>简单路径）</p><p><strong>连通分量</strong>：<strong>无向图</strong>中，若 $v_i$ 到 $v_j$ 有路径，则称 $v_i$ 和 $v_j$ 是连通的，<strong>无向图极大连通子图的集合为连通分量。</strong></p><p><strong>强连通分量</strong>：<strong>有向图</strong>中，若从 $v_i$ 到 $v_j$ 以及从 $v_j$ 到 $v_i$ 有路径，则称 $v_i$ 和 $v_j$ 是连通的，<strong>有向图极大强连通子图的集合为强连通分量</strong>。</p><p><strong>平面图</strong>：可以画在平面上且不同的边互不交叠的图，判定 $V-E+F=C+1$，分别对应顶点、边、面、连通数目，满足 $e \leq 3 \times v-6=O(v) \ll v^ 2$。</p><p>有 $e$ 条边的无向图，在邻接表中共有 $n+e\cdot 2=n+2e$ 个节点（注意对称性）。</p><p>邻接表的空间复杂度为 $O(n+e)$，邻接矩阵的空间复杂度为 $O(n^2)$</p><p>性质1：<strong>无向图的邻接矩阵为对称矩阵 $\color{green}A=A^{T}$，点为 $i$ 的度为 $\color{green}\displaystyle \sum_{j=1}^n A[i, j]=\sum_{i=1}^n A[i, j]$。</strong></p><blockquote><p>Prof. 对无向图中的一个点而言，其入度等于出度，</p></blockquote><p>性质2：<strong>$n$ 节点的连通无向图至少有 $n-1$ 条边（邻接矩阵有 $2(n-1)$ 个元素），连通有向图至少有 $n$ 条边。</strong></p><blockquote><p>Prof. 对无向图而言，$n-2$ 条边无法连接所有顶点，顺次连接 $n$ 个点最少只需要 $n-1$ 条边；对有向图形成一个大环为最少的边数。</p></blockquote><p>性质3：<strong>要保证在任意连接方式下都能连通 $n$ 个点，至少需要 $\color{green}\dfrac{n(n-1)}{2}+1$ 个点。</strong></p><blockquote><p>Prof. 最坏情况为 $n-1$ 个点构成完全图，最后连接剩下 $1$ 个点。</p></blockquote><p>性质4：<strong>深度优先搜索生成的序列与图是否有向密切相关。</strong></p><blockquote><p>E.g. 对边集 $E={<v_0,v_1>, <v_0,v_2>, <v_0,v_3>, <v_1,v_3>}$ 从 $v_0$ 开始的深度优先搜索一共有 $5$ 种，其中 $v_0\rightarrow v_3\rightarrow v_2\rightarrow v_1$ 容易遗漏。</p></blockquote><h3 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h3><p><strong>步骤：每次选择入度为 $0$ 的点入队，剪去出队元素的所有边，重复操作，出队序列为拓扑序列。</strong>（拓扑排序得到的序列不唯一）</p><p>性质5：<strong>如果一个有向图的邻接矩阵对角线以下的元素非 $0$，则该图存在拓扑排序。</strong></p><blockquote><p>Prof. 说明任意边 $v_{i}\longrightarrow v_j$ 中 $i&lt;j$，若存在环 $v_i,v_j,v_k$，则满足 $i&lt;j,j&lt;k,k&lt;i$矛盾，从而该有向图无环，存在拓扑排序。</p></blockquote><h3 id="最小生成树算法"><a href="#最小生成树算法" class="headerlink" title="最小生成树算法"></a>最小生成树算法</h3><p>图的深度优先搜索能给出图的一棵<strong>支撑树</strong>，对应二叉树的<strong>先序遍历</strong>。</p><p><img src="/img/数据结构总复习笔记/image-20221228204231261.png" alt="image-20221228204231261" style="zoom:15%;" /></p><p><strong>生成树：</strong>连通图 $G$ 的某个子图是一颗包含 $G$ 所有顶点的树。</p><p><strong>Cayley 公式</strong>：$n$ 个顶点的完全图的生成树总数为 $\color{green}n^{n-2}$。</p><blockquote><p>Prof. 设结果为 $T(n)$，考虑生成树序列的个数<strong>算两次</strong>，第一种计算方式为每棵树的排列为 $T(n)\cdot n!$，第二种方式为考虑第 $k$ 次加入的边，当前有 $(n-k+1)$ 棵树，边的一端任选，另一端不能为前者所在的树，每次有 $n\cdot (n-k+1-1)=n(n-k)$ 种选法，求积为 $\displaystyle \prod_{k=1}^{n-1}n(n-k)=n^{n-1}\cdot (n-1)!$，两者相等 $T(n)n!=n^{n-1}\cdot (n-1)!\Longrightarrow T(n)=n^{n-2}$。</p></blockquote><p>性质1：$n$ 个顶点、$n$ 条边的连通图至少有 $\color{green}3$ 棵生成树。</p><blockquote><p>Prof. 连通图一定有 $n-1$ 条边的生成树，多一条边一定能通过其共同祖先形成环，该环至少有 $3$ 条边，任一去掉一条边均为生成树，至少 $3$ 棵生成树，</p></blockquote><p><strong>最小生成树（MST）：</strong>所有生成树中权值之和最小的树，最小生成树有两种算法。</p><h4 id="Kruskal-算法"><a href="#Kruskal-算法" class="headerlink" title="Kruskal 算法"></a>Kruskal 算法</h4><p>算法流程：<strong>按权值递增顺序依次选取 $n-1$ 条边，始终保证不构成回路。</strong></p><p>设图的边数量为 $e$，前者需要排序 $O(e\log e)=O(e\log v)$ ，判断是否属于同一个树的时间为 $O((v+e)\cdot \alpha(v))$，其中 $\alpha(v)$ 为阿克曼函数，对目前规模数据 $\alpha(v)\leq 4$，从而总的复杂度为  $O(e\log v)$ ，适用于稀疏图。</p><h4 id="Prim-算法"><a href="#Prim-算法" class="headerlink" title="Prim 算法"></a>Prim 算法</h4><p>算法流程：<strong>重复加入当前节点与剩余节点距离最近的边，即一棵树以极短跨边生长。</strong></p><p>使用<strong>优先级队列</strong>取出最小边以及加入当前可跨边进行下滤和上滤操作，判定边是否使用可以使用一组布尔变量 $O(1)$ 时间内判定，则消耗时间 $O(e+(v+e)\log v)=O(e\log v)$。</p><p>可以看出，两种算法在渐进时间复杂度上是相同的。</p><blockquote><p>Note. 上述两种算法更改选择方式可以得到“最大生成树”。</p></blockquote><p>带权连通图的任意一个环中包含的边的权值均不相同时，其 MST是唯一的（充分条件）</p><h3 id="最短路径算法"><a href="#最短路径算法" class="headerlink" title="最短路径算法"></a>最短路径算法</h3><h4 id="Dijkstra-算法"><a href="#Dijkstra-算法" class="headerlink" title="Dijkstra 算法"></a>Dijkstra 算法</h4><p>求解<strong>权值非负单源最短路径</strong>问题。</p><p>算法流程：<strong>每次考虑当前点集的最短路径对应点的邻边，对所有点集的最短路径更新最短路径以及前驱，层层遍历，得到所有最短路径。</strong></p><p>算法共三组与顶点一一对应的数组，<strong>空间复杂度</strong>为 $\color{green}O(v)$。</p><p><strong>时间复杂度</strong>，时间主要消耗在寻找当前点集的最短路径，次数为 $O(1+\cdots+(v-1)+e)$，由于 $O(e)=O(v^2)$，则不加优化为 $\color{green}O(v^2)$。</p><p>使用优先级队列在每次加入当前遇到的顶点时上滤，取出最小值之后下滤，每次操作 $O(\log v)$，共计 $O(v+e)$ 次操作，故可以优化为 $\color{green}O((v+e)\log v)$，可以看出<strong>对稀疏图较好</strong>，对稠密图反而不好。</p><h4 id="Bellman-Ford-算法"><a href="#Bellman-Ford-算法" class="headerlink" title="Bellman-Ford 算法"></a>Bellman-Ford 算法</h4><p>求解<strong>权值任意单源最短路径</strong>问题</p><p>算法流程：<strong>设源点为 $u$，构造 $\text{dist}^{k}[v]$ 代表源点最多经过 $k$ 次到 $v$ 点的最短路径，记遍历当前有效点的邻边求最小值更新 $\text{dist}$ 数组为一次操作，重复操作 $v$ 次。</strong></p><blockquote><p>Prof. 正确性，如果没有负环，每条最短路径最多只需要 $n-1$ 次便能确定，前 $n-1$ 次计算最短路径，最后一次如果还有更新，则代表有负环，不存在最短路径。</p></blockquote><p>算法时间复杂度为 $O(\color{green}ve)$，共进行 $v$ 次循环，每次循坏最大可能遍历所有边。</p><h4 id="Floyd-Warshall-算法"><a href="#Floyd-Warshall-算法" class="headerlink" title="Floyd-Warshall 算法"></a>Floyd-Warshall 算法</h4><p>求解<strong>权值任意多源最短路径</strong>：标定 $\text{dist}[u][v]$ 为从 $u$ 到 $v$ 的最短路径，对所有边进行初始化，对 $k:0\to v$，遍历 $u$ 和 $v$，通过 $\text{dist}[u][k]$ 和 $\text{dist}[u][k]$ 对 $\text{dist}[u][v]$ 松弛。</p><p>时间复杂度 $\color{green}O(v^3)$，空间复杂度为 $\color{green}O(v^2)$。</p><h2 id="散列"><a href="#散列" class="headerlink" title="散列"></a>散列</h2><p>评判一个散列函数的四个维度</p><ol><li>确定：同一关键码总是被映射到同一地址</li><li>快速：计算时间复杂度为 $\color{green}O(1)$</li><li>满射：尽可能充分地覆盖整个散列空间</li><li>均匀：映射到各位置的概率尽量接近，避免聚集</li></ol><h3 id="散列函数"><a href="#散列函数" class="headerlink" title="散列函数"></a>散列函数</h3><ol><li>直接寻址法，直接取关键字的某个线性映射</li><li>MAD ( <strong>Multiply-Add-Divide</strong> ) 法，防止相邻关键码依然相邻</li></ol><script type="math/tex; mode=display">\text{Hash}(\text {key})=(\mathbf{a} \times \mathbf{k e y}+\mathbf{b}) \% \mathbf{M}</script><ol><li><p>数字分析法，例如手机后四位</p></li><li><p>平方取中法，例如 $f(1234)=\cancel{15}227\cancel{56}=227$</p></li><li><p>折叠法，取若干位数相同的部分求和</p></li><li><p>伪随机数法，$\text{Rand(A)}$</p></li></ol><h3 id="散列冲突解决方法"><a href="#散列冲突解决方法" class="headerlink" title="散列冲突解决方法"></a>散列冲突解决方法</h3><ol><li><p>多槽位法，预先几个槽</p></li><li><p>独立链法，链表</p></li><li><p>公共溢出法，冲突元素放置在单独一个地方</p></li><li><p>线性试探法，冲突之后顺次放置，第 $k$ 次试探地址 $\left(\text{hash}(\text{key})+\textcolor{green}{k}\right) \% M$，使用 <strong>lazyRemoval</strong> 防止删除之后断链</p></li><li><p>平方试探法，第 $k$ 次试探地址 $\left(\text{hash}(\text{key})+\textcolor{green}{k^2}\right)\% M$，能够更快地跳出聚集区</p></li><li><p>双向平方试探法，第 $k$ 次试探地址 $\left(\text{hash}(\text{key})+\textcolor{green}{(-1)^{k-1}\left\lceil\dfrac{k}{2}\right\rceil^2}\right) \% M$。</p></li></ol><p>性质1：若表长为素数 $p\equiv 3\pmod{4}$ ，使用双向平方试探法前 $\text{p}$ 次试探能遍历所有桶。</p><blockquote><p>Prof. 反证若两次试探 $k_1,k_2$ 同时属于偶数、奇数集合 $\{2,4,\cdots,p-1\},\{1,3,\cdots,p\}$中的某个，则 $k_1^2\equiv k_2^2\pmod{p},(k_1+k_2)(k_1-k_2)\equiv 0\pmod{p}$$\Longleftrightarrow p\mid k_1+k_2, k_1-k_2$，后者均不能满足（之和为偶数）。则必须属于不同集合，此时 $k_1^2+k_2^2\equiv 0\pmod{p}$，而二平方和问题只能为 $4k+1$ 型素数或者 $2$，这是因为 $2\nmid x\Longrightarrow x\equiv 1\pmod{4}$。则对任何情况均无解，不存在冲突，能够在 $p$ 次试探中遍历所有桶。</p><p>Note. 当 $M=2^s,s\in \mathbb{Z}$ ，第 $k$ 次试探地址为 $\left(\text{hash}(\text{key})+\dfrac{k(k+1)}{2}\right) \% M$ 时也能遍历所有桶。</p></blockquote><p><strong>线性探测失败和成功问题</strong>：成功查找次数等于线性探测加入 $\text{Hash}$ 值时移动次数加 $1$ 的累加。</p><p>性质2：在线性探测策略下，当插入节点的数量小于总数量时，对给定的节点序列，无论插入顺序如何，最后平均成功查找次数相同。</p><blockquote><p>Prof. </p></blockquote><p><strong>组合索引：</strong>多个指标时“拼接”在一起计算哈希值。</p><h2 id="串"><a href="#串" class="headerlink" title="串"></a>串</h2><h3 id="KMP-算法"><a href="#KMP-算法" class="headerlink" title="KMP 算法"></a>KMP 算法</h3><p>改进前：$\color{green}\text{Next}(P, j)=\{0 \leq t&lt;j \mid P[0, t)=P[j-t, j)\}$</p><p>改进后：$\color{green}\text{Next}(P, j)=\{0 \leq t&lt;j \mid P[0, t)=P[j-t, j)\wedge P(t) \neq P(j)\}$</p><p>算法复杂度为 $\color{green}O(m+n)$，在最坏情况下依然是该复杂度。</p><h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><p>直接插入排序需要挪位置。</p><p>性质1：共 $4$ 种不稳定排序，<strong>“快些选堆”</strong>（快速排序、希尔排序、选择排序、堆排序）</p><blockquote><p>Prof. 快速排序轴点的选择影响相同值元素的先后顺序；希尔排序由于间隔的存在，相同值元素可能在不同间隔序列中打乱；选择排序将 $\text{rank(i)}$ 的元素与第 $i$ 个元素交换，交换的元素可能与后面某元素相同，顺序打乱；堆排序在不同分支的维护堆操作顺序可能发生改变。</p></blockquote><h3 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h3><p>算法：关键码由多个字段组成，可按照优先级从低到高进行桶排序，<strong>低位字段优先</strong>策略</p><script type="math/tex; mode=display">\begin{array}{|c|c|c|c|c|c|c|c|}\hline \text { 输入序列 } & 441 & 276 & 320 & 214 & 698 & 280 & 112 \\\hline \text { 以个位排序 } & 32\textcolor{green}{0} & 28\textcolor{green}{0} & 44\textcolor{green}{1} & 11\textcolor{green}{2} & 21\textcolor{green}{4} & 27\textcolor{green}{6} & 69\textcolor{green}{8} \\\hline \text { 以十位排序 } & 1\textcolor{green}{1}2 & 2\textcolor{green}{1}4 & 3\textcolor{green}{2}0 & 4\textcolor{green}{4}1 & 2\textcolor{green}{7}6 & 2\textcolor{green}{8}0 & 6\textcolor{green}{9}8 \\\hline \text { 以百位排序 } & \textcolor{green}{1}12 & \textcolor{green}{2}14 & \textcolor{green}{2}76 & \textcolor{green}{2}80 & \textcolor{green}{3}20 & \textcolor{green}{4}41 & \textcolor{green}{6}98 \\\hline\end{array}</script><blockquote><p>Prof. 正确性由数学归纳法给出，假设 $i-1$ 趟后前 $i-1$ 次序的数字排好序，第 $i$ 趟如果第 $i$ 优先级不同，则按照该优先级排序，如果相同，前面工作保证排好序，则总能排好序。</p></blockquote><p><strong>复杂度</strong>： 各字段取值范围 $\left[0, M_i\right), i&lt;=t$，令 $M=\max \left(M_i\right)$</p><script type="math/tex; mode=display">O\left(n+M_1\right)+O\left(n+M_2\right)+\cdots+O\left(n+M_t\right)=O\left(t\cdot(n+M)\right)</script><blockquote><p> Note. 基数排序需要的操作次数为定值，桶排序可以看成是基数为 $1$ 的基数排序。</p></blockquote><h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><p>性质2：<strong>快速排序的平均时间复杂度为 $O(1.386\cdot n\log n)$</strong></p><script type="math/tex; mode=display">T(n)=(n-1)+\frac{1}{n} \cdot \sum_{k=0}^{n-1}[T(k)+T(n-k-1)]=(n-1)+\frac{2}{n} \cdot \sum_{k=0}^{n-1} T(k)</script><p>$\begin{cases} n \cdot T(n)-(n-1) \cdot T(n-1)=2 \cdot(n-1)+2 \times T(n-1) \\n \cdot T(n)-(n+1) \cdot T(n-1)=2 \cdot(n-1)<br>\end{cases}\Longrightarrow\dfrac{T(n)}{n+1}-\dfrac{T(n-1)}{n}=\dfrac{4}{n+1}-\dfrac{2}{n}$</p><p>解得 $T(n)=(n+1)\cdot\left(2 \displaystyle \cdot \sum_{k=1}^{n+1} \frac{1}{k}+\frac{2}{n+1}-4\right)\approx 2\ln 2\cdot n\log n$</p>]]></content>
    
    
    <categories>
      
      <category>计算机科学</category>
      
      <category>数据结构</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数据结构</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Last report for Lab of Physics</title>
    <link href="/2022/12/15/%E7%89%A9%E7%90%86/%E5%90%8C%E8%BD%B4%E5%85%89%E5%AD%90%E6%99%B6%E4%BD%93%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/"/>
    <url>/2022/12/15/%E7%89%A9%E7%90%86/%E5%90%8C%E8%BD%B4%E5%85%89%E5%AD%90%E6%99%B6%E4%BD%93%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</url>
    
    <content type="html"><![CDATA[<h1 id="同轴光子晶体实验报告"><a href="#同轴光子晶体实验报告" class="headerlink" title="同轴光子晶体实验报告"></a>同轴光子晶体实验报告</h1><center><div style='height:2mm;'></div><div style="font-family:华文楷体;font-size:14pt;"> learning_rate 未央软-11 2022.12.12 <div style='height:2mm;'>   </div></center><div><div style="width:54px;float:left; font-family:方正公文黑体;"><b>摘要: </b></div> <div style="overflow:hidden; font-family:华文楷体;">本实验使用信号发生器和示波器测试电路传输效率和相位，推导同轴电缆的特征阻抗、传播常数、衰减系数参数，理解相速度和群速度的概念。使用同一种特征阻抗的同轴电缆交替连接组成同轴光子晶体，测量并计算传输效率、等效折射率、群速度等物理量。在同轴晶体中引入缺陷后，观察透射峰并同时测试特性。使用 MATLAB 编程计算上述物理量的理论值。实验结果与理论吻合度较好。<div style='height:4mm;'> </div></div><div><div style="width:64px;float:left; font-family:方正公文黑体;"><b>关键词: </b></div> <div style="overflow:hidden;line-height:16pt">同轴光子晶体; 能带理论; 色散关系; 衰减关系; "超光速"现象 </div>  </div><br></div><center><div style='height:2mm;'></div><div style="font-family:黑体;font-size:14pt;"> 目录  <div style='height:2mm;'>   </div></center><h2 id="实验仪器"><a href="#实验仪器" class="headerlink" title="实验仪器"></a>实验仪器</h2><p>信号发生器、示波器、测试电缆（约 $1\text{m}$ 长）、同轴电缆（约 $5\text{m}$ 长）、三通接头、$50\Omega$ 电阻。</p><h2 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h2><h3 id="同轴电缆电学参数"><a href="#同轴电缆电学参数" class="headerlink" title="同轴电缆电学参数"></a>同轴电缆电学参数</h3><p>对于两种特征阻抗的同轴电览交替连接构成的同轴光子晶体，当两种电缆的特征阻抗之比 $Z_{0 H} / Z_{0 L}$ 越大、连接的电缆的数量越多，电磁带隙特性以及快慢光效应越明显。</p><p>常用同轴电缆的特征阻抗为 $75 \Omega$ 和 $50 \Omega$ 。使用这两种电缆的话阻抗比偏小，且两种电缆内外导体间介质的介电常数 $\varepsilon_r$ 通不同，对应的半波长以及电缆长度也不同。</p><p>本实验<strong>只使用一种特征阻抗的同轴电缆</strong>。通过并联两根电缆的方法获得另一特征阻抗以及更高的阻抗比。</p><p><img src="/img/同轴光子晶体实验报告/image-20221208210228754.png" alt="image-20221208210228754" style="zoom: 50%;" /></p><center><figcaption><b>图1</b> 单根同轴电缆的等效电路模型</figcaption></center><p>同轴电缆的等效电路如图 $5$ 所示，其中 $R,L,G$ 分别为单位长度同轴电缆的电阻、电感、电容，且结合电磁学知识可知</p><script type="math/tex; mode=display">\begin{equation}\begin{cases}C & =\dfrac{2 \pi \varepsilon_0 \varepsilon_r}{\ln (b / a)} \\L & =\dfrac{\mu_0 \mu_r}{2 \pi} \ln \dfrac{b}{a}\end{cases}\end{equation}</script><p>其中 $a,b$ 为同轴电缆的内外径，$\epsilon_r,\mu_r$ 分别为同轴电缆内外的相对介电常数以及相对磁导率，沿同轴电缆方向共有两个方向叠加，对应通解为</p><script type="math/tex; mode=display">\begin{equation}\begin{aligned}& v=v^{+}(x)+v^{-}(x)=V_0^{+} e^{-\gamma x}+V_0^{-} e^{\gamma x} \\& i=i^{+}(x)+i^{-}(x)=\frac{1}{Z_0}\left(V_0^{+} e^{-\gamma x}-V_0^{-} e^{\gamma x}\right)\end{aligned}\end{equation}</script><p>对应电压波，其中 $\gamma=\alpha+j\beta$ 为电缆的传播常数， 其表达式如下</p><script type="math/tex; mode=display">\begin{equation}\alpha+j \beta=\sqrt{(R+j \omega L)\left(G+j \omega C\right)}\end{equation}</script><p>且定义<strong>特征阻抗</strong></p><script type="math/tex; mode=display">\begin{equation}Z_0=\sqrt{\dfrac{R+j \omega L}{G+j \omega C}}\end{equation}</script><p>本实验中，电缆的损耗很小，有 $R\ll\omega L,G\ll\omega C$，做近似有</p><script type="math/tex; mode=display">\begin{equation}\left\{\begin{array}{l}Z_0=\sqrt{\dfrac{L}{C}}=\dfrac{\ln (b / a)}{2 \pi} \sqrt{\dfrac{\mu_0 \mu_r}{\epsilon_0 \epsilon_r}} \\\beta=\omega \sqrt{L C}=\omega \sqrt{\epsilon_0 \mu_0 \epsilon_r \mu_r}\end{array}\right.\end{equation}</script><h3 id="透射与反射"><a href="#透射与反射" class="headerlink" title="透射与反射"></a>透射与反射</h3><p>对于半无限长的同轴电缆，信号从同轴电缆始端输入后，只有沿 $+$ 方向传输的行波。实际同轴电缆都是有限长的，此时需考虑同轴电缆末端对信号的影响。</p><p>两根特征阻抗分别为 $Z_0$ 和 $Z_1$ 的同轴电缆连接在一起，两根同轴电缆之间的连接线很短，远小于信号波长和传输线长度。输入信号通过阻抗为 $Z_0$ 的同轴电缆到达连接处的电压为 $V_i$，透射信号在连接处的电压为 $V_t$ ，反射信号在连接处的电压为 $V_r$ ，满足如下方程</p><script type="math/tex; mode=display">\begin{equation}\left\{\begin{array}{l}V_i+V_r=V_t \\V_i / Z_0=V_r / Z_0+V_t / Z_1\end{array}\right.\end{equation}</script><h3 id="测量同轴光子晶体特性"><a href="#测量同轴光子晶体特性" class="headerlink" title="测量同轴光子晶体特性"></a>测量同轴光子晶体特性</h3><p>由群速度公式</p><script type="math/tex; mode=display">\begin{equation}v_g=\dfrac{c} {n+\omega \dfrac{d n}{d \omega}}\end{equation}</script><p>可测得某一频率下示波器 $\mathrm{Ch} 2$ 相对于 $\mathrm{Ch} 1$ 的相位差 $\varphi$，投输入待测电路的信号为 $\cos \omega t$，初始相位为 0。输出信号为 $\cos (\omega t+\varphi)$，相位变化为 $\varphi$</p><script type="math/tex; mode=display">\begin{equation}\cos (\omega t+\varphi)=\cos \omega\left(t-t_p\right) \Rightarrow \varphi=-\omega t_p\end{equation}</script><p>将同轴光子晶体效为一根折射率为 $n$ 的均匀同轴电线，则延时 $t_p$ 与等效折射率 $n$ 的关系为</p><script type="math/tex; mode=display">\begin{equation}t_p=\dfrac{Ln}{c}\end{equation}</script><p>公式 (10)(11) 联立计算得到</p><script type="math/tex; mode=display">\begin{equation}n=-\frac{\varphi c}{\omega L}=-\frac{\varphi c}{2 \pi f L}\end{equation}</script><h2 id="电学参数理论计算-mathbf-A-部分"><a href="#电学参数理论计算-mathbf-A-部分" class="headerlink" title="电学参数理论计算$(\,\mathbf{A}\,$部分$)$"></a>电学参数理论计算$(\,\mathbf{A}\,$部分$)$</h2><h3 id="衰减系数和幅度"><a href="#衰减系数和幅度" class="headerlink" title="衰减系数和幅度"></a>衰减系数和幅度</h3><p>由电压幅度值<strong>每米减少</strong> $\mathbf{0.571\%}\ll1$，从而由衰减幅度公式</p><script type="math/tex; mode=display">\begin{equation}V(x)=V_0 e^{-\alpha x}\end{equation}</script><p>取近似 $V_0e^{-\alpha x}\approx V_0(1-\alpha x)$，故 $\alpha \approx 0.00571$，或者严格计算有</p><script type="math/tex; mode=display">\alpha =-\ln (1-0.571\%)=\textcolor{blue}{0.0057264}\color{blue}\text{m}^{-1}</script><p>代入公式 (1) 计算 $10\text{m},20\text{m},30\text{m}$ 处的幅度列表如下（保留三位小数）</p><div class="table-container"><table><thead><tr><th>距离/m</th><th>0</th><th>10</th><th>20</th><th>30</th></tr></thead><tbody><tr><td>幅度/V</td><td>1.000</td><td>0.944</td><td>0.892</td><td>0.842</td></tr></tbody></table></div><center><figcaption><b>表1</b> 信号幅度随距离的变化</figcaption></center><h3 id="电缆并联"><a href="#电缆并联" class="headerlink" title="电缆并联"></a>电缆并联</h3><p>由图 1 可知，记每一小段 $\Delta x$  对应的复阻抗为 $\Delta Z$，总复阻抗为 $N\Delta Z$，则始末并联和每一小段处并联是等效的</p><script type="math/tex; mode=display">\sum_{i}\dfrac{\Delta Z\cdot \Delta Z}{\Delta Z+\Delta Z}=\dfrac{1}{2}\sum_{i}\Delta Z=\dfrac{\displaystyle \sum_{i}\Delta Z\cdot \displaystyle \sum_{i}\Delta Z}{\displaystyle \sum_{i}\Delta Z+\displaystyle \sum_{i}\Delta Z}</script><p>由并联性质</p><script type="math/tex; mode=display">R^{\prime}=\textcolor{blue}{\dfrac{R}{2}},L^{\prime}=\textcolor{blue}{\dfrac{L}{2}},G^{\prime}=\textcolor{blue}{2G},C^{\prime}=\textcolor{blue}{2C}</script><p>代入公式 (5)(6) 得</p><script type="math/tex; mode=display">\begin{equation}Z_0^{\prime}=\textcolor{blue}{\frac{1}{2} Z_0}, \alpha^{\prime}=\textcolor{blue}{\alpha}, \beta^{\prime}=\textcolor{blue}{\beta}\end{equation}</script><p>一种更简便的想法是电压相同时，电流变成原来的两倍，从而<strong>复阻抗折半</strong>，而每个电缆上的电流衰减幅度以及相位变化与原来相同，总比例也不变，从而传播系数不变。</p><h3 id="高低阻抗交替连接"><a href="#高低阻抗交替连接" class="headerlink" title="高低阻抗交替连接"></a>高低阻抗交替连接</h3><p>由上问可知，高特征阻抗使用单根电缆，低特征阻抗使用并联电缆，且有</p><script type="math/tex; mode=display">\begin{equation}\frac{Z_{0 H}}{Z_{0 L}}=\textcolor{blue}{2}\end{equation}</script><p>可以通过<strong>多次并联</strong>的方法得到更高的阻抗比。</p><h3 id="频率计算"><a href="#频率计算" class="headerlink" title="频率计算"></a>频率计算</h3><p>由电磁波公式</p><script type="math/tex; mode=display">\begin{equation}f=\frac{v}{\lambda}=\frac{c}{\sqrt{\epsilon_r \mu_r} \lambda}\end{equation}</script><p>代入计算得</p><script type="math/tex; mode=display">f_0=\frac{c}{\sqrt{\epsilon_r \mu_r} \lambda} \approx \frac{299792458 \mathrm{~m} / s}{\sqrt{2.354} \cdot 10 \mathrm{~m}}=\textcolor{blue}{19.540 \mathrm{~}\mathrm{MHz}},\dfrac{1}{2}f_0=\textcolor{blue}{9.770 \mathrm{~}\mathrm{MHz}}</script><h2 id="间接测量色散关系-mathbf-B-部分"><a href="#间接测量色散关系-mathbf-B-部分" class="headerlink" title="间接测量色散关系$(\,\mathbf{B}\,$部分$)$"></a>间接测量色散关系$(\,\mathbf{B}\,$部分$)$</h2><h3 id="正常光子晶体"><a href="#正常光子晶体" class="headerlink" title="正常光子晶体"></a>正常光子晶体</h3><h4 id="测量数据"><a href="#测量数据" class="headerlink" title="测量数据"></a>测量数据</h4><p>以 $1 \mathrm{MHz}$ 为间隔，在 $1 \mathrm{MHz}$ 至 $20 \mathrm{MHz}$ 范围内改变频率，观察示波器 $\mathrm{Ch} 1$ 和 $\mathrm{Ch} 2$ 的峰峰值及其变化情况，测试电路图如下</p><p><img src="/img/同轴光子晶体实验报告/image-20221210120748918.png" alt="image-20221210120748918" style="zoom: 33%;" /></p><center><figcaption><b>图2</b> 同轴光子晶体测试电路</figcaption></center><p>测量数据整理如下</p><div class="table-container"><table><thead><tr><th>f (MHz)</th><th>V1pp (V)</th><th>V2pp (V)</th><th>φ (°)</th></tr></thead><tbody><tr><td>1</td><td>10.250</td><td>9.220</td><td>-72.10</td></tr><tr><td>2</td><td>10.260</td><td>9.380</td><td>-139.80</td></tr><tr><td>3</td><td>10.270</td><td>8.750</td><td>147.70</td></tr><tr><td>4</td><td>10.280</td><td>8.730</td><td>80.80</td></tr><tr><td>5</td><td>10.270</td><td>8.250</td><td>2.70</td></tr><tr><td>6</td><td>10.320</td><td>7.590</td><td>-66.40</td></tr><tr><td>7</td><td>10.480</td><td>5.890</td><td>-166.90</td></tr><tr><td>8</td><td>10.510</td><td>2.320</td><td>138.10</td></tr><tr><td>9</td><td>10.570</td><td>1.450</td><td>112.60</td></tr><tr><td>10</td><td>10.640</td><td>1.360</td><td>92.10</td></tr><tr><td>11</td><td>10.750</td><td>1.850</td><td>68.20</td></tr><tr><td>12</td><td>10.860</td><td>4.160</td><td>27.00</td></tr><tr><td>13</td><td>10.980</td><td>8.000</td><td>-63.80</td></tr><tr><td>14</td><td>11.110</td><td>8.160</td><td>-145.60</td></tr><tr><td>15</td><td>11.280</td><td>8.770</td><td>140.40</td></tr><tr><td>16</td><td>11.450</td><td>8.700</td><td>71.10</td></tr><tr><td>17</td><td>11.630</td><td>9.190</td><td>2.40</td></tr><tr><td>18</td><td>11.810</td><td>8.670</td><td>-67.30</td></tr><tr><td>19</td><td>12.060</td><td>9.340</td><td>-131.90</td></tr><tr><td>20</td><td>12.310</td><td>9.030</td><td>155.50</td></tr></tbody></table></div><center><figcaption><b>表2</b> 正常光子晶体Ch1 和 Ch2 峰峰值和相位差随频率变化</figcaption></center><h4 id="传输效率和等效折射率"><a href="#传输效率和等效折射率" class="headerlink" title="传输效率和等效折射率"></a>传输效率和等效折射率</h4><p>同轴晶体未接入、阻抗匹配状态下 $50\Omega$ 电阻上消耗的功率为 $𝑃_1$，接入同轴光子晶体、阻抗匹配状态下 $50\Omega$ 电阻上消耗的有功功率为 $P_2$，故计算公式如下</p><script type="math/tex; mode=display">\begin{equation}P_i=\frac{V_i^2}{R_0} \quad i=1,2\end{equation}</script><p>则传输效率</p><script type="math/tex; mode=display">\begin{equation}\eta=\frac{P_2}{P_1}=\left(\frac{V_2}{V_1}\right)^2\end{equation}</script><p>代入公式 (18)(12) 计算效率以及折射率，其中相位差相对小频率来说需要减去 $360^{\circ}$ 的整数倍，保证相位差是单调递减的，计算以及列表如下</p><div class="table-container"><table><thead><tr><th style="text-align:center">f (MHz)</th><th style="text-align:center">φ’ (°)</th><th style="text-align:center">η</th><th style="text-align:center">n</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">-72.10</td><td style="text-align:center">80.91%</td><td style="text-align:center">1.71548</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">-139.80</td><td style="text-align:center">83.58%</td><td style="text-align:center">1.66313</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">-212.30</td><td style="text-align:center">72.59%</td><td style="text-align:center">1.68375</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">-279.20</td><td style="text-align:center">72.12%</td><td style="text-align:center">1.66076</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">-357.30</td><td style="text-align:center">64.53%</td><td style="text-align:center">1.70025</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">-426.40</td><td style="text-align:center">54.09%</td><td style="text-align:center">1.69089</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">-526.90</td><td style="text-align:center">31.59%</td><td style="text-align:center">1.79094</td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">-581.90</td><td style="text-align:center">4.87%</td><td style="text-align:center">1.73065</td></tr><tr><td style="text-align:center">9</td><td style="text-align:center">-607.40</td><td style="text-align:center">1.88%</td><td style="text-align:center">1.60577</td></tr><tr><td style="text-align:center">10</td><td style="text-align:center">-627.90</td><td style="text-align:center">1.63%</td><td style="text-align:center">1.49397</td></tr><tr><td style="text-align:center">11</td><td style="text-align:center">-651.80</td><td style="text-align:center">2.96%</td><td style="text-align:center">1.40985</td></tr><tr><td style="text-align:center">12</td><td style="text-align:center">-693.00</td><td style="text-align:center">14.67%</td><td style="text-align:center">1.37405</td></tr><tr><td style="text-align:center">13</td><td style="text-align:center">-783.80</td><td style="text-align:center">53.09%</td><td style="text-align:center">1.43454</td></tr><tr><td style="text-align:center">14</td><td style="text-align:center">-865.60</td><td style="text-align:center">53.95%</td><td style="text-align:center">1.47109</td></tr><tr><td style="text-align:center">15</td><td style="text-align:center">-939.60</td><td style="text-align:center">60.45%</td><td style="text-align:center">1.49040</td></tr><tr><td style="text-align:center">16</td><td style="text-align:center">-1008.90</td><td style="text-align:center">57.73%</td><td style="text-align:center">1.50030</td></tr><tr><td style="text-align:center">17</td><td style="text-align:center">-1077.60</td><td style="text-align:center">62.44%</td><td style="text-align:center">1.50820</td></tr><tr><td style="text-align:center">18</td><td style="text-align:center">-1147.30</td><td style="text-align:center">53.89%</td><td style="text-align:center">1.51654</td></tr><tr><td style="text-align:center">19</td><td style="text-align:center">-1211.90</td><td style="text-align:center">59.98%</td><td style="text-align:center">1.51762</td></tr><tr><td style="text-align:center">20</td><td style="text-align:center">-1284.50</td><td style="text-align:center">53.81%</td><td style="text-align:center">1.52811</td></tr></tbody></table></div><center><figcaption><b>表3</b> 正常光子晶体传输效率与等效折射率计算表格</figcaption></center><p>其效率和频率关系如下</p><p><img src="/img/同轴光子晶体实验报告/eta-f.svg" alt="eta-f" style="zoom:67%;" /></p><center><figcaption><b>图3</b> 正常光子晶体传输效率与频率关系曲线</figcaption></center><p>等效折射率与频率的变化如下</p><p><img src="/img/同轴光子晶体实验报告/n-f.svg" alt="n-f" style="zoom:67%;" /></p><center><figcaption><b>图4</b> 正常光子晶体等效折射率与频率关系曲线</figcaption></center><p>由图表可得 $f=\textcolor{blue}{1,2,3,4,5,13,14,15,16,17,18,19,20 \mathrm{MHz}}$ 为通带, $f=\textcolor{blue}{8,9,10,11 \mathrm{MHz}}$ 为带隙，在 $f=\textcolor{blue}{7,8,9,10,11 M H Z}$ 出现反常色散。</p><h4 id="群速度"><a href="#群速度" class="headerlink" title="群速度"></a>群速度</h4><p>代入公式 (9) ，其中离散化处理 $\dfrac{dn}{d\omega}\approx\dfrac{n_{k+1}-n_k}{\omega_{k+1}-\omega_{k}},k=1,\cdots,19$，列表如下（取 $\dfrac{v_g}{c}$ 为纵坐标）</p><div class="table-container"><table><thead><tr><th>f (MHz)</th><th>ωdn/dω</th><th>vg/c</th></tr></thead><tbody><tr><td>1</td><td>-0.05234</td><td>0.60127</td></tr><tr><td>2</td><td>0.04124</td><td>0.58673</td></tr><tr><td>3</td><td>-0.06900</td><td>0.61929</td></tr><tr><td>4</td><td>0.15799</td><td>0.54983</td></tr><tr><td>5</td><td>-0.04679</td><td>0.60479</td></tr><tr><td>6</td><td>0.60026</td><td>0.43646</td></tr><tr><td>7</td><td>-0.42203</td><td>0.73051</td></tr><tr><td>8</td><td>-0.99904</td><td>1.36686</td></tr><tr><td>9</td><td>-1.00621</td><td>1.66789</td></tr><tr><td>10</td><td>-0.84119</td><td>1.53193</td></tr><tr><td>11</td><td>-0.39378</td><td>0.98418</td></tr><tr><td>12</td><td>0.72587</td><td>0.47621</td></tr><tr><td>13</td><td>0.47518</td><td>0.52364</td></tr><tr><td>14</td><td>0.27029</td><td>0.57426</td></tr><tr><td>15</td><td>0.14856</td><td>0.61015</td></tr><tr><td>16</td><td>0.12638</td><td>0.61475</td></tr><tr><td>17</td><td>0.14183</td><td>0.60605</td></tr><tr><td>18</td><td>0.01941</td><td>0.65106</td></tr><tr><td>19</td><td>0.19927</td><td>0.58245</td></tr><tr><td>20</td><td>N/A</td><td>N/A</td></tr></tbody></table></div><center><figcaption><b>表4</b> 正常光子晶体群速度计算表格</figcaption></center><p>将群速度和频率作图如下</p><p><img src="/img/同轴光子晶体实验报告/vg_c-f.svg" alt="vg:c-f" style="zoom:67%;" /></p><center><figcaption><b>图5</b> 正常光子晶体群速度与频率关系曲线</figcaption></center><p>可以在处于反常色散频率时群速度可能超光速（对应 $f=8 ,9 ,10\text{MHz}$）。</p><h3 id="缺陷光子晶体"><a href="#缺陷光子晶体" class="headerlink" title="缺陷光子晶体"></a>缺陷光子晶体</h3><h4 id="测量数据-1"><a href="#测量数据-1" class="headerlink" title="测量数据"></a>测量数据</h4><p>在同轴光子晶体中增加一根同轴电缆，形成有缺陷的同轴电缆，按照 <strong>4.1</strong>  节内容测量数据结果如下</p><div class="table-container"><table><thead><tr><th>f (MHz)</th><th>V1pp (V)</th><th>V2pp (V)</th><th>φ (°)</th></tr></thead><tbody><tr><td>1</td><td>10.250</td><td>9.280</td><td>-81.60</td></tr><tr><td>2</td><td>10.260</td><td>9.210</td><td>-163.30</td></tr><tr><td>3</td><td>10.270</td><td>7.860</td><td>119.80</td></tr><tr><td>4</td><td>10.280</td><td>8.570</td><td>44.90</td></tr><tr><td>5</td><td>10.260</td><td>8.540</td><td>-45.00</td></tr><tr><td>6</td><td>10.310</td><td>6.110</td><td>-148.40</td></tr><tr><td>7</td><td>10.380</td><td>2.660</td><td>150.00</td></tr><tr><td>8</td><td>10.430</td><td>1.980</td><td>118.80</td></tr><tr><td>9</td><td>10.490</td><td>2.950</td><td>84.30</td></tr><tr><td>10</td><td>10.560</td><td>4.990</td><td>-34.40</td></tr><tr><td>11</td><td>10.670</td><td>2.340</td><td>-90.10</td></tr><tr><td>12</td><td>10.790</td><td>2.340</td><td>-122.70</td></tr><tr><td>13</td><td>10.910</td><td>4.550</td><td>-172.50</td></tr><tr><td>14</td><td>11.030</td><td>7.790</td><td>96.50</td></tr><tr><td>15</td><td>11.190</td><td>8.470</td><td>4.30</td></tr><tr><td>16</td><td>11.370</td><td>7.760</td><td>-76.20</td></tr><tr><td>17</td><td>11.530</td><td>8.570</td><td>-151.80</td></tr><tr><td>18</td><td>11.720</td><td>8.490</td><td>126.90</td></tr><tr><td>19</td><td>11.960</td><td>8.930</td><td>51.80</td></tr><tr><td>20</td><td>12.220</td><td>8.670</td><td>-27.30</td></tr></tbody></table></div><center><figcaption><b>表5</b> 缺陷光子晶体Ch1 和 Ch2 峰峰值和相位差随频率变化</figcaption></center><h4 id="传输效率和等效折射率-1"><a href="#传输效率和等效折射率-1" class="headerlink" title="传输效率和等效折射率"></a>传输效率和等效折射率</h4><p>同理代入公式 (16)(12) 列表如下</p><div class="table-container"><table><thead><tr><th>f (MHz)</th><th>φ’ (°)</th><th>η</th><th>n</th></tr></thead><tbody><tr><td>1</td><td>-81.60</td><td>81.97%</td><td>1.94151</td></tr><tr><td>2</td><td>-163.30</td><td>80.58%</td><td>1.94270</td></tr><tr><td>3</td><td>-240.20</td><td>58.57%</td><td>1.90503</td></tr><tr><td>4</td><td>-315.10</td><td>69.50%</td><td>1.87430</td></tr><tr><td>5</td><td>-405.00</td><td>69.28%</td><td>1.92724</td></tr><tr><td>6</td><td>-508.40</td><td>35.12%</td><td>2.01606</td></tr><tr><td>7</td><td>-570.00</td><td>6.57%</td><td>1.93743</td></tr><tr><td>8</td><td>-601.20</td><td>3.60%</td><td>1.78805</td></tr><tr><td>9</td><td>-635.70</td><td>7.91%</td><td>1.68058</td></tr><tr><td>10</td><td>-754.40</td><td>22.33%</td><td>1.79495</td></tr><tr><td>11</td><td>-810.10</td><td>4.81%</td><td>1.75225</td></tr><tr><td>12</td><td>-842.70</td><td>4.70%</td><td>1.67087</td></tr><tr><td>13</td><td>-892.50</td><td>17.39%</td><td>1.63348</td></tr><tr><td>14</td><td>-983.50</td><td>49.88%</td><td>1.67146</td></tr><tr><td>15</td><td>-1075.70</td><td>57.29%</td><td>1.70628</td></tr><tr><td>16</td><td>-1156.20</td><td>46.58%</td><td>1.71935</td></tr><tr><td>17</td><td>-1231.80</td><td>55.25%</td><td>1.72402</td></tr><tr><td>18</td><td>-1313.10</td><td>52.48%</td><td>1.73570</td></tr><tr><td>19</td><td>-1388.20</td><td>55.75%</td><td>1.73840</td></tr><tr><td>20</td><td>-1467.30</td><td>50.34%</td><td>1.74558</td></tr></tbody></table></div><center><figcaption><b>表6</b> 缺陷光子晶体传输效率与等效折射率计算表格</figcaption></center><p>其效率和频率关系如下，其中透射峰使用 $\textcolor{red}{\swarrow}$ 标出，两侧由于多项式拟合的边界效应其峰可以排除</p><p><img src="/img/同轴光子晶体实验报告/eta-f-2.svg" alt="eta-f-2" style="zoom:67%;" /></p><center><figcaption><b>图6</b> 缺陷光子晶体传输效率与频率关系曲线</figcaption></center><p><img src="/img/同轴光子晶体实验报告/n-f-2.svg" alt="n-f-2" style="zoom:67%;" /></p><center><figcaption><b>图7</b> 缺陷光子晶体等效折射率与频率关系曲线</figcaption></center><p>计算<strong>表 6</strong>和<strong>表 3</strong>计算的传输效率之比，列表如下</p><div class="table-container"><table><thead><tr><th>f (MHz)</th><th>η1</th><th>η2</th><th>η2/η1</th></tr></thead><tbody><tr><td>1</td><td>80.91%</td><td>81.97%</td><td>1.013</td></tr><tr><td>2</td><td>83.58%</td><td>80.58%</td><td>0.964</td></tr><tr><td>3</td><td>72.59%</td><td>58.57%</td><td>0.807</td></tr><tr><td>4</td><td>72.12%</td><td>69.50%</td><td>0.964</td></tr><tr><td>5</td><td>64.53%</td><td>69.28%</td><td>1.074</td></tr><tr><td>6</td><td>54.09%</td><td>35.12%</td><td>0.649</td></tr><tr><td>7</td><td>31.59%</td><td>6.57%</td><td>0.208</td></tr><tr><td>8</td><td>4.87%</td><td>3.60%</td><td>0.740</td></tr><tr><td>9</td><td>1.88%</td><td>7.91%</td><td>4.202</td></tr><tr><td>10</td><td>1.63%</td><td>22.33%</td><td>13.667</td></tr><tr><td>11</td><td>2.96%</td><td>4.81%</td><td>1.624</td></tr><tr><td>12</td><td>14.67%</td><td>4.70%</td><td>0.321</td></tr><tr><td>13</td><td>53.09%</td><td>17.39%</td><td>0.328</td></tr><tr><td>14</td><td>53.95%</td><td>49.88%</td><td>0.925</td></tr><tr><td>15</td><td>60.45%</td><td>57.29%</td><td>0.948</td></tr><tr><td>16</td><td>57.73%</td><td>46.58%</td><td>0.807</td></tr><tr><td>17</td><td>62.44%</td><td>55.25%</td><td>0.885</td></tr><tr><td>18</td><td>53.89%</td><td>52.48%</td><td>0.974</td></tr><tr><td>19</td><td>59.98%</td><td>55.75%</td><td>0.929</td></tr><tr><td>20</td><td>53.81%</td><td>50.34%</td><td>0.935</td></tr></tbody></table></div><center><figcaption><b>表7</b> 缺陷光子晶体传输效率与正常光子晶体传输效率之比</figcaption></center><p>将两者的传输效率之比绘图如下</p><p><img src="/img/同轴光子晶体实验报告/eta2_eta1-f.svg" alt="eta2:eta1-f" style="zoom:67%;" /></p><center><figcaption><b>图8</b> 两种光子晶体传输效率之比随频率的变化曲线</figcaption></center><p>可以看出在 $f=9,10,11\text{MHz}$ 处的效率提升非常显著，其余基本在 $1$ 附近波动。</p><h4 id="群速度-1"><a href="#群速度-1" class="headerlink" title="群速度"></a>群速度</h4><p>同理离散化代入公式 (9) 计算群速度，列表如下</p><div class="table-container"><table><thead><tr><th>f (MHz)</th><th>ωdn/dω</th><th>vg/c</th></tr></thead><tbody><tr><td>1</td><td>0.00119</td><td>0.51475</td></tr><tr><td>2</td><td>-0.07534</td><td>0.53552</td></tr><tr><td>3</td><td>-0.09220</td><td>0.55162</td></tr><tr><td>4</td><td>0.21176</td><td>0.47937</td></tr><tr><td>5</td><td>0.44414</td><td>0.42170</td></tr><tr><td>6</td><td>-0.47178</td><td>0.64755</td></tr><tr><td>7</td><td>-1.04570</td><td>1.12142</td></tr><tr><td>8</td><td>-0.85972</td><td>1.07721</td></tr><tr><td>9</td><td>1.02929</td><td>0.36902</td></tr><tr><td>10</td><td>-0.42698</td><td>0.73101</td></tr><tr><td>11</td><td>-0.89521</td><td>1.16681</td></tr><tr><td>12</td><td>-0.44859</td><td>0.81815</td></tr><tr><td>13</td><td>0.49371</td><td>0.47010</td></tr><tr><td>14</td><td>0.48744</td><td>0.46320</td></tr><tr><td>15</td><td>0.19600</td><td>0.52569</td></tr><tr><td>16</td><td>0.07474</td><td>0.55739</td></tr><tr><td>17</td><td>0.19867</td><td>0.52011</td></tr><tr><td>18</td><td>0.04846</td><td>0.56049</td></tr><tr><td>19</td><td>0.13645</td><td>0.53338</td></tr><tr><td>20</td><td>N/A</td><td>N/A</td></tr></tbody></table></div><center><figcaption><b>表8</b> 缺陷光子晶体群速度计算表格</figcaption></center><p>其群速度和频率的曲线绘制如下</p><p><img src="/img/同轴光子晶体实验报告/vg_c-f-2.svg" alt="vg:c-f-2" style="zoom:67%;" /></p><center><figcaption><b>图9</b> 正常光子晶体和缺陷光子晶体群速度对比曲线</figcaption></center><p>由图像可知，在 $f=9\text{MHz}$ 处出现强正常色散，该处的 $v_g$ 显著小于 $c$，为慢光速现象。</p><h2 id="色散关系直接测量-mathbf-C-部分"><a href="#色散关系直接测量-mathbf-C-部分" class="headerlink" title="色散关系直接测量$(\,\mathbf{C}\,$部分$)$"></a>色散关系直接测量$(\,\mathbf{C}\,$部分$)$</h2><h3 id="特征频率"><a href="#特征频率" class="headerlink" title="特征频率"></a>特征频率</h3><p>在 50 kHz 至 150 kHz 范围内改变信号发生器频率，观察脉冲信号的波形、幅度和延时变化情况。从上到下分别为 $114、130、160 \text{ kHz}$ 时的波形，前两者为幅度最小的两个频率，后者为频率之间信号幅度最大且延时最长的频率。</p><p><img src="/img/同轴光子晶体实验报告/image-20221210211706993.png" alt="image-20221210211706993" style="zoom: 40%;" /></p><center><figcaption><b>图10</b> 频率为 114kHz 脉冲信号波形</figcaption></center><p><img src="/img/同轴光子晶体实验报告/image-20221210212548917.png" alt="image-20221210212548917" style="zoom:40%;" /></p><center><figcaption><b>图11</b> 频率为 130kHz 脉冲信号波形</figcaption></center><p><img src="/img/同轴光子晶体实验报告/image-20221210212612934.png" alt="image-20221210212612934" style="zoom:40%;" /></p><center><figcaption><b>图12</b> 频率为 160kHz 脉冲信号波形</figcaption></center><h3 id="群速度计算"><a href="#群速度计算" class="headerlink" title="群速度计算"></a>群速度计算</h3><p>对图片截图计算中心波腹的延迟像素与示波器背景单位格点像素比例，例如对第一张图两者像素为 333 和 543，故其延迟时间为</p><script type="math/tex; mode=display">t_1=\frac{333 \mathrm{~pix}}{543 \mathrm{~pix}} \cdot 500 \mathrm{~ns}=306.6\text{~ns}</script><p>同理对三幅图片处理列表如下，其中由于设置 $100T$ 脉冲波形，高频正弦波信号的频率为原始频率的 $100$ 倍，使用 $\text{MHz}$ 单位方便统一</p><div class="table-container"><table><thead><tr><th>f (MHz)</th><th>基准像素</th><th>波腹像素</th><th>Δt/ns</th></tr></thead><tbody><tr><td>11.4</td><td>543</td><td>333</td><td>306.6</td></tr><tr><td>13.0</td><td>493</td><td>99</td><td>100.4</td></tr><tr><td>16.0</td><td>498</td><td>164</td><td>164.7</td></tr></tbody></table></div><center><figcaption><b>表9</b> 像素法延时长度计算</figcaption></center><p>由群速度代表波包的运动，$v_{g}=\dfrac{l}{\Delta t}$，计算 $\dfrac{v_g}{c}=\dfrac{l}{c\Delta t}$ 列表如下</p><div class="table-container"><table><thead><tr><th>f (MHz)</th><th>vg/c</th></tr></thead><tbody><tr><td>11.4</td><td>0.3807</td></tr><tr><td>13.0</td><td>1.1628</td></tr><tr><td>16.0</td><td>0.7090</td></tr></tbody></table></div><center><figcaption><b>表10</b> 群速度直接测量结果</figcaption></center><p>将该结果标注在<strong>图5</strong>中如下，其中 $\textcolor{red}{\bullet}$ 代表测量点</p><p><img src="/img/同轴光子晶体实验报告/vg_c-f-2-scatter.svg" alt="vg:c-f-2-scatter" style="zoom:67%;" /></p><center><figcaption><b>图13</b> 利用脉冲直接测量和间接测量群速度比对</figcaption></center><p>可以发现，除中间点外，测量结果基本符合预期。</p><h2 id="传输特性理论计算-mathbf-D-1-D-4-部分"><a href="#传输特性理论计算-mathbf-D-1-D-4-部分" class="headerlink" title="传输特性理论计算$(\,\mathbf{D.1-D.4}\,$部分$)$"></a>传输特性理论计算$(\,\mathbf{D.1-D.4}\,$部分$)$</h2><h3 id="叠加电压求解"><a href="#叠加电压求解" class="headerlink" title="叠加电压求解"></a>叠加电压求解</h3><p>由公式 (6) 的两个方程反解得</p><script type="math/tex; mode=display">\begin{equation}\begin{cases}V_0^{+} =\dfrac{1}{2}\left(v_2+Z_0 i_2\right) e^{\gamma l} \\V_0^{-} =\dfrac{1}{2}\left(v_2-Z_0 i_2\right) e^{-\gamma l}\end{cases}\end{equation}</script><h3 id="传递矩阵计算"><a href="#传递矩阵计算" class="headerlink" title="传递矩阵计算"></a>传递矩阵计算</h3><p>取 $x=0$ 的点对应 $v_1,i_1$</p><script type="math/tex; mode=display">\begin{equation}\begin{cases}v_1=v^{+}(0)+v^{-}(0)=V_0^{+}+V_0^{-} \\i_1=i^{+}(0)+i^{-}(0)=\dfrac{1}{Z_0}\left(V_0^{+}-V_0^{-}\right)\end{cases}\end{equation}</script><p>代入公式 (17) 得</p><script type="math/tex; mode=display">\begin{equation}\begin{aligned}v_1 & =\frac{1}{2}\left(v_2+Z_0 i_2\right) e^{\gamma l}+\frac{1}{2}\left(v_2-Z_0 i_2\right) e^{-\gamma l} \\i_1 & =\frac{1}{Z_0}\left(\frac{1}{2}\left(v_2+Z_0 i_2\right) e^{\gamma l}-\frac{1}{2}\left(v_2-Z_0 i_2\right) e^{-\gamma l}\right)\end{aligned}\end{equation}</script><p>写成矩阵的形式如下</p><script type="math/tex; mode=display">\begin{equation}\left[\begin{array}{l}v_1 \\i_1\end{array}\right]=\left[\begin{array}{cl}\cosh (\gamma l) & Z_0 \sinh (\gamma l) \\\dfrac{1}{Z_0} \sinh (\gamma l) & \cosh (\gamma l)\end{array}\right] \cdot\left[\begin{array}{l}v_2 \\i_2\end{array}\right]\end{equation}</script><p>则其中 $\left[\begin{array}{cl}<br>\cosh (\gamma l) &amp; Z_0 \sinh (\gamma l) \\<br>\dfrac{1}{Z_0} \sinh (\gamma l) &amp; \cosh (\gamma l)<br>\end{array}\right]$ 为传递矩阵。</p><h3 id="传递矩阵性质"><a href="#传递矩阵性质" class="headerlink" title="传递矩阵性质"></a>传递矩阵性质</h3><p>将两个同轴电缆串联连接如下</p><p><img src="/img/同轴光子晶体实验报告/image-20221211111629563.png" alt="image-20221211111629563" style="zoom: 33%;" /></p><center><figcaption><b>图14</b> 同轴光子晶体的其中两段级联同轴电缆</figcaption></center><p>由上节传递矩阵的性质</p><script type="math/tex; mode=display">\begin{equation}\left[\begin{array}{l}v_1 \\i_1\end{array}\right]=A_1\left[\begin{array}{l}v_2 \\i_2\end{array}\right],\left[\begin{array}{l}v_2 \\i_2\end{array}\right]=A_2\left[\begin{array}{l}v_3 \\i_3\end{array}\right]\end{equation}</script><p>后者代入前者可得</p><script type="math/tex; mode=display">\begin{equation}\left[\begin{array}{l}v_1 \\i_1\end{array}\right]=A_1 A_2\left[\begin{array}{l}v_3 \\i_3\end{array}\right]\end{equation}</script><p>故总的传递矩阵为 $A=A_1 A_2$，从而通过传递矩阵相乘的方法可以得到若干个同轴光子晶体连接形成的等效传递矩阵。</p><h3 id="负载电压表达式"><a href="#负载电压表达式" class="headerlink" title="负载电压表达式"></a>负载电压表达式</h3><p>令总传递矩阵 $A_T=\left[\begin{array}{cc}A &amp; B \ C &amp; D\end{array}\right]$，信号源电动势 $e$ 与内阻 $Z_0$，联立方程</p><script type="math/tex; mode=display">\begin{equation}\left\{\begin{array}{l}{\left[\begin{array}{l}v_1 \\i_1\end{array}\right]=\left[\begin{array}{cc}A & B \\ C & D\end{array}\right]\cdot\left[\begin{array}{l}v_L \\i_L\end{array}\right]} \\v_L=i_L \cdot Z_0 \\e=v_1+i_1 \cdot Z_0\end{array}\right.\end{equation}</script><p>解得负载电压的表达式</p><script type="math/tex; mode=display">\begin{equation}V_L=\frac{e}{A+\dfrac{1}{Z_0} B+Z_0 C+D}\end{equation}</script><h2 id="编程计算-mathbf-D-5-部分"><a href="#编程计算-mathbf-D-5-部分" class="headerlink" title="编程计算$(\,\mathbf{D.5}\,$部分$)$"></a>编程计算$(\,\mathbf{D.5}\,$部分$)$</h2><p>使用 matlab 对给定数据进行模拟，已知单根同轴电缆的特征阻抗 $Z_0=50 \Omega$，介质参数 $\varepsilon_r=2.354 、 \mu_r \approx 1$，衰减系数 $\alpha=$ $1.810 \times 10^{-6} \sqrt{f} m^{-1}$，其中 $f$ 的单位为 $\mathrm{Hz}$。</p><p>由连接图可知，令 $A_1$ 为原始同轴电缆，$A_2$ 为并联之后的同轴电缆，其总传递矩阵如下</p><script type="math/tex; mode=display">\begin{equation}A_T=A_2 A_1 A_2 A_1 A_2 A_1 A_2\end{equation}</script><h3 id="程序设计"><a href="#程序设计" class="headerlink" title="程序设计"></a>程序设计</h3><p>将转移矩阵对应的元素设计在函数中，例如第一个元素获取函数 <code>A1()</code> 如下</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">[a]</span> = <span class="hljs-title">A1</span><span class="hljs-params">(f)</span></span><br>    A1=[<span class="hljs-built_in">cosh</span>(ga(f)*<span class="hljs-number">5</span>) <span class="hljs-number">50</span>*<span class="hljs-built_in">sinh</span>(ga(f)*<span class="hljs-number">5</span>);<span class="hljs-number">1</span>/<span class="hljs-number">50</span>*<span class="hljs-built_in">sinh</span>(ga(f)*<span class="hljs-number">5</span>) <span class="hljs-built_in">cosh</span>(ga(f)*<span class="hljs-number">5</span>)];<br>    A2=[<span class="hljs-built_in">cosh</span>(ga(f)*<span class="hljs-number">5</span>) <span class="hljs-number">25</span>*<span class="hljs-built_in">sinh</span>(ga(f)*<span class="hljs-number">5</span>);<span class="hljs-number">1</span>/<span class="hljs-number">25</span>*<span class="hljs-built_in">sinh</span>(ga(f)*<span class="hljs-number">5</span>) <span class="hljs-built_in">cosh</span>(ga(f)*<span class="hljs-number">5</span>)];<br>    <span class="hljs-comment">% A=A2*A1*A2*A1*A2*A1*A2; % 缺陷光子晶体</span><br>    A=A2*A2*A2*A1*A2*A1*A2;   <span class="hljs-comment">% 正常光子晶体</span><br>    a=A(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>) ;<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>主函数针对<strong>传输效率、等效折射率、群速度</strong>计算，纵坐标标注不同结果</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs matlab">f = <span class="hljs-number">0</span>:<span class="hljs-number">0.1</span>:<span class="hljs-number">80</span>;<br>x = f;<br>angs = f;<br><span class="hljs-comment">% 计算效率</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span>=<span class="hljs-number">1</span>:<span class="hljs-number">801</span><br>    x(<span class="hljs-built_in">i</span>) = eta(f(<span class="hljs-built_in">i</span>) * <span class="hljs-number">1e6</span>);<br><span class="hljs-keyword">end</span><br><span class="hljs-comment">% 计算相位差以及使用 unwrap() 函数</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span>=<span class="hljs-number">1</span>:<span class="hljs-number">801</span><br>   angs(<span class="hljs-built_in">i</span>) = ang(f(<span class="hljs-built_in">i</span>)*<span class="hljs-number">1e6</span>);<br><span class="hljs-keyword">end</span><br>angs = <span class="hljs-built_in">unwrap</span>(angs);<br><span class="hljs-comment">% 计算等效等效折射率</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span>=<span class="hljs-number">1</span>:<span class="hljs-number">801</span><br>   x(<span class="hljs-built_in">i</span>) = n(f(<span class="hljs-built_in">i</span>)*<span class="hljs-number">1e6</span>, angs(<span class="hljs-built_in">i</span>));<br><span class="hljs-keyword">end</span><br><span class="hljs-comment">% 计算群速度</span><br>vg = x(<span class="hljs-number">1</span>:<span class="hljs-number">800</span>);<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span>=<span class="hljs-number">1</span>:<span class="hljs-number">800</span><br>   vg(<span class="hljs-built_in">i</span>) = <span class="hljs-number">1</span> / (x(<span class="hljs-built_in">i</span>) + f(<span class="hljs-built_in">i</span>)/<span class="hljs-number">0.1</span>*(x(<span class="hljs-built_in">i</span>+<span class="hljs-number">1</span>)-x(<span class="hljs-built_in">i</span>)));<br><span class="hljs-keyword">end</span><br><span class="hljs-comment">% 对不同情况绘制图像，选定不同的 y 轴标注</span><br><span class="hljs-comment">% plot(f, x);</span><br><span class="hljs-built_in">plot</span>(f(<span class="hljs-number">1</span>:<span class="hljs-number">800</span>), vg);<br>xlabel(<span class="hljs-string">&#x27;$f/MHz$&#x27;</span>, <span class="hljs-string">&#x27;interpreter&#x27;</span>, <span class="hljs-string">&#x27;latex&#x27;</span>, <span class="hljs-string">&#x27;FontSize&#x27;</span>, <span class="hljs-number">15</span>);<br><span class="hljs-comment">% ylabel(&#x27;$\eta$&#x27;, &#x27;interpreter&#x27;, &#x27;latex&#x27;, &#x27;FontSize&#x27;, 20);</span><br><span class="hljs-comment">% ylabel(&#x27;$n$&#x27;, &#x27;interpreter&#x27;, &#x27;latex&#x27;, &#x27;FontSize&#x27;, 20);</span><br>ylabel(<span class="hljs-string">&#x27;$\frac&#123;v_g&#125;&#123;c&#125;$&#x27;</span>, <span class="hljs-string">&#x27;interpreter&#x27;</span>, <span class="hljs-string">&#x27;latex&#x27;</span>, <span class="hljs-string">&#x27;FontSize&#x27;</span>, <span class="hljs-number">20</span>);<br></code></pre></td></tr></table></figure><p>其中使用 <code>unwrap()</code> 函数对相位差有跃变的情况加以处理，自动增加 $n\pi$。</p><h3 id="正常光子晶体-1"><a href="#正常光子晶体-1" class="headerlink" title="正常光子晶体"></a>正常光子晶体</h3><p>取定 $\textcolor{blue}{f\in [0,8]\text{~MHz}}$ 步长为 $\textcolor{blue}{0.1\text{~MHZ}}$ 进行程序模拟，绘制图像如下</p><h4 id="传输效率"><a href="#传输效率" class="headerlink" title="传输效率"></a>传输效率</h4><p><img src="/img/同轴光子晶体实验报告/eta-f-theory.svg" alt="eta-f-theory" style="zoom:67%;" /></p><center><figcaption><b>图15</b> 正常光子晶体效率与频率关系曲线（程序模拟）</figcaption></center><p>从左往右依次为<strong>通带、带隙、通带</strong>交替产生，并且随着频率地增加，多次反射和透射产生的损耗增加，从而引起效率<strong>极值点下降</strong>。</p><h4 id="等效折射率"><a href="#等效折射率" class="headerlink" title="等效折射率"></a>等效折射率</h4><p><img src="/img/同轴光子晶体实验报告/n-f-theory.svg" alt="n-f-theory" style="zoom:67%;" /></p><center><figcaption><b>图16</b> 正常光子晶体等效折射率与频率关系曲线（程序模拟）</figcaption></center><p>可以看出在频率逐渐增大的过程中存在多个反常色散区域，这与反常色散曲线吻合。</p><h4 id="群速度-2"><a href="#群速度-2" class="headerlink" title="群速度"></a>群速度</h4><p><img src="/img/同轴光子晶体实验报告/vg-f-theory.svg" alt="vg-f-theory" style="zoom:67%;" /></p><center><figcaption><b>图17</b> 正常光子晶体群速度与频率关系曲线（程序模拟）</figcaption></center><p>可以看出在反常色散区域群速度超过光速 $c$，与预期吻合。</p><h3 id="缺陷光子晶体-1"><a href="#缺陷光子晶体-1" class="headerlink" title="缺陷光子晶体"></a>缺陷光子晶体</h3><p>假定增加的电缆位于左侧，其总传递矩阵更改为</p><script type="math/tex; mode=display">\begin{equation}A_T^{\prime}=A_2 A_2 A_2 A_1 A_2 A_1 A_2\end{equation}</script><h4 id="传输效率-1"><a href="#传输效率-1" class="headerlink" title="传输效率"></a>传输效率</h4><p>仅仅更改矩阵，其余代码不变，传输效率关系图如下</p><p><img src="/img/同轴光子晶体实验报告/eta-f-theory-2.svg" alt="eta-f-theory-2" style="zoom:67%;" /></p><center><figcaption><b>图18</b> 缺陷光子晶体效率与频率关系曲线（程序模拟）</figcaption></center><p>与<strong>图 6</strong>对比，在每个通带和带隙之间增加了若干个透射峰（确切来说有 $4$ 个），与实测结论完全相符。</p><h4 id="等效折射率-1"><a href="#等效折射率-1" class="headerlink" title="等效折射率"></a>等效折射率</h4><p><img src="/img/同轴光子晶体实验报告/n-f-theory-2.svg" alt="n-f-theory-2" style="zoom:67%;" /></p><center><figcaption><b>图19</b> 缺陷光子晶体等效折射率与频率关系曲线（程序模拟）</figcaption></center><h4 id="群速度-3"><a href="#群速度-3" class="headerlink" title="群速度"></a>群速度</h4><p><img src="/img/同轴光子晶体实验报告/vg-f-theory-2.svg" alt="vg-f-theory-2" style="zoom:67%;" /></p><center><figcaption><b>图20</b> 缺陷光子晶体群速度与频率关系曲线（程序模拟）</figcaption></center><p>有缺陷的情形均与实际情况吻合，同时符合能带理论。</p><h2 id="原始数据"><a href="#原始数据" class="headerlink" title="原始数据"></a>原始数据</h2><p><img src="/img/同轴光子晶体实验报告/image-20221212001029570.png" alt="image-20221212001029570" style="zoom: 25%;" /></p><center><figcaption><b>图21</b>  原始数据截图1</figcaption></center><p><img src="/img/同轴光子晶体实验报告/image-20221212003217593.png" alt="image-20221212003217593" style="zoom:25%;" /></p><center><figcaption><b>图22</b>  原始数据截图2</figcaption></center>]]></content>
    
    
    <categories>
      
      <category>物理</category>
      
      <category>实验报告</category>
      
    </categories>
    
    
    <tags>
      
      <tag>实验报告</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Fundamental Physics 2</title>
    <link href="/2022/10/29/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%A1%80%E7%89%A9%E7%90%86%E5%AD%A62%E5%B0%8F%E7%8F%AD%E8%BE%85%E5%AF%BC%E8%AE%B2%E4%B9%89/"/>
    <url>/2022/10/29/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%A1%80%E7%89%A9%E7%90%86%E5%AD%A62%E5%B0%8F%E7%8F%AD%E8%BE%85%E5%AF%BC%E8%AE%B2%E4%B9%89/</url>
    
    <content type="html"><![CDATA[<p>访问 $\LaTeX$ 源代码<a href="https://github.com/lr-tsinghua11/Fundamental_Physics_2">仓库</a>，如果觉得有帮助，麻烦点个 Star ，以下为<strong>讲义 PDF 文件</strong>：</p><p><a href="https://lr-tsinghua11.github.io/pdf/基础物理学2半期小班辅导讲义——学生版.pdf">基础物理学2半期小班辅导讲义——学生版</a></p><p><a href="https://lr-tsinghua11.github.io/pdf/基础物理学2半期小班辅导讲义——教师版.pdf">基础物理学2半期小班辅导讲义——教师版</a></p><p>授课过程中对学生版笔记进行相关批注，点击此处可以下载<strong>批注版</strong>：</p><p><a href="https://lr-tsinghua11.github.io/pdf/基础物理学2半期小班辅导讲义——批注版.pdf">基础物理学2半期小班辅导讲义——批注版</a></p>]]></content>
    
    
    <categories>
      
      <category>物理</category>
      
      <category>基础物理学 2</category>
      
    </categories>
    
    
    <tags>
      
      <tag>基础物理学 2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Rust Notes</title>
    <link href="/2022/09/11/%E7%BC%96%E7%A8%8B/Rust%20%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/09/11/%E7%BC%96%E7%A8%8B/Rust%20%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Lecture-1"><a href="#Lecture-1" class="headerlink" title="Lecture 1"></a>Lecture 1</h1><h2 id="语言特性"><a href="#语言特性" class="headerlink" title="语言特性"></a>语言特性</h2><p><strong>高效：</strong>Python 解释器，java 虚拟机，而 rust <strong>没有运行时</strong>，在 bare metal（裸机）上运行。</p><p>安卓基于 java，苹果 swift，有相应的垃圾回收机制，易卡顿，而 rust 没有垃圾收集机制。</p><p><strong>可靠：</strong>用<strong>类型系统和所有权模型</strong>来确保内存安全性和线程安全性，在编译时消除各种潜在的问题。</p><p><strong>好用：</strong>文档丰富，编译器（提供更改方法）。</p><h2 id="Rust-语言应用"><a href="#Rust-语言应用" class="headerlink" title="Rust 语言应用"></a>Rust 语言应用</h2><ul><li><p>Servo 浏览器引擎，Redox 操作系统，Linux 操作系统驱动和模块的支持</p></li><li><p>清华大学：操作系统教学 rCore，性能所 MadFS 文件系统，IO 500 遥遥领先</p></li><li><p>Cargo 能够大规模添加依赖（第三方库），不需要像 C++ 花时间去寻找并下载源码</p></li></ul><h2 id="rust-基础语法"><a href="#rust-基础语法" class="headerlink" title="rust 基础语法"></a>rust 基础语法</h2><p>C++ cin cout 读取失败时，将流转换为非法，而 rust 则会显式地处理异常</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust">io::<span class="hljs-title function_ invoke__">stdin</span>()<br>  .<span class="hljs-title function_ invoke__">read_line</span>(&amp;<span class="hljs-keyword">mut</span> guess)<br>  .<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">&quot;Failed to read line&quot;</span>);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;You guessed: &#123;guess&#125;&quot;</span>);<br></code></pre></td></tr></table></figure><p>猜数获取数字以及猜测语句</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// (1..=100) 代表 1-100 左闭右闭</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">secret_number</span> = rand::<span class="hljs-title function_ invoke__">thread_rng</span>().<span class="hljs-title function_ invoke__">gen_range</span>(<span class="hljs-number">1</span>..=<span class="hljs-number">100</span>);<br><span class="hljs-comment">// trim()前后处理空格，parse() 解析（转换类型）</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">guess</span>: <span class="hljs-type">u32</span> = guess.<span class="hljs-title function_ invoke__">trim</span>().<span class="hljs-title function_ invoke__">parse</span>().<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">&quot;Please type a number!&quot;</span>);<br></code></pre></td></tr></table></figure><p>变量绑定</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">17</span>; <span class="hljs-comment">// 变量绑定，且隐式推断类型</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span>: <span class="hljs-type">i16</span> = <span class="hljs-number">17</span>; <span class="hljs-comment">// 显式绑定类型</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;<br>x += <span class="hljs-number">1</span>; <span class="hljs-comment">// error: re-assignment of immutable variable x</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">y</span> = <span class="hljs-number">5</span>;<br>y += <span class="hljs-number">1</span>; <span class="hljs-comment">// OK!</span><br></code></pre></td></tr></table></figure><p>变量类型</p><ul><li>布尔 bool：两个值 true/false。</li><li>字符 char：用单引号，例如 ‘R’、’ 计’, 是 Unicode 的。</li><li>数值：分为整数和浮点数，有不同的大小和符号属性。<ul><li>i8、i16、i32、i64、isize</li><li>u8、u16、u32、u64、usize</li><li>f32、f64</li></ul></li><li>其中 isize 和 usize 是指针大小的整数，因此它们的大小与机器架构相关。</li><li>字面值 (literals) 写为 10i8、10u16、10.0f32、10usize 等。</li><li>字面值如果不指定类型，则默认整数为 i32，浮点数为 f64。</li><li>数组 (arrays)、切片 (slices)、str 字符串 (strings)、元组 (tuples)。</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 数组</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">arr1</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]; <span class="hljs-comment">// (array of 3 elements)</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">arr2</span> = [<span class="hljs-number">2</span>; <span class="hljs-number">32</span>]; <span class="hljs-comment">// (array of 32 `2`s)</span><br><span class="hljs-comment">// 切片</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">arr</span> = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">total_slice</span> = &amp;arr; <span class="hljs-comment">// Slice all of `arr`</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">total_slice</span> = &amp;arr[..]; <span class="hljs-comment">// Same, but more explicit</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">partial_slice</span> = &amp;arr[<span class="hljs-number">2</span>..<span class="hljs-number">5</span>]; <span class="hljs-comment">// [2, 3, 4]</span><br><span class="hljs-comment">// 字符 String 和 &amp;str，可以分别当做 C++ 中的 string 和 const char*</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">s</span>: &amp;<span class="hljs-type">str</span> = <span class="hljs-string">&quot;galaxy&quot;</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">s2</span>: <span class="hljs-type">String</span> = <span class="hljs-string">&quot;galaxy&quot;</span>.<span class="hljs-title function_ invoke__">to_string</span>();<br><span class="hljs-keyword">let</span> <span class="hljs-variable">s3</span>: <span class="hljs-type">String</span> = String::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">&quot;galaxy&quot;</span>);<br><span class="hljs-keyword">let</span> <span class="hljs-variable">s4</span>: &amp;<span class="hljs-type">str</span> = &amp;s3;<br><span class="hljs-comment">// 向量</span><br><span class="hljs-comment">// Explicit typing</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">v0</span>: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt; = Vec::<span class="hljs-title function_ invoke__">new</span>();<br><span class="hljs-comment">// v1 and v2 are equal</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">v1</span> = Vec::<span class="hljs-title function_ invoke__">new</span>();<br>v1.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">1</span>);<br>v1.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">2</span>);<br>v1.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">3</span>);<br><span class="hljs-keyword">let</span> <span class="hljs-variable">v2</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-comment">// v3 and v4 are equal</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">v3</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">0</span>; <span class="hljs-number">4</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">v4</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>];<br><span class="hljs-comment">// 输出向量中的所有元素</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Task 10: The array is &#123;:?&#125;&quot;</span>, v2);<br></code></pre></td></tr></table></figure><p>类型转换</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 使用 as 进行类型转换 (cast)</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span>: <span class="hljs-type">i32</span> = <span class="hljs-number">100</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">y</span>: <span class="hljs-type">u32</span> = x <span class="hljs-keyword">as</span> <span class="hljs-type">u32</span>;<br><span class="hljs-comment">// 一般来说只能在可以安全转换的类型之间进行转换操作</span><br></code></pre></td></tr></table></figure><p>引用</p><ul><li>在类型前面写 &amp; 表示引用类型： &amp;i32。</li><li>用 &amp; 来取引用（和 C++ 类似）。</li><li>用 * 来解引用（和 C++ 类似）。</li><li>rust 中引用和一般意义的指针是不一样的。</li></ul><p>条件语句</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">0</span> &#123;<br><span class="hljs-number">10</span><br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span> &#123;<br><span class="hljs-number">0</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Not greater than zero!&quot;</span>);<br>-<span class="hljs-number">10</span><br>&#125;<br></code></pre></td></tr></table></figure><p>循环语句，三种循环 $\begin{cases}\text{while}\\\text{loop = while true<br>} \\\text{for}\end{cases}$</p><p>迭代器</p><ul><li>n..m 创建一个从 n 到 m 半闭半开区间的迭代器。</li><li>n..=m 创建一个从 n 到 m 闭区间的迭代器。</li><li>很多数据结构可以当做迭代器来使用，比如数组、切片，还有向量 Vec 等等。</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">xs</span> = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-comment">// Loop through elements in a slice of `xs`.</span><br><span class="hljs-keyword">for</span> <span class="hljs-variable">x</span> <span class="hljs-keyword">in</span> &amp;xs &#123;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, x);<br>&#125;<br></code></pre></td></tr></table></figure><p>匹配语句，其中 <code>_</code> 匹配所有情况</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 单变量版本</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">match</span> x &#123;<br>  <span class="hljs-number">1</span> =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;one fish&quot;</span>), <span class="hljs-comment">// &lt;- comma required</span><br>  <span class="hljs-number">2</span> =&gt; &#123;<br>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;two fish&quot;</span>);<br>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;two fish&quot;</span>);<br>  &#125;, <span class="hljs-comment">// &lt;- comma optional when using braces</span><br>  _ =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;no fish for you&quot;</span>), <span class="hljs-comment">// &quot;otherwise&quot; case</span><br>&#125;<br><span class="hljs-comment">// 元组版本</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">y</span> = -<span class="hljs-number">3</span>;<br><span class="hljs-title function_ invoke__">match</span> (x, y) &#123;<br>  (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;one&quot;</span>),<br>  (<span class="hljs-number">2</span>, j) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;two, &#123;&#125;&quot;</span>, j),<br>  (_, <span class="hljs-number">3</span>) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;three&quot;</span>),<br>  (i, j) <span class="hljs-keyword">if</span> i &gt; <span class="hljs-number">5</span> &amp;&amp; j &lt; <span class="hljs-number">0</span> =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;On guard!&quot;</span>),<br>  (_, _) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;:&lt;&quot;</span>),<br>&#125;<br></code></pre></td></tr></table></figure><p>模式绑定</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> (a, b) = (<span class="hljs-string">&quot;foo&quot;</span>, <span class="hljs-number">12</span>);<br></code></pre></td></tr></table></figure><p>函数</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 函数头</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">foo</span>(x: T, y: U, z: V) <span class="hljs-punctuation">-&gt;</span> T &#123;<br><span class="hljs-comment">// ...</span><br>&#125;<br><span class="hljs-comment">// T 类型参数 x ，U 类型参数 y ，V 类型参数 z，返回 T 类型</span><br><span class="hljs-comment">// Rust 必须显式定义函数的参数和返回值的类型。</span><br><span class="hljs-comment">// 实际上编译器是可以推断函数的参数和返回值的类型的，但是 Rust 的设计者认为显式指定更好</span><br><br><span class="hljs-comment">// 函数返回</span><br><span class="hljs-comment">// 函数最后一个表达式是其返回值，可以使用 return 提前返回</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">square</span>(n: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> &#123;<br>n * n<br>&#125;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">squareish</span>(n: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> &#123;<br><span class="hljs-keyword">if</span> n &lt; <span class="hljs-number">5</span> &#123; <span class="hljs-keyword">return</span> n; &#125;<br>n * n<br>&#125;<br></code></pre></td></tr></table></figure><p>print! 和 println!</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-string">&quot;foo&quot;</span>;<br><span class="hljs-built_in">print!</span>(<span class="hljs-string">&quot;&#123;&#125;, &#123;&#125;, &#123;&#125;&quot;</span>, x, <span class="hljs-number">3</span>, <span class="hljs-literal">true</span>);<br><span class="hljs-comment">// =&gt; foo, 3, true</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;, &#123;:?&#125;&quot;</span>, x, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<br><span class="hljs-comment">// =&gt; &quot;foo&quot;, [1, 2, 3]</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">y</span> = <span class="hljs-number">1</span>;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;0&#125;, &#123;y&#125;, &#123;0&#125;&quot;</span>, x);<br><span class="hljs-comment">// =&gt; foo, 1, foo</span><br><br></code></pre></td></tr></table></figure><p>format!</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">fmted</span> = <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;&#123;&#125;, &#123;:x&#125;, &#123;:?&#125;&quot;</span>, <span class="hljs-number">12</span>, <span class="hljs-number">155</span>, <span class="hljs-title function_ invoke__">Some</span>(<span class="hljs-string">&quot;Hello&quot;</span>));<br><span class="hljs-comment">// fmted == &quot;12, 9b, Some(&quot;Hello&quot;)&quot;</span><br></code></pre></td></tr></table></figure><p>panic! 处理错误的方式，并不优雅</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span> &#123;<br><span class="hljs-built_in">panic!</span>(<span class="hljs-string">&quot;Kaboom!&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>assert! 和 assert_eq!</p><ul><li>如果条件 condition 不成立， assert!(condition) 会导致<strong>恐慌</strong>。</li><li>如果 left != right， assert_eq!(left, right) 会导致<strong>恐慌</strong>。</li></ul><p>unreachable! 用于表达不会达到的分支，如果达到就会导致<strong>恐慌</strong></p><p>unimplemented! 标注没有实现的功能，panic!(“not yet implemented”) 的简写</p><h1 id="lecture-2"><a href="#lecture-2" class="headerlink" title="lecture 2"></a>lecture 2</h1><p>Rust 语言最 core 的语法，语言 = 核心语法 + 标准库</p><h2 id="所有权"><a href="#所有权" class="headerlink" title="所有权"></a>所有权</h2><ul><li><p>资源管理的需求：内存使用的安全和性能</p><p>内存资源：$\begin{cases}全局对象：事先分配的内存空间段，启动时分配，结束时回收\\局部对象：分配在栈上，进入函数时分配，退出函数时回收\\动态对象：分配在堆上，需要时分配，不需要时回收\end{cases}$</p></li><li><p>对于小型程序，<code>new</code> 之后不 <code>delete</code> 无所谓，程序结束之后会自动删除；但是对于大型 24h 网络服务端程序，容易出现问题，总有分配内存失败的时候</p></li><li><p>内存管理方式，<strong>用户指定和垃圾回收</strong>，前者要求编写者的严谨，后者分为小回收和大回收，</p><p>安卓手机卡的原因：处于大回收状态，逻辑不明确，性能差</p></li><li><p>C艹 将构造和分配集成在一起：</p><ul><li><p>拷贝构造：在语义上实现一个对象变两个对象（二进制串的拷贝）。</p></li><li><p>移动构造：在语义上实现将一个对象的资源转移给另一个对象。</p></li></ul></li><li><p>空指针、悬垂指针（指针所指对象被释放，但指针没有做修改）、双重释放（两个对象的指针指向同一块内存空间，两个对象均释放）等问题导致运行时错误。</p></li></ul><p>计算机技术本质上是实现一个 <code>Trade-off</code> </p><ul><li><p>Rust 中的每个值都有所有者 (owner)。</p></li><li><p>同一时刻<strong>只有一个</strong>所有者。</p></li><li><p>当所有者失效，值也将被丢弃。</p></li></ul><p>这是</p><p>一份数据只有一个所有者，如果超出作用域，其绑定数据自动释放  </p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">foo</span>() &#123;<br>  <span class="hljs-comment">// Creates a Vec object.</span><br>  <span class="hljs-comment">// Gives ownership of the Vec object to v1.</span><br>  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">v1</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>  v1.<span class="hljs-title function_ invoke__">pop</span>();<br>  v1.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">4</span>);<br>  <span class="hljs-comment">// At the end of the scope, v1 goes out of scope.</span><br>  <span class="hljs-comment">// v1 still owns the Vec object, so it can be cleaned up.</span><br>&#125;<br></code></pre></td></tr></table></figure><p>以下代码在编译过程中出错，所有权的转移</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs rust">  <span class="hljs-keyword">let</span> <span class="hljs-variable">v1</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>  <span class="hljs-comment">// Ownership of the Vec object moves to v2.</span><br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">v2</span> = v1;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, v1[<span class="hljs-number">2</span>]); <span class="hljs-comment">// error: use of moved value `v1`</span><br>----------------------Compile Error-----------------------<br>error[E0382]: borrow of moved value: `v1`<br>  |<br><span class="hljs-number">2</span> |     <span class="hljs-keyword">let</span> <span class="hljs-variable">v1</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>  |         -- <span class="hljs-keyword">move</span> occurs because `v1` has <span class="hljs-keyword">type</span> `<span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;`, which does not implement the `<span class="hljs-built_in">Copy</span>` <span class="hljs-keyword">trait</span><br><span class="hljs-number">3</span> |     <span class="hljs-comment">// Ownership of the Vec object moves to v2.</span><br><span class="hljs-number">4</span> |     <span class="hljs-keyword">let</span> <span class="hljs-variable">v2</span> = v1;<br>  |              -- value moved here<br><span class="hljs-number">5</span> |     <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, v1[<span class="hljs-number">2</span>]); <span class="hljs-comment">// error: use of moved value `v1`</span><br>  |                    ^^ value borrowed here after <span class="hljs-keyword">move</span><br></code></pre></td></tr></table></figure><p>在函数调用的时候，如果传入参数过多，还要将所有权还回去，比较麻烦</p><p>使用<strong>借用</strong>，所有权本身没有变化，相当于是借用一下数据</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">v</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-comment">// v_ref is a reference to v.</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">v_ref</span> = &amp;v;<br><span class="hljs-comment">// Moving ownership to v_new would invalidate v_ref.</span><br><span class="hljs-comment">// error: cannot move out of `v` because it is borrowed</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">v_new</span> = v;<br><span class="hljs-comment">// Cancel the effect of NLL (non-lexical lifetime)</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;&quot;</span>, v_ref);<br></code></pre></td></tr></table></figure><p>rust 语言是一门<strong>面向编译器语言</strong>，可以认为写不出运行有问题的代码</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 借用与函数</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">length</span>(vec_ref: &amp;<span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> &#123;<br>  <span class="hljs-comment">// vec_ref is auto-dereferenced when you call methods on it.</span><br>  vec_ref.<span class="hljs-title function_ invoke__">len</span>()<br>&#125;<br><span class="hljs-comment">// 可变借用</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">push</span>(vec_ref: &amp;<span class="hljs-keyword">mut</span> <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;, x: <span class="hljs-type">i32</span>) &#123;<br>vec_ref.<span class="hljs-title function_ invoke__">push</span>(x);<br>&#125;<br><span class="hljs-comment">// Copy (特型)</span><br><span class="hljs-comment">// i32、f64、char、bool 可以拷贝</span><br><span class="hljs-comment">// 生命周期检查</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">y</span>: &amp;<span class="hljs-type">i32</span>;<br>&#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;<br>  y = &amp;x; <span class="hljs-comment">// error: `x` does not live long enough</span><br>&#125;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, *y);<br></code></pre></td></tr></table></figure><p>向量的三种迭代方式，不可变借用 <code>&amp;V</code>、可变借用 <code>&amp;mut V</code>、所有权 <code>V</code></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">vs</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>];<br><span class="hljs-comment">// Borrow immutably</span><br><span class="hljs-keyword">for</span> <span class="hljs-variable">v</span> <span class="hljs-keyword">in</span> &amp;vs &#123; <span class="hljs-comment">// Can also write `for v in vs.iter()`</span><br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;I&#x27;m borrowing &#123;&#125;.&quot;</span>, v);<br>&#125;<br><span class="hljs-comment">// Borrow mutably</span><br><span class="hljs-keyword">for</span> <span class="hljs-variable">v</span> <span class="hljs-keyword">in</span> &amp;<span class="hljs-keyword">mut</span> vs &#123; <span class="hljs-comment">// Can also write `for v in vs.iter_mut()`</span><br>  *v = *v + <span class="hljs-number">1</span>;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;I&#x27;m mutably borrowing &#123;&#125;.&quot;</span>, v);<br>&#125;<br><span class="hljs-comment">// Take ownership of the whole vector</span><br><span class="hljs-keyword">for</span> <span class="hljs-variable">v</span> <span class="hljs-keyword">in</span> vs &#123; <span class="hljs-comment">// Can also write `for v in vs.into_iter()`</span><br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;I now own &#123;&#125;! AHAHAHAHA!&quot;</span>, v);<br>&#125;<br></code></pre></td></tr></table></figure><p>切片是一种特殊的引用，代表序列中的一个指定片段</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">slice</span> = &amp;a[<span class="hljs-number">1</span>..<span class="hljs-number">3</span>];<br></code></pre></td></tr></table></figure><h2 id="结构化数据"><a href="#结构化数据" class="headerlink" title="结构化数据"></a>结构化数据</h2><p>有两种 struct 和 enum，mod 相当于 C艹 中的 namespace</p><p>结构体用 CamelCase 命名方式，里面的域用 snake_case 命名方式。</p><p>语法糖，对别的方法进行一种实现，写起来简便</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Foo</span> &#123; a: <span class="hljs-type">i32</span>, b: <span class="hljs-type">i32</span>, c: <span class="hljs-type">i32</span>, d: <span class="hljs-type">i32</span>, e: <span class="hljs-type">i32</span> &#125;<br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">x</span> = Foo &#123; a: <span class="hljs-number">1</span>, b: <span class="hljs-number">1</span>, c: <span class="hljs-number">2</span>, d: <span class="hljs-number">2</span>, e: <span class="hljs-number">3</span> &#125;;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">x2</span> = Foo &#123; e: <span class="hljs-number">4</span>, .. x &#125;;<br><span class="hljs-comment">// Useful to update multiple fields of the same struct:</span><br>x = Foo &#123; a: <span class="hljs-number">2</span>, b: <span class="hljs-number">2</span>, e: <span class="hljs-number">2</span>, .. x &#125;;<br></code></pre></td></tr></table></figure><p>Rust 的枚举要强很多，是<strong>和类型</strong>，用来表示多选一的数据（<strong>代数数据类型</strong>，如笛卡尔坐标系）</p><p>变体 $无数据、有命名的数据域(结构体)、无命名的数据域(元组变体)$，如</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Resultish</span> &#123;<br>  <span class="hljs-literal">Ok</span>,<br>  Warning &#123; code: <span class="hljs-type">i32</span>, message: <span class="hljs-type">String</span> &#125;,<br>  <span class="hljs-title function_ invoke__">Err</span>(<span class="hljs-type">String</span>)<br>&#125;<br><span class="hljs-comment">// 使用 Resultish::each 来访问并匹配数据</span><br><span class="hljs-keyword">match</span> <span class="hljs-title function_ invoke__">make_request</span>() &#123;<br>  Resultish::<span class="hljs-literal">Ok</span> =&gt;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Success!&quot;</span>),<br>  Resultish::Warning &#123; code, message &#125; =&gt;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Warning: &#123;&#125;!&quot;</span>, message),<br>  Resultish::<span class="hljs-title function_ invoke__">Err</span>(s) =&gt;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Failed with error: &#123;&#125;&quot;</span>, s),<br>&#125;<br></code></pre></td></tr></table></figure><p>枚举类型还可以递归</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">List</span> &#123;<br>Nil,<br><span class="hljs-title function_ invoke__">Cons</span>(<span class="hljs-type">i32</span>, List),<br>&#125;<br><span class="hljs-comment">// 但上述枚举类型会报错，会趋于无穷大，使用 Box 加以限制</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">boxed_five</span> = Box::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">5</span>);<br><span class="hljs-keyword">enum</span> <span class="hljs-title class_">List</span> &#123;<br>  Nil,<br>  <span class="hljs-title function_ invoke__">Cons</span>(<span class="hljs-type">i32</span>, <span class="hljs-type">Box</span>&lt;List&gt;), <span class="hljs-comment">// OK!</span><br>&#125;<br></code></pre></td></tr></table></figure><p>方法与所有权</p><p>方法的第一个参数（名字为 self）决定这个方法需要的所有权种类，分类更加细致：</p><ul><li>&amp;self：方法借用对象的值。<br>一般情况下尽量使用这种方式，类似于 C++ 中的常成员函数。</li><li>&amp;mut self：方法可变地借用对象的值。<br>在方法需要修改对象时使用，类似于 C++ 中的普通成员函数。</li><li>self：方法获得对象的所有权。<br>方法会消耗掉对象，同时可以返回其他的值。</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">impl</span> <span class="hljs-title class_">Point</span> &#123;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">distance</span>(&amp;<span class="hljs-keyword">self</span>, other: Point) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">f32</span> &#123;<br>    <span class="hljs-keyword">let</span> (dx, dy) = (<span class="hljs-keyword">self</span>.x - other.x, <span class="hljs-keyword">self</span>.y - other.y);<br>    ((dx.<span class="hljs-title function_ invoke__">pow</span>(<span class="hljs-number">2</span>) + dy.<span class="hljs-title function_ invoke__">pow</span>(<span class="hljs-number">2</span>)) <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>).<span class="hljs-title function_ invoke__">sqrt</span>()<br>  &#125;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">translate</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, x: <span class="hljs-type">i32</span>, y: <span class="hljs-type">i32</span>) &#123;<br>    <span class="hljs-keyword">self</span>.x += x;<br>    <span class="hljs-keyword">self</span>.y += y;<br>  &#125;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">mirror_y</span>(<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> Point &#123;<br>    Point &#123; x: -<span class="hljs-keyword">self</span>.x, y: <span class="hljs-keyword">self</span>.y &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>一般会创建一个名为 new 的关联函数起到构造函数的作用。</p><p>Rust 没有内置的构造函数语法，也不会自动构造。</p></li><li><p>方法、关联函数不能重载、方法不能继承</p></li></ul><h2 id="模式匹配"><a href="#模式匹配" class="headerlink" title="模式匹配"></a>模式匹配</h2><p>对结构体进行解构</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> &#123;<br>  x: <span class="hljs-type">i32</span>,<br>  y: <span class="hljs-type">i32</span>,<br>&#125;<br><span class="hljs-keyword">match</span> p &#123;<br>  Point &#123; x, y &#125; =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;(&#123;&#125;, &#123;&#125;)&quot;</span>, x, y)<br>&#125;<br></code></pre></td></tr></table></figure><p>使用引用的方式匹配</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">17</span>;<br><span class="hljs-comment">// 打印数值或者修改值</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">x</span> = <span class="hljs-number">17</span>;<br><span class="hljs-keyword">match</span> x &#123;<br>  <span class="hljs-keyword">ref</span> r <span class="hljs-keyword">if</span> x == <span class="hljs-number">5</span> =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, r),<br>  <span class="hljs-keyword">ref</span> <span class="hljs-keyword">mut</span> r =&gt; *r = <span class="hljs-number">5</span><br>&#125;<br></code></pre></td></tr></table></figure><p>内部绑定（使用 <code>@</code> ）</p><p>模式匹配的穷尽性，否则会报错（使用 <code>_</code> 表示其他情况）</p><p><code>for</code> 循环的模式匹配</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">v</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-title function_ invoke__">for</span> (i, x) <span class="hljs-keyword">in</span> v.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">enumerate</span>() &#123;<br>  <span class="hljs-built_in">print!</span>(<span class="hljs-string">&quot;v[&#123;i&#125;] = &#123;x&#125; &quot;</span>);<br>&#125;<br><span class="hljs-comment">// v[0] = 1 v[1] = 2 v[2] = 3 </span><br></code></pre></td></tr></table></figure><h1 id="lecture-3（标准库）"><a href="#lecture-3（标准库）" class="headerlink" title="lecture 3（标准库）"></a>lecture 3（标准库）</h1><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><p>C艹 语言 11 比 98 增加 unordered_map </p><p>C 里面的 string 为 <code>\0</code> 操作，即使是访问字符串长度也需要 $O(n)$ 的空间</p><p>而 C艹 使用 <code>std::string</code> 更加方法，对负数进行补码操作，便于加法</p><ul><li>Rust 的字符串处理机制比较复杂。<ul><li>主要是用 UTF-8 编码的 Unicode 字符序列。</li><li>不是空字符 ‘\0’ 结尾的 C 风格字符串，可以包含空字符。</li></ul></li><li>主要有两大类： &amp;str 和 String。</li></ul><p>字符的标识，与信息论有关：</p><p>模拟电路（信号是连续变化的，模拟类型更多，但不抗干扰，教室里的钟表）</p><p>数字电路（低电位和高电位，0V 和 5V，能抗干扰，数字手表）</p><p>ASCII 码 0 是 48，A 是 65，a 是 97 </p><ul><li>编码：字符在计算机内部的表示方式</li><li>早期： ASCII 码，以英文字符为主， 7 位二进制</li><li><p>中文： GB 2312-1980《信息交换用汉字编码字符集》， 6,763 个汉字，两个字节</p><ul><li>GB 18030-2005《信息技术中文编码字符集》， 70,244 个汉字，两个字节或四个字节</li></ul></li><li><p>Unicode：试图把全世界的文字都纳入进来，收集了 144,697 个字符，四个字节</p><ul><li>常用 UTF-8 的形式来表示，<strong>变长</strong>一到四个字节，rust 便使用这种编码</li></ul></li><li><p>会出现乱码问题</p></li></ul><h3 align="center">Unicode 中文乱码速查表</h3><div class="table-container"><table><thead><tr><th>xxxxxx</th><th>示例</th><th>特点</th><th>产生原因</th></tr></thead><tbody><tr><td>古文码</td><td>鐢辨湀瑕佸ソ濂藉涔犲ぉ澶╁悜涓?</td><td>大都为不认识的古文，并加杂日韩文</td><td>以 GBK 方式读取 UTF-8 编码的中文</td></tr><tr><td>口字码</td><td>����Ҫ�¨2�ѧϰ������</td><td>大部分字符为小方块</td><td>以 UTF-8 的方式读取 GBK 编码的中文</td></tr><tr><td>符号码</td><td>ç”±æœˆè\</td><td>å￥½å￥½å-\</td><td>ä1 å¤©å¤©å‘ä¸Š</td><td>大部分字符为各种符号</td><td>以 ISO8859-1 方式读取 UTF-8 编码的中文</td></tr><tr><td>拼音码</td><td>óéÔÂòaoÃoÃÑ§Ï°ììììÏòéÏ</td><td>大部分字符为头顶带有各种类似声调符号的字母</td><td>以 ISO8859-1 方式读取 GBK 编码的中文</td></tr><tr><td>问句码</td><td>由月要好好学习天天向??</td><td>字符串长度为偶数时正确，长度为奇数时最后的字符变为问号</td><td>以 GBK 方式读取 UTF-8 编码的中文，然后又用 UTF-8 的格式再次读取</td></tr><tr><td>锟拷码</td><td>锟斤拷锟斤拷要锟矫猴拷学习锟斤拷锟斤拷锟斤拷</td><td>全中文字符，且大部分字符为“锟斤拷”这几个字符</td><td>以 UTF-8 方式读取 GBK 编码的中文，然后又用 GBK 的格式再次读取</td></tr><tr><td>烫烫烫</td><td>烫烫烫烫烫烫烫烫烫烫烫烫烫烫烫烫烫烫</td><td>字符显示为“烫烫烫”这几个字符</td><td>VC Debug 模式下，栈内存未初始化</td></tr><tr><td>屯屯屯</td><td>屯屯屯屯屯屯屯屯屯屯屯屯屯屯屯屯屯屯</td><td>字符显示为“屯屯屯”这几个字符</td><td>VC Debug 模式下，堆内存未初始化</td></tr></tbody></table></div><h2 id="amp-str-和-String"><a href="#amp-str-和-String" class="headerlink" title="&amp;str 和 String"></a>&amp;str 和 String</h2><p>&amp;str</p><ul><li>&amp;str 是字符串切片，是切片的一种。</li><li>形如 “string literals” 的字符串字面值是 &amp;str 类型的1。</li><li>&amp;str 是静态分配空间的，且固定大小。</li><li>不能用方括号来做形如 some_str[i] 的索引，因为每个 Unicode 字符可能有多个字节。</li><li>正确的做法是在 chars() 中迭代：<ul><li><code>for c in &quot;1234&quot;.chars() &#123; ... &#125;</code></li></ul></li></ul><p>String</p><ul><li>String 是分配在堆上的，可以动态增长。<ul><li>和 Vec 类似，实际上就是在 Vec\<u8\> 外面包了一层。</li></ul></li><li>也不能用下标来索引。<ul><li>可以通过 s.nth(i) 来访问某个字符。</li></ul></li><li>通过取引用的方式可以获得 &amp;str。</li></ul><h2 id="Option-枚举类型"><a href="#Option-枚举类型" class="headerlink" title="Option 枚举类型"></a>Option 枚举类型</h2><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Option</span>&lt;T&gt; &#123;<br>  <span class="hljs-literal">None</span>,<br>  <span class="hljs-title function_ invoke__">Some</span>(T),<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>Option<T> 是一个枚举类型，同时也是泛型类型。</li><li>为某种已有类型提供了<strong>表示没有或者空值的概念</strong>。</li><li>在 Rust 中，在需要返回空值时，推荐使用 Option<T>。<ul><li>而不是返回诸如 NaN、 -1、 null 等特殊的值。</li></ul></li><li>类型 T 可以是任何类型，没有限制。</li></ul><p>一个处理除数为 0 的情况：</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">divide</span>(numerator: <span class="hljs-type">f64</span>, denominator: <span class="hljs-type">f64</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;<span class="hljs-type">f64</span>&gt; &#123;<br><span class="hljs-keyword">if</span> denominator == <span class="hljs-number">0.0</span> &#123;<br>    <span class="hljs-literal">None</span><br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-title function_ invoke__">Some</span>(numerator / denominator)<br>  &#125;<br>&#125;<br><span class="hljs-comment">// The return value of the function is an option</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">result</span> = <span class="hljs-title function_ invoke__">divide</span>(<span class="hljs-number">2.0</span>, <span class="hljs-number">3.0</span>);<br><span class="hljs-comment">// Pattern match to retrieve the value</span><br><span class="hljs-keyword">match</span> result &#123;<br>  <span class="hljs-comment">// The division was valid</span><br>  <span class="hljs-title function_ invoke__">Some</span>(x) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Result: &#123;x&#125;&quot;</span>),<br>  <span class="hljs-comment">// The division was invalid</span><br>  <span class="hljs-literal">None</span> =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Cannot divide by 0&quot;</span>),<br>&#125;<br></code></pre></td></tr></table></figure><p>典型用途：</p><p>初始值（求列表最大值）、函数定义域不是全集、表示简单的错误情况（未定义）、结构体的可选域或者可拿走的域、可选的函数参数、空指针</p><h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><ul><li>对于不可恢复的错误，使用恐慌 panic!。<ul><li>数组越界、栈越界、算术运算溢出……</li></ul></li><li>对于可恢复的错误，使用 Result。<ul><li>文件操作、网络操作、字符串解析……</li></ul></li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Result</span>&lt;T, E&gt; &#123;<br>  <span class="hljs-title function_ invoke__">Ok</span>(T),<br>  <span class="hljs-title function_ invoke__">Err</span>(E)<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>Result 与 Option 类似，除了正常结果外，还可以表示错误状态。</li><li>也定义了 unwrap 和 expect 等方法。</li><li>可以通过 ok 或 err 等方法转换成 Option。<ul><li>把 Ok 或者 Err 的值作为 Some，另一种变成 None。</li></ul></li><li>也可以进行类似 Option 的操作。<ul><li>and、 or……</li></ul></li></ul><p>其处理原则，对返回值为 Result 的函数，一定要显式地处理（否则编译器报 <code>warning</code> ）</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">use</span> std::io::Error;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Result</span>&lt;T&gt; = <span class="hljs-type">Result</span>&lt;T, Error&gt;;<br></code></pre></td></tr></table></figure><h3 id="操作符"><a href="#操作符" class="headerlink" title="?操作符"></a>?操作符</h3><p>配合 Result 类型</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">read_username_from_file</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">String</span>, io::Error&gt; &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">username</span> = String::<span class="hljs-title function_ invoke__">new</span>();<br>  File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">&quot;hello.txt&quot;</span>)?.<span class="hljs-title function_ invoke__">read_to_string</span>(&amp;<span class="hljs-keyword">mut</span> username)?;<br>  <span class="hljs-title function_ invoke__">Ok</span>(username)<br>&#125;<br></code></pre></td></tr></table></figure><p>配合 Opition 类型</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">last_char_of_first_line</span>(text: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;<span class="hljs-type">char</span>&gt; &#123;<br>  text.<span class="hljs-title function_ invoke__">lines</span>().<span class="hljs-title function_ invoke__">next</span>()?.<span class="hljs-title function_ invoke__">chars</span>().<span class="hljs-title function_ invoke__">last</span>()<br>&#125;<br></code></pre></td></tr></table></figure><p>相当于可以提前传播错误，对上述两种类型对于 <code>Err</code> 和 <code>None</code> 就可以提前返回</p><p><strong>究竟是恐慌还是不恐慌？</strong>就看能否给调用代码恢复的机会。</p><p><strong>unwrap/expect 的场合：</strong>作为原型代码中的错误处理占位符</p><h2 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h2><p><strong>Vec\<T\></strong>：连续空间、可增长的序列，末尾可以高效增删、会发生增长和收缩</p><p><strong>VecDeque\<T\></strong>：双端向量，两端可以高效增删，用环状缓冲区</p><p><strong>LinkedList\<T\></strong>：双向链表，不能随机索引</p><p><strong>HashMap<K, V> / BTreeMap<K, V></strong>：字典（映射）类型，一般使用 <strong>HashMap<K, V></strong>，需要满足 K: Hash + Eq，需要有序的时候用 <strong>BTreeMap<K, V></strong> ，需要满足 K: Ord</p><p>两者访问复杂度分别为 $O(1)$ 和 $O(\log n)$ ，哈希表的使用举例</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">use</span> std::collections::HashMap;<br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">scores</span> = HashMap::<span class="hljs-title function_ invoke__">new</span>();<br><span class="hljs-comment">// 添加元素</span><br>scores.<span class="hljs-title function_ invoke__">insert</span>(String::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">&quot;Blue&quot;</span>), <span class="hljs-number">10</span>);<br>scores.<span class="hljs-title function_ invoke__">insert</span>(String::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">&quot;Yellow&quot;</span>), <span class="hljs-number">50</span>);<br><span class="hljs-comment">// 访问字典</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">team_name</span> = String::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">&quot;Blue&quot;</span>);<br><span class="hljs-keyword">let</span> <span class="hljs-variable">score</span> = scores.<span class="hljs-title function_ invoke__">get</span>(&amp;team_name);<br><span class="hljs-comment">// 遍历元素</span><br><span class="hljs-title function_ invoke__">for</span> (key, value) <span class="hljs-keyword">in</span> &amp;scores &#123;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;: &#123;&#125;&quot;</span>, key, value);<br>&#125;<br><span class="hljs-comment">// 用于统计字母出现次数</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">count</span>: BTreeMap&lt;<span class="hljs-type">char</span>, <span class="hljs-type">usize</span>&gt; = BTreeMap::<span class="hljs-title function_ invoke__">new</span>();<br><span class="hljs-keyword">for</span> <span class="hljs-variable">ch</span> <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;abcbcddef&quot;</span>.<span class="hljs-title function_ invoke__">chars</span>() &#123;<br>  <span class="hljs-comment">// &#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 2, &#x27;c&#x27;: 2, &#x27;d&#x27;: 2, &#x27;e&#x27;: 1, &#x27;f&#x27;: 1&#125;</span><br>  count.<span class="hljs-title function_ invoke__">entry</span>(ch).<span class="hljs-title function_ invoke__">and_modify</span>(|e| *e += <span class="hljs-number">1</span>).<span class="hljs-title function_ invoke__">or_insert</span>(<span class="hljs-number">1</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>collect() 的使用</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 将数据从列表转化为 BTreeSet</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">data</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">set</span>: BTreeSet = data.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">collect</span>();<br><span class="hljs-comment">// 将数据中每个数乘以原来的两倍</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">input</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">result</span>: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt; = input.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">map</span>(|x| x * <span class="hljs-number">2</span>).<span class="hljs-title function_ invoke__">collect</span>();<br><span class="hljs-comment">// 使用 zip() 将两个数据叠加</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">b</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">result</span>: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt; = a.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">zip</span>(b.<span class="hljs-title function_ invoke__">iter</span>()).<span class="hljs-title function_ invoke__">map</span>(|(x, y)| x + y).<span class="hljs-title function_ invoke__">collect</span>();<br></code></pre></td></tr></table></figure><p>early，向量 lazy</p><p>B树外存，二叉树内存</p><h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><p>对<strong>序列</strong>的一种抽象</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">trait</span> <span class="hljs-title class_">Iterator</span> &#123;<br>  <span class="hljs-keyword">type</span> <span class="hljs-title class_">Item</span>;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">next</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;<span class="hljs-keyword">Self</span>::Item&gt;;<br>  <span class="hljs-comment">// More fields omitted</span><br>&#125;<br></code></pre></td></tr></table></figure><p>大数据方法 map revuse</p><h2 id="自动测试"><a href="#自动测试" class="headerlink" title="自动测试"></a>自动测试</h2><p>软件工程：<strong>回归测试</strong>（列出对所有的情况，每次开发判断能否通过）</p><p><strong>评测系统</strong>是独立于程序的系统，用于测试；<strong>单元测试</strong>嵌入程序当中，在内部进行测试</p><p>cargo 提供了相应测试 test，在函数前面加上 <code>#[test]</code> 以标注这是一个测试函数</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-meta">#[test]</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">it_works</span>() &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">result</span> = <span class="hljs-number">2</span> + <span class="hljs-number">2</span>;<br>  <span class="hljs-built_in">assert_eq!</span>(result, <span class="hljs-number">4</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>习惯每写一个函数，就在文件后面实现对它的单元测试，也可以调换过来，测试驱动编程</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">vector_length</span>(data: &amp;<span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> &#123;<br>  vector_length.<span class="hljs-title function_ invoke__">len</span>()<br>&#125;<br><span class="hljs-meta">#[test]</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">test_vector_length</span>() &#123;<br>  <span class="hljs-built_in">assert_eq!</span>(<span class="hljs-title function_ invoke__">vector_length</span>(&amp;<span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]), <span class="hljs-number">3</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>持续集成，CICD，每次 push 一次就会自动跑脚本，判断测试是否失败</p><h1 id="Tutorial"><a href="#Tutorial" class="headerlink" title="Tutorial"></a>Tutorial</h1><h2 id="习题评讲"><a href="#习题评讲" class="headerlink" title="习题评讲"></a>习题评讲</h2><ul><li><p>使用元组实现相当于解包压包</p></li><li><p>使用 <code>a.inter().map(|x| x * 2).collect()</code> 等价于 </p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">ret</span> - <span class="hljs-built_in">vec!</span>[];<br><span class="hljs-keyword">for</span> <span class="hljs-variable">x</span> <span class="hljs-keyword">in</span> &amp;a&#123;<br>  rec.<span class="hljs-title function_ invoke__">push</span>(x * <span class="hljs-number">2</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>随机数的选取，如果不希望抽重，使用随机种子打乱然后顺序取</p></li><li><p><code>json</code> 是传输数据格式中非常重要的格式：字符串、字典、数字，标准中没有注释，最后没有逗号。</p></li><li><p>general 的工作一定有人写，合并命令行参数第三方库 <code>merge</code></p></li><li><p>f64 没有实现偏序关系 Ord ，这是因为 NaN 不满足全序关系，从而 NaN 与所有数比较都是 false</p></li></ul><h2 id="OJ-相关知识"><a href="#OJ-相关知识" class="headerlink" title="OJ 相关知识"></a>OJ 相关知识</h2><p>请求和响应，前端属于客户端，不涉及跨主机访问</p><h3 id="HTTP-请求"><a href="#HTTP-请求" class="headerlink" title="HTTP 请求"></a>HTTP 请求</h3><p>例子：<a href="https://www/baidu.com/">https://www/baidu.com/</a></p><p>GET:</p><p>HOST: www.baidu.com</p><p>Content-Type: html</p><h3 id="HTTP-响应"><a href="#HTTP-响应" class="headerlink" title="HTTP 响应"></a>HTTP 响应</h3><p>一个例子：</p><p>HTTP 200 OK</p><p>Content-Type: application</p><h3 id="json-序列化与反序列化"><a href="#json-序列化与反序列化" class="headerlink" title="json 序列化与反序列化"></a>json 序列化与反序列化</h3><h1 id="derive-deserialize"><a href="#derive-deserialize" class="headerlink" title="[derive: deserialize]"></a>[derive: deserialize]</h1><p>result 转成 json 文件</p><h3 id="互斥锁"><a href="#互斥锁" class="headerlink" title="互斥锁"></a>互斥锁</h3><p>yse std::sync::{Arc, Mutex};</p><p>保证数据只能被一个线程加以修改，但要防止死锁（情况如下）</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">lock_a</span> = A.<span class="hljs-title function_ invoke__">luck</span>().<span class="hljs-title function_ invoke__">unwrap</span>();<br><span class="hljs-keyword">let</span> <span class="hljs-variable">lock_b</span> = B.<span class="hljs-title function_ invoke__">luck</span>().<span class="hljs-title function_ invoke__">unwrap</span>();<br></code></pre></td></tr></table></figure><p>在上锁的时候，所有错误不要出现恐慌</p><h3 id="不同提交隔离"><a href="#不同提交隔离" class="headerlink" title="不同提交隔离"></a>不同提交隔离</h3><p>一个小段子：C艹中的 <deque> 中分配内存出错时，没有出现内存错误的异常</p><h1 id="Lecture-4"><a href="#Lecture-4" class="headerlink" title="Lecture 4"></a>Lecture 4</h1><h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><p>C 语言中没有泛型，如 <code>quicksort() bisearch()</code> 没有对数据类型进行泛化，而是交给程序员进行处理（手动传入 <code>compare()</code> 函数）</p><p>Rust 中第一个泛型，将类型作为参数，变成泛型枚举类型</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Result</span>&lt;T, E&gt; &#123;<br>  <span class="hljs-title function_ invoke__">Ok</span>(T),<br>  <span class="hljs-title function_ invoke__">Err</span>(E),<br>&#125;<br></code></pre></td></tr></table></figure><p>python 不需要泛型，其有底层 <code>Object</code> 类型，并且是动态语言</p><p>对上述泛型枚举类型，在实现相应方法的时候其函数返回值也是 <code>&lt;T, E&gt;</code>，其也可以使用参数作为传入</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">foo</span>&lt;T, U&gt;(x: T, y: U)&#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="特型-trait"><a href="#特型-trait" class="headerlink" title="特型(trait)"></a>特型(trait)</h2><p>一定程度上对应<strong>面向对象编程的多态性</strong>，对于下一段美观打印、同时比较多个参数结构体实现代码：</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> &#123; <br>  x: <span class="hljs-type">i32</span>, <br>  y: <span class="hljs-type">i32</span>, <br>&#125;<br><span class="hljs-keyword">impl</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">format</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> &#123;<br><span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;(&#123;&#125;, &#123;&#125;)&quot;</span>, <span class="hljs-keyword">self</span>.x, <span class="hljs-keyword">self</span>.y)<br>&#125;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">equals</span>(&amp;<span class="hljs-keyword">self</span>, other: Point) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">bool</span> &#123;<br><span class="hljs-keyword">self</span>.x == other.x &amp;&amp; <span class="hljs-keyword">self</span>.y == other.y<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>可以抽象出共同特点(trait)，相当于 C艹 中的虚函数</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// write trait</span><br><span class="hljs-keyword">trait</span> <span class="hljs-title class_">PrettyPrint</span> &#123;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">format</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span>;<br>&#125;<br><span class="hljs-comment">// write actual function</span><br><span class="hljs-keyword">impl</span> <span class="hljs-title class_">PrettyPoint</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Point</span> &#123;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">format</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> &#123;<br>    <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;(&#123;&#125;, &#123;&#125;)&quot;</span>, <span class="hljs-keyword">self</span>.x, <span class="hljs-keyword">self</span>.y)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>C++ 中标准库由快速排序和插入排序混合版实现</p><p>python java 使用 Tim-Sort 归并排序</p><p>C++ 背上了很大的历史包袱，每次遇到问题都需要加入新的概念</p><p>特型约束的泛型类型示例</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Result</span>&lt;T, E&gt; &#123;<br><span class="hljs-title function_ invoke__">Ok</span>(T),<br><span class="hljs-title function_ invoke__">Err</span>(E), <br>&#125;<br><span class="hljs-keyword">trait</span> <span class="hljs-title class_">PrettyPrint</span> &#123;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">format</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span>; <br>&#125;<br><span class="hljs-keyword">impl</span>&lt;T: PrettyPrint, E: PrettyPrint&gt; PrettyPrint <span class="hljs-keyword">for</span> <span class="hljs-title class_">Result</span>&lt;T, E&gt; &#123;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">format</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> &#123;<br>    <span class="hljs-keyword">match</span> *<span class="hljs-keyword">self</span> &#123;<br>      <span class="hljs-title function_ invoke__">Ok</span>(t) =&gt; <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;Ok(&#123;&#125;)&quot;</span>, t.<span class="hljs-title function_ invoke__">format</span>()),<br>      <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;Err(&#123;&#125;)&quot;</span>, e.<span class="hljs-title function_ invoke__">format</span>()), <br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>特型可以拿到其“子特型”的方法</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">trait</span> <span class="hljs-title class_">Parent</span> &#123;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">foo</span>(&amp;<span class="hljs-keyword">self</span>) &#123;<br>    <span class="hljs-comment">// ...</span><br>  &#125;<br>&#125;<br><span class="hljs-keyword">trait</span> <span class="hljs-title class_">Child</span>: Parent &#123;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">bar</span>(&amp;<span class="hljs-keyword">self</span>) &#123;<br>    <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">foo</span>();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>#[derive(Debug)]</code> 能够让对应的数据结构获得相应实现，不用重新编写，共有以下自动<strong>核心特性</strong></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-built_in">Clone</span>, <span class="hljs-built_in">Copy</span>, <span class="hljs-built_in">Debug</span>, <span class="hljs-built_in">Default</span>, <span class="hljs-built_in">Eq</span><br>Hash, <span class="hljs-built_in">Ord</span>, PatialEq, <span class="hljs-built_in">PartialOrd</span><br></code></pre></td></tr></table></figure><p>特型的自动获得需要满足其所有成员都能自动获得指定的特型，如 Eq 不能在包含 f32 的结构体类型上自动获得，因为 f32 不是 Eq 的（浮点数中的 NAN  与任意数比较都是错误的，<strong>不满足全序关系中的自反性</strong>）</p><p><strong>Debug</strong> 特型用于输出调试信息，如 </p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-meta">#[derive(Debug)]</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> &#123; x: <span class="hljs-type">i32</span>, y: <span class="hljs-type">i32</span>, &#125;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">origin</span> = Point &#123; x: <span class="hljs-number">0</span>, y: <span class="hljs-number">0</span> &#125;;<br><span class="hljs-comment">// println!(&quot;The origin is: &#123;:?&#125;&quot;, origin);</span><br></code></pre></td></tr></table></figure><p><strong>Default</strong> 特型用于定义一个默认值，如 0 或者 “”</p><p><strong>Eq 和 PartialEq</strong> 等价关系和部分等价关系，都有对称性和传递性，前者还有自反性</p><p><strong>Hash</strong> 表示可哈希的类型，H 类型是抽象的哈希状态，可以计算哈希值，而如果同时出现了 Eq 特型，需要满足以下重要性质</p><p>x == y -&gt; hash(x) == hash(y) </p><p><strong>PartialOrd 和 Ord</strong> 表示偏序和全序，都有反对称性和传递性，前者还要满足完全性（对所有的 a 和 b，有 a &lt;= b 或者 b &lt;= a 成立），后者可以按照字典序排序</p><p><strong>关联类型的需求</strong>：例如，图的表示：邻接矩阵/链表</p><p><strong>Sized 和 ?Sized</strong> 前者表示在编译时固定大小，后者大小是动态的（如 [T], str），一般跟指针相关的泛型才会出现后者（如 Box<T>）</p><p>特型甚至可以为所有类型写，如 i32，但不推荐。为了写一个特型实现的 impl 代码段，要么拥有该特性，要么拥有该类型。</p><p><strong>Drop</strong> 表示可以销毁的特型，但一般情况下不需要手动实现 Drop</p><h2 id="特型对象"><a href="#特型对象" class="headerlink" title="特型对象"></a>特型对象</h2><p>考虑以下特型和实现</p><p><strong>静态</strong>分发：在编译的时候给定了相应特性的函数</p><p><strong>动态</strong>分发：在运行的时候决定相应特性的函数，但只有运行之后才能使用，其他情况只能当成一个特型来使用，编译器不知道对应的类型信息（已经被抹去）</p><p><strong>对象安全性</strong>，需要满足一定条件，关联函数要求除接收方之外，其他地方都不能出现 Self 类型（否则获取到对应的类型），不能以 Sized 为超特型，接收方是引用或者指针形式的类型（Self, Box\<Self\>）</p><blockquote><p>课件上问题：不可变的引用是可以 Clone 的。</p></blockquote><h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><p>考虑以下情况：</p><ol><li>获取了一项资源。</li><li>乙方通过引用借用了甲方的这项资源。</li><li>甲方对这项资源使用完毕，对它进行释放。</li><li>乙方还保留着对这项资源的引用，并开始使用它。</li><li>乙方挂了……</li></ol><p>如何保证第 3 步和第 4 步的顺序关系？一般情况下，引用具有隐式的生命周期，不需要额外关注，但也可以<strong>显式</strong>地指定生命周期</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">bar</span>&lt;<span class="hljs-symbol">&#x27;a</span>&gt;(x: &amp;<span class="hljs-symbol">&#x27;a</span> <span class="hljs-type">i32</span>) &#123;<br><span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><p><code>fn borrow_x_or_y&lt;&#39;a&gt;(x: &amp;&#39;a str, y: &amp;&#39;a str) -&gt; &amp;&#39;a str;</code> 保证引用 x 和 y 的生命周期至少会和返回的引用生命周期一样长，若只需要前者和返回值的生命周期一样长，则可以分开为 ‘a 与 ‘b <code>fn borrow_p&lt;&#39;a, &#39;b&gt;(p: &amp;&#39;a str, q: &amp;&#39;b str) -&gt; &amp;&#39;a str;</code>，如以下编译期间会报错</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Pizza</span>(<span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;);<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PizzaSlice</span>&lt;<span class="hljs-symbol">&#x27;a</span>&gt; &#123;<br>  pizza: &amp;<span class="hljs-symbol">&#x27;a</span> Pizza, <span class="hljs-comment">// &lt;- references in structs must</span><br>  index: <span class="hljs-type">u32</span>, <span class="hljs-comment">// ALWAYS have explicit lifetimes</span><br>&#125;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">s2</span>; &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">p2</span> = <span class="hljs-title function_ invoke__">Pizza</span>(<span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);<br>  s2 = PizzaSlice &#123; pizza: &amp;p2, index: <span class="hljs-number">2</span> &#125;;<br>  <span class="hljs-comment">// no good - why?</span><br>&#125;<br><span class="hljs-title function_ invoke__">drop</span>(s2); <span class="hljs-comment">// to undo NLL</span><br></code></pre></td></tr></table></figure><p>如果结构体或者枚举类型的成员是引用，那么就需要显式地指定生命周期</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Foo</span>&lt;<span class="hljs-symbol">&#x27;a</span>, <span class="hljs-symbol">&#x27;b</span>&gt; &#123;<br>  v: &amp;<span class="hljs-symbol">&#x27;a</span> <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;,<br>s: &amp;<span class="hljs-symbol">&#x27;b</span> <span class="hljs-type">str</span>, <br>&#125;<br></code></pre></td></tr></table></figure><h1 id="Lecture-5"><a href="#Lecture-5" class="headerlink" title="Lecture 5"></a>Lecture 5</h1><blockquote><p><strong>所有权</strong>是 rust 语言<strong>资源管理</strong>的灵魂，<strong>特型</strong>是 rust 语言<strong>灵活运用</strong>的灵魂。</p><p><strong>共享不修改，修改不共享——rust 设计哲学</strong></p></blockquote><h2 id="项目管理"><a href="#项目管理" class="headerlink" title="项目管理"></a>项目管理</h2><h3 id="模块系统"><a href="#模块系统" class="headerlink" title="模块系统"></a>模块系统</h3><ul><li>包 (packages)：Cargo 的一项功能，可以让用户构建、测试、分享箱。</li><li>箱 (crates)：也叫单元包，是由<strong>模块构成的一棵树</strong>，能够产生一个库或者可执行文件。</li><li>模块 (modules)：与 use 配合，<strong>控制路径</strong>的组织结构、作用域和访问权限。</li><li>路径 (paths)：命名项目的方式，这里的项目可以指结构体、函数、模块等。</li></ul><p>在模块中加上 <code>pub</code> 关键字便可以让其他用户访问，模块相当于 C艹 中的 namespace，模块之间可以嵌套，如下</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">mod</span> english &#123;<br>  <span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> greetings &#123; <span class="hljs-comment">/* ... */</span> &#125;<br>  <span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> farewells &#123; <span class="hljs-comment">/* ... */</span> &#125;<br>&#125;<br><span class="hljs-keyword">mod</span> chinese &#123;<br>  <span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> greetings &#123; <span class="hljs-comment">/* ... */</span> &#125;<br>  <span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> farewells &#123; <span class="hljs-comment">/* ... */</span> &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>可以把模块写成单独的文件 <code>lib.rs</code>，用于整合所有的模块</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// lib.rs</span><br><span class="hljs-keyword">mod</span> english;<br><span class="hljs-comment">// english.rs</span><br><span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> greetings &#123; <span class="hljs-comment">/*...*/</span> &#125;<br></code></pre></td></tr></table></figure><p>也可以用目录来组织模块，把模块当做目录名使用</p><p>还可以在 Cargo 中使用自己编写的箱</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust">[dependencies]<br>myfoo = &#123; git = <span class="hljs-string">&quot;https://github.com/me/foo-rs&quot;</span> &#125;<br>mybar = &#123; path = <span class="hljs-string">&quot;../rust-bar&quot;</span> &#125;<br></code></pre></td></tr></table></figure><h3 id="Cargo-相关"><a href="#Cargo-相关" class="headerlink" title="Cargo 相关"></a>Cargo 相关</h3><p><strong>单元测试</strong>直接附着在源代码中，<code>#[test]</code>，<strong>集成测试</strong>放在 <code>tests/*.rs</code> 中，<strong>基准测试程序</strong>放在 <code>benches/*.rs</code>（类似作坊中的基准模块）</p><p><code>feature</code> 是在构建时做选择性的开关（与 <code>bug</code> 不同）</p><p>使用 rust 语言，Cargo 编写脚本</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust">[package]<br>build = <span class="hljs-string">&quot;build.rs&quot;</span><br></code></pre></td></tr></table></figure><p>可以将自己写的软件包发布到 crate.io ，原子性的库。</p><h2 id="语法补充"><a href="#语法补充" class="headerlink" title="语法补充"></a>语法补充</h2><h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><h1 id="no-std-禁用标准库，-derive-Debug-自动获得特型"><a href="#no-std-禁用标准库，-derive-Debug-自动获得特型" class="headerlink" title="! [no_std] 禁用标准库，#[derive(Debug)] 自动获得特型"></a>! [no_std] 禁用标准库，#[derive(Debug)] 自动获得特型</h1><h1 id="inline-always-提示编译器内联优化，-cfg-target-os-“linux”-定义条件编译。"><a href="#inline-always-提示编译器内联优化，-cfg-target-os-“linux”-定义条件编译。" class="headerlink" title="[inline(always)] 提示编译器内联优化，#[cfg(target_os = “linux”)] 定义条件编译。"></a>[inline(always)] 提示编译器内联优化，#[cfg(target_os = “linux”)] 定义条件编译。</h1><p>inter procedure o</p><h3 id="操作符-1"><a href="#操作符-1" class="headerlink" title="操作符"></a>操作符</h3><p>运算类 &gt; 操作类 &gt; 位运算类 &gt; 逻辑类，其背后的原因是 a + b == c 应该被理解为 (a + b) == c，后者是源于逻辑二元运算存在<strong>短路情况</strong></p><p>使用特型来重载操作符，定义在 std::ops 下，有如下重载操作符：Neg, Not, Deref, DerefMut | Mul, Div, Mod | Add, Sub…</p><h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><p>使用 <strong>From 和 Into 实现自定义类型转换</strong>，前者实现之后后者会自动实现，例如实现<strong>对数转换</strong></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">impl</span> <span class="hljs-title class_">Into</span>&lt;<span class="hljs-type">f64</span>&gt; <span class="hljs-keyword">for</span> <span class="hljs-title class_">Log2</span> &#123;<br>    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">into</span>(<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">f64</span> &#123;<br>        <span class="hljs-comment">// return log_2 of the value</span><br>        <span class="hljs-keyword">self</span>.<span class="hljs-number">0</span>.<span class="hljs-title function_ invoke__">ln</span>() / std::f64::consts::LN_2<br>    &#125;<br>&#125;<br><span class="hljs-comment">// 调用取得对数</span><br>    <span class="hljs-keyword">let</span> <span class="hljs-variable">log2_4</span>: <span class="hljs-type">f64</span> = <span class="hljs-title function_ invoke__">Log2</span>(<span class="hljs-number">4.0</span>).<span class="hljs-title function_ invoke__">into</span>();<br>    <span class="hljs-keyword">let</span> <span class="hljs-variable">log2_8</span>: <span class="hljs-type">f64</span> = <span class="hljs-title function_ invoke__">Log2</span>(<span class="hljs-number">8.0</span>).<span class="hljs-title function_ invoke__">into</span>();<br></code></pre></td></tr></table></figure><h3 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h3><h4 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h4><ul><li><p>CamelCase：类型、特型</p></li><li><p>snake_case：箱、模块、函数、方法、变量</p></li><li><p>SCREAMING_SNAKE_CASE：常量和静态变量</p></li><li><p>T（单个大写字母）：类型参数</p></li><li><p>‘a（撇 + 短的小写名字）：生命周期参数</p></li></ul><h4 id="构造函数和转换函数"><a href="#构造函数和转换函数" class="headerlink" title="构造函数和转换函数"></a>构造函数和转换函数</h4><ul><li><p>new, new_with_stuff：构造函数</p></li><li><p>from_foo：转换构造函数</p></li><li><p>as_foo：低开销非消耗性转换</p></li><li><p>to_foo：高开销非消耗性转换</p></li><li><p>into_foo：消耗性转换</p></li></ul><h2 id="智能指针"><a href="#智能指针" class="headerlink" title="智能指针"></a>智能指针</h2><h3 id="Box"><a href="#Box" class="headerlink" title="Box\"></a>Box\<T\></h3><p>用于在堆上分配空间存放数据，其拥有 T 类型的对象，其指针是唯一的，类似 C艹 中的 <code>std::unique_ptr</code>，是动态分配</p><h3 id="std-rc-Rc"><a href="#std-rc-Rc" class="headerlink" title="std::rc::Rc\"></a>std::rc::Rc\<T\></h3><p>是 <strong>Referenced counted</strong> 的缩写，代表指针的别名个数</p><p>共享所有权的指针类型，相当于 C艹 中的 <code>std::shared_ptr</code>，并且其一直符合 rust 的借用规则，当且仅当引用计数为 1 时才能修改</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">shared</span> = Rc::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">6</span>);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;&quot;</span>, Rc::<span class="hljs-title function_ invoke__">get_mut</span>(&amp;<span class="hljs-keyword">mut</span> shared)); <span class="hljs-comment">// ==&gt; Some(6)</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">cloned</span> = shared.<span class="hljs-title function_ invoke__">clone</span>(); <span class="hljs-comment">// ==&gt; Another reference</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;&quot;</span>, Rc::<span class="hljs-title function_ invoke__">get_mut</span>(&amp;<span class="hljs-keyword">mut</span> shared)); <span class="hljs-comment">// ==&gt; None</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;&quot;</span>, Rc::<span class="hljs-title function_ invoke__">get_mut</span>(&amp;<span class="hljs-keyword">mut</span> cloned)); <span class="hljs-comment">// ==&gt; None</span><br></code></pre></td></tr></table></figure><p>gc 垃圾回收机制，如果有各种变量相互引用形成<strong>一种环</strong>，就不能释放，导致空间的浪费：</p><ul><li><p>A 有一个 B 的 Rc，B 也有一个 A 的 Rc，两者的引用计数都是 1。</p></li><li><p>由于构成了环，两个对象都不会被释放，从而引起内存泄露。</p></li></ul><p>可以使用<strong>弱引用</strong>来避免（与 C艹 中的 <code>weak_ptr</code> 类似） ，Rc::downgrade() 降级成 Weak。</p><blockquote><p>对于图 (V, E)，对顶点拥有<strong>所有权</strong>，但是对于边来说，不能拥有对顶点的所有权，可以使用<strong>弱引用</strong>来实现</p></blockquote><p>但这样会引入双重计数，增加开销。</p><h3 id="std-cell-Cell"><a href="#std-cell-Cell" class="headerlink" title="std::cell::Cell\"></a>std::cell::Cell\<T\></h3><p>为 Copy 类型提供内部可变性的格子类型，用 get() 从 Cell 中取值，用 set() 更新 Cell 的值。</p><h3 id="std-cell-RefCell"><a href="#std-cell-RefCell" class="headerlink" title="std::cell::RefCell\"></a>std::cell::RefCell\<T\></h3><p>可为任意类型提供内部可变性，当 borrow() 一个 RefCell\<T\> 时，得到的是 Ref\<T\>，而不是 &amp;T。</p><h3 id="const-T-和-mut-T"><a href="#const-T-和-mut-T" class="headerlink" title="const T 和 *mut T"></a>const T 和 *mut T</h3><p>相当于 C 语言的裸指针。</p><h2 id="常用库"><a href="#常用库" class="headerlink" title="常用库"></a>常用库</h2><ul><li>正则表达式: reges</li><li>日志: log （源于航海，各种级别分开，error, warning）</li><li>日期: chrono </li><li>HTTP 客户端: reqwest</li><li>增强错误处理: thiserror , anyhow</li><li>数据库: rusqlite, r2d2</li></ul><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><p><strong>数据库</strong>是以一定方式存储在一起、能够给多个用户共享、具有尽可能小的冗余度、与应用程序彼此独立的数据集合。</p><ul><li>关系数据库：<strong>创建在关系模型基础上的数据库</strong>，给予集合代数<ul><li>Oracle 国外数据库，早些年中国各大银行使用，现在国产化</li><li>ProsgreSQL<ul><li>MySQL</li><li>SQLite</li></ul></li></ul></li></ul><p><img src="https://pic.imgdb.cn/item/6310b37c16f2c2beb17decd6.jpg" style="zoom:50%;" /></p><ul><li>非关系型数据库<ul><li>文档数据库（json 转换为二进制文件），如 MongoDB</li><li>键值数据库（类似 HashMap），如 LevelDB</li></ul></li></ul><h3 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h3><p>数据查询：<strong>选择、投影、连接、并、交、差</strong></p><p>Excel 表中 vlookup 函数用于合并数据，指定键值</p><p>数据操作：<strong>新增、删除、修改、查询</strong></p><h3 id="SQL-简介"><a href="#SQL-简介" class="headerlink" title="SQL 简介"></a>SQL 简介</h3><p>常用命令：</p><ul><li>创建表格 CREATE TABLE </li><li>查询数据 SELECT</li><li>插入数据 INSERT</li><li>更新数据 UPDATE</li><li>删除数据 DELETE</li><li>删除表格 DROP TABLE</li></ul><p>DBA IT 认证，Oracle 数据管理库职业</p><h3 id="在-rust-中使用-SQL"><a href="#在-rust-中使用-SQL" class="headerlink" title="在 rust 中使用 SQL"></a>在 rust 中使用 SQL</h3><p>软件包 rusqlite </p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;()&gt; &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">conn</span> = Connection::<span class="hljs-title function_ invoke__">open_in_memory</span>()?;<br>  conn.<span class="hljs-title function_ invoke__">execute</span>(<br>    <span class="hljs-string">&quot;CREATE TABLE person (</span><br><span class="hljs-string">    id INTEGER PRIMARY KEY,</span><br><span class="hljs-string">    name TEXT NOT NULL,</span><br><span class="hljs-string">    data BLOB</span><br><span class="hljs-string">    )&quot;</span>,<br>    (), <span class="hljs-comment">// empty list of parameters.</span><br>  )?;<br>&#125;<br></code></pre></td></tr></table></figure><p>还可以与 Web 框架联合使用</p><p>创建数据库连接池，将连接池作为 Data\<T\> 传给请求处理代码</p><h1 id="Lecture-6"><a href="#Lecture-6" class="headerlink" title="Lecture 6"></a>Lecture 6</h1><blockquote><p>当今许多设备都是多核的，并发是现代语言必须具备的特性，</p></blockquote><h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><h3 id="概念与类型推导"><a href="#概念与类型推导" class="headerlink" title="概念与类型推导"></a>概念与类型推导</h3><p>闭包的概念和匿名函数、lambda 函数相似，其可以绑定在变量上：</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">square</span> = |x: <span class="hljs-type">i32</span>| <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> &#123; x * x &#125;;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, <span class="hljs-title function_ invoke__">square</span>(<span class="hljs-number">3</span>));<br><span class="hljs-comment">// =&gt; 9</span><br></code></pre></td></tr></table></figure><p>类型可以推导，参数类型和返回值类型都可以不显示地给出</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">square_v4</span> = |x: <span class="hljs-type">u32</span>| &#123; (x * x) <span class="hljs-keyword">as</span> <span class="hljs-type">i32</span> &#125;;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">square</span> = |x| &#123; x * x &#125;;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, <span class="hljs-title function_ invoke__">square</span>(-<span class="hljs-number">2.4</span>));<br><span class="hljs-comment">// =&gt; 5.76</span><br></code></pre></td></tr></table></figure><h3 id="捕捉"><a href="#捕捉" class="headerlink" title="捕捉"></a>捕捉</h3><p>闭包还可以包含其所在的环境（可以调用外面的参数，称为<strong>捕捉</strong>）</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">magic_num</span> = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">magic_johnson</span> = <span class="hljs-number">32</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">plus_magic</span> = |x: <span class="hljs-type">i32</span>| x + magic_num;<br></code></pre></td></tr></table></figure><p>闭包绑定后如果尝试借用，如果在上述代码后面加入以下代码，借用编译器则会报错</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">more_magic</span> = &amp;<span class="hljs-keyword">mut</span> magic_num; <span class="hljs-comment">// Err!</span><br></code></pre></td></tr></table></figure><h3 id="移动闭包"><a href="#移动闭包" class="headerlink" title="移动闭包"></a>移动闭包</h3><p>可以使用 <code>&#123;...&#125;</code>  让闭包超过作用域来恢复，调用函数和被调用函数 Caller, Callee，也可以使用 <code>move</code> 关键字强制闭包获得环境变量的所有权，为<strong>移动闭包</strong></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">make_closure</span>(x: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> <span class="hljs-title function_ invoke__">Fn</span>(<span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span>&gt; &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">f</span> = <span class="hljs-keyword">move</span> |y| x + y;<br>  Box::<span class="hljs-title function_ invoke__">new</span>(f)<br>&#125;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">f</span> = <span class="hljs-title function_ invoke__">make_closure</span>(<span class="hljs-number">2</span>);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, <span class="hljs-title function_ invoke__">f</span>(<span class="hljs-number">3</span>));<br><span class="hljs-comment">// =&gt; 5</span><br></code></pre></td></tr></table></figure><h3 id="特型闭包"><a href="#特型闭包" class="headerlink" title="特型闭包"></a>特型闭包</h3><p>闭包与所有权，只能调用一次，满足 rust 借用规则。与所有权相似，闭包也具有闭包特型，<code>Fn, FnMut, FnOnce</code> 分别代表借用、可变借用、所有权</p><p>如何正确地返回闭包？如下，使用动态的生命周期以及移动语义解决</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">box_up_your_closure_and_move_out</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> <span class="hljs-title function_ invoke__">Fn</span>(<span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span>&gt; &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">local</span> = <span class="hljs-number">2</span>;<br>  Box::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-keyword">move</span> |x| x * local)<br>&#125;<br></code></pre></td></tr></table></figure><p>Lambda 函数本质上是 C++/Rust 在调用处创建一个未知名字的类/结构体，然后传入环境的相关值，最后调用一个未知名字的函数。</p><h2 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h2><h3 id="线程进程、并发并行概念"><a href="#线程进程、并发并行概念" class="headerlink" title="线程进程、并发并行概念"></a>线程进程、并发并行概念</h3><p>二进制可执行文件在执行之后，成为进程，在 CPU 中存放：<strong>寄存器，堆，栈，操作系统指令</strong>。</p><p><strong>Program Point</strong> 指向进程下一个指令（在X86 中称为 PC）</p><p>线程是<strong>轻量级</strong>，有 CPU 存放的寄存器、堆、栈、操作系统指令单元，但内存是相互共享的，但不引入通信的开销（网络、进程通信）</p><p>并发是程序同时有多个正在运行的线程，而并行是指多个处理单元，要求更高，真正意义的同时处理。</p><h3 id="并发执行"><a href="#并发执行" class="headerlink" title="并发执行"></a>并发执行</h3><p>考虑下面代码，假设两个线程，一个执行 <code>foo()</code>，一个执行 <code>bar()</code> </p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">x</span> = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">foo</span>() &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">y</span> = &amp;<span class="hljs-keyword">mut</span> x; *y = <span class="hljs-number">1</span>;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, *y); <span class="hljs-comment">// foo expects 1</span><br>&#125;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">bar</span>() &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">z</span> = &amp;<span class="hljs-keyword">mut</span> x; *z = <span class="hljs-number">2</span>;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, *z); <span class="hljs-comment">// bar expects 2</span><br>&#125;<br></code></pre></td></tr></table></figure><p>这两个线程的执行顺序不是每次都能保证的，如果将两个函数当做两台 ATM 机，则会发生严重的后果。</p><p>并发编程的难点：<strong>数据共享</strong>、<strong>数据竞争</strong>、<strong>同步</strong>（保证所有线程都有正确的世界观，共享缓冲区）、<strong>死锁</strong></p><p>死锁发生有四个条件：<strong>互斥、持有资源、非抢占、等待成环</strong></p><p>一个形象的例子：</p><p><em>N</em> 个哲学家坐在一张圆桌周围，交替地进行吃饭和思考。每个哲学家需要一双筷子用来吃饭，但是一共只有 <em>N</em> 根筷子，每两个哲学家之间有一根。</p><p>哲学家的行为用算法描述如下：</p><ul><li>拿起他左侧的那根筷子（获取一个资源的锁）。</li><li>拿起他右侧的那根筷子（获取一个资源的锁）。</li><li>吃饭（使用资源）。</li><li>将两根筷子放回原处（释放资源的锁）。</li></ul><p>对所有哲学家来说，依据算法，所有人都拿到左侧的筷子，而此时桌上没有筷子，从而所有人卡在第二步</p><h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><p>Rust 标准库提供了线程 <code>std::thread</code>，每个线程有自己的栈和状态，使用闭包来指定线程的行为</p><h3 id="线程句柄"><a href="#线程句柄" class="headerlink" title="线程句柄"></a>线程句柄</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">use</span> std::thread;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">handle</span> = thread::<span class="hljs-title function_ invoke__">spawn</span>(|| &#123;<br>  <span class="hljs-string">&quot;Hello, world!&quot;</span><br>&#125;);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;&quot;</span>, handle.<span class="hljs-title function_ invoke__">join</span>());<br></code></pre></td></tr></table></figure><p><img src="https://lr-tsinghua11.github.io/img/video_editor/blackboard.png" alt=""></p><p><code>join()</code> 会阻塞当前线程的执行，直到句柄对应的线程终止，其返回 <code>Ok</code> 或者 <code>Err</code></p><p><code>thread::park()</code> 可以暂停自己的执行，之后可以通过现成的 <code>unpark()</code> 来继续执行</p><h3 id="线程与所有权"><a href="#线程与所有权" class="headerlink" title="线程与所有权"></a>线程与所有权</h3><p>线程的创建也要满足所有权的规则（包括闭包和所有权的规则），例如使用 <code>move</code> 来创建移动闭包，获得所有权</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">use</span> std::thread;<br><span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">10</span> &#123;<br>  thread::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">move</span> || &#123;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;I&#x27;m #&#123;&#125;!&quot;</span>, i);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="共享线程状态"><a href="#共享线程状态" class="headerlink" title="共享线程状态"></a>共享线程状态</h2><p>Rust 类型系统包含要求满足并发承诺的特型</p><ul><li><p>Send 表示可以在线程间安全转移</p></li><li><p>Sync 表示可以在线程间（通过引用）安全共享</p></li></ul><p>Send 类型可以将它的所有权在线程间转移，如果一种类型没有实现 Send，那么它只能留在原来的线程里。</p><p>Sync 类型在多个线程使用时不会引发内存安全问题，基本所有类型都是 Sync 的。以下为一个共享线程状态示例</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">use</span> std::thread;<br><span class="hljs-keyword">use</span> std::time::Duration;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">data</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>  <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">3</span> &#123;<br>    thread::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">move</span> || &#123;<br>      data[i] += <span class="hljs-number">1</span>;<br>    &#125;);<br>  &#125;<br>  thread::<span class="hljs-title function_ invoke__">sleep</span>(Duration::<span class="hljs-title function_ invoke__">from_millis</span>(<span class="hljs-number">50</span>));<br>&#125;<br></code></pre></td></tr></table></figure><p>此时 data 有多个所有者，使用 <code>Arc&lt;T&gt;</code> ，代表原子性的引用计数指针（Atomic Reference-Counted），但如果只是在初始化加入 Arc，编译也不通过。</p><p>Arc 也不具有内部可变性，需要添加<strong>互斥锁</strong>（Mutual Exclusion），保证它包含的值只有一个线程能够访问；如果一个线程锁定了互斥锁，但是发生了恐慌，此时该互斥锁进入中毒状态，该锁不会被释放</p><p>高并发任务、超算比赛主要资源共享，Open Np，消息传递 npi</p><h2 id="通道"><a href="#通道" class="headerlink" title="通道"></a>通道</h2><p>通道（channels）可以用来<strong>同步线程之间的状态</strong>，用于在线程之间传递消息，也可以用来提醒其他现成关于数据就绪、事件已经发行的情况</p><p><code>std::sync::mpsc</code> 实现多生产者、单消费者的通信功能</p><p><strong>同步：</strong>不同进程之间是需要等待的，<strong>异步：</strong>发送的东西放入（相当于无限大的）缓冲区，相互之间不需要等待</p><p>使用 <code>channel&lt;T&gt;()</code> 函数创建一对连接的 <code>(Sender&lt;T&gt;, Receiver&lt;T&gt;)</code></p><p><code>go</code> 语言有 <code>GC</code> 机制，导致编程开销大</p><p>对哲学家筷子问题，可以使用最后一个哲学家用相反方向拿筷子或者传递令牌规定拿筷子的哲学家。</p>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>Rust</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Rust</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Intersection Math knowledge</title>
    <link href="/2022/07/14/%E7%A0%94%E7%A9%B6/%E6%B1%82%E4%BA%A4%E9%97%AE%E9%A2%98%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86/"/>
    <url>/2022/07/14/%E7%A0%94%E7%A9%B6/%E6%B1%82%E4%BA%A4%E9%97%AE%E9%A2%98%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h1 id="特殊曲线曲面"><a href="#特殊曲线曲面" class="headerlink" title="特殊曲线曲面"></a>特殊曲线曲面</h1><h2 id="Bernstein-多项式"><a href="#Bernstein-多项式" class="headerlink" title="$Bernstein $ 多项式"></a>$Bernstein $ 多项式</h2><p>定义 $B_n(t)=\dfrac{n!}{i!(n-i)!}(1-t)^{n-i}t^{i}     i=0\cdots n$</p><p>性质 ① 非负：$B_{i,n}(t)\geq 0,  1\leq t\leq 1$；② 归一：$\displaystyle\sum_{i=0}^n{B_{i,n}(t)}=(1-t+t)^{n}=1$（二项式定理）</p><p>③ 对称性：$B_{i,n}(t)=B_{n-i,n}(1-t)$； ④ 递归：$B_{i,n}(t)=(1-t)B_{i,n-1}(t)+tB_{i-1,n-1}(t)$；</p><p>⑤ 升阶：$B_{i,n}(t)=(1-\dfrac{i}{n+1})B_{i,n+1}(t)+\dfrac{i+1}{n+1}B_{i+1,n+1}(t)$；</p><p>⑥ 线性精度：$t=\displaystyle \sum_{i=0}^n\dfrac{i}{n}B_{i,n}(t)$，表明单项式 $t$ 可以表示为 $n$ 次 $Bernstein$ 多项式的加权组合</p><p>⑦ 求导：$\dfrac{dB_{i,n}(t)}{dt}=n(B_{i-1,n-1}(t)-B_{i,n-1}(t))$；</p><p>对于一般多项式 $f(t)=a_nt^n+a_{n-1}t^{n-1}+\cdots a_1t+a_0$ 可以看作 $\{t^n,t^{n-1},\cdots,1\}$ 的线性组合</p><p>若换成基向量 $\{B_{i,n}(t)\},0\leq i\leq n$ 称为 $Bernstein$ 基，注意：用 $Bernstein$ 基做展开不唯一</p><p>$f(t)+g(t)=\begin{cases}m=n,f+g=\displaystyle \sum_{i=0}^m(f_i^m+g_i^m)B_{i,m}(t)\\m\neq n,f+g=\displaystyle\sum_{i=0}^m(\large f_i^m+\normalsize\sum_{j=\max\{0,i-m+n\}}^{\min\{n,i\}}\frac{\begin{pmatrix}n\\j\end{pmatrix}\begin{pmatrix}m-n\\i-j\end{pmatrix}}{\begin{pmatrix}m\\i\end{pmatrix}}g_j^{n})B_{i,m}(t)\end{cases}$ </p><p>意义：以 $Berstein$ 基作展开虽然更复杂，但是保证了数值稳定性</p><h2 id="B-acute-e-zier-曲线"><a href="#B-acute-e-zier-曲线" class="headerlink" title="$B\acute{e}zier$ 曲线"></a>$B\acute{e}zier$ 曲线</h2><p>以 $Berstein$ 基函数为参数函数，给定”控制顶点” $\{\vec{b_0},\vec{b_1}\cdots \vec{b_n}\}$，则空间曲线方程</p><script type="math/tex; mode=display">\vec{r}(t)=\displaystyle\sum_{i=0}^{n}\vec{b_i}B_{i,n}(t),t\in[0,1]</script><p>性质：① 几何不变性：对 $\vec{b_i}$ 平移旋转，$\vec{r}(t)$ 的形状保持不变；</p><p>​          $\Large $② 对称性：$\displaystyle \sum_{i=0}^n\vec{b_i}B_{i,n}(t)=\sum_{i=0}^n\vec{b_{n-i}}B_{i,n}(1-t)$（反向拟合曲线）</p><p>​           ② $\dot{\vec{r}(t)}=n\displaystyle\sum_{i=0}^{n-1}(\vec{b}_{i+1}-\vec{b}_{i})B_{i,n-1}(t)$，也为 $B\acute{e}zier$ 曲线（向量相应改变）</p><p>​           ③  $\vec{r}(t)$ 为包围 $\{\vec{b_i}\}^n$ 的最小凸区域（曲线凸包，$\large convex$），进而对于直线和 $B\acute{e}zier$ 曲线求交问题有：</p><p><strong>变差缩减</strong>：直线与 $B\acute{e}zier$ 曲线的交点 $\leq$ 直线与凸包边界的交点（凸包应用：求交算法，光顺检测）</p><p>​           ④不是所有的向量组都有 $B\acute{e}zier$ 曲线，有 $\dot{r(0)}=n(\vec{b_1}-\vec{b_0}),\dot{r(1)}=n(\vec{b_n}-\vec{b_{n-1}})$ 如果初始绕原点转</p><p>动后不能在一圈之内得到末态方向，由于凸包的性质则不能构成 $B\acute{e}zier$ 曲线</p><h2 id="B-acute-e-zier-曲面"><a href="#B-acute-e-zier-曲面" class="headerlink" title="$B\acute{e}zier$ 曲面"></a>$B\acute{e}zier$ 曲面</h2><p>定义 $\vec{r}(u,v)=\displaystyle\sum_{i=0}^m\sum_{j=0}^n\vec{b_{ij}}B_{i,m}(u)B_{i,n}(v)  u,v\in[0,1]$，与 $B\acute{e}zier$ 曲线性质相似：几何不变、端点边界、凸包</p><h2 id="B-样条曲线-面"><a href="#B-样条曲线-面" class="headerlink" title="$B-$样条曲线/面"></a>$B-$样条曲线/面</h2><p>给定节点向量 $T=(t_0,t_1,t_2\cdots t_n)$ 其中 $t_0\leq t_1\leq t_2\cdots t_n$，对区间划分，定义 $DB-$样条基函数 $N_{i,k}(t)$</p><p>$N_{i,1}(t)=\begin{cases}1,t_i\leq t\leq t_{i+1}\\0,\mbox{otherwise}\end{cases}$ ，显然在节点处不连续，当 $k&gt;1,i=0,1\cdots n$ 时，有递推式</p><p>$N_{i,k}(t)=\dfrac{t-t_i}{t_{i+k-1}-t_i}N_{i,k-1}(t)+\dfrac{t_{i+k}-t}{t_{i+k}-t_{i+1}}N_{i+1,k-1}(t)$ ，代入计算有</p><p>$N_{0,2}=(\dfrac{t-t_0}{t_1-t_0})N_{0,1}(t)+(\dfrac{t_2-t}{t_2-t_1})N_{1,1}(t)$，为锯齿状，在节点处连续，导数不连续</p><p>$N_{0,3}(t)=\dfrac{(t-t_0)^2}{(t_2-t_0)(t_1-t_0)}N_{0,1}(t)+((\dfrac{t-t_0}{t_2-t_0})(\dfrac{t_2-t}{t_2-t_1})+(\dfrac{t-t_1}{t_2-t_1})(\dfrac{t_3-t}{t_3-t_1}))N_{1,1}$，拱形状</p><p>在节点处导数连续，但二阶导不连续，一般地有 $N_{i,k}(t)$ 在节点处 $(k-2)$ 阶导连续，$(k-1)$ 阶导不连续</p><p>性质：① 正值：$N_{i,k}(t)&gt; 0,t\in(t_i,t_{i+k})$；</p><p>$\Large $          ② 局部支撑（$\mbox{support}$）：$N_{i,k}(t)=0,t\leq t_i or  t\geq t_{i+k}$；</p><p>$\Large $          ③ 单位分割：$\displaystyle \sum_{i=0}^{n}N_{i,k}(t)=1,t\in[t_0,t_n]$；</p><p>$\Large $          ④ 连续性：$N_{i,k}(t)$ 在单节点处是 $C^{k-2}$ 阶连续的</p><p>有 $\mbox{de Boor}$ 算法（求值与剖分）得到 $B-$样条曲线</p><script type="math/tex; mode=display">r(t)=\sum_{i=0}^{n+j}\boldsymbol{p}_i^jN_{i,k-j}(t),\ \boldsymbol p_i^j=(1-\alpha_i^j)\boldsymbol p_{i-1}^{j-1}+\alpha_i^j\boldsymbol p_{i}^{j-1},\alpha_i^j=\dfrac{\bar{t}-t_i}{t_{i+k-j}-t_i},\boldsymbol p_j^0=\boldsymbol p_j</script><p>$B$ 样条曲线是一种特殊的 $B\acute{e}zier$ 曲线，具体来说端点为 $k$ 重节点</p><p>$B-$样条曲面定义为 $\vec{r}(u,v)=\displaystyle \sum_{i=0}^{m}\sum_{j=0}^{n}\vec{P_{i,j}}N_{i,k}(u)N_{j,k}(v)$</p><h2 id="NURBS-曲线"><a href="#NURBS-曲线" class="headerlink" title="$NURBS$ 曲线"></a>$NURBS$ 曲线</h2><p>$NURBS$ 曲线非均匀有理 $B-$样条，定义：</p><script type="math/tex; mode=display">\displaystyle \vec{r}(t)=\dfrac{\displaystyle\sum_{i=0}^n\omega_i\vec{p_i}N_{i,k}(t)}{\displaystyle\sum_{i=0}^n\omega_iN_{i,k}(t)},\mbox{where}\  \begin{cases}N_{i,1}(t)=\begin{cases}1,t_i\leq t\leq t_{i+1}\\0,\mbox{otherwise}\end{cases}\\N_{i,k}(t)=\dfrac{t-t_i}{t_{i+k-1}-t_i}N_{i,k-1}(t)+\dfrac{t_{i+k}-t}{t_{i+k}-t_{i+1}}N_{i+1,k-1}(t)\end{cases}</script><p>圆锥曲线等二次曲线都可以写成 $NURB$ 曲线的形式</p><p>例：$\dfrac{1}{4}$ 椭圆：$\begin{cases}x=a\cos \theta\\y=b\sin \theta\end{cases} ,\theta\in[0,\dfrac{\pi}{2}]$，若令 $t=\tan \dfrac{\theta}{2}$，有 $\begin{cases}x=a\cdot \cfrac{1-t^2}{1+t^2}\\y=b\cdot \dfrac{2t}{1+t^2}\end{cases}, t\in[0,1]$</p><script type="math/tex; mode=display">\vec{r}(t)=(a\cdot\dfrac{1-t^2}{1+t^2},b\cdot\dfrac{2t}{1+t^2})=\dfrac{\omega_0(1-t)^2\vec{b_0}+2\omega_1t(1-t)\vec{b_1}+\omega_2t^2\vec{b_2}}{\omega_0(1-t)^2+2\omega_1t(1-t)+\omega_2t^2}</script><p>代入对应系数相等解得 $\omega_2=2\omega_0=2\omega_1,\vec{b_0}=(a,0),\vec{b_1}=(a,b),\vec{b_2}=(0,b)$</p><p>定义 $NURBS$ 曲面 $\displaystyle \vec{r}(t)=\dfrac{\displaystyle\sum_{i=0}^m\sum_{j=0}^n\omega_{ij}\vec{p_i}N_{i,k}(u)N_{j,k}(v)}{\displaystyle\sum_{i=0}^m\sum_{j=0}^n\omega_{ij}N_{i,k}(u)N_{j,k}(v)}$，在当今建模主流应用曲面</p><p>其中当 $u=u_0$ 时为 $NURBS$ 二次曲面，例如圆环面（ $\mbox{Torus}$ ），旋转面</p><p>当今学术界提出实现 $C^2$ 连续的样条</p><h1 id="曲线和曲面的表示"><a href="#曲线和曲面的表示" class="headerlink" title="曲线和曲面的表示"></a>曲线和曲面的表示</h1><h2 id="平面曲线奇异点性质"><a href="#平面曲线奇异点性质" class="headerlink" title="平面曲线奇异点性质"></a>平面曲线奇异点性质</h2><p>对隐式曲线$f(x,y)=0$，奇异点判据$\dfrac{\partial f}{\partial x}\big |_{x=x_0}=0 and \dfrac{\partial f}{\partial y}\big |_{y=y_0}=0$，奇异点为$(x_0,y_0)$</p><p>①二次曲线$a_{11}x^2+2a_{12}xy+a_{22}y^2+2a_{13}x+2a_{23}y+a_{33}=0$ 存在奇异点；</p><p>②退化为两条相交直线，或者退化为单个点；</p><p>③<script type="math/tex">\left| \matrix{  a_{11} & a_{12} & a_{13}\\a_{21} & a_{22} & a_{23}\\a_{31} & a_{32} & a_{33}\\} \right|=0</script></p><p>条件①②③等价</p><h2 id="空间曲面"><a href="#空间曲面" class="headerlink" title="空间曲面"></a>空间曲面</h2><p>①$f(x,y,z)=0$ 的法向量为 $n=(\dfrac{\partial f}{\partial x},\dfrac{\partial f}{\partial y},\dfrac{\partial f}{\partial z})$，其切平面点法式方程为</p><script type="math/tex; mode=display">\dfrac{\partial f}{\partial x}\big|_{x=x_0}(x-x_0)+\dfrac{\partial f}{\partial y}\big |_{y=y_0}(y-y_0)+\dfrac{\partial f}{\partial z}\big |_{z=z_0}(z-z_0)=0</script><p>空间曲面奇异点存在的充要条件： $\dfrac{\partial f}{\partial x}\big |_{x=x_0}=\dfrac{\partial f}{\partial y}\big |_{y=y_0}=\dfrac{\partial f}{\partial z}\big |_{z=z_0}=0$</p><p>对一般二次曲面$Ax^2+By^2+Cz^2+Dxy+Eyz+Fxz+Gx+Hy+Iz+J=0$</p><p>一般情况下是：椭球面、双曲面、抛物面，有圆锥面，相交双平面等均有奇异点</p><p>例1: $z^2=x^2+y^2$在$(0,0,0)$处法向量为 $n=(0,0,0)$，不可导，无切平面方程</p><p>例2: $z=xy$ 换参数 $x=u+v,y=u-v$，得到$z=u^2-v^2$为双曲面方程</p><p>隐函数定理：$f(x,y,z)=0$，只要$\dfrac{\partial f}{\partial z}\ne 0$</p><p>②空间曲面参数表示 $x=x(t),y=y(t),z=z(t)$，切线矢量$r=(\dfrac{dx}{dt},\dfrac{dy}{dt},\dfrac{dz}{dt})$</p><p>对球坐标下 $x=r\cdot cos\alpha \cdot sin\theta   y=r\cdot sin\alpha \cdot sin\theta   z=r\cdot cos\theta$ $ds^2=r^2sin\theta drd\theta d\alpha$</p><h2 id="空间曲线"><a href="#空间曲线" class="headerlink" title="空间曲线"></a>空间曲线</h2><p>①使用两个空间曲面相交 $f(x,y,z)=0 and  g(x,y,z)=0$，其在某点处的切线向量与两个空间曲面的法向量均垂直</p><p>$n_1=(\dfrac{\partial f}{\partial x}\big |_{x=x_0},\dfrac{\partial f}{\partial y}\big |_{y=y_0},\dfrac{\partial f}{\partial z}\big |_{z=z_0})   n_2=(\dfrac{\partial g}{\partial x}\big |_{x=x_0},\dfrac{\partial g}{\partial y}\big |_{y=y_0},\dfrac{\partial g}{\partial z}\big |_{z=z_0})$，从而 $l=n_1\times n_2$</p><p>②弧长微元$ds=|r(t+dt)-r(t)| $，空间曲线有奇异点的条件$\dfrac{dr}{dt}=0$，例：$y^2=x^3$有$x$轴上下两段</p><p>参数方程 $x=t^3,y=t^2$，在$t=0$ 处 $\dfrac{dr}{dt}=(0,0)$，则称$(0,0)$为奇异点（又称Cusp点），计算其弧长积分为</p><script type="math/tex; mode=display">s(t_1,t_2)=\int_{t_1}^{t_2}\sqrt{4t^2+9t^4}dt=\int_{t_1}^{t_2}\sqrt{1+\frac{9}{4}t^2}d(t^2)=\frac{2}{3}(1+\frac{9}{4}t^2)^{\frac{3}{2}}\big |_{t_1}^{t_2}</script><p>在 $t=0$ 处积分处不连续，需要分段</p><h1 id="曲线的微分几何"><a href="#曲线的微分几何" class="headerlink" title="曲线的微分几何"></a>曲线的微分几何</h1><h2 id="位矢（弧长参数）-vec-r-vec-r-s"><a href="#位矢（弧长参数）-vec-r-vec-r-s" class="headerlink" title="位矢（弧长参数）$  _{\vec{r} = \vec{r}(s)}$"></a>位矢（弧长参数）$  _{\vec{r} = \vec{r}(s)}$</h2><p>对 $\vec{r}=\vec{r}(t)$ ，中 $t$ 为任意参数，如果令 $t=s$ ，则代入弧长微元 $ds=|\dot{r}(t)|dt$ 有$|\dot{\vec{r}(s)}|=1$ </p><p>写成点乘形式有 $\dot{\vec{r}(s)}\cdot \dot{\vec{r}(s)}=0$，两边求导有 $\ddot{\vec{r}(s)}\cdot \dot{\vec{r}(s)}=0$</p><p>即若用弧长作为参数，则位矢对弧长的一阶导和位矢对弧长的二阶导相互正交</p><p><strong>例</strong>：对于圆周运动，使用弧长参数 $s=R\cdot \omega t$</p><script type="math/tex; mode=display">\begin{equation}\left\{        \begin{array}{}        x=R\cdot cos(\omega t)& \\        y=R\cdot sin(\omega t)& \\        \end{array}\right.\end{equation}</script><p>得 $\vec{r}(s)=(R\cdot cos(\dfrac{s}{R}),R\cdot sin(\dfrac{s}{R}))$，有$\dot{\vec{r}(s)}=(-sin(\dfrac{s}{R}),cos(\dfrac{s}{R}))$</p><p>$\ddot{\vec{r}(s)}=(-\dfrac{1}{R}\cdot cos(\dfrac{s}{R}),-\dfrac{1}{R}\cdot sin(\dfrac{s}{R}))$，后两者相互正交，且 $|\ddot{\vec{r}(s)}|=\dfrac{1}{R}$</p><p>另一种理解方式：位矢对弧长的导数相当于是一个正则化的速度矢量，该速度矢量的大小不</p><p>变，其变化一定沿其法向，两者相互正交</p><p>曲率的计算方式：有 $\rho=\dfrac{ds}{d\theta}=\dfrac{\dot{\vec{r}}(s+ds)-\dot{\vec{r}}(s)}{\ddot{\vec{r}(s)}\cdot d\theta}$，由分子两矢量与其差构成等腰三角形</p><p>$ds\to 0$ 时，$\dot{\vec{r}}(s+ds)-\dot{\vec{r}}(s)=|\dot{\vec{r}(s)}|\cdot d\theta=1\cdot d\theta$，从而消去有 $\rho=\dfrac{1}{|\ddot{\vec{r}(s)}|}$，即 $|\ddot{\vec{r}(s)}|=\kappa$</p><p>定义，单位主法向量 $\vec{n}(s)=\dfrac{\ddot{\vec{r}(s)}}{|\ddot{\vec{r}(s)}|}$，单位切向量 $\vec{t}=\dot{\vec{r}(s)}$</p><p>对任意一点处， $\vec{n}$ 和 $\vec{t}$ 两者张成的平面就是密切平面，若为平面曲线，则密切平面不变</p><p>对于空间曲线，密切平面就随着点的运动变化而变化</p><p>定义副法向量 $\vec{b}=\vec{t} \times\vec{n} $，有 $(\vec{t},\vec{n},\vec{b})$ 为以 $P$ 点为原点的一组坐标架，有 $\vec{b}=\dot{\vec{r}(s)}\times \dfrac{\ddot{\vec{r}(s)}}{\kappa}$</p><p>考虑 $\vec{n}(s) $ 的变化有 $\vec{n} \cdot \vec{n}=1$，求导有 $\dot{\vec{n}(s)} \bot  \ddot{\vec{n}(s)}$，从而令 $\dot{\vec{n}(s)}=\mu\vec{t}+\tau\vec{b}$，则 $\vec{b}$ 变化</p><p>$\dot{\vec{b}(s)}=\dfrac{d}{ds}(\vec{t}\times \vec{n})=\ddot{\vec{r}(s)}\times \dfrac{\ddot{\vec{r}(s)}}{|\ddot{\vec{r}(s)}|}+\vec{t}\times \dfrac{d\vec{n}}{ds}=0+\vec{t}\times (\mu\vec{t}+\tau\vec{b})=-\tau\vec{n}$（右手螺旋）</p><p>定义 $\tau$ 为曲线的挠率，几何意义：$\vec{b}$ 为密切平面中单位切向量和单位法向量的叉乘，即为密切</p><p>平面的法向量，$\dot{\vec{b}(s)}$ 代表密切平面法向量方向的变化，即曲线局部摆脱密切平面的趋势，若挠</p><p>率处处为0，则该曲线为平面曲线</p><p>计算挠率的方法：对 $\dot{\vec{b}(s)}=-\tau\cdot \vec{n}(s)$，两边点乘 $\vec{n}(s)$ 计算得$\tau=-\vec{n}(s)\cdot \dot{\vec{b}(s)}=$</p><p>$-\dfrac{\ddot{\vec{r}(s)}}{\kappa}\cdot (\dfrac{\dot{\vec{r}(s)}\times \ddot{\vec{r}(s)}}{\kappa})’=\dfrac{(\dot{\vec{r}},\ddot{\vec{r}},\dddot{\vec{r}})}{\ddot{\vec{r}\cdot} \ddot{\vec{r}}}$，其中 $(a,b,c)$ 表示混合积（平行六面体有向体积）</p><p><strong>例</strong>：等距螺线 $\vec{r}(t)=(acos(t),asin(t),bt)$，弧长参数：$\vec{r}(s)=(acos(\dfrac{s}{c}),asin(\dfrac{s}{c}),\dfrac{bs}{c})$</p><p>代入公式有曲率半径 $\rho=\dfrac{1}{|\ddot{\vec{r}}(s)|}=\dfrac{c^2}{a}$，计算挠率 $\tau=\dfrac{b}{c^2}$</p><h2 id="位矢（一般参数）-vec-r-vec-r-t"><a href="#位矢（一般参数）-vec-r-vec-r-t" class="headerlink" title="位矢（一般参数）$  _{\vec{r} = \vec{r}(t)}$"></a>位矢（一般参数）$  _{\vec{r} = \vec{r}(t)}$</h2><p>要求 $s=s(t)$ 是单调的，对一般参数求导有</p><p>$\dot{\vec{r}(t)}=\dfrac{d\vec{r}}{ds}\dfrac{ds}{dt}$，令速率 $v=|\dfrac{ds}{dt}|$，有 $\dot{\vec{r}(t)}=\dfrac{d\vec{r}}{ds}|v|$，为一阶导公式</p><p>$\ddot{\vec{r}(t)}=\dfrac{d}{dt}(\dot{\vec{r}(s)}\cdot |v|)=\ddot{\vec{r}(s)}|v|^2+\dot{\vec{r}(s)}\dfrac{d|v|}{dt}=\dfrac{|v|^2}{\rho }\vec{n}+\dfrac{d|v|}{dt}\vec{t}$</p><p>称 $\kappa$ 变号的点为拐点，$ds$ 是不依赖参数的</p><h2 id="Fernet-Serret-公式"><a href="#Fernet-Serret-公式" class="headerlink" title="Fernet-Serret 公式"></a>Fernet-Serret 公式</h2><p>将上述产生的坐标架 $(\vec{t},\vec{n},\vec{b})$ 对弧长参数的导数写成矩阵形式：</p><script type="math/tex; mode=display">\begin{pmatrix}\boldsymbol t'\\\boldsymbol n'\\\boldsymbol b'\end{pmatrix}=\begin{pmatrix}0&\kappa&0\\-\kappa&0&\tau\\0&-\tau&0\end{pmatrix}\begin{pmatrix}\boldsymbol t\\\boldsymbol n\\\boldsymbol b\end{pmatrix}</script><p>则 $\kappa=\kappa(s)$ 和 $\tau=\tau(s)$ 称为曲线的内在方程。</p><p>若两者以及初始条件 $\vec{r}(0),\dot{\vec{r}(0)},\ddot{\vec{r}(0)},\ddot{\vec{r}(0)}$ 均已知，则该空间曲线可以确定</p><h1 id="曲面的微分几何"><a href="#曲面的微分几何" class="headerlink" title="曲面的微分几何"></a>曲面的微分几何</h1><h2 id="切平面和法向量"><a href="#切平面和法向量" class="headerlink" title="切平面和法向量"></a>切平面和法向量</h2><p>对某些变换后的一组参数坐标满足其中一个参数为定值时形成的曲线簇和另一组曲线簇相互正交</p><p>如 $(x,y),(r,\theta),(s,t)_{(x=s+t,y=s-t)},(r,\theta,\phi)$ 等等</p><p>定义曲面 $S$ 的方程满足其每一个点的位矢 $\vec{r}=\vec{r}(u,v)$，考虑参数空间中的一条空间曲线</p><p>$u=u(t),v=v(t)$ 在该参数空间条件下 $\vec{r}=\vec{r}(u(t),v(t))$ 也为空间曲线，其切向量全微分为</p><p>$\dot{\vec{r}(t)}=\dfrac{\partial \vec{r}}{\partial u}\dot{u}+\dfrac{\partial \vec{r}}{\partial v}\dot{v}$，其法向量为两者的叉乘 $\vec{N}=\dfrac{\dfrac{\partial r}{\partial u}\times \dfrac{\partial r}{\partial v}}{|\dfrac{\partial r}{\partial u}\times \dfrac{\partial r}{\partial v}|}$</p><p>当 $\dfrac{\partial r}{\partial u}\times \dfrac{\partial r}{\partial v}=0$ 时对应的点为奇异点，如圆锥面的顶点，椭圆圆锥的顶点</p><h2 id="曲面的第一基本齐式（度量）"><a href="#曲面的第一基本齐式（度量）" class="headerlink" title="曲面的第一基本齐式（度量）"></a>曲面的第一基本齐式（度量）</h2><p>$ds=|\dfrac{d\vec{r}}{dt}|dt=|\dfrac{\partial \vec{r}}{\partial u}\cdot \dfrac{du}{dt}+\dfrac{\partial \vec{r}}{\partial v}\cdot \dfrac{dv}{dt}|=\sqrt{Edu^2+2Fdudv+Gdv^2}$</p><p>其中定义 $E=\dfrac{\partial \vec{r}}{\partial u}\cdot \dfrac{\partial \vec{r}}{\partial u}$，$F=\dfrac{\partial \vec{r}}{\partial u}\cdot \dfrac{\partial \vec{r}}{\partial v}$，$G=\dfrac{\partial \vec{r}}{\partial v}\cdot \dfrac{\partial \vec{r}}{\partial v}$，三者为第一基本齐式系数</p><p>有第一基本齐式 $I=Edu^2+2Fdudv+Gdv^2=\dfrac{1}{E}(Edu+Fdv)^2+\dfrac{EG-F^2}{E}dv^2$</p><p><strong>例</strong>：对球面 $\vec{r}=(Rsin\theta cos\phi,Rsin\theta sin\phi,Rcos\theta)$ 计算有 $I=Rd\theta^2+R^2sin^2\theta d\phi^2$</p><p>对 $\vec{r}=\vec{r}(u(t),v(t))$，计算两个切矢之间的夹角有 $cos\omega=\dfrac{\dfrac{\partial \vec{r}}{\partial u}\cdot \dfrac{\partial \vec{r}}{\partial v}}{|\dfrac{\partial \vec{r}}{\partial u}||\dfrac{\partial \vec{r}}{\partial v}|}=\dfrac{F}{\sqrt{EG}}$</p><p>从而有面积微元 $\delta A=sinw\cdot \sqrt{EG}\delta u\delta v=\sqrt{EG-F^2}\delta u \delta v$</p><p>应用：①计算面积；②计算弧长</p><p><strong>例</strong>：对柱面 $x^2+y^2=R^2$ 使用柱坐标有 $(Rcos\theta,Rsin\theta,z)$，有 $(\theta,z)$ 相当于 $(u,v)$，</p><p>求导有 $\dfrac{\partial\vec{r}}{\partial \theta}=(-Rsin\theta,Rcos\theta,0),\dfrac{\partial \vec{r}}{\partial z}=(0,0,1)$，则 $E=R^2,F=0,G=1$，代入有</p><p>$I=R^2d\theta^2+dz$</p><p><strong>例</strong>：求双曲抛物面 $\vec{r}=(u,v,uv)$ 当 $u,v$ 取正半轴以及 $u^2+v^2\leq1$ 围成的区域面积</p><p>$\dfrac{\partial \vec{r}}{\partial u}=(1,0,v)$，$\dfrac{\partial \vec{r}}{\partial v}=(0,1,u)$，则有 $E=1+v^2,F=uv,G=1+u^2$，代入面积微元</p><p>$dA=\sqrt{(1+v^2)(1+u^2)-u^2v^2}dudv=\sqrt{1+v^2+u^2}dudv$，换成极坐标积分有</p><p>$S=\displaystyle\int_0^{\frac{\pi}{2}}d\theta\int_0^1\sqrt{1+r^2}rdr=\dfrac{\pi}{6}(2\sqrt{2}-1)$</p><h2 id="曲面的第二基本齐式（曲率）"><a href="#曲面的第二基本齐式（曲率）" class="headerlink" title="曲面的第二基本齐式（曲率）"></a>曲面的第二基本齐式（曲率）</h2><p>量化曲面的曲率考虑曲面 $S$ 上通过点 $P$ 的一条曲线 $C$ 在 $P$ 处的单位法向量关系有：</p><script type="math/tex; mode=display">\vec{k}=\dfrac{d\vec{t}}{ds}=\kappa\vec{n}=\vec{k}_n+\vec{k}_g</script><p>其中，$\vec{k}_n$ 为法曲率向量为曲率向量在曲面法向的投影，称为法曲率向量；$\vec{k}_g$ 为曲率向量在曲面切平面的投影，称为测地曲率向量（当 $\vec{k_n}=0$ 时曲线在该点朝“前”走，若该曲线处处法向量都等于测地曲率向量，则该曲线为测地线，代表连接起点和终点最短的曲线 ），对于 $\vec{\kappa_n}$ 的计算有</p><script type="math/tex; mode=display">\because \boldsymbol N\cdot \boldsymbol t=0\ \therefore\dfrac{d\boldsymbol t}{ds}\cdot \boldsymbol N+\dfrac{d\boldsymbol N}{ds}\cdot \boldsymbol t=0,\ \vec{\boldsymbol \kappa_n}=\dfrac{d\boldsymbol t}{ds}\cdot \boldsymbol N=-\dfrac{d\boldsymbol N}{ds}\cdot t=-\dfrac{d\boldsymbol r}{ds}\cdot \dfrac{d\boldsymbol N}{ds}=-\dfrac{d\boldsymbol r\cdot d\boldsymbol N}{d\boldsymbol r\cdot d\boldsymbol r}</script><p> 令 $L=-\dfrac{\partial  r}{\partial u}\cdot \dfrac{\partial  N}{\partial u},M=-\dfrac{1}{2}(\dfrac{\partial  r}{\partial u}\cdot \dfrac{\partial  N}{\partial v}+\dfrac{\partial  r}{\partial v}\cdot \dfrac{\partial  N}{\partial u})=-\dfrac{\partial  r}{\partial u}\cdot \dfrac{\partial  N}{\partial v}=\dfrac{\partial  r}{\partial v}\cdot \dfrac{\partial  N}{\partial u},N=-\dfrac{\partial  r}{\partial v}\cdot \dfrac{\partial  N}{\partial v}$</p><p> $\dfrac{\partial  r}{\partial u}\cdot  N=0,\dfrac{\partial  r}{\partial v}\cdot  N=0$ ，均对 $u,v$ 求导代入有 $L=\dfrac{\partial^2  r}{\partial u^2}\cdot  N,M=\dfrac{\partial ^2 r}{\partial u\partial v}\cdot  N,N=\dfrac{\partial^2  r}{\partial v^2}\cdot  N$ 有</p><script type="math/tex; mode=display">\kappa_n=-\dfrac{d\boldsymbol r\cdot d\boldsymbol N}{d\boldsymbol r\cdot d\boldsymbol r}=\dfrac{Ldu^2+2Mdudv+Ndv^2}{Edu^2+2Fdudv+Gdv^2}</script><p>称分子 $H=Ldu^2+2Mdudv+Ndv^2$ 为第二基本齐式，若定义 $\lambda=\dfrac{dv}{du}$ 为曲线 $C$ 在 $P$ 点处的切线方向</p><p>则对给定参数 $(u,v)$ 下，$ \kappa_n=\dfrac{H}{I}=\dfrac{L+2M\lambda+N\lambda^2}{E+2F\lambda+G\lambda^2}=f(\lambda)$，有 $\kappa_{max},\kappa_{min}$</p><p>即曲面上给定点 $P$ 处的法曲率只依赖于切向 $\lambda$ ，进而得到 $Meusnier$ 定理：曲面 $S$ 上过点 $P$ 且具有相同切向的所有曲线具有相同的法曲率</p><p>定义高斯曲率 $K=\kappa_{min}\kappa_{max}$，平均曲率 $H=\dfrac{\kappa_{min}+\kappa_{max}}{2}$</p><p>主曲率为 $f(\lambda)$ 取得最大值最小值时对应的切线方向，$Euler$ 定理：选取 $xy$ 轴为 $\kappa_{max},\kappa_{min}$ 对应方向，设 $\vec{t}$ 与 $x$ 轴方向夹角为 $\theta$ ，有法曲率 $\large\kappa_n\small{(\vec{t})}=\large\kappa_{max}\cos^2 \theta+\large\kappa_{min}\sin ^2\theta$ ，当 $\large\kappa_{max}=2\large\kappa_{min}$ 时图像如下</p><p><img src="https://pic.imgdb.cn/item/62d0258ff54cd3f9371814f6.jpg" style="zoom:33%;" /></p>]]></content>
    
    
    <categories>
      
      <category>研究</category>
      
      <category>求交问题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>求交问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Shor&#39;s Algorithm</title>
    <link href="/2022/07/06/%E7%A0%94%E7%A9%B6/Shor%20%E7%AE%97%E6%B3%95%E5%88%9D%E6%8E%A2/"/>
    <url>/2022/07/06/%E7%A0%94%E7%A9%B6/Shor%20%E7%AE%97%E6%B3%95%E5%88%9D%E6%8E%A2/</url>
    
    <content type="html"><![CDATA[<p>传统部分成功率的数学证明参考 B 站视频 <a href="https://www.bilibili.com/video/BV1Ua411L7a9?spm_id_from=333.337.search-card.all.click&amp;vd_source=d9afebd071d024f27b0f4860d8972d67">Shor算法 | 如何用量子计算机分解质因数？</a> </p><h2 id="构造素因子的传统方法（初等数论）"><a href="#构造素因子的传统方法（初等数论）" class="headerlink" title="构造素因子的传统方法（初等数论）"></a>构造素因子的传统方法（初等数论）</h2><p>1: 找一个整数 $1&lt;a&lt;N$ ，计算 $\operatorname{gcd}(a, N)$</p><p>2: 若 $\operatorname{gcd}(a, N)&gt;1$ ，则已经找到了 $N$ 的一个非平凡因子</p><p>3: 若 $\operatorname{gcd}(a, N)=1$ ，则用<strong>量子算法</strong>找到最小的满足 $a^{r} \equiv 1(\bmod N)$ 的正整数 $r$ （也称作 $a$ 模 $N$ 的阶， $\left.r=\operatorname{ord}_{N}(a)\right)$</p><p>4: 若 $2 \nmid r$ ，或 $a^{\frac{r}{2}} \equiv-1(\bmod N)$ ，则返回第一步重新找一个 $a$</p><p>5: 若 $2 \mid r$ ，且 $a^{\frac{r}{2}} \not \equiv-1(\bmod N)$ ，则有 $N \mid\left(a^{\frac{r}{2}}+1\right)\left(a^{\frac{r}{2}}-1\right)$ ，可以证明，通过求出 $\operatorname{gcd}\left(a^{\frac{r}{2}}+1, N\right)$ 或 $\operatorname{gcd}\left(a^{\frac{r}{2}}-1, N\right)$ 一定可以找到 $N$ 的一个非平凡因子</p><h2 id="r为偶的成功率（算法成功率）"><a href="#r为偶的成功率（算法成功率）" class="headerlink" title="r为偶的成功率（算法成功率）"></a>r为偶的成功率（算法成功率）</h2><p>这里 $a$ 为 $a=1,2, \cdots ,N-1$ 中的随机数，令 $r=\text{ord}_{N}(a)$ $,P(\mbox{success})$$=P\left(2 \mid r \wedge a^{\frac{r}{2}} \not \equiv-1(\bmod N)\right)$</p><p>分解 $N$ 有 $N=p_{1}^{\alpha_{1}} p_{2}^{\alpha_{2}} \cdots p_{m}^{\alpha_{m}}$ 由有限阿贝尔群的基本定理：</p><blockquote><p><strong>模 $\mathrm{N}$ 乘法群 $(\mathbb{Z} / N \mathbb{Z})^{\times}$可分解为若干循环群的直积。</strong>例如对下列表格，实际为中国剩余（孙子）定理的解</p><p>$5$ 和 $7$ 分别在模 $7$ 和模 $5$ 意义下的数论倒数为 $3$ 和 $3$，所以对元素 $a\in( \mathbb{Z} / 5 \mathbb{Z})^{\times},b\in( \mathbb{Z} / 7 \mathbb{Z})^{\times}$</p><p>其直积的计算为 $a\cdot 3\cdot 7+b\cdot 3\cdot 5=3(7a+5b)$，如 $a=4,b=6,3(28+30)=174=34\pmod{35}$</p></blockquote><script type="math/tex; mode=display">\begin{aligned}&\begin{array}{r|cccccc}(\mathbb{Z} / 5 \mathbb{Z})^{\times}\large {\backslash}\normalsize (\mathbb{Z} / 7 \mathbb{Z})^{\times} & 1 & 2 & 3 & 4 & 5 & 6 \\\hline1 & 1 & 16 & 31 & 11 & 26 & 6 \\2& 22 & 2 & 17 & 32 & 12 & 27 \\3& 8 & 23 & 3 & 18 & 33 & 13 \\4& 29 & 9 & 24 & 4 & 19 & 34\end{array}\end{aligned}</script><p>$(\mathbb{Z} / N \mathbb{Z})^{\times} \cong\left(\mathbb{Z} / p_{1}^{\alpha_{1}} \mathbb{Z}\right)^{\times} \times\left(\mathbb{Z} / p_{2}^{\alpha_{2}} \mathbb{Z}\right)^{\times} \times \cdots \times\left(\mathbb{Z} / p_{m}^{\alpha_{m}} \mathbb{Z}\right)$ ，$\left(\mathbb{Z} / p_{i}^{\alpha_{i}} \mathbb{Z}\right)^{\times} \cong C_{\varphi(p^{\alpha})}\left(p_{i}&gt;2\right)$</p><script type="math/tex; mode=display">\begin{aligned}&a=1 \ldots N-1, r=\operatorname{ord}_{N}(a) \\&P(\text { success })=P\left(2 \mid r \wedge a^{\frac{r}{2}} \not \equiv-1 \quad(\bmod N)\right) \\&N=p_{1}^{\alpha_{1}} p_{2}^{\alpha_{2}} \cdots p_{m}^{\alpha_{m}}\end{aligned}</script><p>定义 $r=\operatorname{ord}_{N}(a), r_{i}=\operatorname{ord}_{p_{i}^{\alpha_{i}}}(a)$ ，有 $r=\operatorname{lcm}\left(r_{1}, r_{2}, \ldots, r_{m}\right) ， 2 \nmid r \Longleftrightarrow \forall i, 2 \nmid r_{i}$<br>定义 $v_{2}(n)=\max _{k}\left\{2^{k} \mid n\right\}$ 表示 $n$ 中因子 $2$ 的次数，</p><script type="math/tex; mode=display">\begin{aligned}a^{\frac{r}{2}} \equiv-1 \quad(\bmod N) & \Longleftrightarrow \forall i, a^{\frac{r}{2}} \equiv-1 \quad\left(\bmod p_{i}^{\alpha_{i}}\right) \\& \Longleftrightarrow \forall i, 2 \nmid r / r_{i} \\& \Longleftrightarrow \forall i, j, v_{2}\left(r_{i}\right)=v_{2}\left(r_{j}\right)\end{aligned}</script><p>对于随机的 $a$ ，不能通过 $a$ 找到 $N$ 的非平凡因子当且仅当 $\forall i, j, v_{2}\left(r_{i}\right)=v_{2}\left(r_{j}\right)$</p><script type="math/tex; mode=display">P\left(v_{2}\left(r_{i}\right)=t\right)= \begin{cases}\dfrac{1}{2^{v_{2}(\varphi(n))}} & t=0 \\ \dfrac{1}{2^{v_{2}(\varphi(n))-t+1}} & 1 \leq t \leq v_{2}(\varphi(n))\end{cases}</script><p>对于与 $N$ 互质的所有 $a$ ，失败概率</p><script type="math/tex; mode=display">P(\text { fail })=P\left(2 \nmid r \vee a^{\frac{r}{2}} \equiv-1 \quad(\bmod N)\right)=\sum_{t} \prod_{i} P\left(v_{2}\left(r_{i}\right)=t\right)</script><p>当 $N=p^{k}, 2 p^{k},(k \geq 1)$ 时， $P(<script type="math/tex">\mbox{fail}</script>)=1$ ，否则 $P(<script type="math/tex">\mbox{fail}</script>) \leq \dfrac{1}{2}$</p><p>这些情况也可以设计量子电路在更小的时间复杂度内得到判定，从而成功概率 $&gt;\dfrac{1}{2}$</p><h2 id="将求阶算法转换为相位估计法"><a href="#将求阶算法转换为相位估计法" class="headerlink" title="将求阶算法转换为相位估计法"></a>将求阶算法转换为相位估计法</h2><p>对于酉变换 $U:|y\rangle\mapsto|xy\pmod{N}\rangle$，已知 $r$ 为 $x$ 模 $N$ 的阶，即满足 $x^{t}\equiv 1\pmod{N}$ 的最小正整数 $t$ </p><p>任取 $0\leq s\leq r-1$，则可以构造性地给出 $U$ 变换的一个特征向量</p><script type="math/tex; mode=display">|u_s\rangle=\large \dfrac{1}{\sqrt{r}}\sum_{k=0}^{r-1}e^{-\frac{2\pi isk}{r}}|x^{k}\bmod{N}\rangle</script><p>计算可知 $U|u_s\rangle=\dfrac{1}{\sqrt{r}}\displaystyle \sum_{k=0}^{r-1}e^{-\frac{2\pi isk}{r}}|x^{k+1}\bmod{N}\rangle=\dfrac{1}{\sqrt{r}}e^{\frac{2\pi is}{r}}\sum_{k=0}^{r-1}e^{-\frac{2\pi is(k+1)}{r}}|x^{k+1}\bmod{N}\rangle$ 由 $x^{r}=1$ </p><p>则 $\{x,x^2,\cdots,x^{r-1},x^{r}\}=\{1,x,x^2,\cdots,x^{r-1}\}$ 则 $\boxed{U|u_s\rangle=e^{\frac{2\pi is}{r}}|u_s\rangle}$，故 $e^{\frac{2\pi is}{r}}$ 为 $U$ 的特征值</p><p>从而制备酉变换 $U$，只要确定 $\epsilon$ 精度内的相位 $\small\Delta \normalsize \varphi =\dfrac{2\pi s}{r}$（误差分析给出比特数 $t=n+\left \lceil \log \left(2+\dfrac{1}{2\epsilon}\right)\right\rceil$）</p><p>便在一定精度内得到 $s=\dfrac{ \small\Delta \normalsize \varphi r}{2\pi}$，由连分式算法，任意有理数连分式经过有限步可以终止，从而 $s$ 可求</p><h2 id="相位估计法"><a href="#相位估计法" class="headerlink" title="相位估计法"></a>相位估计法</h2><p>在给定精度得到相应需要 $t$ 比特后，搭建如下量子电路：<br><img src="https://pic.imgdb.cn/item/62c59c765be16ec74a874b1b.jpg" alt=""></p><p>通俗来说，上面 $t$ 比特给出一系列“平铺”的量子纠缠态，具体写成数学表达式有</p><script type="math/tex; mode=display">\begin{aligned}\frac{1}{2^{t / 2}}\left(|0\rangle+e^{2 \pi i 2^{t-1} \varphi}|1\rangle\right)\left(|0\rangle+e^{2 \pi i 2^{t-2} \varphi}|1\rangle\right) & \ldots\left(|0\rangle+e^{2 \pi i 2^{0} \varphi}|1\rangle\right) \\&=\frac{1}{2^{t / 2}} \sum_{k=0}^{2^{t}-1} e^{2 \pi i \varphi k}|k\rangle .\end{aligned}</script><p>这里求和式的结果可以观察为二进制展开得到，用逆快速傅里叶变换便可以 $t$ 位（概率为 $1-\epsilon $）精度的 $\varphi$</p><p><strong>只要设计上符合各精度要求，便可以逼近得到实例酉变换的相位 $\varphi$，进而用连分数算法逼近出一个随机数 $a$ 模 $N$ 意义下的阶 $s$，该 $s$ 为偶数的概率也是可观的（ $&gt; \dfrac{1}{2}$），实在不行的话多尝试几个随机数 $a$，只要找到一个阶数为偶数的 $a$，便可以使用欧几里得算法得到 $N$ 的一个非平凡素因子。</strong></p><p>至此，从理论上大数分解在量子计算机中可以有效（多项式时间复杂度）求出，具体复杂度上界为</p><script type="math/tex; mode=display">O(N^2\log N\log \log N)</script><p>远超经典计算机（目前为 $O(2^{(\log N)^c}),c=\dfrac{1}{2} \mbox{or } c=\dfrac{1}{3}$ 后者基于一个数论猜想），达到指数加速</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>根据当今密码学的应用，如果这个算法被真正实现于硬件（需要解决纯化、噪声等一系列问题）并证明有效，</p><p>当前的 $\mbox{RSA}$ 公钥体系，以及基于椭圆曲线的加密体系都可以在 $\mbox{Shor}$ 算法的框架进一步优化下得到有效破解</p><p>可以说，大部分互联网所谓的安全加密体系都会被崩塌，美国甚至成立了<strong>后量子密码协议</strong>，专门用于对抗量子算法对当前算法的威胁，不过至少当前经典密码学中的格密码学未被量子算法所破解，许多加密协议可以通过引入格密码学的方式更加安全。</p><p>我之所以费尽心思写这篇 $\mbox{Shor}$ 算法，是因为我好久没有过被这种数理构思所折服的感觉了，上次应该是高一推导分析力学最终得到最小作用量原理 $\delta S=0$ 的时候，希望探索世界总能带给我震撼……</p><p>不知道几十年后的发展怎么样，个人还是有所期待和充满信心吧，这些算法基本都是 $25$ 年前提出的，不知道这些算法最后会对人类有害，还是有利，个人还是希望生产力的解放带来全球的福祉吧。</p>]]></content>
    
    
    <categories>
      
      <category>研究</category>
      
      <category>量子计算</category>
      
    </categories>
    
    
    <tags>
      
      <tag>量子计算</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>General Physics finals(Jiang Shuo)</title>
    <link href="/2022/06/20/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%89%A91%E6%9C%9F%E6%9C%AB%E8%AF%95%E5%8D%B7%E8%A7%A3%E7%AD%94/"/>
    <url>/2022/06/20/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%89%A91%E6%9C%9F%E6%9C%AB%E8%AF%95%E5%8D%B7%E8%A7%A3%E7%AD%94/</url>
    
    <content type="html"><![CDATA[<p>$\mathbf{PDF}$ 文件下载请点击这里 <a href="https://lr-tsinghua11.github.io/pdf/蒋硕2021春期末试题解答.pdf">蒋硕2021春期末试题解答</a>  <a href="https://lr-tsinghua11.github.io/pdf/蒋硕2020秋期末试题解答.pdf">蒋硕2020秋期末试题解答</a></p><h1 id="GPⅠ-Final-Exam-2021-1-4"><a href="#GPⅠ-Final-Exam-2021-1-4" class="headerlink" title="GPⅠ Final Exam (2021/1/4)"></a>GPⅠ Final Exam (2021/1/4)</h1><center><font size = 4.5><font face="楷体">author learning_rate 未央软-11</center><p>(In questions asking for the expression of certain relation, you need to express them in terms of given and physical constants. Of course, you can combine them to write simple formula, but do explicitly list out your regrouping. For example: $a=A / m, A=v c / b$,V,c,b,m are the constants or terms provided. 题目中所要你求的关系表达式，需要用给定量和物理常数表达。当然你可以组合定义以简便表达，但一定明确给出你的重组)</p><h2 id="1-16-mbox-points"><a href="#1-16-mbox-points" class="headerlink" title="$1_{(16 \mbox{ points})}$"></a>$1_{(16 \mbox{ points})}$</h2><p>(16 points) The device below can be used to measure the density and viscosity of a liquid using a so-called hydrometer. The hydrometer is shown in the figure below:The hydrometer has total mass $=m$; Its bottom is heavier so that it can stably float in liquid (it can move up-down, but will not rock side-ways). The long neck part has uniform cross area $A$. The equilibrium position of the hydrometer in a liquid is taken as $x=0$. Now if the hydrometer is displaced from its equilibrium by $x$ as shown in the figure (the $x$ is always within the neck region), it will start to oscillate. From measuring this oscillation frequency and amplitude decay, we can deduce the density and viscosity of the liquid.</p><p><img src="https://pic.imgdb.cn/item/62af07c3094754312995b5a8.jpg" style="zoom:20%;" /></p><p>$(1)$ (5 points) Neglect any friction caused by the viscosity of the liquid, A) write out the equation of motion for $x$ of the hydrometer. B) Express its natural frequency $\omega_{0}$ in terms of $\rho$ the density of liquid; hydrometer mass $m ; g$ gravitation constant etc. </p><p>$(2)$ (3 points) If the liquid is viscous, it will introduce a resistance force $\dfrac{F_{\text {friction }}}{m}=-\gamma \dot{x} ; \gamma$ is called damping or viscous coefficient; If we would like to have the hydrometer be back to the stable equilibrium as quick as possible, what is the $\gamma$ in term of the $\omega_{0}$ ?</p><p>$(3)$ (8 points) In application of measurement of the density $\rho$ and viscosity $\gamma$ of the liquid, the liquid should not be too viscous so that the hydrometer can oscillate. We can directly measure the displacement x (for example let the top of the hydrometer be the cathode of a capacitor, while another fixed plate (the dashed line of in the figure) be the anode, and we can measure the voltage difference between them which is proportional to $x$ ). The measured result is shown in the figure below:</p><p><img src="https://pic.imgdb.cn/item/62af0bb309475431299a9bcf.jpg" style="zoom:50%;" /></p><p>​        The time between the $1^{\text {st }}$ peak and $9^{\text {th }}$ peak is $4$ seconds; and the $9^{\text {th }}$ peak is about $e^{-1}$ of the first peak. From measurement, please calculate the following values:</p><p>​        a) Period $T$ of the damped oscillation; b) angular frequency $\omega$; c) The value of natural frequency $\omega_{0}$ and the viscosity $\gamma$ ?; d) Quality factor Q for this oscillator.[(a), b) are 1 point each; (c) 4 points; (d) 2 points]</p><hr><p>$(1)$ Initial state equilibrium $mg=\rho Vg$, when it moves $x$, according to Newton’s second law</p><script type="math/tex; mode=display">\rho (V-xA)g-mg=m\ddot{x}=-xAg</script><p>So $\ddot{x}=-\dfrac{\rho Ag}{m}x=-\omega_0^2x$, then  $\omega_0=\sqrt{\dfrac{\rho Ag}{m}}$</p><p>$(2)$ Compare to $\small (1)$, add $F_{\mbox{friction}}=-m\gamma\dot{x}$, according to Newton’s seconde law</p><script type="math/tex; mode=display">\rho (V-xA)g-mg-m\gamma \dot{x}=m\ddot{x}=-xAg-m\gamma\dot{x}\Longrightarrow \ddot{x}+\gamma \dot{x}+\dfrac{\rho Ag}{m}x=0</script><p>its eigenvalues are $\lambda_{1,2}=\dfrac{-\gamma\pm\sqrt{\gamma^2-4\omega_0^2}}{2}$. If $\gamma^2-4\omega_0^2= 0$, the hydrometer will be back as quick as possible.</p><script type="math/tex; mode=display">\gamma= 2\omega_0</script><p>$(3)$ a) $4=(9-1)\cdot T\Longrightarrow T=0.5s$     b) $T=\dfrac{2\pi}{\omega}\Longrightarrow \omega=4\pi \mbox{ rad/s}$</p><p>c) Obviously $\gamma&lt;2\omega_0$, so $x(t)=x_0e^{-\frac{\gamma}{2}t}\cos(\sqrt{\omega^2_0-\dfrac{1}{4}\gamma^2}t+\varphi)$  $,e^{-\frac{\gamma}{2}\cdot 4}=e^{-1}\Longrightarrow \gamma=0.5\mbox{ s}^{-1}$</p><p>solve $\sqrt{\omega_0^2-\dfrac{1}{4}\gamma^2}=\omega$ then $\omega_0=\sqrt{\omega_0^2+\dfrac{1}{4}\gamma^2}= 12.56886\mbox{ rad/s}$</p><p>d) $Q=2\pi\dfrac{E}{\Delta E}=2\pi \dfrac{A_0^2}{A_0^2(1-(e^{-\frac{\gamma}{2}T})^2)}\approx \dfrac{2\pi}{\gamma T}=\dfrac{\omega}{\gamma}=25.13771$</p><h2 id="2-12-mbox-points"><a href="#2-12-mbox-points" class="headerlink" title="$2_{(12 \mbox{ points})}$"></a>$2_{(12 \mbox{ points})}$</h2><p>Central Field. Below you need to Calculate lowest orbit energy, angular momentum, radius and speed of an electron at the ground orbit in hydrogen (H) atom, using Bohr’s orbit model and de Broglie matter wave hypothesis. Bohr proposed electron like a particle moves around nuclei in a circular orbit subject to Coulomb force. It has orbit radius $R$ (called Bohr radius), energy $E$, angular momentum $L$ and speed $v$ to be determined. Using de Broglie matter wave, the longest wavelength can stably exist on the orbit must satisfy: $\lambda=2 \pi R$ (If you understand the standing wave picture behind this formula, that’s great; If not, just treat it as a given condition), and you may know his famous relation between momentum and wavelength: $p=$ $\dfrac{h}{\lambda}, h=6.63 \times 10^{-34}$ (SI unit). The Coulomb potential energy in hydrogen atom between electron and proton is: $U=-\dfrac{\mathrm{A}}{r}  \mathrm{A}$ is a natural constant $A=2.3 \times 10^{-28}$ (SI unit). Mass of electron is $m_{e}=9.11 \times 10^{-31} \mathrm{~kg}$ (the reduced mass can be treated equal to this since proton is 1800 time massive). Using the provided information, calculate the </p><p>A) Angular momentum $L$ in terms of $h$.<br>B) Bohr Radius $R$ in units of $Å\left(1 Å=10^{-10} \mathrm{~m}\right)$<br>C) Energy $\mathrm{E}$ in $\mathrm{eV} 1 \mathrm{eV}=1.6 \times 10^{-19} \mathrm{~J}$<br>D) Orbital speed $V=\alpha C, C$ is speed of light, express $\alpha$ in terms of physical constants (h, $m_{e}, \mathrm{C}$ and Bohr radius $\mathrm{R}$ ) and find its value (3 points each for A) to D))</p><hr><p>A) $\lambda=2\pi R=\dfrac{h}{p}\Longrightarrow L=pR=\dfrac{h}{2\pi}=\hbar$</p><p>B) $F=-\dfrac{dU}{dr}=-\dfrac{A}{r^2}$, $\dfrac{A}{R^2}=m\dfrac{v^2}{R}\Longrightarrow \begin{cases}mv^2R=A\\mvR=\dfrac{h}{2\pi}\end{cases}\Longrightarrow R=\dfrac{h^2}{4\pi^2mA}=0.531Å$  </p><p>C) $E=\dfrac{1}{2}mv^2-\dfrac{A}{R}=-\dfrac{A}{2R}=-\dfrac{2\pi ^2mA^2}{h^2}=-13.52\mbox{ eV}$</p><p>D) $\alpha =\dfrac{V}{C}=\dfrac{2\pi A}{hC}=7.26\times10^{-3}\approx\dfrac{1}{137}$</p><h2 id="3-14-mbox-points"><a href="#3-14-mbox-points" class="headerlink" title="$3_{(14 \mbox{ points})}$"></a>$3_{(14 \mbox{ points})}$</h2><p>Interference:<br>LIGO (Laser Interferometer Gravitation-Wave Observatory) is using interference to observe the expansion-contraction if space due to gravitation wave.</p><p><img src="https://pic.imgdb.cn/item/62af13e00947543129a538cf.jpg" style="zoom:50%;" /></p><p>As shown in the figure: It is basically a big Michelson Interferometer, two arm length $L_{0}$ is 4000 meter $(4 \mathrm{~km}$ ) each. Two extra mirrors inside will make light being reflected backwardforward $N=300$ times, effectively prolong the length of each arm. The light from each arm finally meets at the beam splitter and creates interference pattern. When gravitation wave (indicated by the curve on top) passes, one arm length will be lengthened and the other be compressed. This effect is expressed by a strain coefficient $\delta$, it expresses the length difference in the two arms by: $\Delta L=\delta L_{0}$<br>When there is no gravitation wave, the two arms are with equal length, and due to halfwavelength difference effect, light from two paths cancels each other and the interference is dark; when the gravitation wave creates a difference in arm length, the interference intensity will change, and from such change $\delta$ can be measured.</p><p><img src="https://pic.imgdb.cn/item/62af14680947543129a5e57d.jpg" style="zoom:80%;" /></p><p>The measured results are shown above. Vertical is the calculated $\delta$ from intensity change, horizontal is time. Two groups of data on the left and right are from two observatories located at different places (Hanford at Washington State and Livingston at Louisiana). The top row is the measurement; the middle is theoretical simulation and the bottom is noise level.</p><p>1) From data, what is the order of magnitude of $\delta$ ? How big is the length difference $\Delta L$ ? (2 points)<br>2) At such order of magnitude $\delta$, what is the phase difference between the light that passes the two arms of the interferometer then reaches the detector? The center wavelength of laser in use is $\lambda=1064 \mathrm{~nm}$ (3 points)<br>3) At such phase difference, what is the change of light intensity from zero? Needed parameter: The total intensity of the laser is $I_{0}=1000 \mathrm{~W}$ (5 points)<br>4) For such small intensity change, and the signal is really not too much above the noise, why the result is not due to some seismic-environmental changes (such as seismic activity, local temperature fluctuation, or even just student drop a wrench on the floor $\cdots)$ ? ( 4 points)</p><hr><p>$(1)$ $10^{-21}\sim 10^{-22}$ , $\Delta L_{\mbox{max}}=4\times 10^{-18}\mbox{ m}$ </p><p>$(2)$ $\Delta\varphi =\dfrac{2\pi}{\lambda}\Delta L\cdot 2N=1.42\times10^{-8}\mbox{ rad}$</p><p>$(3)$ $\tilde{A_1}=A_0\cos (\omega t),\tilde{A_2}=A_0\cos (\omega t+\pi +\Delta \varphi )$ and the total intensity is $I_0=\overline{\tilde{A_1^2}}+\overline{\tilde{A_2^2}}=\dfrac{A_0^2}{2}+\dfrac{A_0^2}{2}=A_0^2$</p><p>the final amplitude is $\tilde{A}=\tilde{A_1}+\tilde{A_2}=A_0(\cos (\omega t)-\cos(\omega t+\Delta \varphi ) )=2A_0\sin (\dfrac{\Delta\varphi}{2})\sin (\omega t+\dfrac{\Delta \varphi }{2})$</p><p>So the intensity is $I=\overline{\tilde{A^2}}=4A_0^2\sin ^2(\dfrac{\Delta \varphi }{2})\cdot \dfrac{1}{2}\approx 2A_0^2(\dfrac{\Delta \varphi}{2})^2=\dfrac{1}{2}I_0(\Delta \varphi)^2 =1.00\times 10^{-13}\mbox{ W}$</p><p>$(4)$ Two different experienments in different places show the same trend of the wave.</p><h2 id="4-10-mbox-points"><a href="#4-10-mbox-points" class="headerlink" title="$4_{(10 \mbox{ points})}$"></a>$4_{(10 \mbox{ points})}$</h2><p>(10 points) For a give wedge-shaped thin film (the top and bottom surfaces are flat planes, intersect and has very small angle $\alpha$ ) shown in the figure:</p><p><img src="https://pic.imgdb.cn/item/62af19d70947543129acfbc8.jpg" style="zoom:50%;" /></p><p>At the beginning it is air $(n=1)$ between the top-bottom surface, the incoming light with vacuum wavelength $500 \mathrm{~nm}$ illuminates the top at normal angle.<br>1) Give a simple description or sketch of the interference fringe at the top surface of the thin film (no calculation needed). (2 points)<br>2) Now we start to fill some gas $(n&gt;1)$ into the space between the top-bottom surfaces, will the fringe moves towards or away from the intersection? (2 points)<br>3) If the spacing between the fringes (the distance between the adjacent maxima or minima) changes from original (air case) $1 \mathrm{~mm}$ to $0.8 \mathrm{~mm}$ (unknown gas), what is the index of refraction $n$ of the unknown gas? (6 points)</p><hr><p>$(1)$ uniform interference fringe</p><p>$(2)$ towards</p><p>$(3)$ $\Delta x\cdot 2\alpha =\lambda\Longrightarrow \Delta x=\dfrac{\lambda }{2\alpha }$ and after filling the gas $\lambda^{\prime }=\dfrac{\lambda }{n}$ $\Delta x^{\prime }=\dfrac{\lambda }{2\alpha n}$ So $n=\dfrac{\Delta x}{\Delta x^{\prime}}=1.25$</p><h2 id="5-12-mbox-points"><a href="#5-12-mbox-points" class="headerlink" title="$5_{(12 \mbox{ points})}$"></a>$5_{(12 \mbox{ points})}$</h2><p>As shown in the figure:</p><p><img src="https://pic.imgdb.cn/item/62af1c4d0947543129b039fc.jpg" style="zoom:30%;" /></p><p>A rod with proper length $L_{0}$ is moving with constant high velocity $v$ along $x$ direction in lab frame (frame S). The head of it $\mathrm{H}$ will hit a stiff wall and be stopped, and at meantime the stop signal (the curly curve in figure) will transmit from $\mathrm{H}$ through the rod with speed of light $c$ (the position of wall is at $x=0$ ). When the stop signal reaches the tail of the rod $T$, only then it stops moving. There are also marks on the ground in lab with spacing $\Delta d=1$ unit length. When the tail of the rod stops, it will reach certain marks $n$. (fig.b)<br>1) (4 points) $\ln \mathrm{S}$ view, calculate the value of $\mathrm{n}$, in terms of $L_{0}, \beta$<br>2) (4 points) In the rod view (call it frame $S^{\prime}$ ) in which the tail of rod $T$ is stationary. please draw the figure in $\mathrm{S}^{\prime}$, corresponding to the figure a) above. In the figure, please specify the length of the rod; the spacing of the mark $\Delta d^{\prime}$, which parts are moving and their speed.</p><p>3) (4 points) In frame S’, calculate the stop marks $n^{\prime}$, in terms of $L_{0}, \beta$.</p><hr><p>$(1)$ $\Delta t=\dfrac{\Delta L’}{v+c}=\dfrac{L_0\sqrt{1-\beta ^2}}{v+c}$ and the value of $n$ equals to $c\Delta t=L_0\sqrt{\dfrac{1-\beta }{1+\beta}}$</p><p>$(2)$ <img src="https://pic.imgdb.cn/item/62af20ee0947543129b689e3.jpg" style="zoom:20%;" /> its length is $L$, $\Delta d^{\prime}=\sqrt{1-\beta ^2}$</p><p>$(3)$ $\Delta x=L_0-\dfrac{L_0}{c}\cdot v=(1-\beta )L_0$ and the value is $n^{\prime}=\dfrac{\Delta x}{\Delta d^{\prime}}=L_0\sqrt{\dfrac{1-\beta }NaN}$</p><h2 id="6-18-mbox-points"><a href="#6-18-mbox-points" class="headerlink" title="$6_{(18 \mbox{ points})}$"></a>$6_{(18 \mbox{ points})}$</h2><p>In the ground frame, $A(x=y=0)$ fires a bullet at $t=0$ towards a stationary target ball at $(x, y)=(4ls, 3ls)$ (no friction or resistance). The bullet and target ball both have same rest mass $m$; the bullet has speed $u=0.5 c$ (with respect to $A$ ), the bullet will sink into ball and travel with it. For another observer $B$ whose speed $v=0.8 c$ relative to $A$, and $x^{\prime}=0, y^{\prime}=0, t^{\prime}=0$ overlap those of A’s:</p><p><img src="https://pic.imgdb.cn/item/62af22900947543129b8a675.jpg" style="zoom:20%;" /></p><p>1) (5 points) For observer $B$, what are the space-time coordinates for the bullet hits the target ball?<br>2) (3 points) Suppose B does not know u (the bullet speed relative to A), but B can measure the velocity of the bullet in his frame using the results of 1 ), what is the velocity of bullet $\left(u_{x}^{\prime}, u_{y}^{\prime}\right)$ in B’s frame from results in (a)?<br>3) (2 points) For $A$, since he knows $u=0.5 c$, and he can deduce bullet’s velocity measured by $B$ to be $\left(u_{x}^{\prime}, u_{y}^{\prime}\right)$, please do a calculation on $\left(u_{x}^{\prime}, u_{y}^{\prime}\right)$ from A’s view.<br>4) (4 points) After bullet hits ball and moves together with it. What will be the final momentum (express the momentum in its $x, y$ components) and energy in A’s frame<br>5) (4 points) Answer same questions in 4) but in B’s frame.</p><hr><p>$(1)$ the hit event happens at $\begin{cases}x=4ls\\y=3ls\\t=10s\end{cases}\stackrel{v=0.8c}{\Longrightarrow }t^{\prime}=\dfrac{t-\dfrac{v}{c^2}x}{\sqrt{1-\dfrac{v^2}{c^2}}}=\dfrac{34}{3}\mbox{ s}$</p><p>$(2)$ Use the time that $B$ measures $v_{By}^{\prime}=\dfrac{\Delta y}{t^{\prime}}=\dfrac{9}{34}c$ and the $v_x$ difference between $A$ and $B$ is </p><script type="math/tex; mode=display">v_{Ax}-v_{Bx}=\dfrac{\Delta x^{\prime}}{t^{\prime}}=\dfrac{x\cdot \sqrt{1-\beta ^2}}{t^{\prime}}=\dfrac{18}{85}c=0.8c-v_{Bx}</script><p>So $v_{Bx}=\dfrac{10}{17}c$ $,\vec{v}_{B}=(-\dfrac{10}{17}c,\dfrac{9}{34}c)$</p><p>$(3)$ Use relativistic velocity transformation $v_{x}^{\prime}=\dfrac{v_x-v}{1-\dfrac{v_xv}{c^2}}=-\dfrac{10}{17}c,v_{y}^{\prime}=\dfrac{v_y\cdot \sqrt{1-\beta ^2}}{1-\dfrac{v_xv}{c^2}}=\dfrac{9}{34}c$</p><p>$(4)$ $|\vec{p}|=\dfrac{mv}{\sqrt{1-\dfrac{v^2}{c^2}}}=\dfrac{\sqrt{3}}{3}mc$. According to momentum conservation $\vec{p^{\prime}}=\dfrac{mc}{\sqrt{3}}(\dfrac{4}{5},\dfrac{3}{5})$</p><p>add the energy together $E=mc^2+\dfrac{mc^2}{\sqrt{1-\dfrac{v^2}{c^2}}}=(1+\dfrac{2\sqrt{3}}{3})mc^2$</p><p>$(5)$ Apply relativistic energy momentum transformation </p><script type="math/tex; mode=display">\begin{pmatrix}\dfrac{E^{\prime}}{c}\\p_{x}^{\prime}\\p_{y}^{\prime}\\p_{z}^{\prime}\end{pmatrix}=\begin{pmatrix}\gamma & -\beta \gamma&0&0\\-\beta \gamma &\gamma&0&0\\0&0&1&0\\0&0&0&1\end{pmatrix}\begin{pmatrix}\dfrac{E}{c}\\p_{x}\\p_{y}\\p_{z}\end{pmatrix}</script><p>So $E^{\prime}=\gamma(E-\beta c p_{x})=\dfrac{75+34\sqrt{3}}{45}mc^2,p_{x}^{\prime}=\gamma (p_x-\beta \dfrac{E}{c})=-(\dfrac{4}{3}+\dfrac{4\sqrt{3}}{9})mc$</p><p>$p_{y}^{\prime}=p_y=\dfrac{\sqrt{3}}{5}mc,\vec{p^{\prime}}=(-\dfrac{12+4\sqrt{3}}{9}mc,\dfrac{\sqrt{3}}{5}mc),E^{\prime}=\dfrac{75+34\sqrt{3}}{45}mc^2$</p><h2 id="7-18-mbox-points"><a href="#7-18-mbox-points" class="headerlink" title="$7_{(18 \mbox{ points})}$"></a>$7_{(18 \mbox{ points})}$</h2><p>Compton Scattering of photon by stationary electron:</p><p><img src="https://pic.imgdb.cn/item/62af2c100947543129c5ffaf.jpg" style="zoom:33%;" /></p><p>The initial photon with energy $E_{i}$ (and wavelength $\lambda_{i}, E=\dfrac{h c}{\lambda}$ ) along $\mathrm{x}$-direction interacts with a stational electron (rest mass $m_{e}, m_{e}=9.1 \times 10^{-31} \mathrm{~kg} \sim 0.51 \mathrm{MeV}$ ). The scattered photon will be along direction $\theta$, with energy $E_{f}$ and corresponding wavelength $\lambda_{f}$. Compton effect is how the wavelength change of the photon $\Delta \lambda=\lambda_{f}-\lambda_{i}$ relates to scattering angle $\theta$</p><ol><li><p>( 6 points) Write out the conservation relation of the process:<br> a) Using 4-vector symbol (state each 4 -vector corresponding to which) </p><p>b) Write out energy conservation; momentum (components) conservation respectively.</p></li><li><p>( 6 points) Find the relation between the $\Delta \lambda$ and $\theta$</p></li><li><p>(4 points) The relation would be like: $\Delta \lambda=\lambda_{C}(1-\cos \theta), \lambda_{C}$ is a natural constant called Compton wavelength (for electron), please express it in terms of other constant, and calculate its value.</p></li><li><p>(2 points) If the photon interacts with a proton whose rest mass $m_{p}=1800 m_{e}$, what is the value of Compton wavelength in this case?</p></li></ol><hr><p>$(1)$ a) $\mathcal{P}=\begin{pmatrix}\dfrac{E}{c}\\p_x\\p_y\\p_z\end{pmatrix}$ so $\mathcal{P}_{0}=\begin{pmatrix}\dfrac{h}{\lambda_i}+m_ec\\\dfrac{h}{\lambda_i}\\0\\0\end{pmatrix},\mathcal{P}_{1}=\begin{pmatrix}\dfrac{h}{\lambda_f}+\dfrac{E}{c}\\\dfrac{h}{\lambda_f}\cos \theta+p\cos \varphi \\\dfrac{h}{\lambda_f}\sin \theta-p\sin \varphi\\0\end{pmatrix}$ </p><p>b) Energy conservation </p><script type="math/tex; mode=display">\dfrac{h}{\lambda_i}+m_ec=\dfrac{h}{\lambda_f}+\dfrac{E}{c}</script><p>momentum (components) conservation</p><script type="math/tex; mode=display">\begin{cases}\dfrac{h}{\lambda_i}=\dfrac{h}{\lambda_f}\cos \theta +p\cos \varphi\\0=\dfrac{h}{\lambda_f}\sin \theta-p\sin \varphi \end{cases}</script><p>$(2)$ Eliminate $\varphi $, $(p\cos \varphi)^2+(p\sin \varphi)^2=(\dfrac{h}{\lambda_i}-\dfrac{h}{\lambda_f}\cos \theta)^2+(\dfrac{h}{\lambda_f}\sin \theta)^2=h^2(\dfrac{1}{\lambda_i^2}+\dfrac{1}{\lambda_f^2}-\dfrac{2\cos  \theta}{\lambda_i\lambda_f})=p^2$</p><p>For the photon $p^2c^2+E_0^2=E^2=h^2c^2(\dfrac{1}{\lambda_i^2}+\dfrac{1}{\lambda_f^2}-\dfrac{2\cos  \theta}{\lambda_i\lambda_f})+E_0^2$ And we have $E=hc(\dfrac{1}{\lambda_i}-\dfrac{1}{\lambda_f})+E_0$</p><p>$\therefore h^2c^2(\dfrac{1}{\lambda_i^2}+\dfrac{1}{\lambda_f^2}-\dfrac{2}{\lambda_i\lambda_f})+E_0^2+2hcE_0(\dfrac{1}{\lambda_i}-\dfrac{1}{\lambda_f})=h^2c^2(\dfrac{1}{\lambda_i^2}+\dfrac{1}{\lambda_f^2}-\dfrac{2\cos  \theta}{\lambda_i\lambda_f})+E_0^2$</p><p>$\therefore 2hcE_0\dfrac{\Delta \lambda}{\lambda_i\lambda_f}=2h^2c^2\dfrac{1-\cos \theta}{\lambda_i\lambda_f}\Longrightarrow \Delta \lambda =\dfrac{h}{m_ec}(1-\cos \theta)$</p><p>$(3)$ $\lambda _C=\dfrac{h}{m_ec}=2.43\times 10^{-12}\mbox{ m}$</p><p>$(4)$ $\lambda^{\prime}=\dfrac{h}{m_{p}c}=\dfrac{h}{1800m_ec}=\dfrac{\lambda_C}{1800}=1.35\times 10^{-15}\mbox{ m}$</p><h1 id="GPⅠ-Final-Exam-2021-6-18"><a href="#GPⅠ-Final-Exam-2021-6-18" class="headerlink" title="GPⅠ Final Exam (2021/6/18)"></a>GPⅠ Final Exam (2021/6/18)</h1><center><font size = 4.5><font face="楷体">author learning_rate 未央软-11</center><h2 id="1-14-mbox-points"><a href="#1-14-mbox-points" class="headerlink" title="$1_{(14 \mbox{ points})}$"></a>$1_{(14 \mbox{ points})}$</h2><p>Central field problem: </p><p>In the classical model of tritium ( Isotope of $\mathrm{H}$, with 1 proton, 2 neutron), the nucleus charge is $+1 e$, and electron (charge $-e)$ moves around nuclei in a circular orbit with radius $=r_{0}$. Suddenly a nuclei reaction happened and the one neutron becomes proton inside the nuclei to bring the charge of it to $+2 e$, the tritium becomes a Helium ion. The electron in the old orbit is facing a new situation: </p><p>(The force between nuclei charge and e is Coulomb attraction: $F=-\dfrac{c}{r^{2}} ; C=$ $\dfrac{Z e^{2}}{4 \pi \varepsilon_{0}}$; $Z$ : number of proton; $\varepsilon_{0}$ is a constant; use $m_{e}$ for reduced mass) </p><p>1) (4 points) Express the total energy $E_{0}$, Coulomb potential energy $U$, kinetic energy $K$ and angular momentum $L_{0}$ of e in tritium in the original circular orbit, in terms of $C, r_{0} ;$ i.e. $E_{0}, U, K, L_{0}=$ ?<br>2) (4 points) In the new situation (helium ion), what is the energy $E$ and $L$ for electron, in terms of $E_{0}, L_{0}$ </p><p>3) (4 points) Find the new orbit parameter $r_{0}^{\prime}, \varepsilon$; closest and furthest $r_{\text {max }}$; $r_{\text {min }}$ in terms of $r_{0}$ and other constant.<br>4) (2 points) Find the long (2a) and short axis (2b) of the new elliptical orbit in terms of $r_{0}$</p><hr><p>$(1)$ $U=\displaystyle \int_{r_0}^{+\infty}F(r)dr=-\dfrac{C}{r_0},m\dfrac{v^2}{r_0}=\dfrac{C}{r_0^2},K=\dfrac{1}{2}mv^2=\dfrac{C}{2r_0}$ </p><p>total energy is $E_0=K-\dfrac{C}{r_0}=-\dfrac{C}{2r_0}$ and the angular momentum is $L=mvr_0=mr_0\sqrt{\dfrac{C}{mr_0}}=\sqrt{Cmr_0}$</p><p>$(2)$ At the moment the reaction happened, the kinetic energy and radius don’t change </p><script type="math/tex; mode=display">E=K-\dfrac{C^{\prime}}{r_0}=K-\dfrac{2C}{r_0}=-\dfrac{3}{2}\dfrac{C}{r_0}=3E_0,L=mvr_0=L_0</script><p>$(3)$ According to elliptical orbit energy $E=-\dfrac{C^{\prime}}{2a}=-\dfrac{2C}{2a}=-\dfrac{3C}{2r_0}\Longrightarrow a=\dfrac{2}{3}r_0$</p><p>$r_{\max}=r_0,r_{\min}+r_{\max}=2a=\dfrac{4}{3}r_0\Longrightarrow r_{\min}=\dfrac{1}{3}r_0$</p><p>$(4)$ $a+c=r_0,a-c=\dfrac{1}{3}r_0\Longrightarrow a=\dfrac{2}{3}r_0,c=\dfrac{1}{3}r_0,b=\sqrt{a^2-c^2}=\dfrac{r_0}{\sqrt{3}}$ $2a=\dfrac{4}{3}r_0.2b=\dfrac{2\sqrt{3}}{3}r_0$</p><h2 id="2-16-mbox-points"><a href="#2-16-mbox-points" class="headerlink" title="$2_{(16 \mbox{ points})}$"></a>$2_{(16 \mbox{ points})}$</h2><p>Two identical mass points, mass $=m$, are connected through identical springs (spring constant=$k$) to the fixed walls as shown in figure:</p><p><img src="https://pic.imgdb.cn/item/62b02b560947543129d2a884.jpg" style="zoom:10%;" /></p><p>There is also a damper (whose mass can be neglected) between the two $\mathrm{m}$. It provides a resisting force trying to slow the faster moving particle, its magnitude is $b v$, where $b$ is a constant and $\mathrm{v}=\left|\dot{x_{1}}-\dot{x_{2}}\right| ; x_{1}, x_{2}$ are displacement from equilibrium.</p><p>1) (4 points) Please write out the equations of motion for the points, i.e. $\ddot{x}_{1}, \ddot{x}_{2}$ has to obey what equations, using parameters of $\omega_{0}=\sqrt{k / m}$ and $\gamma=\dfrac{b}{m}$<br>2) (4 points) Above equations may be coupled and hard to solve. We can simplify (decouple) them by replacing variables, such as $y_{2}=x_{1}-x_{2}$ etc. Let’s call new variables $y_{1}, y_{2}$, please list out relation between $y_{1}, y_{2}$ and $x_{1}, x_{2}$; also list out equations on $\ddot{y}_{1}, \ddot{y}_{2}$, in terms of $\omega_{0} ; \gamma$<br>3) (4 points) What are the general solutions for $y_{1}, y_{2}$ (under weak damping), which parameters will depend on initial conditions?<br>4) (4 points) If the initial conditions are, at $t=0$, the two points are at equilibrium positions, and point1 ( $\mathrm{m}$ represented by $x_{1}$ ) receive a quick blow and gain velocity of $v_{0}$. After a long enough time, the motion of the two points will become $x_{1}=x_{2}=\dfrac{v_{0}}{2 \omega} f(t)$ What is the function form of $f(t)$ ? and what is the $\omega$ (in terms of given parameters)</p><hr><p>$(1)$ Newton’s second law $\begin{cases}k(x_2-x_1)-kx_1-b(\dot{x_1}-\dot{x_2})=m\ddot{x_1}\-k(x_2-x_1)-kx_2+b(\dot{x_1}-\dot{x_2})=m\ddot{x_2}\end{cases}$ replace $\sqrt{\dfrac{k}{m}}=\omega_0,\gamma=\dfrac{b}{m}$ </p><script type="math/tex; mode=display">\begin{cases}\ddot{x_1}=\omega_0^2(x_2-2x_1)+\gamma(\dot{x_2}-\dot{x_1})\\\ddot{x_2}=\omega_0^2(x_1-2x_2)+\gamma(\dot{x_1}-\dot{x_2})\end{cases}</script><p>$(2)$ Add and subtract two equations and set $\begin{cases}y_1=x_1+x_2\\y_2=x_1-x_2\end{cases}$ therefore </p><script type="math/tex; mode=display">\begin{cases}\ddot{y_1}=-\omega_0^2y_1\\\ddot{y_2}=-3\omega_0^2y_2-2\gamma \dot{y_2}\end{cases}</script><p>$(3)$ Since the damping is weak, $\lambda_{1,2}=-\gamma\pm i\sqrt{3\omega_0^2-\gamma^2}$ so </p><script type="math/tex; mode=display">\begin{cases}y_1(t)=A_1\cos (\omega_0t+\varphi _1)\\y_2(t)=A_2e^{-\gamma t}\cos (\sqrt{3\omega_0^2-\gamma^2}t+\varphi _2)\end{cases}</script><p>$(4)$ After a long enough time,  $e^{-\gamma t}\to 0,y_2\to 0$ And for $y_1(t)$ </p><p>$y_{1}(0)=x_1(0)+x_2(0)=0,y_1^{\prime}(0)=x_1^{\prime}(0)+x_2^{\prime}(0)=v_0$ So $y_1(t)=\dfrac{v_0}{\omega_0}\sin (\omega_0 t)=x_1(t)+x_2(t)$</p><p>when $t\to +\infty$ $x_1(t)=x_2(t)=\dfrac{1}{2}y_1(t)=\dfrac{v_0}{2\omega_0}\sin (\omega_0 t)$ So $f(t)=\sin (\omega_0t),\omega=\omega_0$</p><h2 id="3-12-mbox-points"><a href="#3-12-mbox-points" class="headerlink" title="$3_{(12 \mbox{ points})}$"></a>$3_{(12 \mbox{ points})}$</h2><p>A plane wave of wavelength $\lambda$ travels along the z direction, excite the atoms at point $S$. The emitting light from the atoms will be <strong>in phase</strong> with the plane wave and has same frequency, and its emission can be treated as spherical wave. At distance $D$ from the atoms we put the observing screen. The amplitudes for the plane wave and spherical wave on the screen are both $A$ (This is true under paraxial approximation, $D&gt;&gt;\rho), \rho$ is the distance to the center of screen. Compute the intensity distribution on the screen $\mathrm{I}(\mathrm{x}, \mathrm{y})$, in terms of $\boldsymbol{\rho}$, $D, \lambda$ and $A$</p><p><img src="https://pic.imgdb.cn/item/62b0313a0947543129deb842.jpg" style="zoom:16%;" /></p><hr><p>For the plane wave, $\tilde{A_1}=A\cos (\omega t)$, and under paraxial approximation, the phase difference is </p><script type="math/tex; mode=display">\Delta \varphi=\dfrac{2\pi}{\lambda}(\sqrt{D^2+x^2+y^2}-D)\approx\dfrac{2\pi D}{\lambda}((1+\dfrac{1}{2}\dfrac{x^2+y^2}{D^2})-1)=\dfrac{\pi(x^2+y^2)}{\lambda D}=\dfrac{\pi \rho^2}{\lambda D}</script><p>so $\tilde{A_2}=A\cos (\omega t+\Delta \varphi),\tilde{A}_{tot}=\tilde{A_1}+\tilde{A_2}=2A\cos (\dfrac{\Delta \varphi }{2})\cos (\omega t+\dfrac{\Delta \varphi}{2})$ </p><script type="math/tex; mode=display">I(\rho)=|\tilde{A_{tot}}^2|=4A^2\cos^2 (\dfrac{\Delta \varphi }{2})\cdot \dfrac{1}{2}=A^2(1+\cos (\Delta \varphi ))=A^2(1+\cos (\dfrac{\pi \rho^2}{\lambda D}))</script><h2 id="4-14-mbox-points"><a href="#4-14-mbox-points" class="headerlink" title="$4_{(14 \mbox{ points})}$"></a>$4_{(14 \mbox{ points})}$</h2><p>Interference:<br>LIGO (Laser Interferometer Gravitation-Wave Observatory) is using interference to observe the expansion-contraction if space due to gravitation wave.</p><p><img src="https://pic.imgdb.cn/item/62af13e00947543129a538cf.jpg" style="zoom:50%;" /></p><p>As shown in the figure: It is basically a big Michelson Interferometer, two arm length $L_{0}$ is 4000 meter $(4 \mathrm{~km}$ ) each. Two extra mirrors inside will make light being reflected backwardforward $N=300$ times, effectively prolong the length of each arm. The light from each arm finally meets at the beam splitter and creates interference pattern. When gravitation wave (indicated by the curve on top) passes, one arm length will be lengthened and the other be compressed. This effect is expressed by a strain coefficient $\delta$, it expresses the length difference in the two arms by: $\Delta L=\delta L_{0}$<br>When there is no gravitation wave, the two arms are with equal length, and due to halfwavelength difference effect, light from two paths cancels each other and the interference is dark; when the gravitation wave creates a difference in arm length, the interference intensity will change, and from such change $\delta$ can be measured.</p><p><img src="https://pic.imgdb.cn/item/62af14680947543129a5e57d.jpg" style="zoom:80%;" /></p><p>The measured results are shown above. Vertical is the calculated $\delta$ from intensity change, horizontal is time. Two groups of data on the left and right are from two observatories located at different places (Hanford at Washington State and Livingston at Louisiana). The top row is the measurement; the middle is theoretical simulation and the bottom is noise level.</p><p>1) From data, what is the order of magnitude of $\delta$ ? How big is the length difference $\Delta L$ ? (2 points)<br>2) At such order of magnitude $\delta$, what is the phase difference between the light that passes the two arms of the interferometer then reaches the detector? The center wavelength of laser in use is $\lambda=1064 \mathrm{~nm}$ (3 points)<br>3) At such phase difference, what is the change of light intensity from zero? Needed parameter: The total intensity of the laser is $I_{0}=1000 \mathrm{~W}$ (5 points)<br>4) For such small intensity change, and the signal is really not too much above the noise, why the result is not due to some seismic-environmental changes (such as seismic activity, local temperature fluctuation, or even just student drop a wrench on the floor $\cdots)$ ? ( 4 points)</p><hr><p>$(1)$ $10^{-21}\sim 10^{-22}$ , $\Delta L_{\mbox{max}}=4\times 10^{-18}\mbox{ m}$ </p><p>$(2)$ $\Delta\varphi =\dfrac{2\pi}{\lambda}\Delta L\cdot 2N=1.42\times10^{-8}\mbox{ rad}$</p><p>$(3)$ $\tilde{A_1}=A_0\cos (\omega t),\tilde{A_2}=A_0\cos (\omega t+\pi +\Delta \varphi )$ and the total intensity is $I_0=\overline{\tilde{A_1^2}}+\overline{\tilde{A_2^2}}=\dfrac{A_0^2}{2}+\dfrac{A_0^2}{2}=A_0^2$</p><p>the final amplitude is $\tilde{A}=\tilde{A_1}+\tilde{A_2}=A_0(\cos (\omega t)-\cos(\omega t+\Delta \varphi ) )=2A_0\sin (\dfrac{\Delta\varphi}{2})\sin (\omega t+\dfrac{\Delta \varphi }{2})$</p><p>So the intensity is $I=\overline{\tilde{A^2}}=4A_0^2\sin ^2(\dfrac{\Delta \varphi }{2})\cdot \dfrac{1}{2}\approx 2A_0^2(\dfrac{\Delta \varphi}{2})^2=\dfrac{1}{2}I_0(\Delta \varphi)^2 =1.00\times 10^{-13}\mbox{ W}$</p><p>$(4)$ Two different experienments in different places show the same trend of the wave.</p><h2 id="5-12-mbox-points-1"><a href="#5-12-mbox-points-1" class="headerlink" title="$5_{(12 \mbox{ points})}$"></a>$5_{(12 \mbox{ points})}$</h2><p>A spaceship flying at constant speed $v$ towards $+x$ away from earth. On board it has a light transmitter and detector. <strong>The following data before questions are all referring to ship’s frame</strong> ( $S$ ‘ frame): The ship emit out a light signal with frequency $\omega_{0}$ towards the earth, part of it will be reflected by earth and comes back to the ship (as how radar works). $20$ s after the emission, the detector on the ship picks up the reflected signal from earth, and the frequency of the reflected light $\omega$ is found to be half of $\omega_{0}$, i.e., $\omega=\dfrac{1}{2} \omega_{0}$.</p><p>1) (2 points) At the time when the emitted light just reaches the earth and been reflected, what is the position of the earth in S’ (ship’s) frame?<br>2) (4 points) What is the velocity $v$ of ship relative to the earth?<br>3) (6 points) At the time when the reflected light reaches the ship and been detected, how far away of the ship from the earth in earth’s frame? (Write the answer in $\gamma, \beta$ first in case your $v$ value is wrong in 2) and you still be able getting most credit for this part;</p><hr><p>$(1)$ $\Delta x^{\prime}=\dfrac{c\Delta t}{2}=10\mbox{ ls}$</p><p>$(2)$ According to the Doppler effect of light $(\sqrt{\dfrac{1-\beta }{1+\beta }})^2=\dfrac{1}{2}\Longrightarrow \beta =\dfrac{1}{3},v=\dfrac{1}{3}c$</p><p>$(3)$ According to time dilation effect, in the $S$ frame, $\Delta t=\gamma \Delta t^{\prime}$. Set their initial distance is $l$ </p><script type="math/tex; mode=display">\Delta t=\dfrac{l}{c}+\dfrac{(l+\dfrac{l}{c}\cdot v)}{c-v}=\dfrac{l}{c}\dfrac{2}{1-\beta },l^{\prime}=l+\dfrac{l}{c}\cdot v+\dfrac{(l+\dfrac{l}{c}\cdot v)}{c-v}\cdot v=l\cdot \dfrac{1+\beta }{1-\beta}</script><p>So $l^{\prime}=\dfrac{1+\beta }{1-\beta }l=\dfrac{1+\beta}{1-\beta }\dfrac{c\Delta t(1-\beta)}{2}=\dfrac{1+\beta }{2}\gamma c\Delta t=\dfrac{c\Delta t}{2} \sqrt{\dfrac{1+\beta }{1-\beta }}=10\sqrt{2}\mbox{ ls}$</p><blockquote><p>Another solution: In $S^{\prime}$ frame, when the light reaches the ship, $\Delta x^{\prime}=10\mbox{ ls}+\dfrac{1}{3}c\cdot 10\mbox{ s}=\dfrac{40}{3}\mbox{ ls}(=\dfrac{1+\beta }{2}c\Delta t)$</p><p>And the length is measured when $\Delta t^{\prime}=0$, So $\Delta x=\dfrac{\Delta x^{\prime}+v\Delta t^{\prime}}{\sqrt{1-\dfrac{v^2}{c^2}}}=\dfrac{\Delta x^{\prime}}{\sqrt{1-\dfrac{v^2}{c^2}}}=\dfrac{c\Delta t}{2}\sqrt{\dfrac{1+\beta}{1-\beta}}=10\sqrt{2}\mbox{ ls}$</p></blockquote><h2 id="6-16-mbox-points"><a href="#6-16-mbox-points" class="headerlink" title="$6_{(16 \mbox{ points})}$"></a>$6_{(16 \mbox{ points})}$</h2><p>In the famous Bertozzi’s Ultimate speed experiment, stationary electrons were passing an accelerating electric field with potential of negative millions of volts (MeV in energy). The accelerating electrons then travel in vacuum tube and their terminal speed can be measured with time-of-flight method. The general setup and results are shown in the figure: (top 2 are setup and signal on oscilloscope; bottom 2 are results)</p><p><img src="https://pic.imgdb.cn/item/62b03a850947543129efa78c.jpg" style="zoom:20%;" /></p><p>1) (4 points) Please write out the formular for relation between $v^{2}$ and $\mathrm{K}$ (kinetics energy), of which the curve in the figure above should follow.<br>2) (4 points) Compute the $v^{2}$ at $\mathrm{K}=1.0 \mathrm{MeV}$ and $\mathrm{K}=4.5 \mathrm{MeV}$ from the formula, taking the rest mass of electron to be $m_{e}=0.5 \mathrm{MeV} c^{2}=9 \times 10^{16}(\mathrm{~m} / \mathrm{s})^{2}$.<br>3) (2 points) There may be a difference between the calculation in 2) with measured results in table 1.1. Suppose the measured results are accurate, what do you think is the major reason that cause the difference.<br>4) (5 points) Now we use electrons with $\mathrm{K}=4.5 \mathrm{MeV} ; m_{e}=0.5 \mathrm{MeV}$ to bombard a stationary proton (rest mass $m_{p}=940 \mathrm{MeV}$ ). If they form a “ $\mathrm{H}$ “ atom, what will be the rest mass (in $\mathrm{MeV})$ of “H” atom?<br>5) (1 point) How many energy needs to be released in order to form a stable $\mathrm{H}$ atom?</p><hr><p>$(1)$ $K=\dfrac{mc^2}{\sqrt{1-\dfrac{v^2}{c^2}}}-mc^2\Longrightarrow v^2=c^2(1-(\dfrac{mc^2}{K+mc^2})^2)$</p><p>$(2)$ $v^{2}(K=1\mbox{ MeV})=8\times 10^{16}\mbox{ (m/s)}^2,v^{2}(K=4.5\mbox{ MeV})=8.91\times 10^{16}\mbox{ (m/s)}^2$</p><p>$(3)$ The velocity of radiation decreases as electrons move.</p><p>$(4)$ $E=K+m_ec^2+m_pc^2=945\mbox{ MeV},p=\dfrac{1}{c}\sqrt{(K+m_ec^2)^2-(m_ec^2)^2}=4.975\mbox{ MeV/c}$</p><p>For the new atom $E^2=(pc)^2+E_0^2\Longrightarrow E_0=\sqrt{E^2-(pc)^2}=944.987\mbox{ MeV}$</p><p>$(5)$ $\Delta E=4.4987\mbox{ MeV}$</p><h2 id="7-16-mbox-points"><a href="#7-16-mbox-points" class="headerlink" title="$7_{(16 \mbox{ points})}$"></a>$7_{(16 \mbox{ points})}$</h2><p>In this problem we use transformation relation to work out reflection of light by a moving mirror.</p><p>We know that energy-momentum is a 4-vector, i.e. $(E / c, \vec{p})$ transform obeying Lorentz between inertial frames. Using the relation $E=\hbar \omega, \vec{p}=\hbar \vec{k}, \omega$ is the angular frequency and $\vec{k}$ wave vector of light wave, $\hbar$ is a universal constant; then the $\underset{\rightarrow}{K} \equiv(\omega / c, \vec{k})$ is also a 4-vector.</p><ol><li><p>(3 points, 1 for each)<br>a) For light, what is the length of this $\underset{\rightarrow}{K}$, i.e. $|\underset{\rightarrow}{K}|^{2}$ equals what?</p><p>b) This means $\dfrac{\omega}{|k|}$ equals what? $|k|=\sqrt{k_{x}^{2}+k_{y}^{2}+k_{z}^{2}}$ is the length of wave vector. c) Is this $\dfrac{\omega}{|k|}$ value invariant between frames?</p></li></ol><p>Now take a look for light reflection by a moving mirror, the mirror ( $S^{\prime}$ ) is moving with $v$ relative to the ground S (the source of light is stationary on the ground), the ground view and mirror view are shown in the figure below:</p><p><img src="https://pic.imgdb.cn/item/62b04ca309475431290ab1f5.jpg" style="zoom:20%;" /></p><p>In the mirror frame ( $S^{\prime}$ view), it just sees a light with frequency $\omega^{\prime}$ coming in with angle $\theta_{i}^{\prime}$, and it will reflect the incoming light. The reflection law in the mirror frame is just the familiar one: $\omega_{r}^{\prime}=\omega_{i}^{\prime}, \theta_{r}^{\prime}=\theta_{i}^{\prime}$. But for the ground observer, the reflected light may have different frequency and out-going angle compared with incoming one:</p><ol><li>(7 points) For a given incoming light in $S$ frame, i.e. $\omega_{i}, k_{i}$ ( $k_{i}$ is the magnitud of incoming wave vector) and angle $\theta_{i}$ is known, please find out the $\omega_{i}^{\prime}$ and $\cos \theta_{i}^{\prime}$, the frequency and incoming angle in the mirror (S’) frame, express them in terms of $c, \beta, \gamma, \omega_{i}, \theta_{i}$</li><li>(6 points) Using the reflection law in mirror frame, find out the frequency and angle of reflected light in ground frame: $\omega_{r}$ and $\cos \theta_{r}$, express them in terms of $c, \beta, \gamma, \omega_{i}, \theta_{i}$</li></ol><hr><p>$(1)$ $|\underset{\rightarrow}{K}|=0,\dfrac{\omega}{|k|}=c$ $,\dfrac{\omega }{|k|} \mbox{is invariant}$</p><p>$(2)$ $\underset{\rightarrow}{K}=(\dfrac{\omega}{c},k_x,k_y,k_z)$ satisfies Lorentz transformation.</p><script type="math/tex; mode=display">\begin{pmatrix}\dfrac{\omega^{\prime}}{c}\\k_{x}^{\prime}\\k_{y}^{\prime}\\k_{z}^{\prime}\end{pmatrix}=\begin{pmatrix}\gamma & -\beta \gamma&0&0\\-\beta \gamma &\gamma&0&0\\0&0&1&0\\0&0&0&1\end{pmatrix}\begin{pmatrix}\dfrac{\omega}{c}\\k_{x}\\k_{y}\\k_{z}\end{pmatrix}</script><p>$\omega^{\prime}=\gamma(\omega-\beta c k_x)=\gamma(\omega-\beta c (-\dfrac{\omega }{c}\cdot \cos \theta_i))=\gamma\omega(1+\beta \cos \theta_i)$</p><p>$k^{\prime}_x=\gamma(k_x-\beta \cdot \dfrac{\omega}{c})=\gamma(-\dfrac{\omega }{c}\cdot \cos \theta_i-\beta \cdot \dfrac{\omega }{c})=-\dfrac{\omega }{c}\gamma(\cos \theta_i+\beta )$</p><p>$\cos \theta_{i}^{\prime}=\dfrac{k_x^{\prime}}{|k^{\prime}|}=\dfrac{k_x^{\prime}}{|\dfrac{\omega^{\prime}}{c}|}=\dfrac{\cos \theta_i+\beta}{1+\beta \cos \theta_i}\Longrightarrow \theta_i^{\prime}=\arccos(\dfrac{\cos \theta_i+\beta}{1+\beta \cos \theta_i})$</p><p>$(3)$ $\omega_{r}^{\prime}=\omega^{\prime}_{i}$, then transform to $S$ frame </p><script type="math/tex; mode=display">\begin{pmatrix}\dfrac{\omega}{c}\\k_{x}\\k_{y}\\k_{z}\end{pmatrix}=\begin{pmatrix}\gamma & \beta \gamma&0&0\\\beta \gamma &\gamma&0&0\\0&0&1&0\\0&0&0&1\end{pmatrix}\begin{pmatrix}\dfrac{\omega^{\prime}}{c}\\k_{x}^{\prime}\\k_{y}^{\prime}\\k_{z}^{\prime}\end{pmatrix}</script><p>$\omega_{r}=\gamma(\omega^{\prime}+\beta ck_x^{\prime})=\gamma(\gamma\omega(1+\beta \cos \theta _i)+\beta c(\dfrac{\omega}{c}\gamma(\beta +\cos \theta_i)))=\dfrac{1+\beta ^2+2\beta \cos \theta_i}{1-\beta ^2}\omega$</p><p>$k_{rx}=\gamma(k_x^{\prime}+\beta \dfrac{\omega^{\prime}}{c})=\gamma(\gamma\dfrac{\omega}{c}(\cos \theta_i+\beta)+\beta \dfrac{\gamma\omega(1+\beta \cos \theta_i)}{c})=\dfrac{\beta ^2\cos \theta_i+2\beta +\cos \theta_i}{1-\beta ^2}\dfrac{\omega}{c}$</p><p>$\theta_{r}=\arccos(\dfrac{k_{rx}}{\dfrac{\omega_r}{c}})=\arccos(\dfrac{\beta ^2\cos \theta_i+2\beta +\cos \theta_i}{1+2\beta \cos \theta_i+\beta ^2})$</p>]]></content>
    
    
    <categories>
      
      <category>物理</category>
      
      <category>基础物理学 1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>基础物理学 1</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Calculus-A2-homework all</title>
    <link href="/2022/06/18/%E6%95%B0%E5%AD%A6/%E5%BE%AE%E7%A7%AF%E5%88%86A(2)%E4%BD%9C%E4%B8%9A%E5%90%88%E9%9B%86%EF%BC%881-10%EF%BC%89/"/>
    <url>/2022/06/18/%E6%95%B0%E5%AD%A6/%E5%BE%AE%E7%A7%AF%E5%88%86A(2)%E4%BD%9C%E4%B8%9A%E5%90%88%E9%9B%86%EF%BC%881-10%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>$\mathbf{PDF}$ 文件下载请点击这里 <a href="https://lr-tsinghua11.github.io/pdf/微积分A2作业合集（1-9）.pdf">微积分A(2)作业</a></p><h1 id="large-textcolor-blue-微积分第一次作业-small-W-times-f-textcolor-blue-2022-2-25"><a href="#large-textcolor-blue-微积分第一次作业-small-W-times-f-textcolor-blue-2022-2-25" class="headerlink" title="$\large\textcolor{blue}{微积分第一次作业 \small(W\times f)}      _\textcolor{blue}{2022.2.25}$"></a>$\large\textcolor{blue}{微积分第一次作业 \small(W\times f)}      _\textcolor{blue}{2022.2.25}$</h1><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p>设 $|\cdot|$ 是范数，证明 $\mathbb{C}=\{\vec{x}\in\mathbb{R}^m\mid|\vec{x}|\leq 1\}$ 是闭凸集。</p><p>（ $\mathbb{C}\in\mathbb{R}^{m}$ 是凸集$ \Longleftrightarrow  \forall  \vec{x},\vec{y}\in\mathbb{C}, \forall  t\in(0,1), (1-t)\vec{x}+t\vec{y}\in\mathbb{C}$）</p><hr><p><strong>证明</strong>：先证明其为凸集，由范数的性质，满足三角不等式和正齐次性有</p><script type="math/tex; mode=display">\|\vec{x}\|,\|\vec{y}\|\leq 1\in\mathbb{C},\ \forall \ t\in(0,1),\ \|(1-t)\vec{x}+t\vec{y}\|\leq(1-t)\|\vec{x}\|+t\|\vec{y}\|\leq 1</script><p>考虑 $\mathbb{C}$ 的补集 $\mathbb{A}=\{\vec{x}\in\mathbb{R}^m\mid|\vec{x}|&gt; 1\}$，对于该集合中任意一点 $\vec{a}\in\mathbb{A}$，令 $|\vec{a}|=\lambda&gt;1$</p><script type="math/tex; mode=display">\forall \ \vec{a}\in\mathbb{A},\ \exists \ \delta=\dfrac{\lambda-1}{2},\ s.t.\forall \ \|\vec{x}-\vec{a}\|<\delta,\|\vec{x}\|\geq\|\vec{a}\|-\|\vec{a}-\vec{x}\|=\|\vec{a}\|-\|\vec{x}-\vec{a}\|>1</script><p>从而 $\mathbb{A}$ 满足任意一点总存在该点领域全在 $\mathbb{A}$ 中，$\mathbb{A}$ 为开集，$\mathbb{C}$ 为 $\mathbb{A}$ 的补集，则 $\mathbb{C}$ 为闭集</p><p>再结合其为凸集，得 $\mathbb{C}$ 为闭凸集   $□$</p><h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><p>设 $|\cdot|$ 满足正定、正齐次性，证明：$|\cdot|$ 是范数 $\Longleftrightarrow$ $\mathbb{C}=\{\vec{x}\in\mathbb{R}^m\mid|\vec{x}|\leq 1\}$ 是凸集。</p><hr><p><strong>证明</strong>：由第一题结论可得，$|\cdot|$ 是范数 $\Longrightarrow$ $\mathbb{C}=\{\vec{x}\in\mathbb{R}^m\mid|\vec{x}|\leq 1\}$ 是凸集。</p><p>又若 $\mathbb{C}=\{\vec{x}\in\mathbb{R}^m\mid|\vec{x}|\leq 1\}$ 是凸集，即 $\forall  \vec{x},\vec{y}\in\mathbb{C}, \forall  t\in(0,1), (1-t)\vec{x}+t\vec{y}\in\mathbb{C}$。若</p><p> $|\vec{x}|$ 或 $|\vec{y}|$ 中有一者为 $0$，由 $|\cdot|$ 的正定性，可得 $\vec{x}$ 或 $\vec{y}$ 中一者为 $\boldsymbol 0\in \mathbb{R}^m$，此时三角不等式</p><p> $|\vec{x}|+|\vec{y}|\geq|\vec{x}+\vec{y}|$ 成立。则对两者范数均大于 $0$ 的情况， $\forall \vec{x},\vec{y}$，令$|\vec{x}|=l_1&gt;0$</p><p>$|\vec{y}|=l_2&gt;0$，单位化有 $\vec{n}_1=\dfrac{\vec{x}}{l_1},\vec{n}_2=\dfrac{\vec{y}}{l_2}$，满足 $\vec{n}_1,\vec{n}_2\in\mathbb{C}$， 由凸集性质</p><script type="math/tex; mode=display">\begin{gathered}\because \forall \ t\in(0,1),\|(1-t)\vec{n}_1+t\vec{n}_2\|\in\mathbb{C},\vec{n}_1=\dfrac{\vec{x}}{l_1},\vec{n}_2=\dfrac{\vec{y}}{l_2}\\\therefore \forall\ t\in (0,1),\|\dfrac{1-t}{l_1}\cdot \vec{x}+\dfrac{t}{l_2}\cdot \vec{y}\|\leq 1\ \therefore \mbox{set}\ \ \ t=\dfrac{l_2}{l_1+l_2},\|\dfrac{\vec{x}+\vec{y}}{l_1+l_2}\|\leq1\end{gathered}</script><p>由正齐次性，$|\dfrac{\vec{x}+\vec{y}}{l_1+l_2}|=\dfrac{1}{l_1+l_2}|\vec{x}+\vec{y}|\leq 1$，则有 $|\vec{x}+\vec{y}|\leq l_1+l_2=|\vec{x}|+|\vec{y}|$</p><p>则 $\mathbb{C}=\{\vec{x}\in\mathbb{R}^m\mid|\vec{x}|\leq 1\}$ 是凸集 $\Longrightarrow |\cdot|$ 为范数，两者等价   $□$</p><h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><p>证明 $|\vec{x}|_{\infty}=\underset{1\leq i\leq m}{\max}|x^{i}|$  是范数。</p><hr><p><strong>证明</strong>：显然正定性满足；且 $|\lambda\vec{x}|_{\infty}=\underset{1\leq i\leq m}{\max}|\lambda x^{i}|=|\lambda|\underset{1\leq i\leq m}{\max}|x^{i}|=|\lambda||\vec{x}|_{\infty}$ 满足正齐次性，</p><p>有 $\vec{x}=(x^1,\cdots,x^m)^{T},\vec{y}=(y^1,\cdots,y^m)^{T}$，设两者最大值为 $|x^{max}|,|y^{max}|$</p><script type="math/tex; mode=display">\begin{gathered}\|\vec{x}+\vec{y}\|_{\infty}=(x^1+y^1,x^2+y^2,\cdots,x^m+y^m)\leq(|x^{1}|+|y^1|,\cdots,|x^{m}|+|y^m|)\\\leq(|x^{max}|+|y_1|,\cdots,|x^{max}|+|y^m|)=|x^{max}|+(|y^1|,\cdots,|y^m|)\leq|x^{max}|+|y^{max}|\\\end{gathered}</script><p>即有 $\forall  \vec{x},\vec{y}, |\vec{x}+\vec{y}|_{\infty}\leq|\vec{x}|_{\infty}+|\vec{y}|_{\infty}$，满足三角不等式，从而 $|\vec{x}|_{\infty}$ 是（无穷）范数   $□$</p><h2 id="4"><a href="#4" class="headerlink" title="4"></a>4</h2><p>设 $p&gt;1$，证明 $|\vec{x}|_{p}=(\displaystyle \sum_{i=1}^m|x^i|^p)^{\frac{1}{p}}$ 是范数。</p><hr><p><strong>证明</strong>：显然 $(\displaystyle \sum_{i=1}^m|x^i|^p)^{\frac{1}{p}}\geq 0$ 满足正定性，若乘以 $\lambda$ 倍，有</p><script type="math/tex; mode=display">\|\lambda\vec{x}\|_{p}=\|\vec{x}\|_{\infty}=(\displaystyle \sum_{i=1}^m|\lambda x^i|^p)^{\frac{1}{p}}=\|\vec{x}\|_{\infty}=(\lambda^p \displaystyle \sum_{i=1}^m|x^i|^p)^{\frac{1}{p}}=\lambda \cdot(\displaystyle \sum_{i=1}^m|x^i|^p)^{\frac{1}{p}}=\lambda\|\vec{x}\|_{\infty}</script><p>从而 $|\vec{x}|_p$ 满足正齐次性，对三角不等式，先证明两个不等式</p><blockquote><p>引理一：<strong>$\mbox{Young}$ 不等式</strong>：设 $a,b&gt;0,q,p&gt;1,\dfrac{1}{p}+\dfrac{1}{q}=1$，有以下不等式成立</p><script type="math/tex; mode=display">ab\leq \dfrac{a^p}{p}+\dfrac{b^q}{q}</script><p>构造函数 $f(x)=\dfrac{1}{p}x^{p}+\dfrac{1}{q}-x (x&gt;0)$，求导有 $f’(x)=x^{p-1}-1$，当 $x\in(0,1)$ 时，</p><p>$f’(x)&lt;0$，$f(x)$ 单调递减；当 $x\in (1,+\infty)$ 时，$f’(x)&gt;0$，$f(x)$ 单调递增。从而</p><p>$f(x)\geq f(1)=\dfrac{1}{p}+\dfrac{1}{q}-1=0$。令 $x=\dfrac{a}{b^{\frac{q}{p}}}$ 有 $\dfrac{1}{p}\dfrac{a^p}{b^{q}}+\dfrac{1}{q}\geq\dfrac{a}{b^{\frac{q}{p}}}$，两边乘以 $b^q$，代入 </p><p>$\dfrac{1}{p}=1-\dfrac{1}{q}$，则有 $\dfrac{a^p}{p}+\dfrac{b^q}{q}\geq a\cdot b^{q-\frac{q}{p}}=ab$</p><p>引理二：<strong>$\mbox{Hölder}$ 不等式</strong>：设 $a_k,b_k&gt;0,p,q\geq1,k=1,2,\cdots,n,\dfrac{1}{p}+\dfrac{1}{q}=1$，有以下不等式成立</p><script type="math/tex; mode=display">\displaystyle \sum_{k=1}^na_kb_k\leq(\sum_{k=1}^na_k^p)^{\frac{1}{p}}\cdot(\sum_{k=1}^nb_k^q)^{\frac{1}{q}}</script><p>考虑两者相除运用 $\mbox{Young}$ 不等式即可得证</p><script type="math/tex; mode=display">\begin{gathered}\dfrac{\displaystyle \sum_{i=1}^na_kb_k}{\displaystyle (\sum_{k=1}^na_k^p)^{\frac{1}{p}}\cdot(\sum_{k=1}^nb_k^q)^{\frac{1}{q}}}=\displaystyle\large \sum_{k=1}^n((\normalsize\dfrac{a_k^p}{\normalsize \displaystyle \sum_{k=1}^na_k^p})^{\frac{1}{p}}\cdot(\normalsize \dfrac{b_k^q}{\normalsize \displaystyle \sum_{k=1}^nb_k^q})^{\frac{1}{q}})\normalsize \\\leq\dfrac{1}{p}\sum_{i=1}^n\dfrac{a_k^p}{\normalsize \displaystyle \sum_{k=1}^na_k^p}+\dfrac{1}{q}\sum_{i=1}^n\dfrac{b_k^q}{\normalsize \displaystyle \sum_{k=1}^nb_k^q}=\dfrac{1}{p}+\dfrac{1}{q}=1\end{gathered}</script></blockquote><p>拆开和的 $p-$范数有 $\displaystyle \sum_{i=1}^{n}\left(x^{i}+y^{i}\right)^{p}=\sum_{i=1}^{n} x^{i}\left(x^{i}+y^{i}\right)^{p-1}+\sum_{i=1}^{n} y^{i}\left(x^{i}+y^{i}\right)^{p-1}$</p><p>令 $\dfrac{1}{p}+\dfrac{1}{q}=1$，利用 $\mbox{Hölder}$ 不等式放缩两者有</p><script type="math/tex; mode=display">\begin{gathered}\sum_{i=1}^{n} x^{i}(x^{i}+y^{i})^{p-1} \leq(\sum_{i=1}^{n} (x^{i})^{p})^{\frac{1}{p}}(\sum_{i=1}^{n}(x^{i}+y^{i})^{(p-1) q})^{\frac{1}{q}}=(\sum_{i=1}^{n} (x^{i})^{p})^{\frac{1}{p}}\cdot (\sum_{i=1}^{n}(x^{i}+y^{i})^{p})^{\frac{1}{q}}\\\sum_{i=1}^{n} y^{i}(x^{i}+y^{i})^{p-1} \leq(\sum_{i=1}^{n} (y^{i})^{p})^{\frac{1}{p}}(\sum_{i=1}^{n}(x^{i}+y^{i})^{(p-1) q})^{\frac{1}{q}}=(\sum_{i=1}^{n} (y^{i})^{p})^{\frac{1}{p}}\cdot (\sum_{i=1}^{n}(x^{i}+y^{i})^{p})^{\frac{1}{q}}\end{gathered}</script><p>从而求和得到 $\displaystyle \sum_{i=1}^n(x^i+y^i)^p\leq \Large(\normalsize (\displaystyle \sum_{i=1}^n(x^i)^p)^{\frac{1}{p}}+(\sum_{i=1}^n(y^i)^p)^{\frac{1}{p}}\Large)\normalsize \cdot (\sum_{i=1}^{n}(x^{i}+y^{i})^{p})^{\frac{1}{q}}$，移项即得</p><script type="math/tex; mode=display">(\displaystyle \sum_{i=1}^n(x^i)^p)^{\frac{1}{p}}+(\sum_{i=1}^n(y^i)^p)^{\frac{1}{p}}\geq (\sum_{i=1}^n(x^i+y^i)^p)^{1-\frac{1}{q}}=(\sum_{i=1}^n(x^i+y^i)^p)^{\frac{1}{p}}</script><p>$|\vec{x}|_{p}=(\displaystyle \sum_{i=1}^m|x^i|^p)^{\frac{1}{p}}$ 满足正定、正齐次、三角不等式，从而为范数   $□$</p><h2 id="5"><a href="#5" class="headerlink" title="5"></a>5</h2><p>设 $m&gt;1$，证明 $\mathbb{A}=\{\vec{x}\in\mathbb{R}^m\mid |x|=1\}$ 是道路连通集。</p><hr><p><strong>证明</strong>：$\forall  \vec{x},\vec{y}\in E$，令 $f(t)=\dfrac{(1-t)\vec{x}+t\vec{y}}{|(1-t)\vec{x}+t\vec{y}|}$，对 $\vec{x}=\vec{y}$ 时，显然 若 $。\vec{x}\neq\vec{y}$，$f(0)=\vec{x}$，</p><p>$f(1)=\vec{y}$，先证明该函数映射连续性。有线性函数 $g_1:[0,1]\longrightarrow  \mathbb{R}^m,t \longmapsto (1-t)\vec{x}+t\vec{y}$ 连</p><p>续，考虑函数 $g_2:[0,1]\longrightarrow [0,1]t\longmapsto|(1-t)\vec{x}+t\vec{y}|$，由范数的正齐次性和三角不等式得</p><script type="math/tex; mode=display">\forall \ t_1,t_2\in[0,1],|g_2(t_1)-g_2(t_2)|=|\|\vec{x}+t_1(\vec{y}-\vec{x})\|-\|\vec{x}+t_2(\vec{y}-\vec{x})\||\leq|t_1-t_2|\|\vec{y}-\vec{x}\|</script><p>而 $|\vec{y}-\vec{x}|\leq |\vec{y}|+|-\vec{x}|=2$ 为有限量，则有</p><script type="math/tex; mode=display">\forall \ \epsilon>0,\exists\ \delta<\dfrac{\epsilon}{2},s.t.\forall \ t_1,t_2\in[0,1],|t_1-t_2|<\delta,|g(t_1)-g(t_2)|\leq|t_1-t_2|\|\vec{y}-\vec{x}\|<\epsilon</script><p>从而 $g_2$ 为连续函数，同时由范数的正定性，$|(1-t)\vec{x}+t\vec{y}|\geq0$，若 $|(1-t)\vec{x}+t\vec{y}|=0$</p><p>由正定性 $(1-t)\vec{x}+t\vec{y}=0$ 得 $\vec{x}=-\vec{y}$ ，只要 $\vec{x}\neq -\vec{y}\Longrightarrow  |(1-t)\vec{x}+t\vec{y}|\neq 0$</p><p>令 $g_3:x\in(0,1]\longmapsto \dfrac{1}{x}\in[1,+\infty)$ 为连续函数，复合函数 $f(t)=(g_3\circ g_2)\cdot g_1$ 也连续</p><p>而 $|f(t)|=\dfrac{|(1-t)\vec{x}+t\vec{y}|}{|(1-t)\vec{x}+t\vec{y}|}=1$，则对 $t\in[0,1]$，都有 $f(t)\in \mathbb{A}$，满足道路连通集条件</p><p>而针对特殊情况（两向量恰好反向）， $\vec{x}=-\vec{y}$，可选取 $\vec{z}\neq \vec{x},\vec{z}\neq\vec{y}$，令 $\vec{x}$ 到 $\vec{z}$ 的连续映射为 </p><p>$f_1(t)$，$\vec{z}$  到 $\vec{y}$ 的连续映射为 $f_2(t)$，可以构造连续映射</p><script type="math/tex; mode=display">f(t)=\begin{cases}f_1(2t),t\in[0,\dfrac{1}{2})\\f_2(2t-1),t\in[\dfrac{1}{2},1]\end{cases}</script><p>也满足道路连续性的条件，从而</p><script type="math/tex; mode=display">\forall \ \vec{x},\vec{y}\in \mathbb{A},\ \exists\ 连续\ f(t),f(0)=\vec{x},f(1)=\vec{y},s.t.\forall\ t\in[0,1],f(t)\in\mathbb{A}</script><p>即 $\mathbb{A}$ 为道路连通集   $□$</p><h2 id="6"><a href="#6" class="headerlink" title="6"></a>6</h2><p>设 $m&gt;1$，证明 $\mathbb{D}=\{A\mid A 是 m 阶方阵,\det A&gt;0\}$ 是道路连通集。</p><hr><p><strong>证明</strong>：首先证明单位阵 $I$ 到 $\mathbb{D}$ 中任意元素 $A\in\mathbb{D},\det A&gt;0$ 是连通的，对单位阵 $I$，总存在一系列初等变换有</p><script type="math/tex; mode=display">E_1E_2\cdots E_nIE_1'E_2'\cdots E_n'=A</script><p>若 $E_i$ 是倍乘变换，倍乘系数为 $k\neq0$，则对 $\forall B\in \mathbb{D}$，作连续映射</p><script type="math/tex; mode=display">f_i(t):\mathcal{GL}^{+}(m) \longrightarrow  \mathcal{GL}^{+}(m)\quad B\longmapsto(1+(k-1)t)E_iB</script><p>若 $E_i$ 是倍加变换，倍加系数为 $m&gt;0$，则对 $\forall  C\in\mathbb{D}$，作连续映射</p><script type="math/tex; mode=display">g_i(t):\mathcal{GL}^{+}(m) \longrightarrow  \mathcal{GL}^{+}(m)\quad C\longmapsto(1+(k-1)t)E_iC</script><p>若 $E_i$ 是换行 $/$ 换列变换并对其中一行 $/ $  列乘以 $-1$ （保证行列式 $&gt;0$），对改变的两行 $/$ 两列有连续复合映射</p><script type="math/tex; mode=display">(A,B)\stackrel{E_1}{\longrightarrow} (A+B,B)\stackrel{E_2}{\longrightarrow}(A+B,-A)\stackrel{E_3}{\longrightarrow}(B,-A)\stackrel{E_4(-1)}{\longrightarrow}(B,A)</script><p>综上，对所有初等矩阵 $E_i$，均存在连续映射 $f_{E_{i}}(t)$ 从 $I$ 到 $E_i$，使得 $I$ 到 $A\in\mathbb{D}$ 是连通的</p><p>对 $\forall  A_1,A_2\in \mathbb{D}$，对 $A_2$ 实行上述步骤得到连续映射 $I\longmapsto A_2,F(t):\displaystyle \prod_{i=1}^n f_{E_i}$，则 $A_1^{-1}\circ F$ 满足$A_1\longmapsto A_2$ 连续映射，且由于 $f_{i}(t)$ 和 $g_{i}(t)$ 都映射到 $\mathbb{D}$ 中，$\forall  t\in[0,1],A_1^{-1}\circ F(t)\in\mathbb{D}$</p><p>，即 $\mathbb{D}$ 道路连通   $□$</p><h2 id="7"><a href="#7" class="headerlink" title="7"></a>7</h2><p>设 $f:\mathbb{R}^m\diagdown\{0\}\longmapsto \mathbb{R}$，且 $f$ 连续，满足 $\forall  t&gt;0,\vec{x}\neq0 ,f(t\vec{x})=f(\vec{x})$，证明 $f$ 有最大值和最小值。</p><hr><p><strong>证明</strong>：令单位“实心球”集合 $\mathbb{S}=\{\vec{y}\mid |\vec{y}|\leq 1\}$ 为有界闭集，对 $\forall \vec{y}\in\mathbb{R}^m\diagdown\{0\}$，若 $|\vec{y}|\leq1$，</p><p>则 $\vec{y}\in\mathbb{S}$，否则 $|\vec{y}|&gt;1$，令 $\vec{z}=\dfrac{\vec{y}}{|\vec{y}|}$，其范数 $|\vec{z}|=1 ,\vec{z}\in\mathbb{S}$，$f(\vec{y})=f(|\vec{y}|\cdot\vec{z})=f(\vec{z})$</p><p>定义映射 $g:\mathbb{S}\longmapsto\mathbb{R},g(\vec{x})=f(\vec{x})$，由知 $f$ 和 $g$ 的值域相同，且 $g$ 为有界闭集上的连续映射</p><p>从而 $f$ 和 $g$ 都有最大值和最小值                                                                                                            $□$</p><h2 id="8"><a href="#8" class="headerlink" title="8"></a>8</h2><p>设 $f(x,y,z)=\dfrac{x+2y+3z}{x^2+y^2+z^2+1}$，证明 $f$ 有正的最大值和负的最小值。</p><hr><p>证明：令三维欧式空间向量 $\vec{r}=(x,y,z)$，有</p><script type="math/tex; mode=display">f(x,y,z)=f(\vec{r})=\dfrac{\vec{r}\cdot(1,2,3)}{\|\vec{r}\|^2+1}=\dfrac{\|\vec{r}\|\cdot\sqrt{14}\cos \theta}{\|\vec{r}\|^2+1}</script><p>由均值不等式 $\dfrac{|\vec{r}|}{|\vec{r}|^2+1}\leq\dfrac{1}{2}$，以及 $\cos \theta\in[-1,1]$，得 $f(\vec{r})\in[-\dfrac{\sqrt{14}}{2},\dfrac{\sqrt{14}}{2}]$ 有界</p><p>而 $f(x,y,z)$ 为连续函数，从而有最值，且当 $x,y,z&gt;0$ 时 $f(x,y,z)&gt;0$；当 $x,y,z&lt;0$ 时 </p><p>$f(x,y,z)&lt;0$，则 $f$ 有正的最大值和负的最小值   $□$</p><h1 id="large-textcolor-blue-微积分第二次作业-small-W-times-f-textcolor-blue-2022-3-4"><a href="#large-textcolor-blue-微积分第二次作业-small-W-times-f-textcolor-blue-2022-3-4" class="headerlink" title="$\large\textcolor{blue}{微积分第二次作业 \small(W\times f)}      _\textcolor{blue}{2022.3.4}$"></a>$\large\textcolor{blue}{微积分第二次作业 \small(W\times f)}      _\textcolor{blue}{2022.3.4}$</h1><h2 id="1-1"><a href="#1-1" class="headerlink" title="1"></a>1</h2><p>1、（连续性与偏连续性）设 $f:[a,b]\times [c,d]\rightarrow \mathbb{R}$。</p><p>(a) 如果 $f$ 是连续函数, 那么是否成立: 对任意 $y \in[c, d], f(\cdot, y)$ : $[a, b] \rightarrow \mathbb{R}$ 连续; 对任意 $x \in[a, b]$</p><p>$f(x, \cdot):[c, d] \rightarrow \mathbb{R}$ 连续?</p><p>(b) 如果对任意 $y \in[c, d], \quad f(\cdot, y):[a, b] \rightarrow \mathbb{R}$ 连续; 对任意 $x \in[a, b]$, $f(x, \cdot):[c, d] \rightarrow \mathbb{R}$ 连续, 那么 $f$ 是否为连续函数? 考虑</p><script type="math/tex; mode=display">f(x, y)= \begin{cases}\dfrac{x y}{x^{2}+y^{2}}, & x y \neq 0 \\ 0, & x y=0\end{cases}</script><p>(c) 设 $x_{0} \in[a, b], y_{0} \in[c, d], f$ 满足: $f\left(\cdot, y_{0}\right):[a, b] \rightarrow \mathbb{R}$ 连续; 并且对 任意 $\varepsilon&gt;0$, 存在 </p><p>$\delta(\varepsilon)&gt;0$ 使得对任意 $x \in[a, b]$ 以及任意 $y \in[c, d]$, 只要 $\left|y-y_{0}\right|&lt;\delta(\varepsilon)$, 就有 </p><p>$\left|f(x, y)-f\left(x, y_{0}\right)\right|&lt;\varepsilon$ 。证明 $f$ 在 $\left(x_{0}, y_{0}\right)$ 连续。</p><p>(d) 设 $f(x, y)$ 分别对每个变量 $x$ 和 $y$ 是连续的，且对 $y$ 是单调不减的, 证明 $f$ 关于 $(x, y)$ 是连续</p><p>的。 </p><hr><p>解：$(a)$ <strong>是</strong>。由连续函数定义，对 $\mathbf{x}^*=(x^1,x^2)$</p><script type="math/tex; mode=display">\forall \ \mathbf{x}^*\in [a,b]\times [c,d],\forall \ \epsilon>0,\exists\ \delta>0,s.t.\forall\ \|x-x^*\|\leq\delta,\|f(\mathbf{x})-f(\mathbf{x^*})\|<\epsilon</script><p>则固定 $x^1$ 时，仅取 $|x-x^*|\leq \delta$ 中 $x$ 第一分量为 $x^1$ 的点集，由上述定义知</p><script type="math/tex; mode=display">\begin{gathered}\forall \ 固定\ x^1\in [a,b],\forall \ x^2\in [c,d],\mathbf{x}^*=(x^1,x^2),s.t.\forall \ \epsilon>0,\exists\ \delta>0,\\\forall\ \|x-x^*\|\leq\delta,\|f(\mathbf{x})-f(\mathbf{x^*})\|<\epsilon\end{gathered}</script><p>从而固定 $x^1$ 时，$f(x^1,x^2)$ 随 $x^2$ 连续；由对称性可得，固定 $x^2$ 时，$f(x^1,x^2)$ 随 $x^1$ 连续</p><p>$(b)$ <strong>否</strong>。考虑函数 $f(x,y)=\begin{cases}\dfrac{xy}{x^2+y^2},&amp; xy\neq 0\\0&amp; xy=0\end{cases}\quad x,y\in[-1,1]$，由对称性，固定 $x$ 有</p><p>若 $x=0$，则 $f(x,y)=0$ 在 $y\in[-1,1]$ 区间上均满足 $f(0,y)$ 随 $y$ 连续；</p><p>若 $x\neq 0$，则函数 $g_1(y)=x^2+y^2\neq 0$，$g_2(z)=\dfrac{1}{z}(z\neq 0)$， $g_3(y)=xy$ 三者均连续</p><p>则 $f(x,y)=(g_2\circ g_1)\cdot g_3$ 复合函数连续，即 $\forall x\in [-1,1],f(x,\cdot):[c,d]\rightarrow \mathbb{R}$ 连续</p><p>同理 $\forall y\in [-1,1],f(\cdot,y):[c,d]\rightarrow \mathbb{R}$ 连续，而考虑 $f(x,y)$ 在原点处的连续性</p><script type="math/tex; mode=display">\lim\limits_{(x,y)\to (0,0)}\dfrac{xy}{x^2+y^2}\Large |\normalsize _{(x,y)\to (x,kx)}=\dfrac{k}{1+k^2}\in[-\dfrac{1}{2},\dfrac{1}{2}]</script><p>$k$ 值变化时，$f(x,y)=\dfrac{xy}{x^2+y^2}$ 在 $(0,0)$ 处的极限不存在，从而 $f$ 不一定为连续函数</p><p>$(c)$ <strong>证明</strong>：由 $f$ 满足 $f(\cdot ,y_0):[a,b]\to \mathbb{R}$ 连续，翻译成 $\epsilon -\delta $ 语言有</p><script type="math/tex; mode=display">\forall \ y_0\in[c,d],\forall \ \epsilon >0 ,\exists\ \delta_1 >0,|x-x_0|<\delta_1(\epsilon ),|f(x_0,y_0)-f(x,y_0)|<\epsilon</script><p>由 $\epsilon $ 的任意性，则 $\forall  \epsilon ‘&gt;0$，上述取 $\epsilon=\dfrac{1}{2}\epsilon’$，另一条件为</p><script type="math/tex; mode=display">\forall\ \epsilon >0,\exists \ \delta_2>0,\forall \ x\in[a,b],y\in[c,d],|y-y_0|<\delta_2(\epsilon),|f(x,y)-f(x,y_0)|<\epsilon</script><p>由后者条件中 $x$ 的任意性，取 $\epsilon =\dfrac{1}{2}\epsilon’ $，则考虑欧几里得空间中的 $2-$范数有</p><script type="math/tex; mode=display">\forall \ \epsilon' >0,\exists \ \delta =\min(\delta_1,\delta_2)>0,\forall \ x\in[a,b],y\in[c,d]\\\|x-x^*\|=\sqrt{(x-x_0)^2+(y-y_0)^2}<\delta\Longrightarrow |x-x_0|<\delta_1 ,|y-y_0|<\delta_2  \\|f(x,y)-f(x_0,y_0)|\leq |f(x,y)-f(x,y_0)|+|f(x_0,y_0)-f(x,y_0)|<\dfrac{1}{2}\epsilon'+\dfrac{1}{2}\epsilon '=\epsilon'</script><p>则 $f(x,y)$ 在 $(x_0,y_0)$ 处连续</p><p>$(d)$ <strong>证明</strong>：由于 $f(x,y)$ 对 $y$ 单调不减，则有对 $\forall  x\in[a,b]$， 不妨只考虑 $y&gt;y_0$ 的部分</p><p>$\delta(y_0)&gt;0,0&lt;f(x,y_0+\delta(y_0))-f(x,y_0)&lt;\epsilon$，取 $y=y_0+\delta(y_0)$，考虑</p><script type="math/tex; mode=display">|f(x,y)-f(x_0,y_0)|=|f(x,y_0+\delta(y_0))-f(x_0,y_0)|\\\leq |f(x,y_0+\delta(y_0))-f(x,y_0)|+|f(x,y_0)-f(x_0,y_0)|<\epsilon+\epsilon=2\epsilon</script><p>其中后者由于 $f(x,y)$ 对 $x$ 连续可以保证，从而 $f(x,y)$ 在 $(x_0,y_0)$ 处连续</p><h2 id="2-1"><a href="#2-1" class="headerlink" title="2"></a>2</h2><p>设 $U \subseteq \mathbb{R}^{2}$ 是开集, $(a, b) \in U, f$ 在 $U \backslash\{(a, b)\}$ 上有定义, 且满足极限</p><script type="math/tex; mode=display">A=\lim _{(x, y) \rightarrow(a, b)} f(x, y), \quad B=\lim _{y \rightarrow b} \lim _{x \rightarrow a} f(x, y)</script><p>都存在。证明 $A=B$ 。由此知道, 如果</p><script type="math/tex; mode=display">\lim _{y \rightarrow b} \lim _{x \rightarrow a} f(x, y) \neq \lim _{x \rightarrow a} \lim _{y \rightarrow b} f(x, y)</script><p>则极限 $\lim\limits _{(x, y) \rightarrow(a, b)} f(x, y)$ 不存在。</p><hr><p><strong>证明</strong>：由于对 $\forall  0&lt;|y-b|&lt;\delta_0$，$\varphi(y)=\lim\limits_{x\to a}f(x,y)$ 存在，即</p><script type="math/tex; mode=display">\forall \ \epsilon>0,y\in U,\exists\ \delta_{1}(y),s.t. |x-a|<\delta_{1}(y),|f(x,y)-\varphi(y)|<\epsilon</script><p>而又有 $\lim\limits_{y\to b}\varphi(y)=B$ 存在，即 $\forall  \epsilon&gt;0,\exists \delta_2 &gt;0,|y-b|&lt;\delta_2,|\varphi(y)-B|&lt;\epsilon$</p><p>而 $\lim\limits_{(x,y)\to (a,b)}f(x,y)=A$，即有</p><script type="math/tex; mode=display">\forall\ \epsilon >0,\exists \ \delta_0>0,\forall \ x,y\in U,\|\boldsymbol v^*-\boldsymbol v\|<\delta_0(\epsilon),|f(x,y)-A|<\epsilon</script><p>则取 $|y-b|&lt;\min(\delta_0,\delta_2),|x-b|&lt;\min(\delta_1(y),\delta_0)$，总有 $|f(x,y)-B|&lt;\epsilon+\epsilon=2\epsilon$</p><p>从而 $|A-B|&lt;\epsilon+2\epsilon=3\epsilon$，则 $A=B$，且若 $\displaystyle \lim _{y \rightarrow b} \lim _{x \rightarrow a} f(x, y) \neq \lim _{x \rightarrow a} \lim _{y \rightarrow b} f(x, y)$ 两者极限存在</p><p>反证法，若极限 $\lim\limits _{(x, y) \rightarrow(a, b)} f(x, y)$ 存在，则由上述证明以及对称性知，三者相等，与假设矛盾，从而</p><p>极限 $\lim\limits _{(x, y) \rightarrow(a, b)} f(x, y)$ 不存在</p><h2 id="3-1"><a href="#3-1" class="headerlink" title="3"></a>3</h2><p>设</p><p>(a) 极限 $\displaystyle H(y)=\lim _{x \rightarrow a} f(x, y)$ 对任意 $y \neq b$ 存在;</p><p>(b) 极限 $\displaystyle G(x)=\lim _{y \rightarrow b} f(x, y)$ 对任意 $x$ 存在，且存在 $\delta_{0}&gt;0$ 使得：对任意 $\varepsilon&gt;0$，存在</p><p> $\delta_{2}(\varepsilon)&gt;0$ 对任意 $0&lt;|y-b|&lt;\delta_{2}(\varepsilon)$ 任意 $0&lt;|x-a|&lt;\delta_{0}$ 有 $|f(x, y)-G(x)|&lt;\varepsilon$，则</p><p>极限 $\displaystyle \lim _{x \rightarrow a} \lim _{y \rightarrow b} f(x, y), \lim _{y \rightarrow b} \lim _{x \rightarrow a} f(x, y)$ 和 $\displaystyle \lim _{x \rightarrow a, y \rightarrow b} f(x, y)$ 都存在, 且 </p><script type="math/tex; mode=display">\lim _{x \rightarrow a, y \rightarrow b} f(x, y)=\lim _{y \rightarrow b} \lim _{x \rightarrow a} f(x, y)=\lim _{x \rightarrow a} \lim _{y \rightarrow b} f(x, y)</script><hr><p>证明：（<strong>Cauchy准则</strong> ）$\forall  0&lt;|y_1-b|&lt;\delta_2(\epsilon),0&lt;|y_2-b|&lt;\delta_2(\epsilon)$，对 $|x-a|&lt;\delta_{0}$，都有</p><script type="math/tex; mode=display">|f(x,y_1)-G(x)|<\dfrac{\epsilon}{2},|f(x,y_2)-G(x)|<\dfrac{\epsilon}{2}\ \therefore |f(x,y_1)-f(x,y_2)|<\dfrac{\epsilon}{2}\cdot 2=\epsilon</script><p>则令 $x\to a$，由于 $H(y)=\lim\limits_{x\to a}f(x,y)$ 存在，则有 $|H(y_1)-H(y_2)|&lt;\epsilon$，即</p><script type="math/tex; mode=display">\forall \ \epsilon >0,\exists \ \delta>0,\forall \ y_i(i=1,2),0<|y_i-b|<\delta ,|H(y_1)-H(y_2)|<\epsilon</script><p>由柯西收敛准则得到 $\lim\limits_{y\to b}\lim\limits_{x\to a}f(x,y)$ 极限存在，由 $0&lt;|y_0-b|&lt;\delta_2(\epsilon)$</p><script type="math/tex; mode=display">|G(x_1)-G(x_2)|\leq|G(x_1)-f(x_1,y_0)|+|G(x_2)-f(x_2,y_0)|+|f(x_1,y_0)-f(x_2,y_0)|</script><p>只需要 $0&lt;|x-a|&lt;\delta_0(\dfrac{1}{3}\epsilon)$，就有 $|G(x_1)-f(x_1,y_0)|&lt;\dfrac{1}{3}\epsilon,|G(x_2)-f(x_2,y_0)|&lt;\dfrac{1}{3}\epsilon$</p><p>而由于 $\displaystyle H(y)=\lim _{x \rightarrow a} f(x, y)$ 对 $y\neq b$ 时均存在，则添加条件 $0&lt;|x-a|&lt;\delta_1(\dfrac{1}{3}\epsilon)$</p><p>就有 $|f(x_1,y_0)-f(x_2,y_0)|&lt;\dfrac{1}{3}\epsilon$，则满足下列条件</p><script type="math/tex; mode=display">0<|x-a|<\min(\delta_{0}(\dfrac{1}{3}\epsilon),\delta_{1}(\dfrac{1}{3}\epsilon)),0<|y-b|<\delta_{1}(\epsilon),|G(x_1)-G(x_2)|<\dfrac{1}{3}\epsilon\cdot 3=\epsilon</script><p>由柯西收敛准则得 $\lim\limits_{x\to a}\lim\limits_{y\to b}f(x,y)$ 存在，由作业第<strong>2</strong>题知，三种极限存在且相等</p><h2 id="4-1"><a href="#4-1" class="headerlink" title="4"></a>4</h2><p>设</p><script type="math/tex; mode=display">f(x,y)=\begin{cases}x\sin (\dfrac{1}{y}),& y\neq 0\\0,&y=0\end{cases}</script><p>讨论极限 $\lim\limits_{(x,y)\to (0,0)}f(x,y),\lim\limits_{y\to 0}\lim\limits_{x\to 0}f(x,y),\lim\limits_{x\to 0}\lim\limits_{y\to 0}f(x,y)$</p><p>解：显然 $\lim\limits_{x\to 0}f(x,y)=0$，则有 $\lim\limits_{y\to 0}\lim\limits_{x\to 0}f(x,y)=0$，而对 $y\to 0$ 的性质有</p><script type="math/tex; mode=display">\forall \ |x|>0,f(x,y)=\begin{cases}x\sin(\dfrac{1}{y}),&y\neq 0\\0,&y=0\end{cases}</script><p>对 $y_{n}=\dfrac{1}{2n\pi +\dfrac{\pi}{2}},y_{m}=\dfrac{1}{2m\pi -\dfrac{\pi}{2}}$，总有 $f(x,y_n)-f(x,y_m)=x-(-x)=2x$</p><p>由柯西收敛准则，$\forall  x\neq 0,\lim\limits_{y\to 0}x\sin(\dfrac{1}{y})$ 不存在，从而 $\lim\limits_{x\to 0}\lim\limits_{y\to 0}f(x,y)$ 极限不存在</p><p>而对 $\forall  \epsilon &gt;0,\exists \delta=\epsilon,\sqrt{x^2+y^2}&lt;\delta,|f(x,y)-0|\leq |x||\sin(\dfrac{1}{y})|\leq |x|&lt;\delta=\epsilon$</p><p>从而 $\lim\limits_{(x,y)\to (0,0)}f(x,y)$ 极限存在，且极限为 $0$</p><h2 id="5-1"><a href="#5-1" class="headerlink" title="5"></a>5</h2><p>判断以下极限的存在性; 若存在, 求出极限值。</p><script type="math/tex; mode=display">\begin{aligned}&(1) \lim _{(x, y) \rightarrow(0,0)} \frac{\arcsin \left(x^2+y^2\right)}{x^2+y^2}\\&(3) \lim _{(x, y) \rightarrow(0,0)}\left(x^2+y^2\right) \mathrm{e}^{x-y}\\&(5) \lim _{(x, y) \rightarrow(0,0)} \frac{x+y}{|x|+|y|}\\&(7) \lim _{(x, y) \rightarrow \infty} \frac{x+y}{x^2+x y+y^2}\\&(9) \lim _{(x, y) \rightarrow \infty}\left(\frac{|x y|}{x^2+x y+y^2}\right)^{x^2}\end{aligned}</script><hr><p>解：$(1)$ 令 $z=x^2+y^2$ ， $\lim\limits_{z\to 0}\dfrac{\arcsin(z)}{z}=1$，而当 $x,y\to 0$ 时， $z=x^2+y^2\neq 0$ 则</p><script type="math/tex; mode=display">\displaystyle \lim _{(x, y) \rightarrow(0,0)} \frac{\arcsin \left(x^{2}+y^{2}\right)}{x^{2}+y^{2}}=0</script><p>$(3)$ 由极限的连续性，且 $\lim\limits_{(x,y)\to (0,0)}x^2+y^2=0,\lim\limits_{(x,y)\to (0,0)}e^{x-y}=0$ 则极限存在，且极限为 $0$</p><p>$(5)$ 只需取 $k&gt;0$，$\lim\limits_{(x,kx)\to (0,0)}\dfrac{x+y}{|x|+|y|}=\dfrac{(1+k)x}{(1+k)|x|}$ 从而极限不存在</p><p>$(7)$ 放缩有 $|\dfrac{x+y}{x^2+xy+y^2}|\leq \dfrac{|x+y|}{|x^{2}+y^2|-|xy|}\leq \dfrac{|x+y|}{|2xy|-|xy|}\leq\dfrac{|x|+|y|}{|xy|}\leq \dfrac{1}{|x|}+\dfrac{1}{|y|}$</p><p>从而 $\displaystyle \lim _{(x, y) \rightarrow \infty} \frac{x+y}{x^{2}+x y+y^{2}}=0$</p><p>$(9)$ 若取 $y=x$，有 $\lim\limits_{(x,x)\to \infty}\dfrac{|xy|}{x^2+xy+y^2}=\pm\dfrac{1}{3}$，此时 $\lim\limits_{x\to \infty}(\pm\dfrac{1}{3})^{x^2}=0$</p><p>又若取 $y=-x$，有 $\lim\limits_{(x,x)\to \infty}\dfrac{|xy|}{x^2+xy+y^2}=\pm1$，此时 $\lim\limits_{x\to \infty}(\pm\dfrac{1}{3})^{x^2}\neq 0$</p><p>从而 $\displaystyle \lim _{(x, y) \rightarrow \infty}\left(\frac{|x y|}{x^{2}+x y+y^{2}}\right)^{x^{2}}$ 极限不存在</p><h2 id="6-1"><a href="#6-1" class="headerlink" title="6"></a>6</h2><p>设 $\Omega \subseteq \mathbb{R}^{m}$ 是一个非空集合。</p><p>(a) 证明函数 $\displaystyle f: \mathbb{R}^{m} \rightarrow \mathbb{R}, f(\mathbf{x})=\inf _{\mathbf{y} \in \Omega}|\mathbf{y}-\mathbf{x}|$, 是一个连续函数。</p><p>(b) 若 $\Omega$ 是闭集, 证明对任意 $\mathbf{x}$ 不在 $\Omega$ 中, 存在 $\mathbf{y}^{<em>} \in \Omega$ 使得 $f(\mathbf{x})=\left|\mathbf{y}^{</em>}-\mathbf{x}\right|$, 并 且 $\mathbf{y}^{<em>} \in \partial \Omega$ (即 $\mathbf{y}^{</em>}$ 的任意邻域中都有不属于 $\Omega$ 的点)。</p><p>(c) 若 $\Omega_{1}, \Omega_{2}$ 是闭集且其中至少一个有界, 证明存在 $\mathbf{x}_{k}^{*} \in \Omega_{k}$ 使得</p><script type="math/tex; mode=display">\left\|\mathbf{x}_{1}^{*}-\mathbf{x}_{2}^{*}\right\|=\inf _{\mathbf{x}_{1} \in \Omega_{1}, \mathbf{x}_{2} \in \Omega_{2}}\left\|\mathbf{x}_{1}-\mathbf{x}_{2}\right\| .</script><p>(d) 举例说明上述 “闭”、“有界”的条件是不能或缺的。</p><hr><p>证明：$(a)$ $\forall  \epsilon&gt;0,\exists \delta&gt;0,||\mathbf{x}-\mathbf{x}_0||&lt;\delta$，范数三角不等式 $|\mathbf{y}-\mathbf{x}|\leq |\mathbf{y}-\mathbf{x_0}|+|\mathbf{x}_0-\mathbf{x}|$</p><p>左侧放缩 $\displaystyle \inf _{\mathbf{y} \in \Omega}|\mathbf{y}-\mathbf{x}|\leq|\mathbf{y}-\mathbf{x}|\leq |\mathbf{y}-\mathbf{x}_0|+|\mathbf{x}_0-\mathbf{x}|$ 对所有的 $\mathbf{y}$ 成立，则取特定 $\mathbf{y}$ 得</p><script type="math/tex; mode=display">\displaystyle \inf _{\mathbf{y} \in \Omega}\|\mathbf{y}-\mathbf{x}\|\leq \inf _{\mathbf{y} \in \Omega}\|\mathbf{y}-\mathbf{x}_0\|+\|\mathbf{x}_0-\mathbf{x}\|</script><p>同理交换 $\mathbf{x}$ 和 $\mathbf{x}_0$ 得到 $|\displaystyle \inf _{\mathbf{y} \in \Omega}|\mathbf{y}-\mathbf{x}|-\displaystyle \inf _{\mathbf{y} \in \Omega}|\mathbf{y}-\mathbf{x}_0||\leq |\mathbf{x}-\mathbf{x_0}|$，则取 $\delta=\epsilon $，就有</p><script type="math/tex; mode=display">\forall \ \epsilon>0,\exists\ \delta=\epsilon,||\mathbf{x}-\mathbf{x}_0||<\epsilon,|f(\mathbf{x})-f(\mathbf{x}_0)|\leq \delta=\epsilon</script><p>则 $\displaystyle f(\mathbf{x})=\inf _{\mathbf{y} \in \Omega}|\mathbf{y}-\mathbf{x}|$ 连续</p><p>$(b)$ 由三角不等式 $|\mathbf{y^<em>}-\mathbf{y_n}|+|\mathbf{y_n}-\mathbf{x}|\geq |\mathbf{y^</em>-\mathbf{x}}|$ 若 $f(\mathbf{x})$ 中 $\mathbf{y}$ 的取值为 $\Omega$ 的内点，则 </p><p>$\forall  \epsilon_0&gt;\epsilon&gt;0,\exists  |\mathbf{y^*}-\mathbf{y}_n|&lt;\epsilon$，从而可以找到其领域中的 $\mathbf{y}_n$ 并尽量使三者共线，从而矛盾</p><p>从而 $\mathbf{y}^*\in \partial \Omega$</p><p>$(c)$ 假设 $\Omega_2$ 为有界集合，固定在 $\Omega_1$ 中一点，由在有界闭集上的连续函数有界有</p><script type="math/tex; mode=display">\forall \ \mathbf{x}_1\in\Omega_{1},\exists \ \mathbf{x}_2^*\in \Omega_{2},\|\mathbf{x}_1-\mathbf{x}_2^*\|=\inf_{\mathbf{x_2}\in \Omega_2}\|\mathbf{x_2}-\mathbf{x_1}\|</script><p>则取所有 $\mathbf{x}_1$ 中范数最小的，则存在 $\displaystyle \left|\mathbf{x}_{1}^{<em>}-\mathbf{x}_{2}^{</em>}\right|=\inf _{\mathbf{x}_{1} \in \Omega_{1}, \mathbf{x}_{2} \in \Omega_{2}}\left|\mathbf{x}_{1}-\mathbf{x}_{2}\right| .$</p><p>$(d)$ 取 $\Omega:x^2+y^2&lt;1$，范数定义为二维平面中的欧式距离，则 $\Omega$ 与 $(2,0)$ 就没有最小值</p><p>而两个无界区域之间有可能没有范数最小值，如 $\{(x,y)\big |y=\tan (x),0\leq x&lt;\dfrac{\pi}{2}\}$</p><p>和 $\{(x,y)\big |x=\dfrac{\pi}{2}\}$，两者的欧式距离没有最小值（无限趋于 $0$ ）</p><h1 id="large-textcolor-blue-微积分第三次作业-small-W-times-f-textcolor-blue-2022-Large-pi"><a href="#large-textcolor-blue-微积分第三次作业-small-W-times-f-textcolor-blue-2022-Large-pi" class="headerlink" title="$\large\textcolor{blue}{微积分第三次作业 \small(W\times f)}      _\textcolor{blue}{2022.\Large\pi}$"></a>$\large\textcolor{blue}{微积分第三次作业 \small(W\times f)}      _\textcolor{blue}{2022.\Large\pi}$</h1><h2 id="教材习题1-4-4"><a href="#教材习题1-4-4" class="headerlink" title="教材习题1.4.4"></a>教材习题1.4.4</h2><p>求下列函数的全微分</p><script type="math/tex; mode=display">(1)u=\sin \dfrac{1}{\sqrt{x^2+y^2+z^2}}\ \ \mbox{at}\ \ (\dfrac{\sqrt{2}}{2}.\dfrac{1}{2},-\dfrac{1}{2}) \quad  (2)\arccos e^{xy}</script><hr><p>解：$(1)$ $du=\dfrac{\partial u}{\partial x}dx+\dfrac{\partial u}{\partial y}dy+\dfrac{\partial u}{\partial z}dz$，代入有</p><script type="math/tex; mode=display">\begin{gathered}du=\cos\dfrac{1}{\sqrt{x^2+y^2+z^2}}\cdot (-\dfrac{1}{2}(x^2+y^2+z^2)^{-\frac{3}{2}})(2xdx+2ydy+2zdz)\\=-\cos 1\cdot (xdx+ydy+zdz)=-\cos 1\cdot (\dfrac{\sqrt{2}}{2}dx+\dfrac{1}{2}dy-\dfrac{1}{2}dz)\end{gathered}</script><p>$(2)$ 由 $(\arccos x)’=-\dfrac{1}{\sqrt{1-x^2}}$</p><script type="math/tex; mode=display">du=\dfrac{\partial u}{\partial x}dx+\dfrac{\partial u}{\partial y}dy=-\dfrac{1}{\sqrt{1-e^{2xy}}}(ye^{xy}dx+xe^{xy}dy)=-\dfrac{1}{\sqrt{e^{-2xy}-1}}(ydx+xdy)</script><h2 id="教材习题1-4-6"><a href="#教材习题1-4-6" class="headerlink" title="教材习题1.4.6"></a>教材习题1.4.6</h2><p>已知扇形中心角 $\alpha=60^\circ$，半径 $R=20 \mbox{cm}$，当 $\alpha$ 增加 $1^\circ$ 时，为使扇形面积保持不变，其半径的增加量 $\Delta R$ 近似等于多少？</p><hr><p>解：由面积公式 $S=\dfrac{1}{2}R^{2}\alpha$，要求 $dS=\dfrac{1}{2}R^{2}d\alpha+R\alpha dR=0$ 取 $dR=\Delta R,d\alpha =\Delta \alpha$</p><p>解得 $\Delta R=-\dfrac{R}{2}\dfrac{\Delta \alpha}{\alpha}=-\dfrac{1}{6} \mbox{cm}$</p><blockquote><p>$\dfrac{1}{6}\approx0.16666667$，与直接计算 $|\Delta R|=0.16461185 \mbox{cm}$ 相对误差为 $1.2\%$</p></blockquote><h2 id="教材习题1-4-11-4"><a href="#教材习题1-4-11-4" class="headerlink" title="教材习题1.4.11(4)"></a>教材习题1.4.11(4)</h2><p>求下列函数在点 $P_{0}$ 处沿方向 $l$ 的方向导数。</p><p>$(4)$ $z=\ln(x_1+x_2+\cdots+x_n),P_n=(1,0,\cdots,0),l=(1,1,\cdots,1)$ </p><hr><p>解：由于方向导数针对单位向量，先单位化 $l_{\small \mbox{unit}}=\dfrac{1}{\sqrt{n}}(1,1,\cdots,1)$ 则由方向导数定义</p><script type="math/tex; mode=display">\partial _{\vec{l}}\large z\normalsize=\dfrac{d}{dt}\ln(1+n\cdot \dfrac{t}{\sqrt{n}})\big |_{t=0}=\sqrt{n}</script><h2 id="教材习题1-4-12-2"><a href="#教材习题1-4-12-2" class="headerlink" title="教材习题1.4.12(2)"></a>教材习题1.4.12(2)</h2><p>求下列数量场的梯度。$(2)$ $u(x,y,z)=\dfrac{xyz}{x+y+z}$</p><hr><p>解：代入标准正交基 $x,y,z$ 下的梯度</p><script type="math/tex; mode=display">\nabla u=\dfrac{\partial u}{\partial x}\hat{x}+\dfrac{\partial u}{\partial y}\hat{y}+\dfrac{\partial u}{\partial z}\hat{z}=\dfrac{yz(y+z)}{(x+y+z)^2}\hat{x}+\dfrac{xz(x+z)}{(x+y+z)^2}\hat{y}+\dfrac{xy(x+y)}{(x+y+z)^2}\hat{z}</script><h2 id="教材习题1-4-15"><a href="#教材习题1-4-15" class="headerlink" title="教材习题1.4.15"></a>教材习题1.4.15</h2><p>证明下列函数满足相应的等式。</p><p>$(3)$ $\begin{cases}u=e^{x}\cos y\\v=e^{x}\sin y\end{cases}$ 满足 $\mbox{Cauchy-Riemann}$ 条件 $\begin{cases}\dfrac{\partial u}{\partial x}=\dfrac{\partial v}{\partial y}\\\dfrac{\partial u}{\partial y}=-\dfrac{\partial v}{\partial x}\end{cases}$，且分别满足 $\Delta u=0$</p><p>$(4)$ $n&gt;2$，$u=(\sqrt{x_1^{2}+x_2^2+\cdots+x_n^2})^{2-n}$ 满足 $\dfrac{\partial ^2u}{\partial x_{1}^{2}}+\dfrac{\partial ^2u}{\partial x_{2}^{2}}+\cdots+\dfrac{\partial ^2u}{\partial x_{n}^{2}}=0$</p><hr><p>证明：$(3)$ 代入有 $\dfrac{\partial u}{\partial x}=e^{x}\cos y=\dfrac{\partial v}{\partial y}=e^{x}cos y,\dfrac{\partial u}{\partial y}=-e^{x}\sin y=-\dfrac{\partial v}{\partial x}$</p><p>则若 $\dfrac{\partial^2 f}{\partial x^{2}}+\dfrac{\partial^2 f}{\partial y^{2}}=0$，$f(u,v)=f(e^{x}\cos y,e^{x}\sin y)$代入计算两次偏导数有</p><script type="math/tex; mode=display">\begin{gathered}\dfrac{\partial f}{\partial x}=\dfrac{\partial f}{\partial u}e^{x}\cos y+\dfrac{\partial f}{\partial v}e^{x}\sin y=u\dfrac{\partial f}{\partial u}+v\dfrac{\partial f}{\partial v}\\\dfrac{\partial f}{\partial y}=-\dfrac{\partial f}{\partial u}e^{x}\sin y+\dfrac{\partial f}{\partial v}e^{x}\cos y=-v\dfrac{\partial f}{\partial u}+u\dfrac{\partial f}{\partial v}\end{gathered}</script><script type="math/tex; mode=display">\begin{gathered}\dfrac{\partial ^2f}{\partial x^2}=u\dfrac{\partial f}{\partial u}+u^2\dfrac{\partial^2 f}{\partial u^2}+v\dfrac{\partial f}{\partial v}+v^2\dfrac{\partial^2 f}{\partial v^2}\\\dfrac{\partial ^2f}{\partial y^2}=-u\dfrac{\partial f}{\partial u}+v^2\dfrac{\partial^2 f}{\partial u^2}-v\dfrac{\partial f}{\partial v}+u^2\dfrac{\partial^2 f}{\partial v^2}\end{gathered}</script><p>从而 $\dfrac{\partial^2 f}{\partial x^{2}}+\dfrac{\partial^2 f}{\partial y^{2}}=0\Longrightarrow (u^2+v^2)(\dfrac{\partial^2 f}{\partial u^{2}}+\dfrac{\partial^2 f}{\partial v^{2}})=0\Longrightarrow \dfrac{\partial^2 f}{\partial u^{2}}+\dfrac{\partial^2 f}{\partial v^{2}}=0$</p><p>$(4)$ 对 $\forall  i\in[1,n]$，有 $\dfrac{\partial u}{\partial x_i}=\dfrac{(1-\dfrac{n}{2})\cdot 2x_{i}}{(x_1^2+\cdots+x_n^2)^{\frac{n}{2}}}=\dfrac{(2-n)\cdot x_{i}}{(x_1^2+\cdots+x_n^2)^{\frac{n}{2}}}$</p><p>则二阶导 $\dfrac{\partial^2 u}{\partial x_i^2}=\dfrac{2-n}{(x_1^2+\cdots+x_n^2)^{\frac{n}{2}}}+\dfrac{(n-2)\cdot \dfrac{n}{2}x_i\cdot 2x_i}{(x_1^2+\cdots+x_n^2)^{\frac{n}{2}+1}}$，则对所有二阶导求和</p><script type="math/tex; mode=display">\sum_{i=1}^{n}\dfrac{\partial^2 u}{\partial x_i^2}=(x_1^2+\cdots+x_n^2)^{-\frac{n}{2}}((2-n)\cdot n+(n-2)\cdot n)=0</script><h2 id="教材习题1-5-3-3"><a href="#教材习题1-5-3-3" class="headerlink" title="教材习题1.5.3(3)"></a>教材习题1.5.3(3)</h2><p>求下列复合函数的偏导数 $\dfrac{\partial z}{\partial x},\dfrac{\partial z}{\partial y}$（已知 $f$ 为可微函数）</p><p>$(3)$ $z=f(x^2-y^2,e^{xy})$ </p><hr><p>解：令 $u=x^2-y^2,v=e^{xy}$ 则代入计算偏导数</p><script type="math/tex; mode=display">\dfrac{\partial z}{\partial x}=\dfrac{\partial z}{\partial u}\cdot 2x+\dfrac{\partial z}{\partial v}\cdot ye^{xy},\dfrac{\partial z}{\partial y}=\dfrac{\partial z}{\partial u}\cdot (-2y)+\dfrac{\partial z}{\partial v}\cdot xe^{xy}</script><h2 id="教材习题1-5-5"><a href="#教材习题1-5-5" class="headerlink" title="教材习题1.5.5"></a>教材习题1.5.5</h2><p>已知函数 $u=f(x,y)$，其中 $x=r\cos \theta,y=r\sin \theta$， $f$ 可微，证明</p><script type="math/tex; mode=display">(\dfrac{\partial u}{\partial r})^2+(\dfrac{1}{r}\dfrac{\partial u}{\partial \theta})^2=(\dfrac{\partial u}{\partial x})^2+(\dfrac{\partial u}{\partial y})^2</script><hr><p>证明：对 $u=f(x,y)=f(r\cos \theta,r\sin \theta)$ 对 $r,\theta$ 分别求偏导有</p><script type="math/tex; mode=display">\dfrac{\partial u}{\partial r}=\dfrac{\partial u}{\partial x}\cdot \cos \theta+\dfrac{\partial u}{\partial y}\cdot \sin \theta,\dfrac{\partial u}{\partial \theta}=\dfrac{\partial u}{\partial x}\cdot (-r\sin \theta)+\dfrac{\partial u}{\partial y}\cdot(r\cos \theta)</script><p>则计算 $(\dfrac{\partial u}{\partial r})^2+(\dfrac{1}{r}\dfrac{\partial u}{\partial \theta})^2=(\dfrac{\partial u}{\partial x}\cdot \cos \theta+\dfrac{\partial u}{\partial y}\cdot \sin \theta)^{2}+(\dfrac{\partial u}{\partial x}\cdot (-\sin \theta)+\dfrac{\partial u}{\partial y}\cdot(\cos \theta))^2$</p><p>$=(\dfrac{\partial u}{\partial x})^2+(\dfrac{\partial u}{\partial y})^2$ 从而 $(\dfrac{\partial u}{\partial r})^2+(\dfrac{1}{r}\dfrac{\partial u}{\partial \theta})^2=(\dfrac{\partial u}{\partial x})^2+(\dfrac{\partial u}{\partial y})^2$</p><h2 id="教材习题1-5-7"><a href="#教材习题1-5-7" class="headerlink" title="教材习题1.5.7"></a>教材习题1.5.7</h2><p>设 $f\in C^{2}(\mathbb{R}^2)$ 满足 $\mbox{Laplace}$ 方程 $(\dfrac{\partial f}{\partial x})^2+(\dfrac{\partial f}{\partial y})^2=0$，证明：</p><script type="math/tex; mode=display">u(x,y)=f(\dfrac{x}{x^2+y^2},\dfrac{y}{x^2+y^2})</script><p>也满足 $\mbox{Laplace}$ 方程。</p><hr><p>证明：（<strong>使用平面极坐标下拉普拉斯算子简化计算</strong>）$\Delta f_{\mbox{polar}}=\dfrac{\partial ^2f}{\partial r^2}+\dfrac{1}{r}\dfrac{\partial f}{\partial r}+\dfrac{1}{r^2}\dfrac{\partial ^2f}{\partial \theta^2}$</p><p>则对于满足直角坐标系下 $\mbox{Laplace}$ 方程 $\Delta f_{\mbox{rectan}}=0=\Delta f_{\mbox{polar}}$，转换 $u(x,y)=f(\dfrac{1}{r},\theta)$</p><p>而 $\dfrac{\partial u}{\partial (\frac{1}{r})}=-r^2\dfrac{\partial u}{\partial r}$，$\dfrac{\partial^2 u}{\partial (\frac{1}{r})^2}=(-r^2)(-2r\dfrac{\partial u}{\partial r}-r^2\dfrac{\partial^2 u}{\partial r^2})=r^{3}(2\dfrac{\partial u}{\partial r}+r\dfrac{\partial^2 u}{\partial r^2})$</p><p>则代入以 $(\dfrac{1}{r},\theta)$ 为度量的极坐标拉普拉斯算子判定有</p><script type="math/tex; mode=display">\begin{gathered}\Delta f_{\mbox{polar'}}=\dfrac{\partial ^2f}{\partial (\frac{1}{r})^2}+\dfrac{1}{\frac{1}{r}}\dfrac{\partial f}{\partial (\frac{1}{r})}+\dfrac{1}{(\frac{1}{r})^2}\dfrac{\partial ^2f}{\partial \theta^2}\\=r^{3}(2\dfrac{\partial  f}{\partial r}+r\dfrac{\partial^2  f}{\partial r^2})+r(-r^2\dfrac{\partial  f}{\partial r})+r^{2}\dfrac{\partial ^2f}{\partial \theta^2}=r^{3}(\dfrac{\partial  f}{\partial r}+r\dfrac{\partial^2  f}{\partial r^2})+r^2\dfrac{\partial ^2f}{\partial \theta^2}=r^{4}\Delta f_{\mbox{polar}}\end{gathered}</script><p>从而 $\Delta f_{\mbox{polar’}}=0$ 即 $f(\dfrac{1}{r},\theta)=f(\dfrac{x}{x^2+y^2},\dfrac{y}{x^2+y^2})$ 满足 $\mbox{Laplace}$ 方程</p><h2 id="讲义习题2-2-8"><a href="#讲义习题2-2-8" class="headerlink" title="讲义习题2.2.8"></a>讲义习题2.2.8</h2><p>记  $\mathbb{R}^{m} \times \mathbb{R}=\left\{\left(X^{1}, \ldots, X^{m}, X^{m+1}\right) \mid X^{k} \in \mathbb{R}\right\}, \mathbb{R}^{m}=\left\{\left(x^{1}, \ldots, x^{m}\right) \mid x^{k} \in \mathbb{R}\right\}$</p><p><img src="https://pic.imgdb.cn/item/622ec3995baa1a80aba5514c.jpg" style="zoom: 33%;" /></p><p>$N=(0, \ldots, 0,2) \in \mathbb{R}^{m} \times \mathbb{R}, S^{m}=\left\{\left(X^{1}, \ldots, X^{m}, X^{m+1}\right) \mid\left(X^{1}\right)^{2}+\cdots+\right.$ $\left.\left(X^{m}\right)^{2}+\left(X^{m+1}-1\right)^{2}=1\right\}$ 。定义球极投影，对 $\left(x^{1}, \ldots, x^{m}\right) \in \mathbb{R}^{m}$, 连接 $\left(x^{1}, \ldots, x^{m}, 0\right)$ 与 $N$ 的直线交 $S^{m}$ 于 $\left(X^{1}, \ldots, X^{m}, X^{m+1}\right)$ 。证明映射</p><script type="math/tex; mode=display">\left(X^{1}\left(x^{1}, \ldots, x^{m}\right), \ldots, X^{m}\left(x^{1}, \ldots, x^{m}\right), X^{m+1}\left(x^{1}, \ldots, x^{m}\right)\right)</script><p>是可微映射, 并求它的 $\mbox{Jacobi}$ 矩阵。</p><hr><p>解：连接 $N=(0,\cdots,0,2)$ 与 $\mathbf{x}=(x^1,\cdots,x^m,0)$ 的直线参数方程为</p><script type="math/tex; mode=display">\vec{l}=(0,\cdots ,0,2)+t(x^1,\cdots,x^m,-2)=(tx^1,tx^2,\cdots,tx^m,2-2t)</script><p>代入“高维球”方程得 $t^{2} \displaystyle\sum_{i=1}^{n}\left(x^{i}\right)^{2}+(1-2 t)^{2}=1 \Longrightarrow t=\dfrac{4}{4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}}$</p><p>则球极投影 $f(\mathbf{x})=(\dfrac{4 x^{1}}{4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}}, \dfrac{4 x^{2}}{4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}}, \cdots, \dfrac{4 x^{m}}{4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}}, \dfrac{2 \displaystyle \sum_{4}\left(x^{i}\right)^{2}}{4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}})$</p><p>这是由于每个分量对 $x^i$ 均是初等函数，从而该球极投影映射为可微映射</p><p>雅可比矩阵定义 $\displaystyle \left[\begin{array}{ccc}<br>\dfrac{\partial X_{1}}{\partial x_{1}} &amp; \cdots &amp; \dfrac{\partial X_{1}}{\partial x_{m}} \\<br>\vdots &amp; \ddots &amp; \vdots \\<br>\dfrac{\partial X_{m+1}}{\partial x_{1}} &amp; \cdots &amp; \dfrac{\partial X_{m+1}}{\partial x_{m}}<br>\end{array}\right]$，记该矩阵第 $k$ 行第 $l$ 列元素为 $A_{k,l}$</p><p>计算有 $A_{k, l}= \begin{cases}4 \cdot \dfrac{4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}-2\left(x^{k}\right)^{2}}{\left(4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}\right)^{2}} &amp; l=k \leq m \ \dfrac{-8 x^{k} x^{j}}{\left(4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}\right)^{2}} &amp; l \neq k \leq m \ \dfrac{16 x^{l}}{\left(4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}\right)^{2}} &amp; k=m+1\end{cases}$ 为雅可比矩阵的每一项</p><h2 id="讲义习题2-3-10"><a href="#讲义习题2-3-10" class="headerlink" title="讲义习题2.3.10"></a>讲义习题2.3.10</h2><p>$\mathbb{R}^{3}$ 中的球坐标系。其中极径 $r$, 纬度 $\theta$ 和经度 $\varphi$ 如图所示。</p><p><img src="https://pic.imgdb.cn/item/622edbc95baa1a80abaff723.jpg" style="zoom:33%;" /></p><p>$(a)$ 试写出用球坐标 $(r, \theta, \varphi)$ 表达的直角坐标 $(x(r, \theta, \varphi), y(r, \theta, \varphi), z(r, \theta, \varphi))$ 的表达式, 并证明它是可微映射, 求出该映射的 $\mbox{Jacobi}$ 矩阵。该矩阵是否可逆? 为什么?</p><p>$(b)$ 记</p><script type="math/tex; mode=display">\mathbf{e}_{r}=\left(\begin{array}{l}\dfrac{\partial x}{\partial r} \\\dfrac{\partial y}{\partial r} \\\dfrac{\partial z}{\partial r}\end{array}\right), \quad \mathbf{e}_{\theta}=\left(\begin{array}{l}\dfrac{\partial x}{\partial \theta} \\\dfrac{\partial y}{\partial \theta} \\\dfrac{\partial z}{\partial \theta}\end{array}\right), \quad \mathbf{e}_{\varphi}=\left(\begin{array}{l}\dfrac{\partial x}{\partial \varphi} \\\dfrac{\partial y}{\partial \varphi} \\\dfrac{\partial z}{\partial \varphi}\end{array}\right)</script><p>求它们给出的度量矩阵。</p><p>$(c)$ 计算 $(x(r, \theta, \varphi), y(r, \theta, \varphi), z(r, \theta, \varphi))$ 的 $\mbox{Jacobi}$ 矩阵的行列式, 并对结果给出几何解释。</p><p>$(d)$ 对可微函数 $f: \mathbb{R}^{3} \rightarrow \mathbb{R}$, 求在球坐标系下 $f$ 的梯度 $\nabla f$ （用偏导数 $\dfrac{\partial f}{\partial r}, \dfrac{\partial f}{\partial \theta}, \dfrac{\partial f}{\partial \varphi}$ 表示)。</p><p>$(e)$ 记 $S^{2}=\left\{(x, y, z) \in \mathbb{R}^{3} \mid x^{2}+y^{2}+z^{2}=1\right\}$ 。如果 $f(\theta, \varphi)$ 是 $S^{2}$ 上的可微函数, 求 $\nabla f$ (用偏导数 $\dfrac{\partial f}{\partial \theta}, \dfrac{\partial f}{\partial \varphi}$ 表示)。</p><hr><p>解：$(a)$ 由几何关系得 $\left(\begin{array}{l}<br>x \ y\\z<br>\end{array}\right)=\left(\begin{gathered}<br>r \sin\theta\cos\varphi \\<br>r \sin \theta\sin\varphi\\<br>r\cos\theta<br>\end{gathered}\right)$，显然该映射可微，对其求导得到雅克比矩阵</p><script type="math/tex; mode=display">\left(\begin{gathered}\mathrm{d}x\\\mathrm{d}y\\\mathrm{d}z\end{gathered}\right)=\begin{pmatrix}\sin\theta\cos\varphi&r\cos\theta\cos\varphi&-r\sin\theta\sin\varphi\\\sin\theta\sin\varphi&r\cos\theta\sin\varphi&r\sin\theta\cos\varphi\\\cos\theta&-r\sin\theta&0\end{pmatrix}\left(\begin{gathered}\mathrm{d}r\\\mathrm{d}\theta\\\mathrm{d}\varphi\end{gathered}\right)=J\left(\begin{gathered}\mathrm{d}r\\\mathrm{d}\theta\\\mathrm{d}\varphi\end{gathered}\right)</script><p>$(b)$ 代入计算有 $\mathbf{e}_r=\left(\begin{gathered}\sin\theta\cos\varphi\ \sin \theta\sin\varphi\\<br>\cos\theta\end{gathered}\right),<br>\mathbf{e}_\theta=\left(\begin{gathered}r\cos\theta\cos\varphi\ r\cos \theta\sin\varphi\\<br>-r\sin\theta\end{gathered}\right),<br>\mathbf{e}_\varphi=\left(\begin{gathered}-r\sin\theta\sin\varphi\ r\sin \theta\cos\varphi\\<br>0\end{gathered}\right)$</p><script type="math/tex; mode=display">\begin{gathered}\langle\mathbf{e}_r,\mathbf{e}_r\rangle=1,\langle\mathbf{e}_r,\mathbf{e}_\theta\rangle=0,\langle\mathbf{e}_r,\mathbf{e}_\varphi\rangle=0,\langle\mathbf{e}_\theta,\mathbf{e}_\theta\rangle=r^2,\langle\mathbf{e}_\theta,\mathbf{e}_\varphi\rangle=0,\langle\mathbf{e}_\varphi,\mathbf{e}_\varphi\rangle=r^2\sin^2\theta\end{gathered}</script><p>则度量矩阵为 $\left(\begin{array}{}<br>1 &amp; 0 &amp;0\\<br>0 &amp; r^{2}&amp;0\\<br>0&amp;0&amp;r^2\sin^2\theta<br>\end{array}\right)$</p><p>$(c)$ 由 $\small(a)$ 中雅可比矩阵计算行列式</p><script type="math/tex; mode=display">\begin{gathered}\det J=r^2\sin ^3\theta\sin ^2\varphi+r^2\sin \theta\cos^2 \theta\sin ^2\varphi+r^2\sin \theta\cos^2 \theta\cos ^2\varphi+r^2\sin ^3\theta\cos ^2\varphi\\=r^2\sin \theta\sin ^2\varphi+r^2\sin \theta\cos ^2\varphi=r^2\sin \theta\end{gathered}</script><p>该行列式代表三维坐标下微体积元与三维直角坐标系中微体积元之比</p><p>$(d)$ 由梯度表达式计算得</p><script type="math/tex; mode=display">\begin{gathered}\nabla f(r, \theta,\varphi)=\left(\mathbf{e}_{r}, \mathbf{e}_{\theta},\mathbf{e}_\varphi\right)\left(\begin{array}{}1 & 0 &0\\0 & r^{2}&0\\0&0&r^2\sin^2\theta\end{array}\right)^{-1}\left(\begin{array}{c}\partial_{r} f \\\partial_{\theta} f\\\partial_{\varphi} f\end{array}\right)\\=\partial_{r} f \mathbf{e}_{r}+\frac{1}{r^{2}} \partial_{\theta} f \mathbf{e}_{\theta}+\frac{1}{r^2\sin^2\theta}\partial_\varphi f\mathbf{e}_\varphi=\dfrac{\partial f}{\partial r}\mathbf{e}_{r}+\dfrac{1}{r^2}\dfrac{\partial f}{\partial \theta}\mathbf{e}_{\theta}+\dfrac{1}{r^2\sin^2 \theta}\dfrac{\partial f}{\partial \varphi}\mathbf{e}_{\varphi}\end{gathered}</script><p>$(e)$ 相当于是固定 $r\equiv1$，则 $\nabla f=\dfrac{\partial f}{\partial \theta}\mathbf{e}_{\theta}+\dfrac{1}{\sin^2 \theta}\dfrac{\partial f}{\partial \varphi}\mathbf{e}_{\varphi}$</p><h2 id="讲义习题2-3-11"><a href="#讲义习题2-3-11" class="headerlink" title="讲义习题2.3.11"></a>讲义习题2.3.11</h2><p>环面上, 纬度 $\theta$ 和经度 $\varphi$ 如图所示。设环面轴径为 $a$, 经线半径为 $b$, $0&lt;b&lt;a$ ，如图所示。</p><p><img src="https://pic.imgdb.cn/item/622ee3385baa1a80abb3411d.jpg" style="zoom:33%;" /></p><p>$(a)$ 试写出用环面坐标 $(\theta, \varphi)$ 表达的直角坐标 $(x(\theta, \varphi), y(\theta, \varphi), z(\theta, \varphi))$ 的表达式, 并证明它是可微映射, 求出该映射的 $\mbox{Jacobi}$ 矩阵。该矩阵是否可逆? 为什么?</p><p>$(b)$ 记</p><script type="math/tex; mode=display">\mathbf{e}_{\theta}=\left(\begin{array}{l}\dfrac{\partial x}{\partial \theta} \\\dfrac{\partial y}{\partial \theta} \\\dfrac{\partial z}{\partial \theta}\end{array}\right), \quad \mathbf{e}_{\varphi}=\left(\begin{array}{l}\dfrac{\partial x}{\partial \varphi} \\\dfrac{\partial y}{\partial \varphi} \\\dfrac{\partial z}{\partial \varphi}\end{array}\right)</script><p>求它们给出的度量矩阵。</p><p>$(c)$ 如果 $f(\theta, \varphi)$ 是环面上的可微函数, 求 $\nabla f$ (用偏导数 $\dfrac{\partial f}{\partial \theta}, \dfrac{\partial f}{\partial \varphi}$ 表示)。</p><hr><p>解：$(a)$ 由几何关系得 $\left(\begin{array}{l}<br>x \ y\\z<br>\end{array}\right)=\left(\begin{gathered}<br>(a+b\cos \theta)\cos \varphi  \\<br>(a+b\cos \theta)\sin \varphi\\<br>b\sin\theta<br>\end{gathered}\right)$，显然其可微，对其求导有</p><script type="math/tex; mode=display">\left(\begin{array}{l}\mathrm{d} x \\\mathrm{~d} y \\\mathrm{~d} z\end{array}\right)=\left(\begin{array}{cc}-b \sin \theta \cos \varphi & -(a+b \cos \theta) \sin \varphi \\-b \sin \theta \sin \varphi & (a+b \cos \theta) \cos \varphi \\b \cos \theta & 0\end{array}\right)\left(\begin{array}{c}\mathrm{d} \theta \\\mathrm{d} \varphi\end{array}\right)=J\left(\begin{array}{c}\mathrm{d} r \\\mathrm{~d} \theta \\\mathrm{d} \varphi\end{array}\right)</script><p>$(b)$ 有 $\mathbf{e}_\theta=\left(\begin{gathered}-b\sin \theta\cos \varphi\ -b\sin \theta\sin \varphi\\<br>-b\cos\theta\end{gathered}\right),<br>\mathbf{e}_\varphi=\left(\begin{gathered}-(a+b\cos \theta)\sin \varphi\(a+b\cos \theta)\cos \varphi\\<br>0\end{gathered}\right)$，计算度量矩阵</p><script type="math/tex; mode=display">\begin{gathered}\langle\mathbf{e}_{\theta},\mathbf{e}_{\theta}\rangle=b^2,\langle\mathbf{e}_{\varphi},\mathbf{e}_\theta\rangle=0,\langle\mathbf{e}_{\varphi},\mathbf{e}_\varphi\rangle=(a+b\cos \theta)^{2}\end{gathered}</script><p>$(c)$ 由梯度表达式 $\nabla f(\theta,\varphi)=\left( \mathbf{e}_{\theta},\mathbf{e}_\varphi\right)\left(\begin{array}{}<br>b^2 &amp; 0 \\<br>0 &amp; (a+b\cos \theta)^2<br>\end{array}\right)^{-1}\left(\begin{array}{c}<br>\partial_{\theta} f\\<br>\partial_{\varphi} f<br>\end{array}\right)\\$</p><p>得到 $\nabla f(\theta,\varphi)=\dfrac{1}{b^2}\dfrac{\partial f}{\partial \theta}\mathbf{e}_{\theta}+\dfrac{1}{(a+b\cos \theta)^{2}}\dfrac{\partial f}{\partial \varphi}\mathbf{e}_{\varphi}$</p><h2 id="讲义习题2-4-5"><a href="#讲义习题2-4-5" class="headerlink" title="讲义习题2.4.5"></a>讲义习题2.4.5</h2><p>平面极坐标系下 $\mbox{Laplace}$ 方程为 $\dfrac{\partial^{2} u}{\partial r^{2}}+\dfrac{1}{r} \dfrac{\partial u}{\partial r}+\dfrac{1}{r^{2}} \dfrac{\partial^{2} u}{\partial \theta^{2}}=0$ 。</p><p>求分离变量形式的解 $u(r, \theta)=X(r) Y(\theta)$ 。</p><hr><p>解：代入分离变量形式有 $\Delta u=Y(\theta)\left(\partial_{r, r}^{2} X(r)+\dfrac{1}{r} \partial_{r} X(r)\right)+\dfrac{X(r)}{r^{2}} \partial_{\theta, \theta} Y(\theta)=0$ 变形为</p><script type="math/tex; mode=display">\frac{1}{X(r)}\left(r^{2} \partial_{r, r}^{2} X(r)+r \partial_{r} X(r)\right)+\frac{1}{Y(\theta)} \partial_{\theta, \theta} Y(\theta)=0</script><p>由于前两项与后一项无关联，令 $r^{2} \partial_{r, r}^{2} X(r)+r \partial_{r} X(r)=C X(r),\partial_{\theta, \theta} Y(\theta)=-CY(\theta)$</p><p>前者为欧拉方程，取 $t=\ln r$，化简得 $\dfrac{\partial^2 X(t)}{\partial t^2}=CX(t)$，则分类讨论有</p><script type="math/tex; mode=display">\begin{aligned}&X(r)=k_{1} \cosh (\sqrt{C} \ln r)+k_{2} \sinh (\sqrt{C} \ln r), & C>0 \\&Y(\theta)=k_{3} \cos (\sqrt{C} \theta)+k_{4} \sin (\sqrt{C} \theta) ; \\&X(r)=k_{1} \cos (\sqrt{-C} \ln r)+k_{2} \sin (\sqrt{-C} \ln r), &C<0 \\&Y(\theta)=k_{3} \cosh (\sqrt{-C} \theta)+k_{4} \sinh (\sqrt{-C} \theta) ; \\&X(r)=k_{1} \ln r+k_{2}, Y(\theta)=k_{3} \theta ; &C=0\end{aligned}</script><p>从而合并所有解令 $C&gt;0$ 有</p><script type="math/tex; mode=display">u(r, \theta)=\left\{\begin{array}{l}\left(C_{1} r^{C}+C_{2} r^{-C}\right) \cos \left(C \theta+C_{3}\right) \\\cos \left(C \ln r+C_{1}\right)\left(C_{2} \mathrm{e}^{C \theta}+C_{3} \mathrm{e}^{-C \theta}\right) \\C_{1}\left(\ln r+C_{2}\right) \theta\end{array}\right.</script><h2 id="讲义习题2-4-6"><a href="#讲义习题2-4-6" class="headerlink" title="讲义习题2.4.6"></a>讲义习题2.4.6</h2><p>求直角坐标系下的 $\mbox{Laplace}$ 方程 $\Delta f=\dfrac{\partial^{2} f}{\partial x^{2}}+\dfrac{\partial^{2} f}{\partial y^{2}}+\dfrac{\partial^{2} f}{\partial z^{2}}=0$ 在空间球坐标系下表达式。</p><hr><p>解：利用 $\Delta=\nabla\cdot \nabla$，且由讲义 $2.3.10$ 习题知</p><script type="math/tex; mode=display">\begin{gathered}\nabla f(r, \theta,\varphi)=\dfrac{\partial f}{\partial r}\mathbf{e}_{r}+\dfrac{1}{r^2}\dfrac{\partial f}{\partial \theta}\mathbf{e}_{\theta}+\dfrac{1}{r^2\sin^2 \theta}\dfrac{\partial f}{\partial \varphi}\mathbf{e}_{\varphi}\\\mathbf{e}_r=\left(\begin{gathered}\sin\theta\cos\varphi\\ \sin \theta\sin\varphi\\\cos\theta\end{gathered}\right),\mathbf{e}_\theta=\left(\begin{gathered}r\cos\theta\cos\varphi\\ r\cos \theta\sin\varphi\\-r\sin\theta\end{gathered}\right),\mathbf{e}_\varphi=\left(\begin{gathered}-r\sin\theta\sin\varphi\\ r\sin \theta\cos\varphi\\0\end{gathered}\right)\end{gathered}</script><p>且不同坐标的偏导有，计算拉普拉斯算子得到</p><script type="math/tex; mode=display">\begin{gathered}\partial_{r} \mathbf{e}_{r}=0, \partial_{r} \mathbf{e}_{\theta}=\frac{\mathbf{e}_{\theta}}{r}, \partial_{r} \mathbf{e}_{\varphi}=\frac{\mathbf{e}_{\varphi}}{r} \\\partial_{\theta} \mathbf{e}_{r}=\frac{\mathbf{e}_{\theta}}{r}, \partial_{\theta} \mathbf{e}_{\theta}=-r \mathbf{e}_{r}, \partial_{\theta} \mathbf{e}_{\varphi}=\cot \theta \mathbf{e}_{\varphi} \\\partial_{\varphi} \mathbf{e}_{r}=\frac{\mathbf{e}_{\varphi}}{r}, \partial_{\varphi} \mathbf{e}_{\theta}=\cot \theta \mathbf{e}_{\varphi}, \partial_{\varphi} \mathbf{e}_{\varphi}=\left[\begin{array}{c}-r \sin \theta \cos \varphi \\-r \sin \theta \sin \varphi \\0\end{array}\right]\\\Delta=\left(\mathbf{e}_{r} \partial_{r}+\frac{\mathbf{e}_{\theta}}{r^{2}} \partial_{\theta}+\frac{\mathbf{e}_{\varphi}}{r^{2} \sin ^{2} \theta} \partial_{\varphi}\right) \cdot\left(\mathbf{e}_{r} \partial_{r}+\frac{\mathbf{e}_{\theta}}{r^{2}} \partial_{\theta}+\frac{\mathbf{e}_{\varphi}}{r^{2} \sin ^{2} \theta} \partial_{\varphi}\right) \\=\partial_{r, r}+0+0+\frac{1}{r} \partial_{r}+\frac{1}{r^{2}} \partial_{\theta, \theta}+0+\frac{1}{r} \partial_{r}+\frac{\cot \theta}{r^{2}} \partial_{\theta}+\frac{1}{r^{2} \sin ^{2} \theta} \partial_{\varphi, \varphi} \\=\partial_{r, r}+\frac{2}{r} \partial_{r}+\frac{1}{r^{2}} \partial_{\theta, \theta}+\frac{\cot \theta}{r^{2}} \partial_{\theta}+\frac{1}{r^{2} \sin ^{2} \theta} \partial_{\varphi, \varphi}\end{gathered}</script><blockquote><p> 这与球坐标系下拉普拉斯算子的一般表达式（来源于网络）等价</p><script type="math/tex; mode=display">\Delta=\frac{1}{r^{2}} \frac{\partial}{\partial r}\left(r^{2} \frac{\partial u}{\partial r}\right)+\frac{1}{r^{2} \sin \theta} \frac{\partial}{\partial \theta}\left(\sin \theta \frac{\partial u}{\partial \theta}\right)+\frac{1}{r^{2} \sin ^{2} \theta} \frac{\partial^{2} u}{\partial \varphi^{2}}</script></blockquote><h1 id="large-textcolor-blue-微积分第四次作业-small-W-times-f-textcolor-blue-2022-3-22"><a href="#large-textcolor-blue-微积分第四次作业-small-W-times-f-textcolor-blue-2022-3-22" class="headerlink" title="$\large\textcolor{blue}{微积分第四次作业 \small(W\times f)}      _\textcolor{blue}{2022.3.22}$"></a>$\large\textcolor{blue}{微积分第四次作业 \small(W\times f)}      _\textcolor{blue}{2022.3.22}$</h1><h2 id="教材第一章总复习11"><a href="#教材第一章总复习11" class="headerlink" title="教材第一章总复习11"></a>教材第一章总复习11</h2><p>已知偏微分方程 (输运方程) $\left\{\begin{array}{l}\dfrac{\partial z}{\partial t}=a \dfrac{\partial z}{\partial x}+b \dfrac{\partial z}{\partial y}, \ z(x, y, 0)=z_{0}(x, y),\end{array}\right.$ 证明它的解为 $z=$ $z_{0}(x+a t, y+b t) .$</p><hr><p>解：显然当 $z=z_{0}(x+at,y+bt)$ 时，$\dfrac{\partial z}{\partial t}=\dfrac{\partial z}{\partial x}\cdot a+\dfrac{\partial z}{\partial y}\cdot b$ 满足条件</p><p>令 $z(s)=z(x-as,y-bs,t+s)$，满足 $\dfrac{\partial z}{\partial s}=-a\dfrac{\partial z}{\partial x}-b\dfrac{\partial z}{\partial y}+\dfrac{\partial z}{\partial t}=0$，则对每个 $x,y,t$</p><p>都有 $z(x-as,y-bs,t+s)=z(0)=z(x,y,t)$，令 $t=-s$ 代入得</p><script type="math/tex; mode=display">z(x+at,y+bt,0)=z_0(x+at,y+bt)=z(x,y,t)</script><p>则 $z(x,y,t)=z_0(x+at,y+bt)$ 为满足条件的唯一解</p><h2 id="教材第一章总复习12-1"><a href="#教材第一章总复习12-1" class="headerlink" title="教材第一章总复习12(1)"></a>教材第一章总复习12(1)</h2><p>（1）设函数 $f, g \in C^{2}$, 证明: $u(x, y, z, t)=\dfrac{1}{r}(f(t+r)-g(t-r))$ 满足弦振动方程</p><p> $\dfrac{\partial^{2} u}{\partial t^{2}}=\dfrac{\partial^{2} u}{\partial x^{2}}+\dfrac{\partial^{2} u}{\partial y^{2}}+\dfrac{\partial^{2} u}{\partial z^{2}}$, 其中 $r=\sqrt{x^{2}+y^{2}+z^{2}}$;</p><hr><p>证明：对 $u(x, y, z, t)=\dfrac{1}{r}(f(t+r)-g(t-r))$ 求偏导有</p><script type="math/tex; mode=display">\begin{gathered}\dfrac{\partial u}{\partial t}=\dfrac{f'(t+r)-g'(t-r)}{r},\dfrac{\partial^2 u}{\partial t^2}=\dfrac{f''(t+r)-g''(t-r)}{r}\\\dfrac{\partial u}{\partial x}=\dfrac{f'(t+r)\cdot x+g'(t-r)\cdot x-(f(t+r)-g(t-r))\cdot \dfrac{x}{r}}{x^2+y^2+z^2}\\\dfrac{\partial^2 u}{\partial x^2}=\dfrac{(f'(t+r)+g'(t-r)+f''(t+r)\cdot \dfrac{x^2}{r}-g''(t-r)\cdot \dfrac{x^2}{r})\cdot r^2}{(x^2+y^2+z^2)^2}\\+\dfrac{-(f'(t+r)+g'_r(t-r))\cdot \dfrac{x^2}{r^2}\cdot r^2-(f(t+r)-g(t-r))\cdot \dfrac{y^2+z^2}{r^3}\cdot r^2}{(x^2+y^2+z^2)^2}\\-\dfrac{(f'(t+r)\cdot x+g'(t-r)\cdot x-(f(t+r)-g(t-r))\cdot \dfrac{x}{r})\cdot 2x}{(x^2+y^2+z^2)^2}\\\end{gathered}</script><script type="math/tex; mode=display">\begin{gathered}=\dfrac{-(f(t+r)-g(t-r))\cdot (\dfrac{-2x^2+y^2+z^2}{r})+(-3x^2+r^2)\cdot (f'(t+r)+g'(t-r))}{r^4}\\+\dfrac{(f''(t+r)-g''(t-r))\cdot x^2r}{r^4}\end{gathered}</script><p>则对 $x,y,z$ 求和有</p><script type="math/tex; mode=display">\begin{gathered}\dfrac{\partial^{2} u}{\partial x^{2}}+\dfrac{\partial^{2} u}{\partial y^{2}}+\dfrac{\partial^{2} u}{\partial z^{2}}=\dfrac{-(f(t+r)-g(t-r))\cdot \displaystyle \sum\dfrac{-2x^2+y^2+z^2}{r}}{r^4}\\+\dfrac{(f'(t+r)+g'(t-r))\cdot \displaystyle \sum (-3x^2+r^2)}{r^4}+\dfrac{(f''(t+r)-g''(t-r))\cdot \displaystyle \sum x^2r}{r^4}\\=0+0+\dfrac{f''(t+r)-g''(t-r)}{r}=\dfrac{\partial ^2u}{\partial t^2}\end{gathered}</script><h2 id="教材第一章总复习15"><a href="#教材第一章总复习15" class="headerlink" title="教材第一章总复习15"></a>教材第一章总复习15</h2><p>设 $f(x, y)$ 是可微函数, 且满足以下条件 $\lim\limits _{x^{2}+y^{2} \rightarrow+\infty} \dfrac{f(x, y)}{\sqrt{x^{2}+y^{2}}}=+\infty$, 试证明: 对于任意的 $\boldsymbol{v}=\left\{v_{1}, v_{2}\right\}$, 都存在点 $\left(x_{0}, y_{0}\right)$, 使得 $\operatorname{grad} f\left(x_{0}, y_{0}\right)=v$.</p><hr><p>证明：对 $\forall  v_1,v_2\in R,\boldsymbol v=\{v_1,v_2\}$，定义 $g(x,y)=f(x,y)-(v_1x+v_2y)$</p><p>则 $\mbox{grad} f(x_0,y_0)=\boldsymbol v\Longleftrightarrow \mbox{grad} g(x_0,y_0)=0$，而 $\dfrac{|x_0x+y_0y|}{\sqrt{x^2+y^2}}\leq \dfrac{\sqrt{x_0^2+y_0^2}\cdot \sqrt{x^2+y^2}}{\sqrt{x^2+y^2}}$</p><p>后者为一常量 $&lt;+\infty$，则 $\lim\limits_{x^2+y^2\to +\infty}\dfrac{g(x,y)}{\sqrt{x^2+y^2}}=+\infty$，由极限定义知</p><script type="math/tex; mode=display">\forall \ M>0,\exists\ N>0,\forall \ x^2+y^2>N,\dfrac{g(x,y)}{\sqrt{x^2+y^2}}>M</script><p>则任取 $M_0$，令 $\mathbb{S}=\{(x,y)\mid x^2+y^2\leq N\}$，该集合为定义在 $\mathbb{R}^2\to \mathbb{R}$ 上的有界闭集</p><p>对应值域有最小值 $f(x_1,y_1)=m_{min}$，结合上述可知，该坐标为整个定义域上的最小值</p><p>则一定 $\exists  x_1,y_1,s.t.\mbox{grad} g(x_1,y_1)=0$，从而原命题成立</p><h2 id="讲义2-4-8"><a href="#讲义2-4-8" class="headerlink" title="讲义2.4.8"></a>讲义2.4.8</h2><p>求 $\partial^{2} \operatorname{det}(A)$ 以及 $\operatorname{det}$ 在 $I$ 处的 $2$ 阶 $Taylor$ 展开式。(提示: $A A^{* T}=$ $\left.\operatorname{det}(A) I_{\circ}\right)$</p><hr><p>解：由 $D\det A(B_1)=\text{tr}(A^{*T}B_1)=\det A\cdot \text{tr}(A^{-1}B_1)$，继续变化 $A$ 为 $B_2$ 求导有</p><p>$D(\text{tr}(A^{-1}B_1))(B_2)=\text{tr}((A+B_2)^{-1}B_1)-\text{tr}(A^{-1}B_1)$ 由可逆运算的一阶“泰勒”展开</p><p>$(A+B_2)^{-1}=(A(I+A^{-1}B_2))^{-1}=(I+A^{-1}B_2)^{-1}A^{-1}=(I-A^{-1}B_2+o(B_2))A^{-1}$</p><p>则有 $D(\text{tr}(A^{-1}B_1))(B_2)=-\text{tr}(A^{-1}B_2A^{-1}B_1)$，则由链式法则对 $\det A$  的二阶展开式</p><script type="math/tex; mode=display">\partial ^2\det A=\det A\cdot (\tr(A^{-1}B_2)\cdot \tr(A^{-1}B_1)-\tr (A^{-1}B_2A^{-1}B_1))</script><p>则 $\det $ 在 $I$ 处的 $Taylor$ 展开式有 $1+\text{tr}(B)+\dfrac{1}{2}(\text{tr}^2(B)-\text{tr}(B^2))+o(\text{tr}(B^2))$ </p><h2 id="讲义2-5-3"><a href="#讲义2-5-3" class="headerlink" title="讲义2.5.3"></a>讲义2.5.3</h2><p>求以下函数的极值和最值</p><p>(1) $u=\sin  x+\sin  y+\sin  z-\sin  (x+y+z)(0 \leq x, y, z \leq \pi)$</p><p>(2) $f(\mathbf{x})=\dfrac{\langle A \mathbf{x}, \mathbf{x}\rangle}{\langle\mathbf{x}, \mathbf{x}\rangle}(\mathbf{x} \neq \mathbf{0})$, 其中 $A$ 是一个对称矩阵。</p><p>(3) $x^{y}-(x-1) y+(x-1)^{2}(x&gt;0, y \in \mathbb{R})$ 。</p><hr><p>解：$(1)$ 由对该三元函数求一阶导得</p><script type="math/tex; mode=display">\dfrac{\partial u}{\partial x}=\cos x-\cos (x+y+z),\dfrac{\partial u}{\partial y}=\cos y-\cos (x+y+z),\dfrac{\partial u}{\partial z}=\cos z-\cos (x+y+z)</script><p>当三者均为 $0$ 时有</p><script type="math/tex; mode=display">\cos x=\cos y=\cos z=\cos (x+y+z),x,y,z\in[0,{\pi}]</script><p>由于 $\cos x$ 函数在 $[0,\pi]$ 区间上是单调的，从而 $x=y=z$，代入三倍角公式有</p><script type="math/tex; mode=display">\cos x=\cos (3x)=-3\cos x+4\cos ^3x</script><p>求二阶导</p><script type="math/tex; mode=display">\dfrac{\partial ^2 u}{\partial x^2}=-\sin x+\sin (x+y+z),\dfrac{\partial ^2 u}{\partial x \partial y}=\sin (x+y+z),\dfrac{\partial ^2 u}{\partial x\partial z}=\sin (x+y+z)\\\dfrac{\partial ^2 u}{\partial ^2y}=-\sin y+\sin (x+y+z),\dfrac{\partial ^2 u}{\partial y\partial z}=\sin (x+y+z),\dfrac{\partial ^2 u}{\partial z^2}=-\sin z+\sin (x+y+z)\\</script><p>解得 $x=0 或 \dfrac{\pi}{2}$，而当 $x=0$ 为边界点，不可能为极值点，代入 $x=\dfrac{\pi}{2}$ 计算 $Hesse$ 矩阵有</p><script type="math/tex; mode=display">x=\dfrac{\pi}{2},\begin{bmatrix}    \dfrac{\partial ^2 u}{\partial x^2} &\dfrac{\partial ^2 u}{\partial x\partial y}&\dfrac{\partial ^2 u}{\partial x\partial z}\\    \dfrac{\partial ^2 u}{\partial y\partial x} &\dfrac{\partial ^2 u}{\partial y^2}&\dfrac{\partial ^2 u}{\partial y\partial z}\\    \dfrac{\partial ^2 u}{\partial z\partial x}&\dfrac{\partial ^2 u}{\partial z\partial y}&\dfrac{\partial ^2 u}{\partial z^2}\end{bmatrix}=\begin{bmatrix}-2&-1&-1\\-1&-2&-1\\-1&-1&-2\end{bmatrix}</script><p>计算该矩阵的特征值</p><script type="math/tex; mode=display">\det(\boldsymbol H-\lambda \boldsymbol I)=\begin{vmatrix}-2-\lambda&-1&-1\\-1&-2-\lambda&-1\\-1&-1&-2-\lambda\end{vmatrix}=-(\lambda+1)^2(\lambda+4)，\lambda=-1,-1,-4</script><p>从而 $\boldsymbol H$ 矩阵负定，从而 $u(x,y,z)=\sin x+\sin y+\sin z-\sin (x+y+z)$ 在 $(\dfrac{\pi}{2},\dfrac{\pi}{2},\dfrac{\pi}{2})$ 有极大值 $4$，同时也是最大值，对最小值有三角恒等式</p><script type="math/tex; mode=display">\sin  (x)+\sin  (y)+\sin  (z)-\sin  (x+y+z)=4 \sin  \left(\frac{x+y}{2}\right) \sin  \left(\frac{x+z}{2}\right) \sin  \left(\frac{y+z}{2}\right)</script><p>代入取值范围有 $\sin  (\dfrac{x+y}{2}),\sin  (\dfrac{x+z}{2}),\sin  (\dfrac{y+z}{2})\geq 0$，则最小值为 $0$</p><p>综上所述原函数有极大值 $4$，无极小值，有最大值 $4$，最小值 $0$</p><p>$(2)$ 对该函数求导有</p><script type="math/tex; mode=display">\mathbf{d} f(\mathbf{x}) \mathbf{v}=\frac{2 \mathbf{v}^{T} A \mathbf{x}}{\mathbf{x}^{T} \mathbf{x}}-\frac{\mathbf{x}^{T} A \mathbf{x}}{\left(\mathbf{x}^{T} \mathbf{x}\right)^{2}} 2 \mathbf{v}^{T} \mathbf{x}=\frac{2 \mathbf{v}^{T}}{\mathbf{x}^{T} \mathbf{x}}[A \mathbf{x}-f(\mathbf{x}) \mathbf{x}]</script><p>$\mathrm{d} f(\mathbf{x}) \mathbf{v}=0(\forall \mathbf{v})$ 当且仅当 $A \mathbf{x}=f(\mathbf{x}) \mathbf{x}$, 即 $\mathbf{x}$ 是 $A$ 的特征向量。 此时, $f(\mathbf{x})$ 是相应的特征值。<br>在 $A$ 的单位特征向量 $\mathrm{x}_{0}$ 处, $\mathbf{v}=\mu \mathbf{x}_{0}+(1+\mu) \mathbf{v}^{\perp}$</p><script type="math/tex; mode=display">f\left(\mathbf{x}_{0}+\mathbf{v}\right)=\lambda+\left(\mathbf{v}^{\perp}\right)^{T}(A-\lambda I) \mathbf{v}^{\perp}+o\left(\left\|\mathbf{v}^{\perp}\right\|^{2}\right)</script><p>如果 $\lambda$ 是 $A$ 的最大特征值（或最小特征值), 则 $\mathrm{x}_{0}$ 是 $f$ 的最大值点 (相应地，最小值点)。如果特征值 $\lambda$ 既非 $A$ 的最大特征 值也非最小特征值, 则 $\mathbf{x}_{0}$ 不是 $f$ 的极值点。</p><p>$(3)$ 对二元函数 $z(x,y)=x^y-(x-1)y+(x-1)^2$ 求偏导等于 $0$ 有</p><script type="math/tex; mode=display">\begin{gathered}\dfrac{\partial z}{\partial x}=yx^{y-1}-y+2(x-1)=0,\dfrac{\partial z}{\partial y}=x^{y}\ln x-(x-1)=0\\\dfrac{\partial ^2z}{\partial x^2}=y(y-1)x^{y-2}+2,\dfrac{\partial ^2z}{\partial y^2}=x^{y}\ln ^2x,\dfrac{\partial ^2z}{\partial x\partial y}=x^{y-1}+yx^{y-1}\ln x-1\end{gathered}</script><p>固定 $y_0$ 有 $y_0\leq0$ 或 $y_0\leq 1$ 时 $\dfrac{\partial ^2z}{\partial x^2}\geq2&gt;0$，则 $\dfrac{\partial z}{\partial x}$ 随 $x$ 单调递增，有且仅有 $x=1$ 该根</p><p>若 $0<y_0<1$ ，有 $y-2<0$，$\dfrac{\partial ^3z}{\partial x^3}=y(y-1)(y-2)x^{y-3}>0$，$\dfrac{\partial ^2z}{\partial x^2}$ 随 $x$ 单调递增</p><p>取点 $\dfrac{\partial ^2z}{\partial x^2}\big{|}_{x\to 0^{+}}\to -\infty$，$\dfrac{\partial ^2z}{\partial x^2}\big{|}_{x=1}=2&gt;0$，由零点存在定理，</p><script type="math/tex; mode=display">\exists\ !\ x_{0}\in (0,1),s.t.\dfrac{\partial ^2z}{\partial x^2}\big{|}_{x=x_0}=0</script><p> 则 $\dfrac{\partial z}{\partial x}$ 当 $x\in (0,x_0)$ 单调递减，当 $x\in (x_0,+\infty)$ 单调递增，又 $\dfrac{\partial z}{\partial x}\big{|}_{x=1}=0$ 则有</p><p>$\dfrac{\partial z}{\partial x}\big{|}_{x=x_0}&lt;0$ 结合单调性可知，$\dfrac{\partial z}{\partial x}$ 在 $(0,+\infty)$ 上有且仅有两个零点，一者 $x_1\in (0,x_0)$ ，一者</p><p>为 $0$ ，则 $z$ 关于 $x$ 在区间 $(0,x_1),(x_1,1),(1+\infty)$ 上分别单调递增、单调递减、单调递增</p><p>但对于 $x_1\neq 1$ 其在固定 $y$ 的截面上为极大值，而在固定 $x$ 的截面时 $\dfrac{\partial ^2z}{\partial y^2}=x^{y}\ln^2 x&gt;0$ 为极小值</p><p>从而对所有的 $x_1$ 均为函数的鞍点，非极值点。而只要极值点坐标 $x=1$，代入 $\mbox{Hesse}$ 矩阵有</p><script type="math/tex; mode=display">\mathbf{H}=\left[\begin{array}{cc}\dfrac{\partial^{2} z}{\partial x^{2}} & \dfrac{\partial^{2} z}{\partial x \partial y} \\ \dfrac{\partial^{2} z}{\partial x \partial y} & \dfrac{\partial^{2} z}{\partial y^{2}}\end{array}\right]=\left[\begin{array}{cc}y^{2}-y+2 & 0 \\ 0 & 0\end{array}\right]</script><p>为正定矩阵，从而所有 $x=1$ 的点（一根直线）都是极小值点，极小值为 $1$，无极大值</p><p>$y\leq 0$ 或 $y\geq 1$，$x=1$ 为最小值，$0&lt;y&lt;1$ 时，由单调性 $\min z(x,y)=\min(1,z(x\to 0,y))$</p><p>而 $z(0,y)=1-y&gt;0$，从而 $z(x,y)$ 有最小值 $1$，无最大值，其图像如下</p><p><img src="https://pic.imgdb.cn/item/62383ad327f86abb2a42d545.jpg" style="zoom:50%;" /></p><h2 id="讲义2-5-4"><a href="#讲义2-5-4" class="headerlink" title="讲义2.5.4"></a>讲义2.5.4</h2><p>设 $\gamma$ 是由抛物线 $y=c^{2}-x^{2}(-c \leq x \leq c)$ 和 $x$ 轴上的线段组成的简单封闭曲线。求 $\gamma$ 的内接四边形的最大面积。</p><hr><p>解：由于抛物线为凸函数，若四个点均在对称轴一侧，则固定其中三个点，将第四点移动到另一侧显然面积会增加；又若依据对称轴恰好一侧为三个点，一侧为一个点，则按照 $y$ 轴坐标大小排序中间两个点相连总有斜率 $k$，若 $k=0$，则可以调整上下任何一个点到以抛物线对称轴为对称中心的对称点使得面积一样；若 $k\neq 0$，则总有一侧的点转移至相应对称点后总面积增加。综上，内接四边形面积最大时对称轴分开一定每侧两个点。（假设对称轴上的点划分到右侧）</p><p>设横坐标从左往右依次为 $-c\leq x_1<x_2<0\leq x_3<x_4\leq c$，固定 $x_x,x_3,x_4$ 有内接四边形面积仅与横坐标为 $x_1$ 的点到经过 $x_3,x_4$ 直线的距离有关，令直线方程 $y=kx+b,k<0,b>0$</p><p>点到直线距离公式 $d=\dfrac{|kx_1+x_1^2-c^2+b|}{\sqrt{k^2+1}}$，其中 $k=-(x_3+x_4)\in(-2c,0)$，$b=x_3x_4+c^2$</p><p>代入 $d=\dfrac{|kx_1+x_1^2+x_3x_4|}{\sqrt{k^2+1}}$，有 $|kx_1+x_1^2+x_3x_4|\leq |k||c|+c^2+x_3x_4$，条件 $x_1=-c$</p><p>由对称性可知 $x_1=-c,x_4=c$。划分为两个三角形相加得到 </p><script type="math/tex; mode=display">S\left(x_{2}, x_{3}\right)=\frac{1}{2} \cdot 2 c \cdot\left(c^{2}-x_{2}^{2}\right)+\frac{1}{2} \operatorname{det}\left|\begin{array}{cc}c-x_{2} & x_{2}^{2}-c^{2} \\ x_{3}-x_{2} & x_{2}^{2}-x_{3}^{2}\end{array}\right|=c^{3}+\frac{1}{2}\left(\left(x_{3}-x_{2}\right) c^{2}-\left(x_{2}^{2}+x_{3}^{2}\right) c+\left(x_{3}-x_{2}\right) x_{2} x_{3}\right)</script><p>有 $\dfrac{\partial S}{\partial x_2}=-\dfrac{1}{2}c^2-cx_2+\dfrac{1}{2}x_3^2-x_2x_3,\dfrac{\partial S}{\partial x_3}=\dfrac{1}{2}c^2-cx_3-\dfrac{1}{2}x_2^2+x_2x_3$</p><p>当两者等于 $0$ 时，$-2x_2+x_3=2x_3-x_2=c$，则 $x_2=-\dfrac{1}{3}c$，$x_3=\dfrac{1}{3}c$</p><p>对应 $\mbox{Hesse}$ 矩阵为 $\mathbf{H}=\left[\begin{array}{cc}\dfrac{\partial^{2} S}{\partial x^{2}} &amp; \dfrac{\partial^{2} S}{\partial x \partial y} \ \dfrac{\partial^{2} S}{\partial x \partial y} &amp; \dfrac{\partial^{2} S}{\partial y^{2}}\end{array}\right]=\left[\begin{array}{cc}-c-x_{3} &amp; x_{3}-x_{2} \ x_{3}-x_{2} &amp; -c+x_{2}\end{array}\right]=\frac{c}{3}\left[\begin{array}{cc}-2 &amp; 2 \ 2 &amp; -4\end{array}\right]$</p><p>为极大值，且最大值点在极大值处取到，$S_{\max}=\dfrac{32}{27}c^3$</p><h2 id="讲义2-5-5"><a href="#讲义2-5-5" class="headerlink" title="讲义2.5.5"></a>讲义2.5.5</h2><p>证明: $f(x, y)=-y+x^{2}+x y+x^{4}+y^{4}$ 有唯一极值点, 并判断该极值点的类型。</p><hr><p>证明：对该二元函数求偏导得</p><script type="math/tex; mode=display">\begin{gathered}\dfrac{\partial f}{\partial x}=2x+y+4x^{3},\dfrac{\partial f}{\partial y}=-1+x+4y^3\end{gathered}</script><p>则极值点对应 $y=-2x(1+2x^2),4y^3=1-x$，对应 $\mbox{Hesse}$ 矩阵有</p><script type="math/tex; mode=display">\mathbf{H}=\left[\begin{array}{cc}\dfrac{\partial^{2} z}{\partial x^{2}} & \dfrac{\partial^{2} z}{\partial x \partial y} \\ \dfrac{\partial^{2} z}{\partial x \partial y} & \dfrac{\partial^{2} z}{\partial y^{2}}\end{array}\right]=\left[\begin{array}{cc}2+8 x^{2} & 1 \\ 1 & 12 y^{2}\end{array}\right]</script><p>则由于 $2+8x^2&gt;2&gt;0$，则该对称矩阵 $\mathbf{H}$ 只能为正定矩阵，其行列式大于等于 $0$</p><script type="math/tex; mode=display">24y^2(1+4x^2)\geq1</script><p>联立对应方程为 $-32x^3(1+2x^2)^3=1-x$，则解不为 $0$， $f(x)=32x^3(1+2x^2)^3-x+1$</p><p>$f’(x)=32(3x^2(1+2x^2)^3)+x^3\cdot 12x(1+2x^2)^2-1=96x^2(1+2x^2)^2(1+6x^2)-1$</p><p>考虑 $x&gt;0$ 的情况，$f’(x)$ 在 $x&gt;0$ 时单调递增，$f(0)=-1$，且有$f(\dfrac{1}{4})&gt;6-1&gt;0$，由零点存在定理 $\exists  x_0\in (0,\dfrac{1}{4}),f’(x_0)=0$，且有对 $x&gt;0$，$f(x)$ 在$(0,x_0)$ 单调递减，在 $(x_0,+\infty)$ </p><p>单调递增。而 $f(\dfrac{1}{4})=\dfrac{1}{2}\cdot \dfrac{9}{8}^3-\dfrac{3}{4}=-\dfrac{39}{1024}&lt;0$，有 $f(x)$ 在 $(\dfrac{1}{4},+\infty)$ 单调递增</p><p>且 $f(1)&gt;1$，$f(x_0)<f(\dfrac{1}{4})<0$，则在 $x>0$ 处存在两个零点 $x_1,x_2$，且有 $x_1,x_2&lt;1$</p><p>放缩不等式有 $48y^2\cdot \dfrac{y}{-2x}=24y^2(2+4x^2)\geq24y^2(1+4x^2)\geq 1$，代入 $4y^3=1-x$</p><p>得到 $\dfrac{6(1-x)}{-x}\geq 1\Longrightarrow \dfrac{1}{x}\leq \dfrac{5}{6}$，若 $x&gt;0$，则至少需要 $x\geq 1.2$ 才能满足正定矩阵条件，矛盾</p><p>从而 $x<0$，由导函数知 $f(x)$ 在 $(-x_0,0)$ 单调递减，$f(x_0)>f(0)&gt;1$，而在 $(-\infty,x_0)$ </p><p>单调递增，从而由零点唯一性定理，存在唯一负数 $x_3&lt;0$，使得 $f(x_3)=0$ </p><p>此时有放缩 $1-\dfrac{1}{x}\geq \dfrac{1}{3}\Longrightarrow \dfrac{12y^3}{-x}=24y^2\dfrac{y}{-2x}\geq 1\Longrightarrow 24y^2(1+2x^2)\geq 1$</p><p>则满足条件 $24y^2(1+4y^2)\geq 24y^2(1+2y^2)\geq 1$，则只有一个极值点，为极小值点，图像如下</p><p><img src="https://pic.imgdb.cn/item/62379e545baa1a80ab92ae28.jpg" style="zoom:50%;" /></p><h2 id="讲义2-8-习题讨论课3-3"><a href="#讲义2-8-习题讨论课3-3" class="headerlink" title="讲义2.8 习题讨论课3.3"></a>讲义2.8 习题讨论课3.3</h2><p>求以下函数在指定点的 $Peano$ 余项 $Taylor$ 展开：</p><p>$(a)$ $x^{y}$ 在 $(x, y)=(1,0)$ 处展开到二阶;</p><p>$(b)$ $\lambda x+\mathrm{e}^{-\left(x^{2}+y^{2}\right)}$ 在它的临界点处展开到二阶。</p><hr><p>解：$(a)$ 对多元函数 $z(x,y)=x^y$，有一阶导：</p><script type="math/tex; mode=display">\dfrac{\partial z}{\partial x}=y\cdot x^{y-1}=0,\dfrac{\partial z}{\partial y}=\ln (x)\cdot x^y=0</script><p>二阶导：</p><script type="math/tex; mode=display">\dfrac{\partial^2 z}{\partial x^2}=y(y-1)\cdot x^{y-2}=0,\dfrac{\partial ^2 z}{\partial y^2}=\ln ^2(x)\cdot x^y=0,\dfrac{\partial ^2 z}{\partial x\partial y}=x^{y-1}+y\ln x\cdot x^{y-1}=1</script><p>从而展开有</p><script type="math/tex; mode=display">z=1+(\dfrac{\partial }{\partial x}+\dfrac{\partial }{\partial y})z+\dfrac{1}{2!}(\dfrac{\partial }{\partial x}+\dfrac{\partial }{\partial y})^2z=1+(x-1)y</script><p>即有带 $\mbox{peano}$ 余项的 $\mbox{Taylor}$ 展开式为 $z=1+y(x-1)+o(x^2+y^2)$</p><p>$(b)$ 对多元函数 $z(x,y)=\lambda x+e^{-(x^2+y^2)}$​ 有一阶导</p><script type="math/tex; mode=display">\dfrac{\partial z}{\partial x}=\lambda-2xe^{-(x^2+y^2)},\dfrac{\partial z}{\partial y}=-2ye^{-(x^2+y^2)}</script><p>对于临界点两者取零 $y=0,\lambda =2xe^{-x^2}=f(x)$ 有对 $f(x)$ 求导 $f’(x)=(2-4x^2)e^{-x^2}$ </p><p>$x\in (-\infty,-\dfrac{\sqrt{2}}{2}) \cap (\dfrac{\sqrt{2}}{2},+\infty),f’(x)&lt;0$，$f(x)$ 单调递减；$x\in (-\dfrac{\sqrt{2}}{2},\dfrac{\sqrt{2}}{2})$</p><p>$f’(x)&gt;0$，$f(x)$ 单调递增。当 $x\to -\infty$ 时，$2xe^{-x^2}\to 0^{-}$，$f(-\dfrac{\sqrt{2}}{2})=-\sqrt{\dfrac{2}{e}}$</p><p>$f(\dfrac{\sqrt{2}}{2})=\sqrt{\dfrac{2}{e}}$，结合单调性有 $f(x)\in (-\sqrt{\dfrac{2}{e}},\sqrt{\dfrac{2}{e}})$，当且仅当 $|\lambda|\leq \sqrt{\dfrac{2}{e}}$ 时有临界点</p><p>而该多元函数的二阶导有</p><script type="math/tex; mode=display">\dfrac{\partial^2 z}{\partial x^2}=(4x^2-2)e^{-(x^2+y^2)},\dfrac{\partial^2 z}{\partial y^2}=(4y^2-2)e^{-(x^2+y^2)},\dfrac{\partial^2 z}{\partial x \partial y}=4xye^{-(x^2+y^2)}</script><p>记满足 $2xe^{-x^2}=\lambda$ 方程的解为 $x_0$（若有多个解，考虑其中一个解）对原函数展开有</p><script type="math/tex; mode=display">\begin{gathered}\lambda x+e^{-(x^2+y^2)}=\lambda x_0+e^{-x_0^2}+\dfrac{1}{2}(\dfrac{\partial }{\partial x}+\dfrac{\partial }{\partial y})^2z=\lambda x_0+e^{-x_0^2}+(2x_0^2-1)e^{-x_0^2}(x-x_0)\\-e^{-x_0^2}y+0+o(x^2+y^2)=\lambda(x_0+\dfrac{1-y}{2x_0}+(2x_0-\dfrac{1}{x_0})(x-x_0))+o(x^2+y^2)\end{gathered}</script><h2 id="讲义2-8-习题讨论课3-4"><a href="#讲义2-8-习题讨论课3-4" class="headerlink" title="讲义2.8 习题讨论课3.4"></a>讲义2.8 习题讨论课3.4</h2><p>对参数 $\lambda$, 讨论函数 $\lambda x+\mathrm{e}^{-\left(x^{2}+y^{2}\right)}$ 的极值情况。</p><hr><p>解：由上一题可知，当且仅当 $-\sqrt{\dfrac{2}{e}}\leq \lambda \leq \sqrt{\dfrac{2}{e}}$ 时有临界点，而对应 $\mbox{Hesse}$ 矩阵有</p><script type="math/tex; mode=display">\mathbf{H}=\left[\begin{array}{cc}\dfrac{\partial^{2} z}{\partial x^{2}} & \dfrac{\partial^{2} z}{\partial x \partial y} \\ \dfrac{\partial^{2} z}{\partial x \partial y} & \dfrac{\partial^{2} z}{\partial y^{2}}\end{array}\right]=2 e^{-\left(x^{2}+y^{2}\right)}\left[\begin{array}{cc}2 x^{2}-1 & 2 x y \\ 2 x y & 2 y^{2}-1\end{array}\right]</script><p>求解对应特征值 </p><script type="math/tex; mode=display">\det(\mathbf{H-\lambda \mathbf{I}})=(2x^2-1-\lambda)\cdot (2y^2-1-\lambda)-4x^2y^2=(\lambda+1)^2-2(\lambda+1)(x^2+y^2)</script><p>则特征值为 $\lambda_1=-1,\lambda_2=2x^2+2y^2-1$，则若函数存在极值点，只能 $\lambda_1,\lambda_2$ 均小于零</p><p>为极大值点，此时 $2x^2+2y^2\leq1\Longrightarrow x^2\leq\dfrac{1}{2}$，由上一题的单调性可知 $-\sqrt{\dfrac{2}{e}}\leq \lambda \leq \sqrt{\dfrac{2}{e}}$</p><p>综上所述，$-\sqrt{\dfrac{2}{e}}\leq \lambda \leq \sqrt{\dfrac{2}{e}}$ 时有极大值点，令 $2xe^{-x^2}=\lambda$ 绝对值不超过 $\dfrac{\sqrt{2}}{2}$ 的解为 $x_0$，该极大值点位于 $(x_0,0)$，极大值为 $e^{-x_0^2}+\lambda x_0=\lambda(x_0+\dfrac{1}{2x_0})$，否则无极值点</p><h1 id="large-textcolor-blue-微积分第五次作业-small-W-times-f-textcolor-blue-2022-3-29"><a href="#large-textcolor-blue-微积分第五次作业-small-W-times-f-textcolor-blue-2022-3-29" class="headerlink" title="$\large\textcolor{blue}{微积分第五次作业 \small(W\times f)}      _\textcolor{blue}{2022.3.29}$"></a>$\large\textcolor{blue}{微积分第五次作业 \small(W\times f)}      _\textcolor{blue}{2022.3.29}$</h1><h2 id="讲义3-1-4"><a href="#讲义3-1-4" class="headerlink" title="讲义3.1.4"></a>讲义3.1.4</h2><p>证明 $-y+x^{2}+x y+x^{4}+y^{4}=0$ 在 $(0,0)$ 的一个邻域内定义了一个 $C^{\infty}$ 隐函数 $y=h(x)$, 并求 $h$ 在 $x=0$ 处的四阶泰勒展开式。</p><hr><p>解：对 $-y+x^2+xy+x^4+y^4=0$ 令 $x,y\to 0$ 使用 $o$ 语言有</p><script type="math/tex; mode=display">-y+x^2+o(y)+o(x^2)+o(y)=0\Longrightarrow y=x^2+o(x^2)</script><p>令 $y=x^2+u$ 代入有 </p><script type="math/tex; mode=display">-u+x^2(x+u)+x^4+(x^2+u)^4=0=-u+x^3+o(u)+o(x^3)+o(x^3)+o(u)</script><p>则 $u=x^3+o(x^3)$，令 $y=x^2+x^3+v$ 代入有</p><script type="math/tex; mode=display">-x^3-v+x(x^2+x^3+v)+x^4+(x^2+x^3+v)^4=-v+2x^4+o(v)+o(x^4)=0</script><p>则 $v=2x^4+o(x^4)$，从而在 $(0,0)$ 处四阶泰勒展开为 $y=x^2+x^3+2x^4+o(x^4)$</p><h2 id="讲义3-1-5"><a href="#讲义3-1-5" class="headerlink" title="讲义3.1.5"></a>讲义3.1.5</h2><p>设 $f: U \times V \rightarrow \mathbb{R}$ 是 $C^{2}$ 函数, $\mathbf{x}_{0}$ 是 $f\left(\cdot, \lambda_{0}\right)$ 的非退化临界点, 即 $f\left(\mathbf{x}, \lambda_{0}\right)$ 关于 $\mathbf{x}$ 在 $\mathbf{x}_{0}$ 处的 $Hesse$ 矩阵是可逆的。证明对足够接近 $\lambda_{0}$ 的所有 $\lambda$, $f(\mathbf{x}, \lambda)$ 关于 $\mathbf{x}$ 在 $\mathbf{x}_{0}$ 附近有唯一的临界点, 并且该临界点的类型与 $\mathbf{x}_{0}$ 作为 $f\left(\cdot, \lambda_{0}\right)$ 的临界点的类型是一样的。</p><hr><p>证明：由 $\dfrac{\partial f}{\partial \mathbf{x}}=\vec{0},\dfrac{\partial f}{\partial \lambda}=0$ 有 $\dfrac{\partial f_1}{\partial \mathbf{x}^{i}}(\mathbf{x},\lambda)=0,\dfrac{\partial f_1}{\partial \lambda}(\mathbf{x},\lambda)=0$，该组隐函数确定了 $\lambda=\lambda(\mathbf{x})$</p><p>这是由于 $f(\mathbf{x}_0,\lambda)$ 在 $\mathbf{x}=\mathbf{x}_0$ 处的 $Hesse$ 矩阵是可逆的，从而在 $\mathbf{x}_0$ 附近，都能找到唯一临界点 $\lambda$</p><p>又由于 $\det(\mathbf{H})\big|_{\lambda_0,\mathbf{x}_0}\neq 0$  且 $\det$ 函数是连续的，从而总能找到 $\lambda$ 附近的领域，使得 $\det \mathbf{H}$ 在该</p><p>领域内是保号的，正定对称矩阵附近仍为正定对称矩阵，负定也为负定，从而临界点类型是一样的</p><h2 id="讲义3-1-7"><a href="#讲义3-1-7" class="headerlink" title="讲义3.1.7"></a>讲义3.1.7</h2><p>设 $\lambda_{0}$ 是矩阵 $A_{0}$ 的一个单重特征值 (即 $p\left(\lambda_{0}\right)=0, p^{\prime}\left(\lambda_{0}\right) \neq 0$, 其中 $p(\lambda)=$ $\left.\operatorname{det}\left(\lambda I-A_{0}\right)\right), \mathbf{x}_{0}$ 是 $A_{0}$ 对应于 $\lambda_{0}$ 的一个单位特征向量。证明存在 $\delta&gt;0$ 使得对任意矩阵 $A$, 只要 $\left|A-A_{0}\right|&lt;\delta, A$ 就有唯一的特征值 $\lambda(A)$ 和相应的单位特征向量 $\mathbf{x}(A)$ 使得 $\lambda\left(A_{0}\right)=\lambda_{0}, \mathbf{x}\left(A_{0}\right)=\mathbf{x}_{0}$, 并且 $\lambda(A)$ 和 $\mathbf{x}(A)$ 关于 $A$ 是 $C^{\infty}$ 的。</p><hr><p>证明：由 $A$ 和 $\lambda$ 由下列隐函数方程确定， $f(A,\lambda)=\det(\lambda I-A)=p_{A}(\lambda)=0$</p><p>而由题设条件，该方程满足 $\dfrac{\partial f}{\partial \lambda}\big |_{\lambda=\lambda_0}=p’(\lambda_0)\neq 0$，且在该处只有 $n$ 次求导后的结果是非零的，从而该方程在 $A,\lambda_0$ 领域所确定的 $\lambda(A)$ 关于 $A$ 只能达到 $C^{n}$ </p><p>而确定 $\lambda$ 后，$g(A,\lambda,\vec{\mathbf{x}})=g(A,\lambda(A),\vec{\mathbf{x}})=(A-\lambda I)\vec{\mathbf{x}}=0$，有 $\dfrac{\partial g}{\partial \mathbf{x^i}}=(A-\lambda I)_{i}$</p><p>为 $(A-\lambda I)$ 第 $i$ 列，若其为 $0$，由行列式性质 $p_{A}(\lambda I-A)=0$，与题设矛盾，从而均不为 $0$</p><p>则确定了隐函数方程 $\mathbf{x}=\mathbf{x}(A,\lambda(A))=\mathbf{x}(A)$ ，对高阶导由线性性质，只有对角元上有非零元素，</p><p>从而 $\dfrac{\partial ^nf}{\partial \mathbf{x}^n}$ 确定的线性映射都是可逆的，从而 $\mathbf{x}(A)$ 为 $C^{\infty }$ 的</p><h2 id="讲义3-2-1"><a href="#讲义3-2-1" class="headerlink" title="讲义3.2.1"></a>讲义3.2.1</h2><p>设</p><script type="math/tex; mode=display">f\left(x_{1}, x_{2}\right)=\left(x_{1} x_{2},\left(1-x_{1}\right) x_{2}\right) .</script><p>证明 $f$ 是 $(0,1) \times(0,1)$ 到 $\left\{\left(y_{1}, y_{2}\right) \mid y_{1}&gt;0, y_{2}&gt;0, y_{1}+y_{2}&lt;1\right\}$ 的微分同胚。</p><hr><p>证明：对于变换 $\begin{cases}y_1=x_1x_2\\y_2=(1-x_1)x_2\end{cases}$ 反解得 $x_1=\dfrac{y_1}{y_1+y_2},x_2=y_1+y_2$</p><p>则有 $y_1+y_2&lt;1$ 对应 $x_1&lt;1,x_2&lt;1$，则 $f$ 在 $(0,1)\longmapsto(0,1)$ 上是双射，满足一一对应，从而</p><p>$f$ 微分同胚</p><h2 id="讲义3-2-2"><a href="#讲义3-2-2" class="headerlink" title="讲义3.2.2"></a>讲义3.2.2</h2><p>记 $\mathcal{S}_{n}$ 为所有 $n$ 阶对称矩阵组成的线性空间, $\mathcal{P}_{n}$ 为所有 $n$ 阶对称正定矩阵组成的集合。证明</p><p>$(a)$ $\mathcal{P}_{n}$ 是 $\mathcal{S}_{n}$ 的开子集;</p><p>$(b)$ 对任意 $A \in \mathcal{P}_{n}$, 存在唯一的 $A^{1 / 2} \in \mathcal{P}_{n}$ 使得 $\left(A^{1 / 2}\right)^{2}=A$, 并且 $A^{1 / 2}$ 关于 $A$ 是 $C^{\infty}$ 的。</p><hr><p>证明：$(a)$ 显然 $\mathcal{S}_{n}$ 是 $\mathcal{P}_{n}$ 的真子集，而对于 $A\in \mathcal{P}$ 为对称正定矩阵，由线性代数知识</p><script type="math/tex; mode=display">A\ 对称正定\Longleftrightarrow \forall \ \mathbf{x}\in \mathbb{R}^n,\mathbf{x}^TA\mathbf{x}>0</script><p>考虑 $f(A)=\mathbf{x^T}A\mathbf{x}$ 关于 $A$ 是连续的，由于对所有 $\mathbf{x}$ 该连续函数 $f(A)&gt;0$，</p><p>则总能找到 $A$ 的领域使得所有的 $f(A+E)&gt;0$，即所有 $n$ 阶对称正定矩阵组成的集合为开集</p><p>$(b)$ 先证存在性，令 $A=L\mbox{diag}(\lambda_1,\lambda_2,\cdots,\lambda_n)L^{T},A^{\frac{1}{2}}:=L\mbox{diag}(\sqrt{\lambda_1},\sqrt{\lambda_2},\cdots,\sqrt{\lambda_n})L^{T}$</p><p>此时有 $(A^{\frac{1}{2}})^2=L\mbox{diag}(\sqrt{\lambda_1},\sqrt{\lambda_2},\cdots,\sqrt{\lambda_n})L^{T}L\mbox{diag}(\sqrt{\lambda_1},\sqrt{\lambda_2},\cdots,\sqrt{\lambda_n})L^{T}=A$</p><p>再证唯一性，若有 $B_1^2=B_2^2=A$，且 $B_1,B_2\in \mathcal{P}_n$，令 $B_1=L_1D_1L_1^{T},B_2=L_2D_2L_2^{T}$</p><p>代入有 $L_1D_1^2L_1^{T}=L_2D_2^2L_2^{T}=A\Longrightarrow L_2^{-1}L_1=D_2^2L_2^{T}(L_1^{T})^{-1}(D_1^{-1})^2$</p><p>左侧为上三角矩阵，右侧为下三角矩阵，从而 $L_2^{-1}L_1=I\Longrightarrow L_1=L_2,D_1=D_2$</p><p>即 $B$ 存在且唯一。由该“求根”映射为双射，其逆映射 $A^{\frac{1}{2}}\longmapsto A$ 无穷可微</p><p>这是因为 $D(A^2)(B)=(A+B)^2-A^2=AB+BA+o(|B|)$，显然可以不断微分下去</p><p>由逆映射定理知，$A^{\frac{1}{2}}$ 关于 $A$ 也是 $C^{\infty}$ 的</p><h2 id="讲义3-3-1"><a href="#讲义3-3-1" class="headerlink" title="讲义3.3.1"></a>讲义3.3.1</h2><p>设 $f, g, h$ 都是自变量 $x, y$ 的函数, 证明</p><p>$(a)$ $\left(\dfrac{\partial f}{\partial g}\right)_{x}=\left(\dfrac{\partial f}{\partial y}\right)_{x} /\left(\dfrac{\partial g}{\partial y}\right)_{x}$;</p><p>$(b)$ $\left(\dfrac{\partial y}{\partial x}\right)_{f}=-\left(\dfrac{\partial f}{\partial x}\right)_{y} /\left(\dfrac{\partial f}{\partial y}\right)_{x}$;</p><p>$(c)$ $\left(\dfrac{\partial f}{\partial x}\right)_{g}=\left(\dfrac{\partial f}{\partial x}\right)_{y}+\left(\dfrac{\partial f}{\partial y}\right)_{x}\left(\dfrac{\partial y}{\partial x}\right)_{g}$ 。</p><hr><p>证明：$(a)$ 由所证明式子保持 $x$ 不变，则有 $df=\dfrac{\partial f}{\partial y}dy,dg=\dfrac{\partial f}{\partial y}dy$，两者相比得</p><script type="math/tex; mode=display">\dfrac{df}{dg}_{x=\tiny \mbox{Const}}=(\dfrac{\partial f}{\partial g})_x=\dfrac{(\dfrac{\partial f}{\partial y})_{x}}{(\dfrac{\partial g}{\partial y})_x}</script><p>$(b)$ 对 $f=f(x,y)$ 全微分有 $df=\dfrac{\partial f}{\partial x}dx+\dfrac{\partial f}{\partial y}dy$，当 $f$ 不变时计算 $(\dfrac{\partial y}{\partial x})_f$ 得</p><script type="math/tex; mode=display">0=\dfrac{\partial f}{\partial x}dx+\dfrac{\partial f}{\partial y}dy\Longrightarrow (\dfrac{\partial y}{\partial x})_f=-\dfrac{(\dfrac{\partial f}{\partial x})_{y}}{(\dfrac{\partial f}{\partial y})_x}</script><p>$(c)$ 当 $g$ 不变时有，$0=\dfrac{\partial g}{\partial x}dx+\dfrac{\partial g}{\partial y}dy$，代入 $df=\dfrac{\partial f}{\partial x}dx+\dfrac{\partial f}{\partial y}dy$ 消去 $dy$ 后有</p><script type="math/tex; mode=display">df=\dfrac{\partial f}{\partial x}dx+\dfrac{\partial f}{\partial y}\cdot (-\dfrac{\dfrac{\partial g}{\partial x} }{\dfrac{\partial g}{\partial y}}dx)</script><p>其中 $dg=\dfrac{\partial g}{\partial x}dx+\dfrac{\partial g}{\partial y}dy$，则固定 $g$ 不变有，$(\dfrac{\partial y}{\partial x})_g=-\dfrac{\dfrac{\partial g}{\partial x} }{\dfrac{\partial g}{\partial y}}$ 代入有</p><script type="math/tex; mode=display">(\dfrac{\partial f}{\partial x})_g=(\dfrac{\partial f}{\partial x})_y+(\dfrac{\partial f}{\partial y})_x(\dfrac{\partial y}{\partial x})_g</script><h2 id="讲义3-3-2"><a href="#讲义3-3-2" class="headerlink" title="讲义3.3.2"></a>讲义3.3.2</h2><p>设 $f_{1}, \ldots, f_{n} ; u_{1}, \ldots, u_{n}$ 都是独立变量 $x_{1}, \ldots, x_{n}$ 的函数。证明</p><p>$(a)$ $\operatorname{det} \dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(u_{1}, \ldots, u_{n}\right)}=\operatorname{det} \dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)} / \operatorname{det} \dfrac{\partial\left(u_{1}, \ldots, u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}$;</p><p>$(b)$ $\left(\dfrac{\partial f_{1}}{\partial x_{1}}\right)_{f_{2}, \ldots, f_{n}}=\operatorname{det} \dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)} / \operatorname{det} \dfrac{\partial\left(f_{2}, \ldots, f_{n}\right)}{\partial\left(x_{2}, \ldots, x_{n}\right)}$;</p><p>$(c)$ $\left(\dfrac{\partial f_{1}}{\partial u_{1}}\right)_{u_{2}, \ldots, u_{n}}=\operatorname{det} \dfrac{\partial\left(f_{1}, u_{2}, \ldots, u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)} / \operatorname{det} \dfrac{\partial\left(u_{1}, \ldots, u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}$ 。</p><hr><p>证明：$(a)$ 由各组微体积元之比为</p><script type="math/tex; mode=display">\begin{gathered}df_1df_2\cdots df_n=\det(\dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)})dx_1dx_2\cdots dx_n\\df_1df_2\cdots df_n=\det(\dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(u_{1}, \ldots, u_{n}\right)})du_1du_2\cdots du_n\\du_1du_2\cdots du_n=\det(\dfrac{\partial\left(u_{1}, \ldots, u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)})dx_1dx_2\cdots dx_n\\\end{gathered}</script><p>从而得到 $\operatorname{det} \dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(u_{1}, \ldots, u_{n}\right)}=\dfrac{df_1\cdots df_n}{du_1\cdots du_n}=\operatorname{det} \dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)} / \operatorname{det} \dfrac{\partial\left(u_{1}, \ldots, u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}$</p><p>$(b)$ 由固定 $f_2,f_3,\cdots,f_n$ 有 $df_2=df_3=\cdots=df_n=0$</p><script type="math/tex; mode=display">df_2=\dfrac{\partial f_2}{\partial x_1}dx_1+\cdots+\dfrac{\partial f_2}{\partial x_n}dx_n,df_3=\dfrac{\partial f_3}{\partial x_1}dx_1+\cdots+\dfrac{\partial f_3}{\partial x_n}dx_n\cdots ,df_n=\cdots</script><p>移项写成矩阵的形式有 $\dfrac{\partial (f_2,f_3\cdots,f_n)}{\partial (x_2,x_3\cdots,x_n)}\begin{pmatrix}dx_2\\dx_3\\\vdots\\dx_n\end{pmatrix}=A\begin{pmatrix}dx_2\\dx_3\\\vdots\\dx_n\end{pmatrix}=-\begin{pmatrix}\dfrac{\partial f_2}{\partial x_2}\\\dfrac{\partial f_3}{\partial x_3}\\\vdots\\\dfrac{\partial f_n}{\partial x_n}\end{pmatrix}dx_1$ 代入计算有</p><p>$df_1=\dfrac{\partial f_1}{\partial x_1}dx_1+\cdots+\dfrac{\partial f_1}{\partial x_n}dx_n=dx_1(\dfrac{\partial f_1}{\partial x_1}-\begin{pmatrix}\dfrac{\partial f_1}{\partial x_2}\\\dfrac{\partial f_1}{\partial x_3}\\\vdots\\\dfrac{\partial f_1}{\partial x_n}\end{pmatrix}^{T}A^{-1}\begin{pmatrix}\dfrac{\partial f_2}{\partial x_2}\\\dfrac{\partial f_3}{\partial x_3}\\\vdots\\\dfrac{\partial f_n}{\partial x_n}\end{pmatrix})=dx_1(\dfrac{\partial f_1}{\partial x_1}-\vec{v}_1^{T}A^{-1}\vec{v}_2)$</p><p>由矩阵分块 $B=\operatorname{det} \dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}=\begin{pmatrix}\dfrac{\partial f_1}{\partial x_1}&amp;\vec{v_1}^{T}\\\vec{v}_2&amp;A\end{pmatrix}$</p><script type="math/tex; mode=display">\dfrac{\det B}{\det A}=\dfrac{\det \begin{pmatrix}\dfrac{\partial f_1}{\partial x_1}&\vec{v_1}^{T}\\\vec{v}_2&A\end{pmatrix}}{\det A}=\dfrac{\det \begin{pmatrix}\dfrac{\partial f_1}{\partial x_1}-\vec{v}_1^{T}A^{-1}\vec{v}_2&\vec{v_1}^{T}\\\vec{0}&A\end{pmatrix}}{\det A}=(\dfrac{\partial f_1}{\partial x_1})_{f_2,\cdots,f_n}</script><p>即有 $\left(\dfrac{\partial f_{1}}{\partial x_{1}}\right)_{f_{2}, \ldots, f_{n}}=\operatorname{det} \dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)} / \operatorname{det} \dfrac{\partial\left(f_{2}, \ldots, f_{n}\right)}{\partial\left(x_{2}, \ldots, x_{n}\right)}$</p><p>$(3)$​ 由固定 $u_2,u_3,\cdots,u_n$ 有 $du_2=du_3=\cdots=du_n=0$</p><script type="math/tex; mode=display">du_2=\dfrac{\partial u_2}{\partial x_1}dx_1+\cdots+\dfrac{\partial u_2}{\partial x_n}dx_n,du_3=\dfrac{\partial u_3}{\partial x_1}dx_1+\cdots+\dfrac{\partial u_3}{\partial x_n}dx_n\cdots ,du_n=\cdots</script><p>移项写成矩阵形式有 $\dfrac{\partial (u_2,u_3\cdots,u_n)}{\partial (x_2,x_3\cdots,x_n)}\begin{pmatrix}dx_2\\dx_3\\\vdots\\dx_n\end{pmatrix}=A\begin{pmatrix}dx_2\\dx_3\\\vdots\\dx_n\end{pmatrix}=-\begin{pmatrix}\dfrac{\partial u_2}{\partial x_2}\\\dfrac{\partial u_3}{\partial x_3}\\\vdots\\\dfrac{\partial u_n}{\partial x_n}\end{pmatrix}dx_1$，代入</p><p>由上问结论可推知，$du_1=\dfrac{\partial u_1}{\partial x_1}dx_1+\cdots+\dfrac{\partial u_1}{\partial x_n}dx_n=dx_1\dfrac{\operatorname{det} \dfrac{\partial\left(u_{1}, \ldots, u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}}{\det A}$</p><p>$df_1=\dfrac{\partial f_1}{\partial x_1}dx_1+\cdots+\dfrac{\partial f_1}{\partial x_n}dx_n=dx_1(\dfrac{\partial f_1}{\partial x_1}-\begin{pmatrix}\dfrac{\partial f_1}{\partial x_2}\\\dfrac{\partial f_1}{\partial x_3}\\\vdots\\\dfrac{\partial f_1}{\partial x_n}\end{pmatrix}^{T}A^{-1}\begin{pmatrix}\dfrac{\partial u_2}{\partial x_2}\\\dfrac{\partial u_3}{\partial x_3}\\\vdots\\\dfrac{\partial u_n}{\partial x_n}\end{pmatrix})=dx_1(\dfrac{\partial f_1}{\partial x_1}-\vec{v}_1^{T}A^{-1}\vec{v}_2)$</p><p>由矩阵分块 $C=\operatorname{det} \dfrac{\partial\left(f_{1}, u_{2}, \ldots, u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}=\begin{pmatrix}\dfrac{\partial f_1}{\partial x_1}&amp;\vec{v_1}^{T}\\\vec{v}_2&amp;A\end{pmatrix}$</p><script type="math/tex; mode=display">\dfrac{\det C}{\det A}=\dfrac{\det \begin{pmatrix}\dfrac{\partial f_1}{\partial x_1}&\vec{v_1}^{T}\\\vec{v}_2&A\end{pmatrix}}{\det A}=\dfrac{\det \begin{pmatrix}\dfrac{\partial f_1}{\partial x_1}-\vec{v}_1^{T}A^{-1}\vec{v}_2&\vec{v_1}^{T}\\\vec{0}&A\end{pmatrix}}{\det A}=(\dfrac{\partial f_1}{\partial x_1})_{u_2,\cdots,u_n}</script><script type="math/tex; mode=display">\left(\dfrac{\partial f_{1}}{\partial u_{1}}\right)_{u_{2}, \ldots, u_{n}}=\dfrac{\det C}{\det A}\cdot \dfrac{\det A}{\det \dfrac{\partial\left(u_{1}, \ldots, u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}}=\dfrac{\operatorname{det} \dfrac{\partial\left(f_{1}, u_{2}, \ldots, u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)} }{\operatorname{det} \dfrac{\partial\left(u_{1}, \ldots, u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}}</script><h2 id="讲义3-4-3"><a href="#讲义3-4-3" class="headerlink" title="讲义3.4.3"></a>讲义3.4.3</h2><p>绘制平面地图有很多方法, $Mercator$ 投影是其中之一。如图所示, 它把球面上的点 $P(x, y, z)$ 映为从球心出发的射线 $O P$ 与一个圆柱面的交点 $P^{\prime}(\lambda x, \lambda y, \lambda z)$, 然后在柱面上再做一个变换得到点 $Q(\lambda x, \lambda y, f(\lambda z))$, 该圆柱面与球面相切于赤道。这样除南北两极外, 地球上的点 $P$ 与柱面上的点 $Q$ 一一对应, 把圆柱面沿母线剪开就得到一张地图。求函数 $f$ 的表达式使得 $Mercator$ 地图上所画的两条相交道路的夹角与实际道路的夹角大小相等。两条相交曲线的夹角被定义为它们的切线所形成的夹角(锐角或直角)。(提示：线性变换 $A: \mathbb{R}^{n} \rightarrow \mathbb{R}^{n}$ 保角当且仅当它把正交且长度相等的向量映为正交且长度相等的向量, 从而存在常数 $C&gt;0$ 使得内积 $\left.\langle A \mathbf{u}, A \mathbf{v}\rangle=C\langle\mathbf{u}, \mathbf{v}\rangle, \forall \mathbf{u}, \mathbf{v} \in \mathbb{R}^{n}\right)$</p><p><img src="https://pic.imgdb.cn/item/623d734727f86abb2add8b61.jpg" style="zoom:25%;" /></p><hr><p>解：设球面为 $x^2+y^2+z^2=R^2$，对其上一点 $(x_0,y_0,z_0)$ 与圆柱面交线 $(\lambda x_0,\lambda y_0,\lambda z_0)$ </p><p>满足 $\lambda^2(x_0^2+y_0^2)=R^2$ 代入变换得 $Q(\dfrac{Rx_0}{\sqrt{x_0^2+y_0^2}},\dfrac{Ry_0}{\sqrt{x_0^2+y_0^2}},f(\dfrac{Rz_0}{\sqrt{x_0^2+y_0^2}}))$</p><p>考虑经度、纬度恒为定值的两条微元，取纬度 $\varphi\sim \varphi+d\varphi$ 处 $d\theta$ 的正交微圆弧，令其长度相同</p><p>$d\theta\cdot  R\cos\varphi=Rd\varphi\Longrightarrow d\theta=\dfrac{d\varphi}{\cos \varphi}$，该两条圆弧映射后的长度分别为 $Rd\theta $ 和 $dz$</p><p>两者相等有 $Rd\theta=dz=R\dfrac{d\varphi}{\cos \varphi}$ 两边积分得 $z(\varphi)=\displaystyle \int R\dfrac{d\varphi}{\cos \varphi}=R\ln (\dfrac{1+\sin \varphi}{\cos \varphi})+C$</p><p>代入 $\varphi = 0$ 时 $z=0$，有 $C=0,z(\varphi)=R\ln (\dfrac{1+\sin \varphi}{\cos \varphi})$，$\lambda z_0=\dfrac{Rz_0}{\sqrt{x_0^2+y_0^2}}=\dfrac{Rz_0}{\sqrt{R^2-z_0^2}}$</p><p>令 $x=\lambda z_0$ 反解得 $z_0=\dfrac{Rx}{\sqrt{R^2+x^2}},\dfrac{1+\sin \varphi}{\cos \varphi }=\dfrac{R+z_0}{\sqrt{R^2-z_0^2}}=\dfrac{x+\sqrt{x^2+    R^2}}{R}$</p><p>从而 $f:x\longmapsto R\cdot\mbox{arcsinh} \dfrac{x}{R}$，为反双曲三角正弦函数</p><h2 id="教材1-6-4"><a href="#教材1-6-4" class="headerlink" title="教材1.6.4"></a>教材1.6.4</h2><p>设方程 $f\left(u^{2}-x^{2}, u^{2}-y^{2}, u^{2}-z^{2}\right)=0$ 确定了函数 $u=u(x, y, z)$, 其中 $f$ 可微,证明：</p><script type="math/tex; mode=display">\frac{1}{x} \frac{\partial u}{\partial x}+\frac{1}{y} \frac{\partial u}{\partial y}+\frac{1}{z} \frac{\partial u}{\partial z}=\frac{1}{u} .</script><hr><p>证明：由在方程 $f\left(u^{2}-x^{2}, u^{2}-y^{2}, u^{2}-z^{2}\right)=0$ 下计算得</p><script type="math/tex; mode=display">\begin{gathered}\dfrac{\partial u}{\partial x}=-\dfrac{\dfrac{\partial f}{\partial x}}{\dfrac{\partial f}{\partial u}}=-\dfrac{-2xf_{1}'}{2u(f_1'+f_2'+f_3')},\dfrac{\partial u}{\partial y}=-\dfrac{\dfrac{\partial f}{\partial y}}{\dfrac{\partial f}{\partial u}}=-\dfrac{-2yf_{1}'}{2u(f_1'+f_2'+f_3')},\\\dfrac{\partial u}{\partial z}=-\dfrac{-2zf_{1}'}{2u(f_1'+f_2'+f_3')}\rightarrow \frac{1}{x} \frac{\partial u}{\partial x}+\frac{1}{y} \frac{\partial u}{\partial y}+\frac{1}{z} \frac{\partial u}{\partial z}=\dfrac{f_1'+f_2'+f_3'}{u(f_1'+f_2'+f_3')}=\dfrac{1}{u}\end{gathered}</script><h2 id="教材1-7-1-2"><a href="#教材1-7-1-2" class="headerlink" title="教材1.7.1(2)"></a>教材1.7.1(2)</h2><p>求下列曲面在给定点的切平面方程和法线方程.</p><p>$(2)$ $z=\arctan \dfrac{y}{x}$, 点 $P\left(1,1, \dfrac{\pi}{4}\right)$;</p><hr><p>解：方程 $f(x,y,z)=z-\arctan(\dfrac{y}{x})=0$ 在点 $(1,1,\dfrac{\pi}{4})$ 处的法向量为</p><script type="math/tex; mode=display">\vec{n}=(\dfrac{\partial f}{\partial x},\dfrac{\partial f}{\partial y},\dfrac{\partial f}{\partial z})=(\dfrac{y}{x^2+y^2},\dfrac{-x}{x^2+y^2},1)=(\dfrac{1}{2},-\dfrac{1}{2},1)</script><p>从而切平面方程为 $\dfrac{1}{2}(x-1)-\dfrac{1}{2}(y-1)+(z-\dfrac{\pi}{4})=0$，即 $x-y+2z=\dfrac{\pi}{2}$</p><p>法线方程 $\dfrac{x-1}{\dfrac{1}{2}}=\dfrac{y-1}{-\dfrac{1}{2}}=\dfrac{z-\dfrac{\pi}{4}}{1}$</p><h2 id="教材1-7-4-2"><a href="#教材1-7-4-2" class="headerlink" title="教材1.7.4(2)"></a>教材1.7.4(2)</h2><p>证明下列各题</p><p>$(2)$ 曲面 $\sqrt{x}+\sqrt{y}+\sqrt{z}=\sqrt{a}$ 的任意一点处的切平面在各坐标轴上的截距之和为 $a$ ；</p><hr><p>解：方程 $f(x,y,z)=\sqrt{x}+\sqrt{y}+\sqrt{z}-\sqrt{a}=0$ 在任意一点 $(x_0,y_0,z_0)$ 处的法向量为</p><script type="math/tex; mode=display">\vec{n}=(\dfrac{\partial f}{\partial x},\dfrac{\partial f}{\partial y},\dfrac{\partial f}{\partial z})=(\dfrac{1}{2\sqrt{x}},\dfrac{1}{2\sqrt{y}},\dfrac{1}{2\sqrt{z}})=(\dfrac{1}{2\sqrt{x_0}},\dfrac{1}{2\sqrt{y_0}},\dfrac{1}{2\sqrt{z_0}})</script><p>则其切平面方程 $\dfrac{x-x_0}{2\sqrt{x_0}}+\dfrac{y-y_0}{2\sqrt{y_0}}+\dfrac{z-z_0}{2\sqrt{z_0}}=0$，则在 $x,y,z$ 轴上的截距分别为</p><p>$x_{inter}=x_0+({\sqrt{y_0}+\sqrt{z_0}}) \sqrt{x_0},y_{inter}=y_0+({\sqrt{x_0}+\sqrt{z_0}}) \sqrt{y_0},z_{inter}=z_0+({\sqrt{x_0}+\sqrt{y_0}})\sqrt{z_0}$</p><p>从而 $x_{inter}+y_{inter}+z_{inter}=x_0+y_0+z_0+2(\sqrt{x_0y_0}+\sqrt{x_0z_0}+\sqrt{y_0z_0})=\sqrt{a}^2=a$</p><h1 id="large-textcolor-blue-微积分第六次作业-small-W-times-f-textcolor-blue-2022-4-5"><a href="#large-textcolor-blue-微积分第六次作业-small-W-times-f-textcolor-blue-2022-4-5" class="headerlink" title="$\large\textcolor{blue}{微积分第六次作业 \small(W\times f)}      _\textcolor{blue}{2022.4.5}$"></a>$\large\textcolor{blue}{微积分第六次作业 \small(W\times f)}      _\textcolor{blue}{2022.4.5}$</h1><h2 id="习题1-9-8"><a href="#习题1-9-8" class="headerlink" title="习题1.9.8"></a>习题1.9.8</h2><p>求函数 $u=x^{2}+2 y^{2}+z^{2}-2 x y-2 y z$ 在区域 $x^{2}+y^{2}+z^{2} \leqslant 4$ 内的最值.</p><hr><p>解：由 $u=(x-y)^2+(y-z)^2\geq 0$，当 $x=y=z=0$ 时能取到最小值 $0$</p><p>而若最大值在 $x^2+y^2+z^2=r^2&lt;4$ 时取到，为 $(x_0,y_0,z_0)$ 则线性扩大 $\dfrac{2}{r}$ 倍，$u$ 扩大 $\dfrac{4}{r^2}$ 倍</p><p>从而最大值在 $x^2+y^2+z^2=4$ 时取到，由拉格朗日乘子法</p><script type="math/tex; mode=display">f(x,y,z)=(x-y)^2+(y-z)^2+\lambda(x^2+y^2+z^2-4)</script><p>有 $\begin{cases}\dfrac{\partial f}{\partial x}=2(x-y)+2\lambda x=0\\\dfrac{\partial f}{\partial y}=-2(x-y)+2(y-z)+2\lambda y=0\\\dfrac{\partial f}{\partial z}=-2(y-z)+2\lambda z=0\end{cases}$，则有 $\lambda =\dfrac{y}{x}-1=\dfrac{y}{z}-1=\dfrac{x+z}{y}-2$</p><p>若 $y=0$，则 $\lambda=-1,x=-z$，代入 $u=x^2+z^2=4$</p><p>若 $y\neq 0$，得 $x=z,2x^2=xy+y^2$ $,x^2+y^2+z^2=2x^2+y^2=4=xy+2y^2,x=\dfrac{4}{y}-2y$</p><p>有方程 $4-y^2=2(\dfrac{4}{y}-2y)^2=\dfrac{32}{y^2}-32+8y^2\Longrightarrow 9y^4-36y^2+32=0,y^2=\dfrac{8}{3},\dfrac{4}{3}$</p><script type="math/tex; mode=display">u=2(x-y)^2=6(y^2-x^2)=6(-3y^2-\dfrac{16}{y^2}+16)</script><p>代入计算最大为 $6(-6-8+16)=12$ 此时 $y=\dfrac{2\sqrt{6}}{3},x=-\dfrac{\sqrt{6}}{3}=z$</p><p>综上所述，$u$ 在 $x^2+y^2+z^2\leq 4$ 的最小值为 $0$，最大值为 $12$</p><h2 id="习题1-9-9-2"><a href="#习题1-9-9-2" class="headerlink" title="习题1.9.9(2)"></a>习题1.9.9(2)</h2><p>求旋转抛物面 $z=x^{2}+y^{2}$ 与平面 $x+y-z=1$ 的最短距离;</p><hr><p>解：显然从几何上，固定旋转抛物面上的点，该点到平面 $x+y-z=1$ 的最小距离为垂线段</p><script type="math/tex; mode=display">d=\dfrac{|x_0+y_0-z_0-1|}{\sqrt{1^2+1^2+1^2}}=\dfrac{\sqrt{3}}{3}|x_0+y_0-z_0-1|=\dfrac{\sqrt{3}}{3}|x_0+y_0-x_0^2-y_0^2-1|</script><p>而由配方法 $x_0-x_0^2=-(x_0-\dfrac{1}{2})^2+\dfrac{1}{4}\leq \dfrac{1}{4}$，则 $x_0+y_0-x_0^2-y_0^2-1\leq -\dfrac{1}{2}$</p><p>从而取等时对应绝对值最小，则 $d_{\min }=\dfrac{\sqrt{3}}{6}$</p><h2 id="习题1-9-10-1"><a href="#习题1-9-10-1" class="headerlink" title="习题1.9.10(1)"></a>习题1.9.10(1)</h2><p>水渠的断面为等腰梯形, 在渠道表面抺上水泥, 当断面面积一定时, 梯形的上、下底及腰的长度比例为多少时, 所用水泥最省?</p><hr><p>解：显然所用水泥质量正比于 $C_{\mbox{trapesoid}}=l_1+2l_{\mbox{waist}}$</p><p>面积为定值 $S=\dfrac{1}{2}(l_1+l_2)\cdot h$，勾股定理 $l_{\mbox{waist}}=\sqrt{h^2+(\dfrac{l_2-l_1}{2})^2}$</p><script type="math/tex; mode=display">C=l_1+l_2+\sqrt{4h^2+(l_2-l_1)^2}=l_1+\sqrt{\dfrac{16S^2}{(l_1+l_2)^2}+(l_2-l_1)^2}</script><p>对 $l_2$ 求导得 $-\dfrac{32S^2}{(l_1+l_2)^3}+2(l_2-l_1)=0,8h^2=2(l_2-l_1)(l_1+l_2)$</p><p>即有 $h^2=\dfrac{1}{4}(l_2^2-l_1^2),l_{\mbox{waist}}=\dfrac{1}{2}\sqrt{(l_2-l_1)\cdot 2l_2},C=l_1+\sqrt{2l_2(l_2-l_1)}$</p><p>在约束条件 $16S^2=(l_2-l_1)(l_2+l_1)^3$ 下求 $C(l_1,l_2)=l_1+\sqrt{2l_2(l_2-l_1)}$ 的最小值</p><p>作拉格朗日函数 $f(l_1,l_2,\lambda )=l_1+\sqrt{2l_2(l_2-l_1)}+\lambda(l_2-l_1)(l_2+l_1)^3$，极值点对应</p><p>$\begin{cases}\dfrac{\partial f}{\partial l_1}=1+\dfrac{-2l_2}{2\sqrt{2l_2(l_2-l_1)}}+\lambda(l_2+l_1)^2(2l_2-4l_1)=0\\\dfrac{\partial f}{\partial l_2}=\dfrac{4l_2-2l_1}{2\sqrt{2l_2(l_2-l_1)}}+\lambda(l_2+l_1)^2(4l_2-2l_1)=0\end{cases}$</p><p>令 $\eta=\dfrac{l_2}{l_1}$ 有 $\dfrac{\sqrt{2\eta(\eta-1)}-\eta}{2\eta-1}=\dfrac{\eta-2}{2\eta-1}$，解得 $\eta=2$，代入 $l_1:l_2:l_{\mbox{waist}}=1:2:1$</p><h2 id="习题2-2-2-2"><a href="#习题2-2-2-2" class="headerlink" title="习题2.2.2(2)"></a>习题2.2.2(2)</h2><p>求下列函数的导函数。   $F(y)=\displaystyle \int_{a+y}^{b+y} \frac{\sin y x}{x} \mathrm{~d} x$;</p><hr><p>解：对 $F(y)=\displaystyle\int_{a+y}^{b+y}\dfrac{sin(yx)}{x}dx$，其对 $x$ 的导函数分为两部分，分类讨论</p><script type="math/tex; mode=display">F'(y)=\dfrac{sin(y(b+y))}{b+y}-\dfrac{sin(y(a+y))}{a+y}+\int_{a+y}^{b+y}cos(xy)dx</script><h2 id="习题2-2-5-1"><a href="#习题2-2-5-1" class="headerlink" title="习题2.2.5.(1)"></a>习题2.2.5.(1)</h2><p>$\displaystyle \int_{0}^{1} \frac{\arctan x}{x} \frac{1}{\sqrt{1-x^{2}}} \mathrm{~d} x\left(\right.$ 提示: $\displaystyle \frac{\arctan x}{x}=\int_{0}^{1} \frac{1}{1+x^{2} y^{2}} \mathrm{~d} y$ ）</p><hr><p>解：由提示变换 $\dfrac{\arctan x}{x}=\displaystyle\int_0^1\dfrac{1}{1+x^2y^2}dy$，化为二重积分得</p><script type="math/tex; mode=display">\int_0^1\dfrac{\arctan x}{x}\dfrac{1}{\sqrt{1-x^2}}dx=\int_0^1\displaystyle\int_0^1\dfrac{1}{1+x^2y^2}\dfrac{1}{\sqrt{1-x^2}}dxdy</script><p>代换 $x=\sin\varphi,\varphi\in[0,\dfrac{\pi}{2}]$，有 $\dfrac{1}{1+x^2y^2}\dfrac{1}{\sqrt{1-x^2}}dx=\dfrac{d\varphi}{1+y^2\sin^2\varphi}=\dfrac{\cos^2\varphi \cdot d(\tan \varphi)}{(1+y^2)\sin^2\varphi+\cos^2 \varphi}$</p><script type="math/tex; mode=display">\begin{gathered}\int_0^1\dfrac{\arctan x}{x}\dfrac{1}{\sqrt{1-x^2}}dx=\int_0^1(\int_0^{\frac{\pi}{2}}\dfrac{d(\tan \varphi)}{1+(1+y^2)\tan^2\varphi})dy=\\\int_0^1(\dfrac{\arctan (\sqrt{1+y^2}\tan \varphi)}{\sqrt{1+y^2}})\big |_0^{\frac{\pi}{2}}dy=\dfrac{\pi}{2}\int_0^1\dfrac{dy}{\sqrt{1+y^2}}=\\\dfrac{\pi}{2}\ln(y+\sqrt{1+y^2})\big |_0^1=\dfrac{\pi}{2}\ln(1+\sqrt{2})\end{gathered}</script><h2 id="习题2-3-1"><a href="#习题2-3-1" class="headerlink" title="习题2.3.1"></a>习题2.3.1</h2><p>计算下列积分.</p><p>$(1)$ $\displaystyle \int_{0}^{+\infty} \frac{\mathrm{e}^{-a x^{2}}-\mathrm{e}^{-b x^{2}}}{x} \mathrm{~d} x(a, b&gt;0)$;</p><p>$(3)$ $\displaystyle \int_{0}^{+\infty} \frac{\cos a x-\cos b x}{x^{2}} \mathrm{~d} x(a, b&gt;0)$</p><hr><p>解：$(1)$ 解：$\displaystyle \int_0^{+\infty}\dfrac{e^{-ax^2}-e^{-bx^2}}{x}dx=\int_0^{+\infty}\dfrac{1}{x}dx\int_a^bx^2e^{-x^2y}dy=\int_0^{+\infty}\int_a^bxe^{-x^2y}dxdy$</p><script type="math/tex; mode=display">\int_0^{+\infty}xe^{-x^2y}dx=\dfrac{1}{2}\int_0^{+\infty}e^{-x^2y}d(x^2)=-\dfrac{1}{2y}\cdot e^{-x^2y}\big |_0^{+\infty}=\dfrac{1}{2y}\\\int_0^{+\infty}\dfrac{e^{-ax^2}-e^{-bx^2}}{x}dx=\int_a^{b}\dfrac{1}{2y}dy=\dfrac{1}{2}\ln (\dfrac{b}{a})</script><p>$(3)$ $\displaystyle \int_0^{+\infty}\dfrac{\cos ax-\cos bx}{x^2}dx =-\int_0^{+\infty}\dfrac{1}{x^2}dx\int_b^{a}x\sin(xy)dy=\int_0^{+\infty}\int_a^b\dfrac{\sin (xy)}{x}dxdy$</p><script type="math/tex; mode=display">\mbox{set}\ \ t=xy\in[0,+\infty),\int_0^{+\infty}\dfrac{\sin (xy)}{x}dx=\int_0^{+\infty}\dfrac{y\sin t}{t}d(\dfrac{t}{y})=\int_0^{+\infty}\dfrac{\sin t}{t}dt=\dfrac{\pi}{2}</script><p>代入得 $\displaystyle \int_0^{+\infty}\dfrac{\cos ax-\cos bx}{x^2}dx=\int_a^b\dfrac{\pi}{2}dy=\dfrac{\pi}{2}(b-a)$</p><h2 id="习题2-1-4"><a href="#习题2-1-4" class="headerlink" title="习题2.1.4"></a>习题2.1.4</h2><p>讨论下列积分在所给区间上的一致收敛性.</p><p>$(2)$ $\displaystyle \int_{-\infty}^{+\infty} \frac{\cos y x}{1+x^{2}} \mathrm{~d} x(-\infty&lt;y&lt;+\infty)$;</p><p>$(9)$ $\displaystyle \int_{1}^{+\infty} x^{1-y} \mathrm{~d} x(0&lt;y&lt;+\infty)$;</p><p>$(10)$ $\displaystyle \int_{0}^{+\infty} \frac{\sin x^{2}}{x^{p}} \mathrm{~d} x(0 \leqslant p&lt;+\infty)$.</p><hr><p>解：$(2)$ 由 $|\dfrac{\cos yx}{1+x^2}|\leq \dfrac{1}{1+x^2}$，且有 $\displaystyle \int_{-\infty}^{+\infty}\dfrac{1}{1+x^2}dx=\arctan x\big |_{-\infty}^{+\infty}=\pi $</p><p>对于 $\displaystyle \int_{-\infty}^{+\infty}|\dfrac{\cos yx}{1+x^2}|dx=2\int_0^{+\infty}|\dfrac{\cos yx}{1+x^2}|dx$ 收敛，由柯西收敛准则</p><script type="math/tex; mode=display">\forall\  \epsilon >0,\exists\ A>0,s.t.\forall \ A_1>A_2>A,\int_{A_1}^{A_2}|\dfrac{\cos yx}{1+x^2}|dx<\epsilon</script><p>放缩绝对值有 $\forall  \epsilon &gt;0,\exists A&gt;0,s.t.\forall\displaystyle   A_1&gt;A_2&gt;A,|\int_{A_1}^{A_2}\dfrac{\cos yx}{1+x^2}dx|\leq \int_{A_1}^{A_2}|\dfrac{\cos yx}{1+x^2}|dx&lt;\epsilon$</p><p>由柯西收敛准则得原广义含参积分收敛</p><p>$(9)$ 当 $0&lt;y\leq 2$ 时 $x^{1-y}\geq x^{-1}=\dfrac{1}{x}$，则 </p><script type="math/tex; mode=display">\exists\ \epsilon_0=\ln 2,\forall \ A>1,s.t.\exists \ A_2>2A_1>A,\displaystyle \int _{A_1}^{A_2}x^{1-y}dx>\int_{A_1}^{A_2}\dfrac{1}{x}dx=\ln x\big |_{A_1}^{A_2}>\epsilon_0</script><p>此时广义含参积分不收敛；若当 $2&lt;y$ 时，直接计算有 $\dfrac{1}{2-y}\cdot (0-1)=\dfrac{1}{y-2}$ 收敛</p><p>$(10)$ 代换 $t=x^2\in [0,\infty)$，$\displaystyle \int_{0}^{+\infty}\dfrac{\sin x^2}{x^p}dx=\int_{0}^{+\infty}\dfrac{\sin t}{t^{\frac{p}{2}}}d(\sqrt{t})=\int_{0}^{+\infty}\dfrac{\sin t}{t^{\frac{p+1}{2}}}dt$</p><p>其中 $\alpha=\dfrac{p+1}{2}\geq \dfrac{1}{2},\displaystyle \int_{1}^{+\infty}\dfrac{\sin t}{t^{\alpha}}dt=\int_{1}^{+\infty}\dfrac{-d(\cos t)}{t^{\alpha }}=-\dfrac{\cos t}{t^{\alpha }}\big |_{1}^{+\infty}-\int_{1}^{+\infty}\dfrac{\alpha dt}{t^{\alpha+1}}$</p><p>$=\cos 1-\alpha \displaystyle \int_{1}^{+\infty}\dfrac{\cos t dt}{t^{\alpha +1}}$，而放缩 $\displaystyle \int_{1}^{+\infty}|\dfrac{\cos t}{t^{\alpha +1}}|dt\leq \int_{1}^{+\infty}\dfrac{dt}{t^{\alpha +1}}=\dfrac{1}{\alpha }$，后者绝对收敛</p><p>从而 $\displaystyle \int_{1}^{+\infty}\dfrac{\sin t}{t^{\alpha}}dt$ 一致收敛，只需考虑 $\displaystyle \int_{0}^{1}\dfrac{\sin t}{t^{\alpha}}dt$，这与 $\lim\limits_{t\to 0}\dfrac{\sin t }{t^{\alpha }}$ 的收敛性相同</p><p>当且仅当 $\alpha =\dfrac{p+1}{2}\leq 1$ 即 $0\leq p\leq 1$ 时原广义含参积分收敛，$1&lt;p$ 时不收敛</p><h1 id="large-textcolor-blue-微积分第七次作业-small-W-times-f-textcolor-blue-2022-4-24"><a href="#large-textcolor-blue-微积分第七次作业-small-W-times-f-textcolor-blue-2022-4-24" class="headerlink" title="$\large\textcolor{blue}{微积分第七次作业 \small(W\times f)}      _\textcolor{blue}{2022.4.24}$"></a>$\large\textcolor{blue}{微积分第七次作业 \small(W\times f)}      _\textcolor{blue}{2022.4.24}$</h1><h2 id="习题3-2-3"><a href="#习题3-2-3" class="headerlink" title="习题3.2.3"></a>习题3.2.3</h2><p>比较下列各组积分值的大小.</p><p>$(2)$ $\displaystyle \iint_{D} \ln (x+y) \mathrm{d} x \mathrm{~d} y ,\displaystyle \iint_{D} x y \mathrm{~d} x \mathrm{~d} y$, $D$ 由直线 $x=0, y=0, x+y=\dfrac{1}{2}$, $x+y=1$ </p><p>围成.</p><hr><p>解：去掉边界积分结果不变，由于 $x+y&lt; 1$，则 $\ln (x+y)&lt; 0$ 而 $xy&gt; 0$，且积分区域 $x,y&gt;0$</p><p>从而 $\ln(x+y)dxdy&lt;xydxdy$ 则 $\displaystyle \iint_{D} \ln (x+y) \mathrm{d} x \mathrm{~d} y&lt;\displaystyle \iint_{D} x y \mathrm{~d} x \mathrm{~d} y$</p><h2 id="习题3-3-6"><a href="#习题3-3-6" class="headerlink" title="习题3.3.6"></a>习题3.3.6</h2><p>计算下列二重积分.</p><p>$(1)$ $\displaystyle \iint_{D} x y^{2} \mathrm{~d} x \mathrm{~d} y, D=\left\{(x, y) \mid 4 x \geqslant y^{2}, x \leqslant 1\right\}$;</p><p>$(2)$ $\displaystyle \iint_{D} \frac{1}{\sqrt{2 a-x}} \mathrm{~d} x \mathrm{~d} y, D=\left\{(x, y) \mid(x-a)^{2}+(y-a)^{2} \leqslant 1,0 \leqslant x, y \leqslant a\right\}$;</p><p>$(4)$ $\displaystyle \iint_{D} x \cos (x y) \mathrm{d} x \mathrm{~d} y, D=\left\{(x, y) \mid x^{2}+y^{2} \leqslant R^{2}\right\}$;</p><p>$(9)$ $\displaystyle \iint_{D} y^{2} \mathrm{~d} x \mathrm{~d} y, D$ 由 $\left\{\begin{array}{l}x=a(t-\sin t), \ y=a(1-\cos t),\end{array} \quad 0 \leqslant t \leqslant 2 \pi\right.$ 以及 $x$ 轴围成;</p><hr><p>解：$(1)$ 积分区域图像如右 $\begin{cases}x\geq \dfrac{1}{4}y^2\\x\leq 1\end{cases}$                                           <img src="https://pic.imgdb.cn/item/6263ee9a239250f7c50284a2.jpg" style="zoom:1.8%;" /></p><script type="math/tex; mode=display">\displaystyle \iint_{D} x y^{2} \mathrm{~d} x \mathrm{~d} y=\int_{0}^1dx\int_{-2\sqrt{x}}^{2\sqrt{x}}xy^2dy=\int_0^1x\cdot \dfrac{2}{3}(2\sqrt{x})^3dx=\dfrac{16}{3}\int_0^1x^{\frac{5}{2}}dx=\dfrac{32}{21}</script><p>$(2)$ 积分区域 $\begin{cases}(x-a)^2+(y-a)^2\leq a^2\\0\leq x,y\leq a\end{cases}$ 图像如右                <img src="https://pic.imgdb.cn/item/6263e7c5239250f7c5f194bc.jpg" style="zoom:40%;" /></p><script type="math/tex; mode=display">\begin{gathered}\underset{D}{\iint}\dfrac{1}{\sqrt{2a-x}}dxdy=\int_0^{a}dx\int_{a-\sqrt{x(2a-x)}}^a\dfrac{1}{\sqrt{2a-x}}dy\\=\int_0^{a}\sqrt{x(2a-x)}\cdot \dfrac{1}{\sqrt{2a-x}}dx=\dfrac{2}{3}a^{\frac{3}{2}}\end{gathered}</script><p>$(4)$ 积分区域 $D:x^2+y^2\leq R^2$ 图像如右                                 <img src="https://pic.imgdb.cn/item/6263ef15239250f7c503b0f1.jpg" style="zoom:40%;" /></p><p>拆成两部分 $\displaystyle \underset{D}{\iint}x\cos (xy)dxdy=\underset{D \cap \{x|x\leq 0\}}{\iint}x\cos (xy)dxdy+\underset{D \cap \{x|x&gt;0\}}{\iint}x\cos (xy)dxdy$</p><p>对 $f(x,y)=x\cos (xy)$ 有 $f(x,y)=-f(-x,y)$ 为关于 $x$ 的奇函数，则 $\displaystyle \underset{D}{\iint}x\cos (xy)dxdy=0$</p><script type="math/tex; mode=display">\underset{D}{\iint}|\cos (x+y)|dxdy=\underset{D'}{\iint}|\cos (x+y)|\dfrac{D (x,y)}{D(v,u)}dvdu=\underset{D}{\iint}|\cos (x+y)|\begin{vmatrix}\dfrac{1}{2}&\dfrac{1}{2}\\{-}\dfrac{1}{2}&\dfrac{1}{2}\end{vmatrix}dudv\\=\dfrac{1}{2}\underset{D}{\iint}|\cos (x+y)|dvdu=\dfrac{1}{2}\cdot 4\int_0^{\pi}|\cos u|du\int_0^{u}dv=2\cdot 2\int_0^{\frac{\pi}{2}}ud(\sin u)=2\pi-4</script><p>$(9)$ 解：滚轮线 $\begin{cases}x=a(t-\sin t)\\y=a(1-\cos t)\end{cases} \small t\in[0,2\pi],\normalsize D\scriptsize:\normalsize \begin{cases}y\leq f(x)\\0\leq y\end{cases}$ 图像 <img src="https://pic.imgdb.cn/item/6263efe8239250f7c505f791.jpg" style="zoom:35%;" /></p><p>$\displaystyle\underset{D}{\iint}y^2dxdy=\int_0^{2\pi a} dx\int_{0}^{f(x)} y^2dy=\dfrac{1}{3}\int_0^{2\pi a} f(x)^3dx$，换成参数 $t$ 积分得</p><script type="math/tex; mode=display">\dfrac{1}{3}\int_0^{2\pi}    a^{4}(1-\cos t)^{3}d(t-\sin t)=\dfrac{a^4}{3}\int_0^{2\pi}(1-\cos t)^4dt=\dfrac{a^4}{3}\int_{-\pi}^{\pi}(1+\cos x)^4dx=\\\dfrac{a^4}{3}\int_{-\pi}^{\pi}(1+4\cos x+6\cos ^2x+4\cos ^3x+\cos^4x)dx=\dfrac{a^4}{3}\int_{-\pi}^{\pi}(1+6\cos ^2x+\cos^4x)dx\\=\dfrac{a^4}{3}(2\pi+\int_{-\pi}^{\pi}3(1+\cos 2x)dx+\int_{-\pi}^{\pi}\dfrac{(1+\cos 2x)^2}{4}dx=\dfrac{a^4}{3}(8\pi+\int_{-\pi}^\pi{\dfrac{1+\dfrac{1}{2}}{4}}dx+0)\\=\dfrac{a^4}{3}(8\pi+\dfrac{3\pi}{4})=\dfrac{35\pi}{12}a^4\ \ \ \ (答案有误，分母缺少3)</script><h2 id="习题3-3-12"><a href="#习题3-3-12" class="headerlink" title="习题3.3.12"></a>习题3.3.12</h2><p>$(3)$ $\displaystyle \iint_{D}(x+y) \mathrm{d} x \mathrm{~d} y, D$ 是由 $x^{2}+y^{2}=x+y$ 围成的平面区域</p><hr><p>解：该区域为一个圆 $(x-\dfrac{1}{2})^2+(y-\dfrac{1}{2})^2=(\dfrac{\sqrt{2}}{2})^2$ 换元 $\begin{cases}x=\dfrac{1}{2}+r\cos \theta\\y=\dfrac{1}{2}+r\sin \theta\end{cases}$</p><p>得到 $dxdy=rd\theta dr$ 计算有 $\displaystyle \iint _{D}(x+y)dxdy=\iint _{D}(1+r\cos \theta+r\sin \theta)rd\theta dr$</p><script type="math/tex; mode=display">\begin{gathered}\iint _{D}(1+r\cos \theta+r\sin \theta)rd\theta dr=\int_0^{\frac{\sqrt{2}}{2}}dr\int_{0}^{2 \pi}(1+r\cos \theta+r\sin \theta)\cdot rd\theta\\=\int_0^{\frac{\sqrt{2}}{2}}dr(2\pi+0+0)\cdot r=\pi r^2\big |_{0}^{\frac{\sqrt{2}}{2}}=\dfrac{\pi}{2}\end{gathered}</script><h2 id="习题3-3-16"><a href="#习题3-3-16" class="headerlink" title="习题3.3.16"></a>习题3.3.16</h2><p>设函数 $f(t)$ 连续, 证明：</p><p>$(2)$ $\displaystyle \iint_{|x|+|y| \leqslant 1} f(x y) \mathrm{d} x \mathrm{~d} y=\ln 2 \int_{1}^{2} f(t) \mathrm{d} t, D$ 是由 $x y=1, x y=2, y=x, y=4 x$ 所围成</p><p>第一象限的区域.</p><hr><p>解：代换 $xy=u,\dfrac{y}{x}=v$，逆变换 $x=\sqrt{\dfrac{u}{v}},y=\sqrt{uv}$ ，则雅克比行列式</p><script type="math/tex; mode=display">\dfrac{D(x,y)}{D(u,v)}=\begin{vmatrix}\dfrac{\partial x}{\partial u}&\dfrac{\partial x}{\partial v}\\\dfrac{\partial y}{\partial u}&\dfrac{\partial x}{\partial v}\end{vmatrix}=\begin{vmatrix}\dfrac{1}{2\sqrt{uv}}&-\dfrac{1}{2}\sqrt{\dfrac{u}{v^3}}\\\dfrac{1}{2}\sqrt{\dfrac{v}{u}}&\dfrac{1}{2}\sqrt{\dfrac{u}{v}}\end{vmatrix}=\dfrac{1}{2v}</script><p>原区域 $D:\begin{cases}1\leq xy\leq 2\\1\leq \dfrac{y}{x}\leq 4\end{cases}$ 变换后对应 $D’:\begin{cases}1\leq u\leq 2\\1\leq v\leq 4\end{cases}$ 图像如右   <img src="https://pic.imgdb.cn/item/6263f6fc239250f7c518191f.jpg" style="zoom:33%;" /></p><script type="math/tex; mode=display">\underset{D}{\iint}f(xy)dxdy=\underset{D'}{\iint}f(u)\cdot \dfrac{1}{2v}dudv=\int_1^2f(u)du\int_1^4\dfrac{dv}{2v}=\ln 2\int_1^2f(t)dt</script><h2 id="习题3-4-5"><a href="#习题3-4-5" class="headerlink" title="习题3.4.5"></a>习题3.4.5</h2><p>计算下列三重积分的值.</p><p>$(1)$ $\displaystyle \iiint_{\Omega} x y^{2} z^{3} \mathrm{~d} x \mathrm{~d} y \mathrm{~d} z, \Omega$ 是由马鞍面 $z=x y$ 与平面 $y=x, x=1, z=0$ 所围成空间区域;</p><p>$(3)$ $\displaystyle \iiint_{\Omega} x \cos (y+z) \mathrm{d} x \mathrm{~d} y \mathrm{~d} z, \Omega$ 是由曲面 $x=\sqrt{y}$ 与平面 $x=0, z=0, y+z$ $=\dfrac{\pi}{2}$ 围成区域;</p><hr><p>解：$(1)$ 从 $z=0$ 连续变化到 $z=1$，图中画出 $z=\dfrac{1}{2}$ 的情况      <img src="https://pic.imgdb.cn/item/6263f954239250f7c51dc060.jpg" style="zoom:33%;" /></p><p>对每个 $z$ 二重积分得到</p><script type="math/tex; mode=display">\begin{gathered}\displaystyle \iiint_{\Omega} x y^{2} z^{3} \mathrm{~d} x \mathrm{~d} y \mathrm{~d} z=\int_0^1dz\int_{\sqrt{z}}^1dx\int_{\frac{z}{x}}^xxy^2z^3dy=\int_0^1z^3dz\int_{\sqrt{z}}^1xdx\dfrac{y^3}{3}\big|_{\frac{z}{x}}^x\\=\dfrac{1}{3}\int_0^1z^3dz\int_{\sqrt{z}}^1xdx(x^3-\dfrac{z^3}{x^3})=\dfrac{1}{3}\int_0^1z^3dz(\dfrac{1}{5}x^5+\dfrac{z^3}{x})\big|_{\sqrt{z}}^1\\=\dfrac{1}{3}\int_0^1z^3(\dfrac{1}{5}-\dfrac{1}{5}z^{\frac{5}{2}}+z^3-z^{\frac{5}{2}})dz=\dfrac{1}{3}(\dfrac{1}{20}-\dfrac{6}{5}\cdot \dfrac{2}{13}+\dfrac{1}{7})=\dfrac{1}{364}\end{gathered}</script><p>$(3)$ 对 $z=0$ 连续变化到 $z=\dfrac{\pi}{2}$ ，图像如右                            <img src="https://pic.imgdb.cn/item/62649243239250f7c53a84e3.jpg" style="zoom:33%;" /></p><script type="math/tex; mode=display">\begin{gathered}\displaystyle \iiint_{\Omega} x \cos (y+z) \mathrm{d} x \mathrm{~d} y \mathrm{~d} z=\int_0^{\frac{\pi}{2}}dz\int_0^{\frac{\pi}{2}-z}dy\int_0^{\sqrt{y}}x\cos (y+z)dx\\=\dfrac{1}{2}\int_0^{\frac{\pi}{2}}dz\int_0^{\frac{\pi}{2}-z}dy\cdot y\cos (y+z)=\dfrac{1}{2}\int_0^{\frac{\pi}{2}}dz(y\sin (y+z)\big |_{0}^{\frac{\pi}{2}-z}-\int_0^{\frac{\pi}{2}-z}\sin (y+z)dy)\\=\dfrac{1}{2}\int_0^{\frac{\pi}{2}}dz((\dfrac{\pi}{2}-z)+\cos (y+z)\big |_{0}^{\frac{\pi}{2}-z})=\dfrac{1}{2}\int_0^{\frac{\pi}{2}}((\dfrac{\pi}{2}-z)-\cos z)dz\\=\dfrac{1}{2}(\dfrac{\pi^2}{4}-\dfrac{\pi^2}{8})-\dfrac{1}{2}=\dfrac{\pi^2-8}{16}\end{gathered}</script><h2 id="习题3-4-6"><a href="#习题3-4-6" class="headerlink" title="习题3.4.6"></a>习题3.4.6</h2><p>计算累次积分 $\displaystyle I=\int_{0}^{1} \mathrm{~d} x \int_{0}^{x} \mathrm{~d} y \int_{0}^{y} \frac{\cos z}{(1-z)^{2}} \mathrm{~d} z$ 的值.</p><hr><p>解：三维图形为三棱锥，图像如右（使用 $\mbox{meshlab}$ 绘图）  <img src="https://pic.imgdb.cn/item/62649b46239250f7c5468dff.jpg" style="zoom:20%;" /></p><p>在 $z=z_0$ 切面上由面积相似比等于高之比的平方 $\eta=(1-z)^2$，从而有</p><script type="math/tex; mode=display">\int_0^{1}dx\int_0^xdy\int_0^y\dfrac{\cos z}{(1-z)^2}dz=\int_0^1\dfrac{\cos z}{(1-z)^2}\cdot Sdz=\int_0^1\dfrac{\cos z}{(1-z)^2}\dfrac{1}{2}(1-z)^2dz=\dfrac{\sin 1}{2}</script><h2 id="习题3-4-7"><a href="#习题3-4-7" class="headerlink" title="习题3.4.7"></a>习题3.4.7</h2><p>计算下列三重积分的值.</p><p>$(4)$ $\displaystyle \iiint_{\Omega} x \mathrm{e}^{\frac{x^{2}+y^{2}+z^{2}}{a^{2}}} \mathrm{~d} x \mathrm{~d} y \mathrm{~d} z, \Omega=\left\{(x, y, z) \mid x^{2}+y^{2}+z^{2} \leqslant a^{2}, x, y, z \geqslant 0\right\}$</p><hr><p>解：使用球坐标 $(x,y,z)=(r,\theta,\varphi)$ 有 $dxdydz=r^2\sin \theta dr d\theta d\varphi$ 计算积分有 </p><script type="math/tex; mode=display">\begin{gathered}\displaystyle \iiint_{\Omega} x \mathrm{e}^{\frac{x^{2}+y^{2}+z^{2}}{a^{2}}} \mathrm{~d} x \mathrm{~d} y \mathrm{~d} z=\displaystyle \iiint_{\Omega} r\sin \theta\sin \varphi e^{\frac{r^2}{a^2}}r^2\sin \theta  dr d\theta d\varphi\\= \int_{0}^{\frac{\pi}{2}}\dfrac{1-\cos 2\theta}{2} d\theta \int_{0}^{a}r^{3}e^{\frac{r^2}{a^2}}dr=\int_0^{a^2}\dfrac{\pi}{8}te^{\frac{t}{a^2}}dt=\dfrac{\pi}{8}(a^2t-a^4)e^{\frac{t}{a^2}}\big |_{0}^{a^2}=\dfrac{ \pi a^4}{8}\end{gathered}</script><h2 id="习题3-4-10"><a href="#习题3-4-10" class="headerlink" title="习题3.4.10"></a>习题3.4.10</h2><p> $f(t)$ 在  $(-\infty,+\infty)$ 连续, $f(t)=3\displaystyle  \iiint_{x^{2}+y^{2}+z^{2} \leqslant t^{2}} f\left(\sqrt{x^{2}+y^{2}+z^{2}}\right) \mathrm{d} x \mathrm{~d} y \mathrm{~d} z+$ $\left|t^{3}\right|$, 求 $f(t)$</p><hr><p>解：积分区域为球体 $x^2+y^2+z^2\leq t^2$，换取球坐标 $(x,y,z)\longrightarrow(\rho,\theta,\varphi)$，有体积元变换 </p><script type="math/tex; mode=display">dxdydz=\rho^2\sin \theta d\rho d\theta d\varphi</script><script type="math/tex; mode=display">f(t)=3\int_0^{2\pi}\int_0^{\pi}\int_0^tf(\rho)\rho^2\sin \theta d\rho d\theta d\varphi+|t^3|\\=3\cdot2\cdot2\pi\int_0^tf(\rho)\rho^2d\rho+|t^3|=12\pi\int_0^tf(\rho)\rho^2d\rho+|t^3|</script><p>两边对 $t$ 求导得</p><script type="math/tex; mode=display">f'(t)=12\pi t^2 f(t)+\mbox{sign}(t)\cdot 3t^2,\mbox{where}\ \mbox{sign}(x)=\begin{cases}1,x>0\\0,x=0\\-1,x<0\end{cases}</script><p>其特解与 $t$ 的符号有关 $\begin{cases}t&gt;0,f_0=-\dfrac{1}{4\pi}\\t&lt;0,f_0=\dfrac{1}{4\pi}\end{cases}$，其通解满足方程</p><script type="math/tex; mode=display">\dfrac{df}{dt}=12\pi t^2f\Longrightarrow \int\dfrac{df}{f}=\int12\pi t^2dt\ ,\ \ln f=4\pi t^3+C \ \therefore f(t)=\begin{cases}C_1e^{4\pi t^3}-\dfrac{1}{4\pi},t>0\\C_2e^{4\pi t^3}+\dfrac{1}{4\pi},t<0\end{cases}</script><p>由 $f(t)$ 在 $(-\infty,+\infty)$ 连续得 $C_1-\dfrac{1}{4\pi}=C_2+\dfrac{1}{4\pi}$，有 $C_1=C_2+\dfrac{1}{2\pi}$，对 $t&gt;0$ 代入原积分</p><script type="math/tex; mode=display">\begin{gathered}f(t)=C_1e^{4\pi t^2}-\dfrac{1}{4\pi}=12\pi\int_0^t(C_1e^{4\pi \rho^3}-\dfrac{1}{4\pi})\rho^2d\rho+t^3\\=\int_0^tC_1e^{4\pi\rho^3}d(4\pi \rho^3)+0=C_1(e^{4\pi t^2}-1)\end{gathered}</script><p>比对得  $C_1=\dfrac{1}{4\pi}$，$C_2=-\dfrac{1}{4\pi}$，从而 $f(t)=\dfrac{|e^{4\pi t^3}-1|}{4\pi}$</p><h2 id="习题3-5-1"><a href="#习题3-5-1" class="headerlink" title="习题3.5.1"></a>习题3.5.1</h2><p>求下列曲面的面积.</p><p>$(2)$ 锥面 $z=\sqrt{x^{2}+y^{2}}$ 在柱面 $z^{2}=2 x$ 内的部分;</p><hr><p>解：$z=\sqrt{x^2+y^2}$ 和 $z^2=2x$ 在 $y=0$ 处截图如下  <img src="https://pic.imgdb.cn/item/62651620239250f7c56a0d11.jpg" style="zoom:30%;" /></p><p>取柱坐标 $(x,y,z)\longmapsto(\rho,\theta,z)$ 则锥面 $z=\rho,z^2=2\rho \cos \theta$ 其要求 $\rho \leq 2\cos \theta$ 为圆</p><p>$\sqrt{1+\left(\dfrac{\partial z}{\partial x}\right)^{2}+\left(\dfrac{\partial z}{\partial y}\right)^{2}}=\sqrt{2}$  则 $S=\displaystyle \iint_D\sqrt{2}dxdy=\sqrt{2}\cdot S_{圆}=\sqrt{2}\pi$</p><h2 id="习题3-5-2"><a href="#习题3-5-2" class="headerlink" title="习题3.5.2"></a>习题3.5.2</h2><p>求下列曲面所包围的均匀物体的质心.</p><p>$(3)$ $z=4-x^{2}(x \geqslant 0), x=0, y=0, z=0, y=6$.</p><hr><p>解：由对称性该物体的质心 $y$ 坐标为 $3$ ，且质心的 $x,z$ 坐标与平面内抛物三角形相同</p><script type="math/tex; mode=display">x_c=\dfrac{\displaystyle \int_0^2x(4-x^2)dx}{\displaystyle \int_0^2(4-x^2)dx}=\dfrac{4}{\frac{16}{3}}=\dfrac{3}{4},z_c=\dfrac{\displaystyle \int_0^2\dfrac{4-x^2}{2}(4-x^2)dx}{\displaystyle \int_0^2(4-x^2)dx}=\dfrac{\frac{128}{15}}{\frac{16}{3}}=\dfrac{8}{5}</script><p>则质心坐标为 $(\dfrac{3}{4},3,\dfrac{8}{5})$</p><h2 id="习题4-2-1"><a href="#习题4-2-1" class="headerlink" title="习题4.2.1"></a>习题4.2.1</h2><p>计算下列曲线积分.</p><p>$(4)$ $\displaystyle \int_{L}\left(x^{\frac{4}{3}}+y^{\frac{4}{3}}\right) \mathrm{d} l$, 其中 $L$ 为星形线 $\left\{\begin{array}{l}x=a \cos ^{3} t, \ y=a \sin ^{3} t,\end{array} \quad 0 \leqslant t \leqslant 2 \pi\right.$.</p><hr><p>解：由曲线微元 $dl=\sqrt{dx^2+dy^2}=3a|\cos t\sin t|$ 代入有 </p><script type="math/tex; mode=display">\begin{gathered}\int_{L}(x^{\frac{4}{3}}+y^{\frac{4}{3}})3a|\cos t\sin t |dt=3\int_0^{2\pi}a^{\frac{7}{3}}(\cos^4 t+\sin ^4 t)|\cos t\sin t|dt\\=12a^{\frac{7}{3}}\int_0^{\frac{\pi}{2}}(1-\dfrac{1}{4}\sin^2 2t)\dfrac{1}{2}\sin 2tdt=12a^{\frac{7}{3}}(\dfrac{1}{2}-\int_0^{\frac{\pi}{2}}\dfrac{1}{8}(1-\cos 4t )\sin 2tdt)\\=12a^{\frac{7}{3}}(\dfrac{3}{8}-\dfrac{1}{8}\int_0^{\frac{\pi}{2}}\dfrac{\sin 6t-\sin 2t}{2}dt=12a^{\frac{7}{3}}(\dfrac{3}{8}-\dfrac{1}{8}(-\dfrac{1}{12}\cos 6t+\dfrac{1}{4}\cos 2t)\big |_0^{\frac{\pi}{2}})\\=12a^{\frac{7}{3}}(\dfrac{3}{8}-\dfrac{1}{8}(\dfrac{1}{6}-\dfrac{1}{2}))=4a^{\frac{7}{3}}\end{gathered}</script><h2 id="习题4-2-2"><a href="#习题4-2-2" class="headerlink" title="习题4.2.2"></a>习题4.2.2</h2><p>计算下列曲线积分.</p><p>$(4)$ $\displaystyle \int_{L} x \mathrm{~d} l$, 其中 $L$ 为球面 $x^{2}+y^{2}+z^{2}=4$ 在第一象限部分的边界.</p><hr><p>解：由题设求和即为 $y=\sqrt{4-x^2}$ 位于 $xy$ 象限和 $xz$ 象限的部分，有 $\begin{cases}x=2\cos \theta\\y=2\sin \theta\end{cases},\theta\in [0,\dfrac{\pi}{2}]$</p><script type="math/tex; mode=display">\int_{L}xdl=2\cdot \int_0^{\frac{\pi}{2}}2\cos \theta\cdot 2d\theta=2\cdot 4=8</script><h2 id="习题4-3-3"><a href="#习题4-3-3" class="headerlink" title="习题4.3.3"></a>习题4.3.3</h2><p>求抛物面 $2 z=x^{2}+y^{2}$ 在 $z \in[0,1]$ 部分的质量, 其中质量面密度为 $\sigma=z$.</p><hr><p>解：由面积微元，<script type="math/tex">\sqrt{1+\left(\dfrac{\partial z}{\partial x}\right)^{2}+\left(\dfrac{\partial z}{\partial y}\right)^{2}}=\sqrt{1+x^2+y^2}</script> 代入质量面密度</p><script type="math/tex; mode=display">\begin{gathered}m=\iint \sqrt{1+x^2+y^2}\cdot zdxdy=\int_{0}^{2\pi}d\theta\int_0^{\sqrt{2}}\sqrt{1+r^2}\dfrac{r^2}{2}rdr\\=\dfrac{\pi}{2}\int_0^{\sqrt{2}}r^{2}\sqrt{1+r^2}d(r^2)=\dfrac{\pi}{2}\int_0^2t\sqrt{1+t}dt=\dfrac{\pi}{2}(\dfrac{2}{3}t(1+t)^{\frac{3}{2}}-\dfrac{4}{15}(1+t)^{\frac{5}{2}})\big|_0^{2}\\=\dfrac{\pi}{2}(\dfrac{4}{3}\cdot 3\sqrt{3}-\dfrac{4}{15}(9\sqrt{3}-1))=\dfrac{(12\sqrt{3}+2)\pi}{15}\end{gathered}</script><h2 id="习题4-3-11"><a href="#习题4-3-11" class="headerlink" title="习题4.3.11"></a>习题4.3.11</h2><p>证明: ($\mbox{Poisson}$ 公式) $\displaystyle \iint_{S} f(a x+b y+c z) \mathrm{d} S=2 \pi \int_{-1}^{1} f\left(\sqrt{a^{2}+b^{2}+c^{2}} t\right) \mathrm{d} t$, 其中 </p><p>$S=\left\{(x, y, z) \mid x^{2}+y^{2}+z^{2}=1\right\}, f$ 是连续函数.</p><hr><p>证明：对球面的面积微元 $z=\pm \sqrt{1-x^2-y^2}$  $\sqrt{1+\left(\dfrac{\partial z}{\partial x}\right)^{2}+\left(\dfrac{\partial z}{\partial y}\right)^{2}}=\dfrac{1}{\sqrt{1-x^2-y^2}}$</p><p>由球面的对称性，旋转球面的基向量到 $\dfrac{1}{\sqrt{a^2+b^2+c^2}}$ 方向，积分结果为定值</p><script type="math/tex; mode=display">\begin{gathered}\displaystyle \iint_{S} f(a x+b y+c z) \mathrm{d} S=\iint_{S} f(\sqrt{a^2+b^2+c^2}z) \mathrm{d} S=2\iint_{S_{xy}}\dfrac{f(\sqrt{a^2+b^2+c^2}z)}{\sqrt{1-x^2-y^2}}dxdy\\=2\int_0^{2\pi}d\theta\int_0^{1}\dfrac{f(\sqrt{a^2+b^2+c^2}\sqrt{1-r^2})}{\sqrt{1-r^2}}rdr\\=4\pi\int_{0}^{1}f(\sqrt{a^2+b^2+c^2}\sqrt{1-r^2})d(\sqrt{1-r^2})=2 \pi \int_{-1}^{1} f\left(\sqrt{a^{2}+b^{2}+c^{2}} t\right) \mathrm{d} t\end{gathered}</script><h1 id="large-textcolor-blue-微积分第八次作业-small-W-times-f-textcolor-blue-2022-5-15"><a href="#large-textcolor-blue-微积分第八次作业-small-W-times-f-textcolor-blue-2022-5-15" class="headerlink" title="$\large\textcolor{blue}{微积分第八次作业 \small(W\times f)}      _\textcolor{blue}{2022.5.15}$"></a>$\large\textcolor{blue}{微积分第八次作业 \small(W\times f)}      _\textcolor{blue}{2022.5.15}$</h1><h2 id="习题4-5-3"><a href="#习题4-5-3" class="headerlink" title="习题4.5.3"></a>习题4.5.3</h2><p>$(5)$ $\displaystyle \iint_{S^{+}} z^{2} \mathrm{~d} x \wedge \mathrm{d} y$, 其中 $S^{+}$是 $z=\sqrt{R^{2}-x^{2}-y^{2}}$ 被柱面 $x^{2}+y^{2}=R x$ 所截部分的上侧.</p><hr><p>解：原积分化为二重积分，代入条件 $z^2=R^2-x^2-y^2$ </p><script type="math/tex; mode=display">\begin{gathered}\displaystyle \iint_{S^{+}} z^{2} \mathrm{~d} x \wedge \mathrm{d} y=\iint_{D}(R^2-x^2-y^2)dxdy=2\pi \int_{0}^{\frac{R}{2}}(R^2-(\dfrac{R}{2}+r\cos \varphi)^2-(\dfrac{R}{2}+r\sin \varphi)^2)rdr\\2\pi \int_{0}^{\frac{R}{2}}(\dfrac{3}{4}R^2-r^2)rdr=2\pi(\dfrac{3}{32}-\dfrac{1}{4}\cdot \dfrac{1}{16})R^4=\dfrac{5\pi}{32}R^4\end{gathered}</script><h2 id="习题4-5-5"><a href="#习题4-5-5" class="headerlink" title="习题4.5.5"></a>习题4.5.5</h2><p>求流速场 $\boldsymbol{V}=x y \boldsymbol{i}+y z \boldsymbol{j}+z x \boldsymbol{k}$ 由里往外穿过球面 $x^{2}+y^{2}+z^{2}=1$ 在第一象限部分的流量.</p><hr><p>解：记平面区域 $D$ 为圆心在原点，半径为 $1$ 的圆在第一象限的部分，由对称性有</p><script type="math/tex; mode=display">Q=\iint_{D} x y \mathrm{~d} y \wedge \mathrm{d} z+y z \mathrm{~d} z \wedge \mathrm{d} x+z x \mathrm{~d} x \wedge \mathrm{d} y=3 \iint_{D} z x \mathrm{~d} x \wedge \mathrm{d} y=3\iint_{D}\sqrt{1-x^2-y^2}xdxdy</script><p>化为极坐标进行积分（中间使用三角换元）有</p><script type="math/tex; mode=display">Q=3\iint_{D}\sqrt{1-r^2}r\cos \varphi rdrd\varphi=3\int_{0}^{\frac{\pi}{2}}\cos \varphi d\varphi \int_0^1\sqrt{1-r^2}r^2dr=3\int_{0}^{\frac{\pi}{2}}\sin ^2\theta \cos ^2\theta d\theta=\dfrac{3\pi}{16}</script><h2 id="习题4-5-7"><a href="#习题4-5-7" class="headerlink" title="习题4.5.7"></a>习题4.5.7</h2><p>$\displaystyle \iint_{S^{+}}\left(x^{2}+y^{2}\right) \mathrm{d} x \wedge \mathrm{d} y+y^{2} \mathrm{~d} y \wedge \mathrm{d} z+z^{2} \mathrm{~d} z \wedge \mathrm{d} x$, 其中 $S$ 是螺旋面 $x=$ $u \cos v, y=u \sin v, z=a v$ 在</p><script type="math/tex; mode=display">D_{u v}=\{(u, v) \mid 0 \leqslant u \leqslant 1,0 \leqslant v \leqslant 2 \pi\}</script><p>的部分, 上侧为正.</p><hr><p>解：代入微分式，$\mathrm{d} x \mathrm{~d} y=u \mathrm{~d} u \mathrm{~d} v, \mathrm{~d} y \mathrm{~d} z=a \sin v \mathrm{~d} u \mathrm{~d} v, \mathrm{~d} z \mathrm{~d} x=-a \cos v \mathrm{~d} u \mathrm{~d} v$ 化为二重积分</p><script type="math/tex; mode=display">\begin{gathered}\iint_{S^{+}}\left(x^{2}+y^{2}\right) \mathrm{d} x \wedge \mathrm{d} y+y^{2} \mathrm{~d} y \wedge \mathrm{d} z+z^{2} \mathrm{~d} z \wedge \mathrm{d} x=\iint_{D uv}\left(u^{3}+a u^{2} \sin ^{3} v-a^{3} v^{2} \cos v\right) \mathrm{d} u \mathrm{~d} v\\=\iint_{D_{uv}}(u^3-a^3v^2\cos v)\mathrm{d} u \mathrm{~d} v+0=\int_0^1u^3\mathrm{d} u \int_0^{2\pi}\mathrm{~d} v-a^3\int_0^{2\pi}v^2\cos v\mathrm{~d} v=\dfrac{\pi}{2}-4\pi a^3\end{gathered}</script><h2 id="习题4-7-2"><a href="#习题4-7-2" class="headerlink" title="习题4.7.2"></a>习题4.7.2</h2><p>计算曲面积分 $\displaystyle {\int\kern{-8pt}\int \kern{-23mu} \bigcirc}_{S^{+}} \frac{x \mathrm{~d} y \wedge \mathrm{d} z+y \mathrm{~d} z \wedge \mathrm{d} x+z \mathrm{~d} x \wedge \mathrm{d} y}{\left(x^{2}+y^{2}+z^{2}\right)^{\frac{3}{2}}}$, 其中 $S^{+}$为:</p><p>$(1)$ 不包含也不经过原点的半径为 $R$ 的球面外侧;</p><p>$(2)$ 不包含也不经过原点的任意封闭曲面的外侧;</p><p>$(3)$ 球面 $x^{2}+y^{2}+z^{2}=\varepsilon^{2}(\varepsilon&gt;0)$;</p><p>$(4)$ 包含原点在其内部的任意封闭曲面的外侧.</p><hr><p>解：$(1)$ 令 $r=\sqrt{x^2+y^2+z^2}$ 有 $\boldsymbol V=(\dfrac{x}{r^3},\dfrac{y}{r^3},\dfrac{z}{r^3})$ 且由高斯公式 </p><script type="math/tex; mode=display">\displaystyle \iint_{\partial \Omega^{+}} \boldsymbol{V} \cdot \mathrm{d} \boldsymbol{S}=\iiint_{\Omega}\left(\frac{\partial X}{\partial x}+\frac{\partial Y}{\partial y}+\frac{\partial Z}{\partial z}\right) \mathrm{d} x \mathrm{~d} y \mathrm{~d} z=\iiint_{\Omega}\left(\dfrac{3r^2-3x^2-3y^2-3z^2}{r^5}\right) \mathrm{d} x \mathrm{~d} y \mathrm{~d} z</script><p>可得，无论是否为球面，只要不包含原点，积分结果为 $0$</p><p>$(2)$ 由上问知，积分结果为 $0$</p><p>$(3)$ 直接化为二重积分，注意球面上下积分贡献为 $2$ 倍</p><script type="math/tex; mode=display">\displaystyle I=\frac{3}{\epsilon^{3}} {\int\kern{-8pt}\int \kern{-23mu} \bigcirc}_{S^{+}} z \mathrm{~d} x \wedge \mathrm{d} y=\frac{3}{\epsilon^{3}} \cdot 2\int_{0}^{\frac{\pi}{2}} \int_{0}^{2 \pi} \epsilon^{3} \sin \theta \cos ^{2} \theta \mathrm{d} \varphi \mathrm{d} \theta=4 \pi</script><p>$(4)$ 取两个封闭曲面，一个为以原点为圆心的球，此球总能完全属于该封闭曲面，另一个封闭曲面挖掉洞</p><p>$I=0+4\pi=4\pi$，这与静电场点电荷对应的高斯定理 $\displaystyle 4\pi KQ_{in}={\int\kern{-8pt}\int \kern{-23mu} \bigcirc}\boldsymbol{E}\cdot dS$ 等价</p><h2 id="习题4-7-5"><a href="#习题4-7-5" class="headerlink" title="习题4.7.5"></a>习题4.7.5</h2><p>利用 $\mbox{Stokes}$ 公式计算下列积分.</p><p>$(1)$ $\displaystyle \oint_{L^{+}} y \mathrm{~d} x+z \mathrm{~d} y+x \mathrm{~d} z$, 其中 $L$ 是球面 $x^{2}+y^{2}+z^{2}=R^{2}$ 与平面 $x+y+$ $z=0$ 的交线, 从 $z$ 轴正向</p><p>看上去为逆时针方向;</p><hr><p>解：由 $\mbox{Stokes}$ 公式计算将曲线积分化成二重积分结合椭圆面积二次型知识有</p><script type="math/tex; mode=display">\begin{gathered}I=-3 \iint_{D} 1 \mathrm{~d} x \mathrm{~d} y=-3 \cdot\left(\pi ab\right)\quad 2x^2+2y^2+2xy=R^2\Longrightarrow \lambda_{1,2}=3,1,a=1,b=\dfrac{1}{\sqrt{3}}\\\therefore I =-\sqrt{3} \pi R^{2}\end{gathered}</script><h2 id="第四章总复习题-7"><a href="#第四章总复习题-7" class="headerlink" title="第四章总复习题 7"></a>第四章总复习题 7</h2><p>证明: 由闭曲面 $S$ 包围的空间体的体积为 $V=\displaystyle \frac{1}{3} {\int\kern{-8pt}\int \kern{-23mu} \bigcirc}_{S}(x \cos \alpha+y \cos \beta+$ $z \cos \gamma) \mathrm{d} S$, 其中 </p><p>$\boldsymbol{n}=(\cos \alpha, \cos \beta, \cos \gamma)$ 为 $S$ 的单位外法向量.</p><hr><p>解：由高斯公式可得</p><script type="math/tex; mode=display">\displaystyle V=\iiint_D\mathrm dx\mathrm dy\mathrm dz=\dfrac{1}{3}\iint_Sx\mathrm dy\wedge\mathrm dz+y\mathrm dz\wedge\mathrm dx+z\mathrm dx\wedge\mathrm dy=\frac{1}{3}{\int\kern{-8pt}\int \kern{-23mu} \bigcirc}_S(x\cos\alpha+y\cos\beta+z\cos\gamma)\mathrm dS</script><h2 id="第四章总复习题-10"><a href="#第四章总复习题-10" class="headerlink" title="第四章总复习题 10"></a>第四章总复习题 10</h2><p>设 $u$ 为有界开集 $\Omega \subset \mathbb{R}^{3}$ 上的调和函数即 $\displaystyle \left(\Delta u \equiv \frac{\partial^{2} u}{\partial x^{2}}+\frac{\partial^{2} u}{\partial y^{2}}+\frac{\partial^{2} u}{\partial z^{2}}=0\right)$, 证明:</p><p>$(1)$ $\displaystyle u\left(\boldsymbol{r}_{0}\right)=\frac{1}{4 \pi} \iint_{\partial \Omega}\left(u \frac{\cos \langle\boldsymbol{r}, \boldsymbol{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial \boldsymbol{n}}\right) \mathrm{d} S$, 其中 $\boldsymbol{r}_{0}$ 为 $\Omega$ 内任意一点, $\boldsymbol{r}$ 为 $\boldsymbol{r}_{0}$ 到 $\partial \Omega$ 上点的向量, </p><p>$r=|\boldsymbol{r}|, \boldsymbol{n}$ 为 $\Omega$ 的单位外法向;</p><p>$(2)$ $\displaystyle \iint_{\partial \Omega}\left(\frac{1}{r} \frac{\partial u}{\partial \boldsymbol{n}}-u \frac{\partial \frac{1}{r}}{\partial \boldsymbol{n}}\right) \mathrm{d} S=\iint_{\partial \Omega_{0}}\left(\frac{1}{r} \frac{\partial u}{\partial \boldsymbol{n}}-u \frac{\partial \frac{1}{r}}{\partial \boldsymbol{n}}\right) \mathrm{d} S$,</p><p>其中 $\boldsymbol{M}\left(x_{0}, y_{0}, z_{0}\right) \in \Omega, \Omega_{0}=B(\boldsymbol{M}, \rho) \subset \Omega, \boldsymbol{r}=\left(x-x_{0}\right) \boldsymbol{i}+\left(y-y_{0}\right) \boldsymbol{j}+(z-$ $\left.z_{0}\right) \boldsymbol{k}, r=|\boldsymbol{r}|$.</p><hr><p>证明：$(1)$ 由于 $\dfrac{\partial }{\partial x}(\dfrac{1}{r})=-\dfrac{x-x_0}{r^3}$，$\dfrac{\partial^2}{\partial x^2}(\dfrac{1}{r})=\dfrac{3(x-x_0)^2-r^2}{r^5}$ 可以得到</p><p>$\Delta(\dfrac{1}{r})=\dfrac{3(x-x_0)^2+3(y-y_0)^2+3(z-z_0)^2-3r^2}{r^5}=0$ 取 $\Omega$ 内部的一个以 $\boldsymbol r_0$ 为球心，$\epsilon&gt;0$ 为半径</p><p>的小球，球面记为$S_{\epsilon}$. $S_{\epsilon}$和$\Omega$围成的区域记为$D$. 将表达式化为梯度形式（其中 $\nabla(\dfrac{1}{r})=-\dfrac{\boldsymbol{r}}{r^3}$）</p><script type="math/tex; mode=display">u \frac{\cos \langle\mathbf{r}, \mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial \mathbf{n}}=u \frac{\mathbf{r}}{r^{3}} \cdot \mathbf{n}+\frac{1}{r} \nabla u \cdot \mathbf{n}=\left(\frac{1}{r} \nabla u-u \nabla\left(\frac{1}{r}\right)\right) \cdot \mathbf{n}</script><p>从而利用 $\mbox{Guass}$ 公式对不包含该瑕点 $\boldsymbol{r}_0$ 的区域 $D$ 有（<strong>从而证明了 $(2)$ 问 </strong>）</p><script type="math/tex; mode=display">\begin{gathered}\iint_{\partial \Omega}\left(u \frac{\cos \langle\mathbf{r}, \mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial \mathbf{n}}\right) \mathrm{d} S-\iint_{S_{\epsilon}}\left(u \frac{\cos \langle\mathbf{r}, \mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial \mathbf{n}}\right) \mathrm{d} S \\=\iiint_{D}\left(\frac{1}{r} \Delta u-u \Delta\left(\frac{1}{r}\right)\right) \mathrm{d} x \mathrm{~d} y \mathrm{~d} z=0\end{gathered}</script><p>从而转换为求 $S_{\epsilon}$ 上的积分问题</p><script type="math/tex; mode=display">\begin{gathered}\iint_{\partial \Omega}\left(u \frac{\cos \langle\mathbf{r}, \mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial \mathbf{n}}\right) \mathrm{d} S =\iint_{S_{\epsilon}}\left(u \frac{\cos \langle\mathbf{r}, \mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial \mathbf{n}}\right) \mathrm{d} S =\iint_{S_{\epsilon}} \frac{u}{\epsilon^{2}} \mathrm{~d} S+\frac{1}{\epsilon} \iint_{S_{\epsilon}} \frac{\partial u}{\partial \mathbf{n}} \mathrm{d} S \\=4 \pi u\left(r_{1}\right)+\frac{1}{\epsilon} \iint_{S_{\epsilon}} \nabla u \cdot \mathbf{n d} S=4 \pi u\left(r_{1}\right)+\frac{1}{\epsilon} \iiint_{B_{\epsilon}} \Delta u \mathrm{~d} x \mathrm{~d} y \mathrm{~d} z=4 \pi u\left(r_{1}\right)\end{gathered}</script><p>$(2)$ 由上问知，$\displaystyle \iint_{\partial \Omega}\left(u \frac{\cos \langle\mathbf{r}, \mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial \mathbf{n}}\right) \mathrm{d} S-\iint_{S_{\epsilon}}\left(u \frac{\cos \langle\mathbf{r}, \mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial \mathbf{n}}\right) \mathrm{d} S =0$ 从而</p><script type="math/tex; mode=display">\displaystyle \iint_{\partial \Omega}\left(\frac{1}{r} \frac{\partial u}{\partial \boldsymbol{n}}-u \frac{\partial \frac{1}{r}}{\partial \boldsymbol{n}}\right) \mathrm{d} S=\iint_{\partial \Omega_{0}}\left(\frac{1}{r} \frac{\partial u}{\partial \boldsymbol{n}}-u \frac{\partial \frac{1}{r}}{\partial \boldsymbol{n}}\right) \mathrm{d} S</script><h1 id="large-textcolor-blue-微积分第九次作业-small-W-times-f-textcolor-blue-2022-5-6"><a href="#large-textcolor-blue-微积分第九次作业-small-W-times-f-textcolor-blue-2022-5-6" class="headerlink" title="$\large\textcolor{blue}{微积分第九次作业 \small(W\times f)}      _\textcolor{blue}{2022.5.6}$"></a>$\large\textcolor{blue}{微积分第九次作业 \small(W\times f)}      _\textcolor{blue}{2022.5.6}$</h1><h2 id="习题4-4-2"><a href="#习题4-4-2" class="headerlink" title="习题4.4.2"></a>习题4.4.2</h2><p>计算下列第二类曲线积分.</p><p>$(2)$ $\displaystyle \oint_{L^{+}} \dfrac{(x+y) \mathrm{d} x+(y-x) \mathrm{d} y}{x^{2}+y^{2}}$, 其中 $L^{+}$是 $x^{2}+y^{2}=a^{2}$, 逆时针为正向;</p><p>$(3)$ $\displaystyle \oint_{L^{+}} \dfrac{\mathrm{d} x+\mathrm{d} y}{|x|+|y|}$, 其中 $L^{+}$是以 $(1,0),(0,1),(-1,0),(0,-1)$ 为顶点的正方形,逆时针为正向;</p><p>$(4)$ $\displaystyle \int_{L^{+}}\left(y^{2}-z^{2}\right) \mathrm{d} x+\left(z^{2}-x^{2}\right) \mathrm{d} y+\left(x^{2}-y^{2}\right) \mathrm{d} z$, 其中 $L^{+}$ 是球面 $x^{2}+y^{2}+$ $z^{2}=1$ 在第一象限的部分与三个坐标平面的交线,其正向为从点 $(1,0,0)$ 出发, 经过点 $(0,1,0)$, 到点 $(0,0,1)$, 再回到 $(1,0,0)$;</p><hr><p>解：$(2)$ 令 $x=a\cos \theta,y=a\sin \theta$ 代入有 </p><script type="math/tex; mode=display">\displaystyle \oint_{L^{+}} \dfrac{(x+y) \mathrm{d} x+(y-x) \mathrm{d} y}{x^{2}+y^{2}}=\oint_{L^{+}}((\cos \theta+\sin \theta )(-\sin \theta)+(\sin \theta-\cos \theta)(\cos \theta))d\theta=-2\pi</script><p>$(3)$ 对 $x+y=\pm 1$ 第一象限和第三象限的所有点均满足 $dx+dy=0$，而对第二象限和第四象限</p><p>满足通过原点对称的两个点 $(x,y)\longmapsto(-x,-y)$ $(\dfrac{dx+dy}{|x|+|y|})_{L_{2}}=-(\dfrac{dx+dy}{|x|+|y|})_{L_{4}}$ 从而原式 $=0$</p><p>$(4)$ 第一条线 $\displaystyle \int_{L^{+}}y^2dx-x^2dy=\displaystyle \int_{L^{+}}(-\sin ^3\theta-\cos ^3\theta )d\theta=-\dfrac{4}{3}$ 后两条线相同，原式 $=-4$</p><h2 id="习题4-4-3"><a href="#习题4-4-3" class="headerlink" title="习题4.4.3"></a>习题4.4.3</h2><p>计算 $\displaystyle \int_{L^{+}} \boldsymbol{F} \cdot \mathrm{d} \boldsymbol{r}$.</p><p>$(4)$ $\boldsymbol{F}$ 为由原点处质量为 $m$ 的质点所形成的空间引力场 (对单位质量质点的引力 $), L$ 是由点 $(1,1,1)$ 到点 </p><p>$\left(x_{0}, y_{0}, z_{0}\right)$ 的直线段. $\left(x_{0}, y_{0}, z_{0}\right.$ 不同时为零. $)$</p><hr><p>解：由题意计算$W=\displaystyle \int_{L_{1}(\boldsymbol{A})}^{(\boldsymbol{B})} \frac{Gm x \mathrm{~d} x}{\left(x^{2}+y^{2}+z^{2}\right)^{\frac{3}{2}}}+\frac{Gm y \mathrm{~d} y}{\left(x^{2}+y^{2}+z^{2}\right)^{\frac{3}{2}}}+\frac{Gm z \mathrm{~d} z}{\left(x^{2}+y^{2}+z^{2}\right)^{\frac{3}{2}}}$</p><p>取直线上 $t$ 比例的点 $\boldsymbol{r}=(1-t)(1,1,1)+t(x_0,y_0,z_0)$ 解得 $W=Gm(\dfrac{1}{\sqrt{3}}-\dfrac{1}{\sqrt{x_0^2+y_0^2+z_0^2}})$</p><h2 id="习题4-4-4"><a href="#习题4-4-4" class="headerlink" title="习题4.4.4"></a>习题4.4.4</h2><p>今有一平面力场 $\boldsymbol{F}$, 大小等于点 $(x, y)$ 到坐标原点的距离, 方向指向坐标原点.</p><p>$(2)$ 计算质点 $P$ 沿上述椭圆逆时针绕一圈时,力 $\boldsymbol{F}$ 所做的功.</p><hr><p>解：该力为 $\boldsymbol F=(x,y)$ 有势能函数 $\boldsymbol U=\dfrac{x^2+y^2}{2}$ 从而绕一圈做功 $W=0$</p><h2 id="习题4-6-1"><a href="#习题4-6-1" class="headerlink" title="习题4.6.1"></a>习题4.6.1</h2><p>利用 $\mbox{Green}$ 公式计算下列曲线积分.</p><p>$(4)$ $\displaystyle \oint_{L^{+}} \mathrm{e}^{x}[(1-\cos y) \mathrm{d} x-(y-\sin y) \mathrm{d} y]$, 其中 $L$ 是区域 $\{(x, y) \mid 0 \leqslant x \leqslant$ $\pi, 0 \leqslant y \leqslant \sin x\}$ 的正向边界.</p><hr><p>解：由格林公式 $\displaystyle \oint_{L^{+}} \mathrm{e}^{x}[(1-\cos y) \mathrm{d} x-(y-\sin y) \mathrm{d} y]=\iint -e^x(y-\sin y)-e^x\sin ydxdy$</p><p>$\displaystyle =-\iint e^xydxdy=-\int_0^{\pi}e^{x}dx\int_0^{\sin x}ydy=-\dfrac{1}{2}\int_0^{\pi}\sin ^2xe^xdx=-\dfrac{1}{4}\int_0^{\pi}(1-\cos 2x)e^xdx$</p><p>而 $\displaystyle \int\cos 2xe^xdx=\dfrac{1}{2}\int e^xd(\sin 2x)=\dfrac{1}{2}e^x\sin 2x-\dfrac{1}{2}\int e^x \sin 2xdx=\dfrac{1}{2}e^x\sin 2x+\dfrac{1}{4}\int e^x d(\cos 2x)$</p><p>$=\displaystyle \dfrac{1}{2}e^x\sin 2x+\dfrac{1}{4}e^x\cos 2x-\dfrac{1}{4}\int e^x\cos 2xdx\Longrightarrow \int e^x\cos 2xdx=\dfrac{2\sin 2x+\cos 2x}{5}e^x+C$</p><p>从而原式 $=(-\dfrac{1}{4}e^{x}+\dfrac{2\sin 2x+\cos 2x}{20}e^x)\big |_{0}^{\pi}=-\dfrac{1}{4}(e^{\pi}-1)+\dfrac{1}{20}(e^{\pi}-1)=-\dfrac{e^{\pi}-1}{5}$</p><blockquote><p>答案有误，$-\dfrac{e^{\pi}-1}{5}$ 与 $\mbox{Mathematica}$ 软件计算结果相同（计算耗时 $47\mbox{s}$ ）</p><p><img src="https://pic.imgdb.cn/item/6272955e0947543129ec4d73.jpg" style="zoom:100%;" /></p></blockquote><h2 id="习题4-6-4"><a href="#习题4-6-4" class="headerlink" title="习题4.6.4"></a>习题4.6.4</h2><p>计算下列区域的面积.</p><p>$(1)$ 星形线 $\left\{\begin{array}{l}x=a \cos ^{3} t, \ y=a \sin ^{3} t,\end{array}   0 \leqslant t \leqslant 2 \pi\right.$ 所围区域 $(a&gt;0)$;</p><hr><p>解：由 $\mbox{Green}$ 公式计算将二重积分化成曲线积分有</p><script type="math/tex; mode=display">\begin{gathered}S=\displaystyle \iint_{D} dxdy=\dfrac{1}{2}\int_{\partial D}xdy-ydx=\dfrac{a^2}{2}\int_0^{2\pi}\cos ^3t\cdot 3\sin ^2t\cos tdt+\sin ^3t\cdot 3\cos ^2t\sin tdt\\=\dfrac{3a^2}{2}\int_0^{2\pi}\sin ^2t\cos ^2 tdt=\dfrac{3a^2}{8}\int_0^{2\pi}\dfrac{1-\cos 4t}{2}dt=\dfrac{3}{8}a^2\cdot \pi=\dfrac{3\pi}{8}a^2\end{gathered}</script><h2 id="习题4-6-7"><a href="#习题4-6-7" class="headerlink" title="习题4.6.7"></a>习题4.6.7</h2><p>设 $D$ 是平面区域, $\partial D$ 为逐段光滑曲线, $f \in C^{2}(D)$, 证明: $\displaystyle \oint_{\partial D} \frac{\partial f}{\partial \boldsymbol{n}} \mathrm{d} l=$ $\displaystyle \iint_{D}\left(\frac{\partial^{2} f}{\partial x^{2}}+\frac{\partial^{2} f}{\partial y^{2}}\right) \mathrm{d} x \mathrm{~d} y$</p><hr><p>证明：由沿梯度方向的导数 $\dfrac{\partial f}{\partial\boldsymbol{n}}=\dfrac{\partial f}{\partial x}\hat{n}_{x}+\dfrac{\partial f}{\partial y}\hat{n}_{y}=\dfrac{\partial f}{\partial x}(\dfrac{dy}{dl})+\dfrac{\partial f}{\partial y}(-\dfrac{dx}{dl})$</p><p>其中 $\vec{n}$ 方向与 $(dx,dy)$ 方向垂直且满足为单位向量，从而为 $\vec{n}=(\dfrac{dy}{dl},-\dfrac{dx}{dl})$ 再代入格林公式即得证</p><script type="math/tex; mode=display">\oint_{\partial D} \frac{\partial f}{\partial \boldsymbol{n}} \mathrm{d} l=\oint_{\partial D}(\dfrac{\partial f}{\partial x}(\dfrac{dy}{dl})+\dfrac{\partial f}{\partial y}(-\dfrac{dx}{dl}))dl=\oint_{\partial D}(\dfrac{\partial f}{\partial x}dy-\dfrac{\partial f}{\partial y}dx)=\displaystyle \iint_{D}\left(\frac{\partial^{2} f}{\partial x^{2}}+\frac{\partial^{2} f}{\partial y^{2}}\right) \mathrm{d} x \mathrm{~d} y</script><h2 id="习题4-6-8"><a href="#习题4-6-8" class="headerlink" title="习题4.6.8"></a>习题4.6.8</h2><p>设 $D$ 是平面区域, $\partial D$ 为逐段光滑曲线, $n$ 为 $D$ 的单位外法向, $u, v \in$ $C^{2}(D)$, 证明：</p><p>$(1)$ $\displaystyle \oint_{\partial D} \frac{\partial u}{\partial \boldsymbol{n}} \mathrm{d} l=\iint_{D} \Delta u \mathrm{~d} x \mathrm{~d} y$;</p><p>$(2)$ $\displaystyle \oint_{\partial D} v \frac{\partial u}{\partial \boldsymbol{n}} \mathrm{d} l=\iint_{D} v \Delta u \mathrm{~d} x \mathrm{~d} y-\iint_{D} \nabla u \cdot \nabla v \mathrm{~d} x \mathrm{~d} y$;</p><p>$(3)$ $\displaystyle \oint_{\partial D}\left|\begin{array}{cc}\dfrac{\partial u}{\partial \boldsymbol{n}} &amp; \dfrac{\partial v}{\partial \boldsymbol{n}} \ u &amp; v\end{array}\right| \mathrm{d} l=\iint_{D}\left|\begin{array}{cc}\Delta u &amp; \Delta v \ u &amp; v\end{array}\right| \mathrm{d} x \mathrm{~d} y$.</p><p>其中 $\Delta=\dfrac{\partial^{2}}{\partial x^{2}}+\dfrac{\partial^{2}}{\partial y^{2}}, \nabla=\dfrac{\partial}{\partial x} i+\dfrac{\partial}{\partial y} j$.</p><hr><p>证明：$(1)$ 由 $4.6.7$ 可知，对 $u\in C^2(D)$，$\displaystyle \oint_{\partial D} \frac{\partial u}{\partial \boldsymbol{n}} \mathrm{d} l=\displaystyle \iint_{D}\left(\frac{\partial^{2} u}{\partial x^{2}}+\frac{\partial^{2} u}{\partial y^{2}}\right) \mathrm{d} x \mathrm{~d}y=\iint_{D} \Delta u \mathrm{~d} x \mathrm{~d} y$</p><p>$(2)$ 代入 $\dfrac{\partial u}{\partial \boldsymbol{n}}dl=\dfrac{\partial u}{\partial x}dy-\dfrac{\partial u}{\partial y}dx$ 有 $\displaystyle \oint_{\partial D} v \frac{\partial u}{\partial \boldsymbol{n}} \mathrm{d} l=\oint_{\partial D} v (\dfrac{\partial u}{\partial x}dy-\dfrac{\partial u}{\partial y}dx)$ 由格林公式</p><script type="math/tex; mode=display">\begin{gathered}\oint_{\partial D} v (\dfrac{\partial u}{\partial x}dy-\dfrac{\partial u}{\partial y}dx)=\iint_{D}(\dfrac{\partial v}{\partial x}\dfrac{\partial u}{\partial x}+v\dfrac{\partial ^2u}{\partial x^2})-(-\dfrac{\partial v}{\partial y}\dfrac{\partial u}{\partial y}-v\dfrac{\partial ^2u}{\partial y^2})dxdy\\=\iint_{D} (v(\dfrac{\partial ^2u}{\partial x^2}+\dfrac{\partial ^2u}{\partial y^2})+(\dfrac{\partial v}{\partial x}\dfrac{\partial u}{\partial x}+\dfrac{\partial v}{\partial y}\dfrac{\partial u}{\partial y}))dxdy=\iint_{D} v \Delta u \mathrm{~d} x \mathrm{~d} y+\iint_{D} \nabla u \cdot \nabla v \mathrm{~d} x \mathrm{~d} y\end{gathered}</script><p>$(3)$ 由行列式公式  $\displaystyle \oint_{\partial D}\left|\begin{array}{cc}\dfrac{\partial u}{\partial \boldsymbol{n}} &amp; \dfrac{\partial v}{\partial \boldsymbol{n}} \ u &amp; v\end{array}\right| \mathrm{d} l=\displaystyle \oint_{\partial D}(v\dfrac{\partial u}{\partial \boldsymbol{n}}-u\dfrac{\partial v}{\partial \boldsymbol{n}}) \mathrm{d} l$ 代入 $\small (2)$ 问结论</p><script type="math/tex; mode=display">\displaystyle \oint_{\partial D}(v\dfrac{\partial u}{\partial \boldsymbol{n}}-u\dfrac{\partial v}{\partial \boldsymbol{n}}) \mathrm{d} l=\iint_{D}((v\Delta u-\nabla u\cdot \nabla v)-(u\Delta v-\nabla u\cdot \nabla v))dxdy=\iint_{D}\left|\begin{array}{cc}\Delta u & \Delta v \\ u & v\end{array}\right| \mathrm{d} x \mathrm{~d} y</script><h2 id="习题4-6-10"><a href="#习题4-6-10" class="headerlink" title="习题4.6.10"></a>习题4.6.10</h2><p>求解下列常微分方程.</p><p>$(1)$ $\displaystyle \left(x^{2}-y\right) \mathrm{d} x-\left(x+\sin ^{2} y\right) \mathrm{d} y=0$;</p><p>$(2)$ $\displaystyle \mathrm{e}^{y} \mathrm{~d} x+\left(x \mathrm{e}^{y}-2 y\right) \mathrm{d} y=0$;</p><p>$(3)$ $\displaystyle \frac{x \mathrm{~d} x+y \mathrm{~d} y}{\sqrt{x^{2}+y^{2}}}=\frac{y \mathrm{~d} x-x \mathrm{~d} y}{x^{2}}$;</p><p>$(4)$ $\displaystyle \left(\cos x+\frac{1}{y}\right) \mathrm{d} x+\left(\frac{1}{y}-\frac{x}{y^{2}}\right) \mathrm{d} y=0$.</p><hr><p>解：$(1)$ 由 $\dfrac{\partial (x^2-y)}{\partial y}=\dfrac{\partial (-x-\sin ^2y)}{\partial x}=-1$ 为全微分方程，并注意到</p><script type="math/tex; mode=display">d(\dfrac{1}{3}x^3-xy-(\dfrac{1}{2}y-\dfrac{1}{4}\sin 2y))=\left(x^{2}-y\right) \mathrm{d} x-\left(x+\sin ^{2} y\right) \mathrm{d} y=0</script><p>则原方程解为 $\dfrac{1}{3}x^3-xy-(\dfrac{1}{2}y-\dfrac{1}{4}\sin 2y)+C=0,C\in R$</p><p>$(2)$ 由 $\dfrac{\partial (e^y)}{\partial y}=\dfrac{\partial (xe^y-2y)}{\partial x}=e^y$ 为全微分方程，并注意到</p><script type="math/tex; mode=display">d(xe^y-y^2)=\mathrm{e}^{y} \mathrm{~d} x+\left(x \mathrm{e}^{y}-2 y\right) \mathrm{d} y=0</script><p>则原方程解为 $xe^y-y^2+C=0,C\in R$</p><p>$(3)$ 由 $\dfrac{\partial (\dfrac{x}{\sqrt{x^2+y^2}}-\dfrac{y}{x^2})}{\partial y}=\dfrac{\partial (\dfrac{y}{\sqrt{x^2+y^2}}+\dfrac{1}{x})}{\partial x}=-\dfrac{xy}{(x^2+y^2)^{\frac{3}{2}}}-\dfrac{1}{x^2}$ 为全微分方程，并注意到</p><script type="math/tex; mode=display">d(\sqrt{x^2+y^2}-\dfrac{y}{x})=\frac{x \mathrm{~d} x+y \mathrm{~d} y}{\sqrt{x^{2}+y^{2}}}-\frac{y \mathrm{~d} x-x \mathrm{~d} y}{x^{2}}=0</script><p>则原方程解为 $\sqrt{x^2+y^2}-\dfrac{y}{x}+C=0,C\in R$</p><p>$(4)$ 由 $\dfrac{\partial (\cos x+\dfrac{1}{y})}{\partial y}=\dfrac{\partial (\dfrac{1}{y}-\dfrac{x}{y^2})}{\partial x}=-\dfrac{1}{y^2}$ 为全微分方程，并注意到</p><script type="math/tex; mode=display">d(\sin x+\dfrac{x}{y}+\ln y)=\left(\cos x+\frac{1}{y}\right) \mathrm{d} x+\left(\frac{1}{y}-\frac{x}{y^{2}}\right) \mathrm{d} y=0</script><p>则原方程解为 $\sin x+\dfrac{x}{y}+\ln y+C=0,C\in R$</p><h2 id="习题4-6-11"><a href="#习题4-6-11" class="headerlink" title="习题4.6.11"></a>习题4.6.11</h2><p>解下列方程.</p><p>$(1)$ $(y \cos x-x \sin x) \mathrm{d} x+(y \sin x+x \cos x) \mathrm{d} y=0$;</p><p>$(2)$ $(x+y) \mathrm{d} x+(y-x) \mathrm{d} y=0$;</p><p>$(3)$ $\left(3 x^{3}+y\right) \mathrm{d} x+\left(2 x^{2} y-x\right) \mathrm{d} y=0$;</p><p>$(4)$ $(x+y)(\mathrm{d} x-\mathrm{d} y)=\mathrm{d} x+\mathrm{d} y$;</p><p>$(5)$ $\left(x^{2}-\sin ^{2} y\right) \mathrm{d} x+x \sin 2 y \mathrm{~d} y=0$.</p><hr><p>解：$(1)$​ 记 $M=y \cos x-x \sin x, N=y \sin x+x \cos x$, 有</p><script type="math/tex; mode=display">\frac{\partial M}{\partial y}=\cos x, \frac{\partial N}{\partial x}=y \cos x+\cos x-x \sin x,</script><p>则方程不是恰当的. 但观察到 $\dfrac{\dfrac{\partial M}{\partial y}-\dfrac{\partial N}{\partial x}}{-M}=1$, 对应原方程有积分因子 $\mu=\mathrm{e}^{\int1 d y}=\mathrm{e}^{y}$. 两边乘以 $\mu=e^{y}$ </p><script type="math/tex; mode=display">\begin{gathered}\left(y \mathrm{e}^{y} \cos x \mathrm{~d} x+y \mathrm{e}^{y} \sin x \mathrm{~d} y\right)+\left(\mathrm{e}^{y} x \cos x \mathrm{~d} y-\mathrm{e}^{y} x \sin x \mathrm{~d} x\right)=0\\\mathrm{d}\left[(y-1) \mathrm{e}^{y} \sin x+\mathrm{e}^{y} x \cos x\right]=0 .\end{gathered}</script><p>则原方程的通解为 $\mathrm{e}^{y}(y-1) \sin x+\mathrm{e}^{y} x \cos x=C, C\in  R$ </p><p>$(2)$ 两边除以 $x^2+y^2$ 有 $\dfrac{x+y}{x^2+y^2}dx+\dfrac{y-x}{x^2+y^2}dy=0$ 且 $\dfrac{\partial (\dfrac{x+y}{x^2+y^2})}{\partial y}=\dfrac{\partial (\dfrac{y-x}{x^2+y^2})}{\partial x}=\dfrac{x^2-2xy-y^2}{(x^2+y^2)^2}$</p><p>从而变换后的方程为全微分方程，并注意到</p><script type="math/tex; mode=display">d(\dfrac{1}{2}\ln(x^2+y^2)-\arctan (\dfrac{y}{x}))=\dfrac{x+y}{x^2+y^2}dx+\dfrac{y-x}{x^2+y^2}dy=0</script><p>则原方程的解为 $\ln(\sqrt{x^2+y^2})-\arctan (\dfrac{y}{x})=C,C\in R$</p><p>$(3)$ 两边同时除以 $x^2$（消去 $x^2y$ 中含 $x$ 项 ），得到 $(3+\dfrac{y}{x^2})dx+(2y-\dfrac{1}{x})dy=0$ 且有</p><p>$\dfrac{\partial (3+\dfrac{y}{x^2})}{\partial y}=\dfrac{\partial (2y-\dfrac{1}{x})}{\partial x}=\dfrac{1}{x^2}$ 为全微分方程，注意到</p><script type="math/tex; mode=display">d(3x-\dfrac{y}{x}+y^2)=0</script><p>则原方程的解为 $3x-\dfrac{y}{x}+y^2=C,C\in R$</p><p>$(4)$ 两边除以 $x+y$ 有 $dx-dy=\dfrac{dx+dy}{x+y}$ 后者有 $\dfrac{\partial (\dfrac{1}{x+y})}{\partial y}=\dfrac{\partial (\dfrac{1}{x+y})}{\partial x}=-\dfrac{1}{(x+y)^2}$ 为全微分</p><p>$d(x-y)=\dfrac{dx+dy}{x+y}=d(\ln(|x+y|))$，则原方程的解为 $x-y=\ln|x+y|+C,C\in R$</p><p>$(5)$​ 记 $M=x^2-\sin ^2y, N=x\sin 2y$, 有</p><script type="math/tex; mode=display">\frac{\partial M}{\partial y}=-\sin 2y, \frac{\partial N}{\partial x}=\sin 2y</script><p>则方程不是恰当的. 观察到 $\dfrac{\dfrac{\partial M}{\partial y}-\dfrac{\partial N}{\partial x}}{-N}=-\dfrac{2}{x}=f(x)$, 对应原方程有积分因子 $\mu=\mathrm{e}^{-\int\frac{2}{x} dx}=\dfrac{1}{x^2}$</p><script type="math/tex; mode=display">\begin{gathered}(1-\dfrac{\sin ^2y}{x^2})dx+\dfrac{\sin 2y}{x}dy=0\Longrightarrow d(x+\dfrac{\sin ^2y}{x})=0\end{gathered}</script><p>则原方程的通解为 $x+\dfrac{\sin ^2y}{x}=C, C\in  R$ </p><h2 id="第四章总复习题-4"><a href="#第四章总复习题-4" class="headerlink" title="第四章总复习题 4"></a>第四章总复习题 4</h2><p>设 $L \subset \mathbb{R}^{2}$ 为光滑闭曲线, 逆时针为正向, $\boldsymbol{n}$ 为 $L$ 的外法线单位向量, $\boldsymbol{a}$ 为一固定向量, 求证: </p><script type="math/tex; mode=display">\oint_{L} \cos \langle\boldsymbol{n}, \boldsymbol{a}\rangle \mathrm{d} l=0</script><hr><p>证明：由 $\boldsymbol{n}=\dfrac{1}{dl}(dy,-dx)$ 则代入有 $\displaystyle \oint_{L} \cos \langle\boldsymbol{n}, \boldsymbol{a}\rangle \mathrm{d} l=\oint_{L} a_xdy-a_ydx$ 由格林公式</p><script type="math/tex; mode=display">\oint_{L} a_xdy-a_ydx=\iint_{D}(0-0)dxdy=0</script><h2 id="第四章总复习题-6"><a href="#第四章总复习题-6" class="headerlink" title="第四章总复习题 6"></a>第四章总复习题 6</h2><p>设 $L$ 为一单连通区域 $D \subset \mathbb{R}^{2}$ 的边界, $P_{0}$ 为一定点, $P \in L, \boldsymbol v=\overrightarrow{P_{0} P}, v=$ $|\boldsymbol v|, \boldsymbol{n}$ 为 $L$ 的外法线单位向量, 证明 </p><script type="math/tex; mode=display">\oint_{L} \frac{\cos \langle\boldsymbol{n}, v\rangle}{v} \mathrm{~d} l= \begin{cases}2\pi, & P_{0} \in D, \\ 0, & P_{0} \notin D .\end{cases}</script><hr><p>证明：代入 $\boldsymbol v =\boldsymbol p-\boldsymbol p_0=(x,y)-\boldsymbol p_0,\boldsymbol{n}=\dfrac{1}{dl}(dy,-dx)$ 令 $\boldsymbol p_0=(x_0,y_0)$有 </p><script type="math/tex; mode=display">\displaystyle \oint_{L} \frac{\cos \langle\boldsymbol{n}, v\rangle}{v} \mathrm{~d} l=\oint_{L} \dfrac{(x-x_0)dy-(y-y_0)dx}{(\sqrt{(x-x_0)^2+(y-y_0)^2})^2}=\oint_{L} \dfrac{(x-x_0)dy-(y-y_0)dx}{(x-x_0)^2+(y-y_0)^2}</script><p>由格林公式化为二重积分</p><script type="math/tex; mode=display">\begin{gathered}\oint_{L} \dfrac{(x-x_0)dy-(y-y_0)dx}{(x-x_0)^2+(y-y_0)^2}=\iint_{D}(\dfrac{(x-x_0)^2+(y-y_0)^2-(x-x_0)\cdot 2(x-x_0)}{((x-x_0)^2+(y-y_0)^2)^2}\\-(-\dfrac{(x-x_0)^2+(y-y_0)^2-(y-y_0)\cdot 2(y-y_0)}{((x-x_0)^2+(y-y_0)^2)^2}))dxdy=\iint_{D}\dfrac{0\cdot dxdy}{(x-x_0)^2+(y-y_0)^2}\end{gathered}</script><p>当 $(x,y)$ 保持不等于 $(x_0,y_0)$ 时，上述二重积分恒为 $0$，只需满足 $P_0$ 不在二重积分区域内，此时 $P_0\not\in D$</p><p>而当 $P_0\not\in D$ 时，令 $x-x_0=r\cos \theta,y-y_0=r\sin \theta$，二重积分有瑕点，对线积分计算</p><script type="math/tex; mode=display">\oint_{L} \dfrac{(x-x_0)dy-(y-y_0)dx}{(x-x_0)^2+(y-y_0)^2}=\oint_{L} \dfrac{r\cos \theta d(r\sin \theta)-r\sin \theta d(r\cos \theta)}{r^2}=\oint_{L}\dfrac{r^2}{r^2}d\theta</script><p>由于瑕点 $r=0$ 为零测度集，从而 $\displaystyle \int_{0}^{2\pi}d\theta=2\pi$，综上有 $\displaystyle \oint_{L} \frac{\cos \langle\boldsymbol{n}, v\rangle}{v} \mathrm{~d} l= \begin{cases}2\pi, &amp; P_{0} \in D, \ 0, &amp; P_{0} \notin D .\end{cases}$</p><h2 id="第四章总复习题-9"><a href="#第四章总复习题-9" class="headerlink" title="第四章总复习题 9"></a>第四章总复习题 9</h2><p>设 $u$ 为开集 $D \subset R^{2}$ 上的调和函数. 即 $\left(\Delta u \equiv \dfrac{\partial^{2} u}{\partial x^{2}}+\dfrac{\partial^{2} u}{\partial y^{2}}=0\right)$, 证明:</p><p>$(1)$ $\displaystyle u\left(x_{0}, y_{0}\right)=\frac{1}{2 \pi} \oint_{\partial D}\left(u \frac{\partial \ln r}{\partial \boldsymbol{n}}-\ln r \frac{\partial u}{\partial \boldsymbol{n}}\right) \mathrm{d} l$, 其中 $\left(x_{0}, y_{0}\right) \in D, \boldsymbol{r}$ 为 $\left(x_{0}, y_{0}\right)$ 到 $\partial D$ 上点的向量, </p><p>$r=|\boldsymbol{r}|, \boldsymbol{n}$ 为 $D$ 的单位外法向量;</p><p>$(2)$ $\displaystyle u\left(x_{0}, y_{0}\right)=\frac{1}{2 \pi R} \oint_{L} u(x, y) \mathrm{d} l$, 其中 $L$ 是以 $\left(x_{0}, y_{0}\right)$ 为中心, $R$ 为半径位于 $D$ 中的任意一个圆周.</p><hr><p>证明：$(1)$ 当 $(x, y) \neq\left(x_{0}, y_{0}\right)$ 时, $v=\ln r=\ln \sqrt{\left(x-x_{0}\right)^{2}+\left(y-y_{0}\right)^{2}}$ 为调和函数,</p><p>(可以计算拉普拉斯 $\Delta v=\dfrac{\partial^{2} v}{\partial x^{2}}+\dfrac{\partial^{2} v}{\partial y^{2}}=\dfrac{1}{r^{4}}\left[\left(y-y_{0}\right)^{2}-\left(x-x_{0}\right)^{2}\right]+\dfrac{1}{r^{4}}\left[\left(x-x_{0}\right)^{2}-\right.$ $\left.\left(y-y_{0}\right)^{2}\right]=0$ )</p><p>因此, 以 $\left(x_{0}, y_{0}\right)$ 为中心挖去半径为 $\varepsilon&gt;0$ (充分小)的圆形区域 $S_{r}$, 则在剩下的区域（记作 $D_{1}$ ), 对 $u, v$ 可应用</p><p>$\small 4.6.8(3)$ 中结论：$\displaystyle \oint_{\partial D}\left|\begin{array}{cc}\dfrac{\partial u}{\partial \boldsymbol{n}} &amp; \dfrac{\partial v}{\partial \boldsymbol{n}} \ u &amp; v\end{array}\right| \mathrm{d} l=\iint_{D}\left|\begin{array}{cc}\Delta u &amp; \Delta v \ u &amp; v\end{array}\right| \mathrm{d} x \mathrm{~d} y$</p><script type="math/tex; mode=display">\oint_{L \uparrow+c_{r}\downarrow } \left(u \frac{\partial \ln r}{\partial n}-\ln r \frac{\partial u}{\partial n}\right) \mathrm{d} l=\iint_{D}\left|\begin{array}{cc}\Delta u & \Delta \ln r \\u & \ln r\end{array}\right| \mathrm{d} x \mathrm{~d} y=\iint_{D}\left|\begin{array}{cc}0 & 0 \\u & \ln r\end{array}\right| \mathrm{d} x \mathrm{~d} y=0</script><p>从而拆开左边环路积分并移项有</p><script type="math/tex; mode=display">\begin{gathered}\oint_{L\uparrow }\left(u \frac{\partial \ln r}{\partial n}-\ln r \frac{\partial u}{\partial n}\right) \mathrm{d} l=\oint_{c_{g}\uparrow } \left(u \frac{\partial \ln r}{\partial n}-\ln r \frac{\partial u}{\partial n}\right) \mathrm{d} l=\oint_{c_{g}\uparrow } u \frac{\partial \ln r}{\partial n}-\oint_{c_{g}\uparrow } \ln r \frac{\partial u}{\partial n} \mathrm{~d} s \stackrel{\triangle}{=}I_{1}+I_{2}\end{gathered}</script><p>利用 $\mbox{Green}$ 公式计算 $I_2$</p><script type="math/tex; mode=display">\begin{aligned}I_{2} =\oint_{c_{g}\uparrow } \ln r \frac{\partial u}{\partial n} \mathrm{~d} l=\ln \varepsilon \oint_{c_{g}\uparrow }\left[\frac{\partial u}{\partial x} \cos (n, x)+\frac{\partial u}{\partial y} \cos (n, y)\right] \mathrm{d} l=\ln \varepsilon \iint_{S_{\epsilon}} \Delta u \mathrm{~d} x \mathrm{~d} y=0 .\end{aligned}</script><p>注意在 $C_{g}$ 上</p><script type="math/tex; mode=display">\left.\frac{\partial \ln r}{\partial n}\right|_{r=e}=\left.\frac{\partial \ln r}{\partial r}\right|_{r=e}=\left.\frac{1}{r}\right|_{r=e}=\frac{1}{\varepsilon}</script><p>因此</p><script type="math/tex; mode=display">I_{1}=\oint_{C_{\varepsilon}} u \frac{\partial \ln r}{\partial n} \mathrm{~d} s=\frac{1}{\varepsilon} \oint_{c_{\varepsilon}} u \mathrm{~d} s</script><p>将 $I_2,I_1$ 结果代入并利用中值定理得到</p><script type="math/tex; mode=display">\begin{gathered}\frac{1}{2 \pi} \oint_{L}\left(u \frac{\partial \ln r}{\partial n}+\ln r \frac{\partial u}{\partial n}\right) \mathrm{d} s=\frac{1}{2 \pi \varepsilon} \oint_{C_{\varepsilon}} u \mathrm{~d} s=\frac{1}{2 \pi \varepsilon} u(Q) \oint_{c_{\varepsilon}} \mathrm{d} s\end{gathered}</script><p>取 $\epsilon \to 0$ 便得到 $u(Q)\to u(x_0,y_0)$</p><p>$(2)$ 在 $\displaystyle u\left(x_{0}, y_{0}\right)=\frac{1}{2 \pi} \oint_{\partial D}\left(u \frac{\partial \ln r}{\partial \boldsymbol{n}}-\ln r \frac{\partial u}{\partial \boldsymbol{n}}\right) \mathrm{d} l$ 中取 $L=C_{r}$，为半径为 $R$ 的正圆，有</p><script type="math/tex; mode=display">\oint_{\partial D}\ln r \frac{\partial u}{\partial \boldsymbol{n}}\mathrm{d} l=\ln R\oint_{\partial D}\frac{\partial u}{\partial \boldsymbol{n}}\mathrm{d} l=\ln R \oint_{\partial D}(\frac{\partial u}{\partial x}dy-\frac{\partial u}{\partial y}dx)=0</script><p>前者有 $R=r=\sqrt{x^2+y^2}$ 代入 $\dfrac{\partial \ln r}{\partial \boldsymbol{n}}=\dfrac{x}{(\sqrt{x^2+y^2})^2}\dfrac{dy}{dl}-\dfrac{y}{(\sqrt{x^2+y^2})^2}\dfrac{dx}{dl}=\dfrac{x}{R^2}\dfrac{dy}{dl}-\dfrac{y}{R^2}\dfrac{dx}{dl}$</p><p>有 $x(x_0,y_0)=\dfrac{1}{2\pi R}\displaystyle \oint u\dfrac{xdy-ydx}{R}=\dfrac{1}{2\pi R}\displaystyle \oint u dl$</p><blockquote><p>在物理中，该公式代表在一个无电荷分布静电场 $\nabla^2 \varphi=0$ 中，任意平面圆的平均电势等于圆心的电势</p><p>物理证明：在平面圆心中央放置一个带电量为 $\mathcal{q_1}$ 的点电荷，其周围半径为 $R$ 的一固定圆环均匀放置</p><p>总电量为 $\mathcal{q}_2$ 的电荷，两者电荷量 $\to 0$，对原始电场分布几乎无影响（以任意 $\epsilon $ 精度保持解析性）</p><p>由静电场中的格林互逆定理</p><script type="math/tex; mode=display">\sum\varphi(q_1)q_2=\sum\varphi(q_2)q_1</script><p>代入静电能 $\displaystyle \sum\varphi(q_1)q_2=(\varphi_0+K\dfrac{q_2}{R})q_2,\displaystyle \sum \varphi(q_2)q_2=K\dfrac{q_1}{R}\cdot q_1+\int \varphi(\theta)\dfrac{Rd\theta}{R}\dfrac{q_2}{2\pi} $</p><p>令 $q_1=q_2\to 0$，便可以得到 $\varphi_0=\dfrac{1}{2\pi}\displaystyle \int\varphi(\theta)d\theta$</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>微积分 A(2)</category>
      
    </categories>
    
    
    <tags>
      
      <tag>微积分 A(2)</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Elementary number theory homework 1-15</title>
    <link href="/2022/06/17/%E6%95%B0%E5%AD%A6/%E5%88%9D%E7%AD%89%E6%95%B0%E8%AE%BA%E4%BD%9C%E4%B8%9A%E5%90%88%E9%9B%86%EF%BC%881-15%EF%BC%89/"/>
    <url>/2022/06/17/%E6%95%B0%E5%AD%A6/%E5%88%9D%E7%AD%89%E6%95%B0%E8%AE%BA%E4%BD%9C%E4%B8%9A%E5%90%88%E9%9B%86%EF%BC%881-15%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>作业 $\mathbf{PDF}$ 文件下载请点击这里 <a href="https://lr-tsinghua11.github.io/pdf/初等数论作业合集（1-15）.pdf">初等数论作业</a></p><h1 id="large-textcolor-blue-初等数论第一次作业-textcolor-blue-2022-2-22"><a href="#large-textcolor-blue-初等数论第一次作业-textcolor-blue-2022-2-22" class="headerlink" title="$\large\textcolor{blue}{初等数论第一次作业}      _\textcolor{blue}{2022.2.22}$"></a>$\large\textcolor{blue}{初等数论第一次作业}      _\textcolor{blue}{2022.2.22}$</h1><h2 id="习题-1-1-1"><a href="#习题-1-1-1" class="headerlink" title="习题 1.1.1"></a>习题 1.1.1</h2><p>设 $n$ 是奇数, 则 $8 \mid n^{2}-1$.</p><hr><p>证明：由 $n$ 是奇数，则令 $n=2k+1$，有 $n^2-1=(2k+1)^2-1=4k(k+1)$，由于 $k$ 和 $k+1$ 一奇一偶，从而 $2\mid k(k+1)$，则 $8\mid n^2-1$</p><h2 id="习题1-1-2"><a href="#习题1-1-2" class="headerlink" title="习题1.1.2"></a>习题1.1.2</h2><p>设 $n \geqslant 3$ 是奇数, 证明: $\left(1+\dfrac{1}{2}+\dfrac{1}{3}+\cdots+\dfrac{1}{n-1}\right)(n-1) !$ 被 $n$ 整除.</p><hr><p>证明：由 $n\in \mbox{odd}$ 则可以依次首尾相加得到</p><script type="math/tex; mode=display">1+\dfrac{1}{2}+\cdots+\dfrac{1}{n-1}=(1+\dfrac{1}{n-1})+(\dfrac{1}{2}+\dfrac{1}{n-2})+\cdots+(\dfrac{1}{\dfrac{n-1}{2}}+\dfrac{1}{\dfrac{n+1}{2}})\\=n\cdot(\dfrac{1}{1\cdot(n-1)}+\dfrac{1}{2\cdot(n-2)}+\cdots+\dfrac{1}{\dfrac{n-1}{2}\cdot\dfrac{n+1}{2}})</script><p>而 $(n-1)!$ 均有 $1,2,\cdots,n-1$ 的因子，从而 $n\mid (1+\dfrac{1}{2}+\cdots+\dfrac{1}{n-1})(n-1)!$</p><h2 id="习题1-1-3"><a href="#习题1-1-3" class="headerlink" title="习题1.1.3"></a>习题1.1.3</h2><p>设 $m$ 和 $n$ 为正整数, $m \geqslant 3$. 证明: $2^{m}-1 \not\mid  2^{n}+1$.</p><hr><blockquote><p>引理 $1.1.1$ $q\in Z,x-1\mid x^{q}-1$，这是由于 $1+x+\cdots+x^{q-1}=\dfrac{x^{q}-1}{x-1}\in Z$</p></blockquote><p>证明：显然当 $m&gt;n$ 时结论不成立，假设结论不成立 $2^{m}-1\mid 2^{n}+1$，由带余除法定理有 $n=mq+r,r&lt;m$</p><script type="math/tex; mode=display">\because 2^{n}+1=2^{mq+r}+1=2^{r}\cdot (2^{mq}-1)+2^{r}+1,2^{m}-1\mid 2^{mq}-1\\\therefore 2^{m}-1\mid 2^{r}+1\ 而\ r<m,2^{m}-1>2^{r}+1\Longleftrightarrow 2^{m}>2^{r}+2\Longleftrightarrow 2^{m}-2^{r}>2^{m-1}\geq4>2</script><p>从而假设不成立，$2^{m}-1\nmid 2^{n}+1$</p><h2 id="习题1-1-4"><a href="#习题1-1-4" class="headerlink" title="习题1.1.4"></a>习题1.1.4</h2><p>设 $q$ 是大于 1 的整数. 证明:</p><p>$(i)$ 每个正整数 $n$ 可以惟一地表示成</p><script type="math/tex; mode=display">n=a_{0}+a_{1} q+a_{2} q^{2}+\cdots+a_{k} q^{k},</script><p>其中 $a_{i}$ 是满足 $0 \leqslant a_{i} \leqslant q-1$ 的整数 $(0 \leqslant i \leqslant k)$, 并且 $a_{k} \neq$ 0. 这叫作 $n$ 的 $q$ 进制表示.</p><p>$(ii)$ $a_{i}=\left[\dfrac{n}{q^{i}}\right]-q\left<a href="0 \leqslant i \leqslant k">\dfrac{n}{q^{i+1}}\right</a>$.</p><hr><p>证明：$(i)$ 带余除法定理令 $n=b_0+m_1q,0\leq b_0\leq q-1$，对 $m_i$ 重复上述步骤有</p><script type="math/tex; mode=display">m_1=b_1+m_2q,0\leq b_1\leq q-1\cdots ,m_k=b_k,0\leq b_k\leq q-1</script><p>则回代得到 $n=b_0+q(b_1+q(b_2+\cdots+(b_k)))$，展开得到 $n=a_0+a_1q+\cdots+a_kq^k$</p><p>唯一性的证明：若有两种表示方法 $n=a_0+a_1q+\cdots+a_kq^k=c_0+c_1q+\cdots+c_kq^k$，有 $q\mid a_0-c_0$，则由于 $0\leq a_0,c_0\leq q-1$ 得 $a_0=c_0$，代入消去有 $a_1+a_2q+\cdots+a_kq^k=c_1+c_2q+\cdots+c_kq^k$，同理有 $a_i=c_i$，则表示方法唯一</p><p>$(ii)$ 由 $(i)$ 中表示有 $n=a_0+a_1q+\cdots+a_kq^k$，两边除以 $q^{i}$ 有</p><script type="math/tex; mode=display">\dfrac{n}{q^{i}}=\dfrac{a_0}{q^{i}}+\dfrac{a_1}{q^{i-1}}+\cdots a_i+a_{i+1}q+a_{i+2}q^2+\cdots+a_{k}q^{k-i}</script><p>由 $0\leq a_i\leq q-1$ 且有取整函数的定义可知 $[\dfrac{n}{q^{i}}]=a_i+a_{i+1}q+a_{i+2}q^2+\cdots+a_{k}q^{k-i}$</p><p>除以 $q^{i+1}$ 重复上述步骤得 $[\dfrac{n}{q^{i+1}}]=a_{i+1}+a_{i+2}q+\cdots+a_{k}q^{k-i-1}$，比对上述两式得 $a_i=[\dfrac{n}{q^{i}}]-q[\dfrac{n}{q^{i+1}}]$</p><h2 id="习题1-1-5"><a href="#习题1-1-5" class="headerlink" title="习题1.1.5"></a>习题1.1.5</h2><p>设 $\alpha_{1}, \cdots, \alpha_{n}$ 为实数 $(n \geqslant 2)$, 证明：</p><script type="math/tex; mode=display">\begin{aligned}{\left[\alpha_{1}\right]+\left[\alpha_{2}\right]+\cdots+\left[\alpha_{n}\right] } & \leqslant\left[\alpha_{1}+\alpha_{2}+\cdots+\alpha_{n}\right] \\& \leqslant\left[\alpha_{1}\right]+\left[\alpha_{2}\right]+\cdots+\left[\alpha_{n}\right]+n-1\end{aligned}</script><hr><p>证明：记 $\alpha_i=[\alpha_i]+\{\alpha_i\},\forall  x\in R,\{x\}\in[0,1)$，从而有 $\displaystyle [\sum_{i=1}^n\alpha_i]=\sum_{i=1}^n[\alpha_i]+[\sum_{i=1}^{n}\{\alpha_i\}]\geq\sum_{i=1}^n[\alpha_i]$</p><p>而 $\displaystyle [\sum_{i=1}^{n}\{\alpha_i\}]&lt;[\sum_{i=1}^{n}1]=n$，由取整特性 $\displaystyle [\sum_{i=1}^{n}\{\alpha_i\}]\leq n-1$，则 $\displaystyle\sum_{i=1}^n[\alpha_i]\leq  [\sum_{i=1}^n\alpha_i]\leq \displaystyle\sum_{i=1}^n[\alpha_i]+n-1$</p><h2 id="习题1-1-11"><a href="#习题1-1-11" class="headerlink" title="习题1.1.11"></a>习题1.1.11</h2><p>设 $n$ 为正整数, $n \geqslant 2$. 如果 $n$ 没有小于或等于 $\sqrt{n}$ 的素数因子, 则 $n$ 为素数.</p><hr><p>证明：反证法，若 $n$ 为合数，则 $n$ 有素因子 $q$，则 $n=mq,m,q\in Z$，由于 $n$ 没有 $\leq\sqrt{n}$ 的素数因子</p><script type="math/tex; mode=display">\therefore m,q>\sqrt{n},mq>n</script><p>与假设矛盾，从而 $n$ 为素数</p><h2 id="习题1-1-12"><a href="#习题1-1-12" class="headerlink" title="习题1.1.12"></a>习题1.1.12</h2><p>对每个整数 $n \geqslant 3, n$ 和 $n !$ 之间必有素数. 由此证明素数有无限多个.</p><hr><p>证明：反证法，假设 $n$ 和 $n!$ 之间全为合数，则 $n!-1$ 为合数，其一定有素数因子，由假设知 $n+1，n+2,\cdots,n!$ 全为合数，不可能是 $n!-1$ 的素数因子，另一方面，$\forall  n\geq a\geq 2,a\mid n!$，从而</p><script type="math/tex; mode=display">P=\{p\mid p\in[2,n]\ \cap\ \mbox{p is prime} \},\forall \ x\in P,x\nmid n!-1</script><p> 则 $n!-1$ 没有小于其自身的素数因子，从而 $n!-1$ 为素数，与假设矛盾，从而 $n$ 和 $n!$ 之间一定有素数</p><p>从 $3$ 开始， $(3,3!)$ 之间有素数，$(3!,(3!)!)$ 之间有素数，进而构造数列</p><script type="math/tex; mode=display">a_1=3,a_{n+1}=a_n!</script><p>有 $(a_n,a_{n+1})$ 之间必有素数，且区间之间无交集，将自然数集分成无穷多个区间，从而有无穷多个素数</p><h2 id="习题1-2-1"><a href="#习题1-2-1" class="headerlink" title="习题1.2.1"></a>习题1.2.1</h2><p>设 $n$ 是正整数, 证明: $\dfrac{21 n+4}{14 n+3}$ 是既约分数.</p><hr><p>证明：反证法，假设 $\dfrac{21n+4}{14n+3}$ 不是既约分数，则 $21n+4$ 和 $14n+3$ 有共同素因子 $d$ ，即</p><script type="math/tex; mode=display">\because (21n+4,14n+3)=d,21n+4=dm,14n+3=dn\\\therefore 3\cdot dn-2\cdot dm=42n+9-(42n+8)=1=d(3n-2m)</script><p>而 $d$ 为大于 $1$ 的素因子，$1\nmid d$，从而与假设矛盾，则 $\dfrac{21n+4}{14n+3}$ 是既约分数</p><h2 id="习题1-2-2"><a href="#习题1-2-2" class="headerlink" title="习题1.2.2"></a>习题1.2.2</h2><p>设 $m, n$ 为正整数, $m$ 为奇数,证明：</p><script type="math/tex; mode=display">\left(2^{m}-1,2^{n}+1\right)=1</script><hr><p>证明：令 $(2^{m}-1,2^{n}+1)=d$，且有 $2^{m}-1=dx,2^{n}+1=dy,x,y\in Z$，$d$ 为奇数</p><script type="math/tex; mode=display">\because 2^m=dx+1,2^n=dy-1\ \therefore 2^{mn}=(dx+1)^{n}=(dy-1)^m</script><p>将其二项式展开有 $\displaystyle \sum_{i=0}^nC_n^i(dx)^i=\sum_{i=0}^mC_m^i(dy)^i(-1)^{m-i}$，两边同时除以 $d$ 得到</p><script type="math/tex; mode=display">\displaystyle \sum_{i=1}^nC_n^id^{i-1}x^{i}+\dfrac{1}{d}=\sum_{i=1}^mC_m^id^{i-1}y^i(-1)^{m-i}+(-1)^m\cdot d^{-1}</script><p>由于 $m$ 是奇数，若 $d\geq 3$，两边取整有 $\dfrac{1}{d}=1-\dfrac{1}{d}$，矛盾，从而 $d=1$</p><h2 id="习题1-2-3"><a href="#习题1-2-3" class="headerlink" title="习题1.2.3"></a>习题1.2.3</h2><p>设 $m, n, a$ 均为正整数, $a \geqslant 2$, 证明:</p><script type="math/tex; mode=display">\left(a^{m}-1, a^{n}-1\right)=a^{(m, n)}-1 \text {. }</script><hr><p>证明：令 $(m,n)=d$，且有 $m=dx,n=dy,(x,y)=1$，由引理 $1.1.1$ 知</p><script type="math/tex; mode=display">a^{d}-1\mid a^{dx}-1,\ a^{dx}-1=(a^d-1)\cdot(1+a^d+a^{2d}+\cdots+a^{(x-1)d})\\a^{d}-1\mid a^{dy}-1,\ a^{dy}-1=(a^d-1)\cdot(1+a^d+a^{2d}+\cdots+a^{(y-1)d}),\\</script><p>考虑辗转相除法，不妨设 $x&gt;y$，</p><script type="math/tex; mode=display">1+a^d+a^{2d}+\cdots+a^{(x-1)d}=a^{(x-y)d}(1+a^d+\cdots+a^{(y-1)d})+1+a^d+a^{2d}+\cdots+a^{(x-y-1)d}</script><p>继续判断 $x$ 和 $y$ 的大小关系，辗转相除，而 $(x,y)=1$，则</p><script type="math/tex; mode=display">(1+a^d+a^{2d}+\cdots+a^{(x-1)d},1+a^d+a^{2d}+\cdots+a^{(y-1)d})=1</script><p>从而 $a^{d}-1=a^{(m,n)}-1$ 即为 $a^{m}-1$ 和 $a^{n}-1$ 的最大公因数 </p><h1 id="large-textcolor-blue-初等数论第二次作业-textcolor-blue-2022-3-2"><a href="#large-textcolor-blue-初等数论第二次作业-textcolor-blue-2022-3-2" class="headerlink" title="$\large\textcolor{blue}{初等数论第二次作业}      _\textcolor{blue}{2022.3.2}$"></a>$\large\textcolor{blue}{初等数论第二次作业}      _\textcolor{blue}{2022.3.2}$</h1><h2 id="习题1-2-4"><a href="#习题1-2-4" class="headerlink" title="习题1.2.4"></a>习题1.2.4</h2><p>设 $a,b,c\in Z,a\neq 0$。则 $a\mid bc$ 当且仅当 $\dfrac{a}{(a,b)}\mid c$</p><hr><p>证明：取 $d=(a,b)$，令 $a=dx,b=dy$，且有 $(x,y)=1$</p><p>$(1)$ 若 $a\mid bc$， $\exists  t\in Z, bc=at \therefore yc=xt   x\mid yc$，由于 $(x,y)=1$，得 $x\mid c$，即 $\dfrac{a}{(a,b)}\mid c$；</p><p>$(2)$ 若 $\dfrac{a}{(a,b)}\mid c$，则 $\exists  t\in Z, c=\dfrac{a}{(a,b)}\cdot t \therefore (a,b)\cdot c=at=dc=dxt$，即 $c=xt$， 两边乘</p><p>以 $b=dy$ 得 $bc=xydt=ayt$，从而 $a\mid bc$。</p><p>综上，$a\mid bc \Longleftrightarrow \dfrac{a}{(a,b)}\mid c$</p><h2 id="习题1-2-5"><a href="#习题1-2-5" class="headerlink" title="习题1.2.5"></a>习题1.2.5</h2><p>$m$ 和 $n$ 是互素的正整数，证明：</p><p>$   (1)$ 对每个整数 $a$，$(a,mn)=(a,m)(a,n)$；</p><p>$   (2)$ $mn$ 的每个正因子 $d$ 均可唯一地表示成 $d=d_1d_2$，其中 $d_1$ 和 $d_2$ 分别为 $m$ 和 $n$ 的正因子。</p><hr><p>证明：$(1)$ 对 $(a,mn)=(a,m)\cdot(\dfrac{a}{(a,m)},\dfrac{mn}{(a,m)})$，由于 $\dfrac{a}{(a,m)}$ 和 $\dfrac{m}{(a,m)}$ 互素，则</p><script type="math/tex; mode=display">(a,mn)=(a,m)\cdot (\dfrac{a}{(a,m)},\dfrac{mn}{(a,m)})=(a,m)\cdot \normalsize (\dfrac{a}{(a,m)},n)令\ a=k_1x,m=k_2x\ \\ \because (m,n)=1\therefore(k_2x,n)=(x,n)=1,(\dfrac{a}{(a,m)},n)=(k_1,n)=(k_1x,n)=(a,n)</script><p>则有 $(a,mn)=(a,m)(a,n)$</p><p>$(2)$ 由算术基本定理，令 $m=p_1^{\alpha_1}\cdot p_2^{\alpha_2}\cdots p_r^{\alpha_r},n=q_1^{\beta_1}\cdot q_2^{\beta_2}\cdots q_k^{\beta_k},1\leq \alpha_i,\beta_i $，由 $(m,n)=1$</p><p>$\forall  1\leq i\leq r,1\leq j\leq k,p_i\neq q_j$，否则设相等素数为 $p_{i_{0}}$ $(m,n)\geq p_{i_0}&gt;1$ 矛盾，则有新序列集合 </p><p>$\mathbb{S}=\{p_1,\cdots,p_r,q_1,\cdots,q_k\}$，有 $mn=p_1^{\alpha_1}\cdots p_r^{\alpha_r}\cdot q_1^{\beta_1}\cdots q_k^{\beta_k}$，若 $d$ 为 $mn$ 的因子，则</p><p>总有 $d=p_1^{\gamma_1}\cdots p_{r}^{\gamma_{r}}\cdot q_{1}^{\lambda_{1}}\cdots q_{k}^{\lambda_{k}},0\leq\gamma_{i},\lambda_{i}$，则分离 $d_1=p_1^{\gamma_1}\cdots p_{r}^{\gamma_{r}},d_2=q_{1}^{\lambda_{1}}\cdots q_{k}^{\lambda_{k}}$</p><p>使得 $d=d_1d_2$，且由于 $p_i$ 和 $q_i$ 完全不同，该分解存在且唯一</p><h2 id="习题1-2-6"><a href="#习题1-2-6" class="headerlink" title="习题1.2.6"></a>习题1.2.6</h2><p>设 $n$ 为正整数，$a,b$ 是不全为零的整数，证明：</p><p>$   (1)$ $(a^n,b^n)=(a,b)^n$；</p><p>$   (2)$ 若 $a$ 和 $b$ 是互素的正整数，$ab=c^n,c\in Z$，则 $a$ 和 $b$ 都是正整数的 $n$ 次方幂。</p><hr><p>证明：$(1)$ 记 $(a,b)=d$，则有 $a=dx,b=dy,x,y\in Z$，从而 $a^n=d^nx^n,b^n=d^ny^n$</p><p>从而 $d^n\mid a^n,d^n\mid b^n,d^n\mid (a^n,b^n)$，则令 $(a^n,b^n)=td^n,t\in Z$，代入上式有</p><p>$\dfrac{a^n}{(a^n,b^n)}=tx^n, \dfrac{b^n}{(a^n,b^n)}=ty^n$，结合 $(x^n,y^n)=1$ 有 $1=(\dfrac{a^n}{(a^n,b^n)},\dfrac{b^n}{(a^n,b^n)})=t$，</p><p>$\therefore (a^n,b^n)=1\cdot d^n=(a,b)^n$</p><p>$(2)$ 由算术基本定理，令 $a=p_1^{\alpha_1}\cdot p_2^{\alpha_2}\cdots p_r^{\alpha_r},b=q_1^{\beta_1}\cdot q_2^{\beta_2}\cdots q_k^{\beta_k},1\leq \alpha_i,\beta_i $，由 $(a,b)=1$</p><p>$\forall  1\leq i\leq r,1\leq j\leq k,p_i\neq q_j$​，否则设相等素数为 $p_{i_{0}}$ $(m,n)\geq p_{i_0}&gt;1$ 矛盾，则有新序列集合 </p><p>$\mathbb{S}=\{p_1,\cdots,p_r,q_1,\cdots,q_k\}$，有 $ab=p_1^{\alpha_1}\cdots p_r^{\alpha_r}\cdot q_1^{\beta_1}\cdots q_k^{\beta_k}=c^n$，同理对 $c$ 分解有</p><p>$c=m_1^{\gamma_1}\cdots m_l^{\gamma_{l}}$，代入有 $p_1^{\alpha_1}\cdots p_r^{\alpha_r}\cdot q_1^{\beta_1}\cdots q_k^{\beta_k}=m_1^{n\gamma_1}\cdots m_l^{n\gamma_{l}}$，由算术基本定理有</p><p>$\alpha_{i}=n\gamma_{a_{i}},\beta_{i}=n\gamma_{b_{i}}$，则 $a$ 和 $b$ 均能写成某个正整数的 $n$ 次幂</p><h2 id="习题1-29"><a href="#习题1-29" class="headerlink" title="习题1.29"></a>习题1.29</h2><p>求 $963x+657y=(963,657)$ 的全部整数解。</p><hr><p>解：由欧几里得辗转相除法有</p><script type="math/tex; mode=display">963=657+306\longrightarrow 657=306\times 2+45\longrightarrow 306=45\times 6+36\\\longrightarrow 45=36\times 1+9\longrightarrow 36=9\times 4</script><p>从而 $(963,657)=9$，依次反向欧几里得算法有</p><script type="math/tex; mode=display">9=45-36\times 1=45-(306-45\times 6)=45\times 7-306=(657-306\times 2)\times7-306\\=657\times 7-306\times 15=657\times 7-306\times 15=657\times 7-(963-657)\times 15\\=963\times(-15)+657\times22</script><p>则 $963x+657y=(963,657)=9$，可以化为 $107x+73y=1$，从而其解为</p><script type="math/tex; mode=display">\begin{cases}x=-15+73t\\y=22-107t\end{cases}\ \ \ \ t\in Z</script><h2 id="习题1-2-10"><a href="#习题1-2-10" class="headerlink" title="习题1.2.10"></a>习题1.2.10</h2><p>求下列方程的全部整数解：</p><p>$   (1)$ $6x+20y-15z=23$；</p><p>$   (2)$ $25x+13y+7z=2$。</p><hr><p>$(1)$ 由 $(20,15)=5$，则 $6x+20y-15z=23\Longleftrightarrow \begin{cases}20y-15z=5\omega\cdots\boldsymbol ①\\6x+5\omega=23\cdots\boldsymbol ②\end{cases}$</p><p>对 $\boldsymbol ②$，由 $6=5\times 1+1$，则 $1=6\times1+5\times(-1)$，则 $\boldsymbol ②$ 解为 $\begin{cases}x=23+5t\\\omega=-23-6t\end{cases}$</p><p>代入 $\boldsymbol ①$ 变形为 $4y-3z=\omega=-23-6t$，由 $4=3\times1+1$，则解 $\begin{cases}y=\omega+3u\\z=\omega+4u\end{cases}$</p><p>从而 $6x+20y-15z=23$ 的通解为 $\begin{cases}x=23+5t\\y=-23-6t+3u\\z=-23-6t+4u\end{cases}     t,u\in Z$</p><p>$(2)$ 由 $(13,7)=1$，则 $25x+13y+7z=2\Longleftrightarrow \begin{cases}13y+7z=\omega\cdots\boldsymbol ①\\25x+\omega=1\cdots\boldsymbol ②\end{cases}$</p><p>对 $\boldsymbol ②$，由 $25=25\times 1$，则 $1=25\times 0+1\times1$，则 $\boldsymbol ②$ 解为 $\begin{cases}x=t\\\omega=1-25t\end{cases}$</p><p>代入 $\boldsymbol ①$ 变形为 $13y+7z=\omega=1-25t$，由 $1=7\times 2-13$，则解 $\begin{cases}y=-\omega+7u\\z=2\omega-13u\end{cases}$</p><p>从而 $25x+13y+7z=2$ 的通解为 $\begin{cases}x=t\\y=-1+25t+7u\\z=2-50t-13u\end{cases}     t,u\in Z$</p><h2 id="习题1-2-12"><a href="#习题1-2-12" class="headerlink" title="习题1.2.12"></a>习题1.2.12</h2><p>设 $f(x)=x^n+a_1x^{n-1}+\cdots +a_{n-1}x+a_n$ 为首项系数为 $1$ 的整系数多项式，</p><p>则 $f(x)$ 的每个有理根必为整数。</p><hr><p>证明：若整系数多项式 $x^n+a_1x^{n-1}+\cdots+a_{n-1}x+a_n=0$ 有理根为 $\dfrac{p}{q}(p,q\in Z,q\neq 0)$ </p><script type="math/tex; mode=display">\because (p,q)=1,(\dfrac{p}{q})^{n}+a_1(\dfrac{p}{q})^{n-1}+\cdots+a_{n-1}\dfrac{p}{q}+a_n=0\\\therefore p^{n}=-(a_1p^{n-1}q+\cdots+a_{n-1}pq^{n-1}+a_nq^{n})\therefore q\mid p^{n}\Longrightarrow q=1</script><p>从而所有有理根必为整数</p><h2 id="习题1-2-13"><a href="#习题1-2-13" class="headerlink" title="习题1.2.13"></a>习题1.2.13</h2><p>设 $m$ 和 $n$ 为正整数，则在 $n,2n,\cdots,mn$ 这 $m$ 个数当中恰有 $(m,n)$ 个是 $m$ 的倍数。</p><hr><p>证明：令 $d=(m,n)$，且 $m=dx,n=dy,(x,y)=1$，从而 $kn,k=1,2,\cdots,m$ 满足</p><p>$m\mid kn,dx\mid kdy\Longrightarrow x\mid ky$，由于 $(x,y)=1$，则 $x\mid k$，即 $k$ 是 $x$ 的倍数，即 $k=xt,t\in Z$</p><p>而 $m=dx$，恰好为 $1\cdot x,2\cdot x\cdots ,d\cdot x$ ，恰共有 $d =(m,n)$ 个</p><h2 id="习题1-2-16"><a href="#习题1-2-16" class="headerlink" title="习题1.2.16"></a>习题1.2.16</h2><p>设 $m$ 和 $n$ 是互素的非零整数。证明对整数 $a$，若 $m\mid a,n\mid a$，则 $mn\mid a$</p><hr><p>证明：已知 $(m,n)=1$，由 $m,n\mid a$，设 $a=mx=ny,x,y\in Z$，有 $(mx,nx)=x(m,n)=x$</p><p>代入 $mx=ny$ 得 $x=(ny,nx)=n(y,x)$，则 $n\mid x,mn\mid mx=a$，即 $mn\mid a$</p><h2 id="习题1-3-3"><a href="#习题1-3-3" class="headerlink" title="习题1.3.3"></a>习题1.3.3</h2><p>设 $a,b,c$ 为正整数，证明</p><p>$   (1)$ $(a,[b,c])=[(a,b),(a,c)]$；</p><p>$   (2)$ $[a,(b,c)]=([a,b],[a,c])$。</p><hr><p>证明：由算术基本定理，设 $a,b,c$ 三者分解下所有质因数的交集为 $\{p_1\cdots p_N\}$，且三者对应的</p><p>幂次为 $\{a_n\},\{b_n\},\{c_{n}\},0\leq a_i,b_i,c_i\in Z$，即 $a,b,c=\displaystyle \prod p_{i}^{a_i,b_i,c_i}$</p><p>$(1)$ $(a,[b,c])=\displaystyle \prod p_{i}^{\min(a_i,\max({b_i,c_i}))}$ 和 $[(a,b),(a,c)]=\displaystyle \prod p_{i}^{\max(\min(a_i,b_i),\min(a_i,c_i))}$</p><p>$(a,[b,c])=[(a,b),(a,c)]\Longleftrightarrow \min(a_i,\max(b_i,c_i))=\max(\min(a_i,b_i),\min(a_i,c_i))$</p><p>而对后者，调换 $b$ 和 $c$ 对等式左右两边都不变，不妨设 $b\leq c$，从而分类以下三种情况：</p><script type="math/tex; mode=display">\begin{gathered}i) a \leq b \leq c;\ \ \ \ ii) b \leq a \leq c;\ \ \ \ iii) b \leq c \leq a\\i) \max \{a, \min \{b, c\}\}=\max \{a, b\}=b, \min \{\max \{a, b\}, \max \{a, c\}\}=\min \{b, c\}=b;\\ii) \max \{a, \min \{b, c\}\}=\max \{a, b\}=a, \min \{\max \{a, b\}, \max \{a, c\}\}=\min \{a, c\}=a;\\iii) \max \{a, \min \{b, c\}\}=\max \{a, b\}=a, \min \{\max \{a, b\}, \max \{a, c\}\}=\min \{a, a\}=a;\end{gathered}</script><p>从而后者成立，有 $(a,[b,c])=[(a,b),(a,c)]$ 成立</p><p>$(2)$ 仿照 $\small (1)$ 讨论 $\max(a_i,\min(b_i,c_i))=\min(\max(a_i,b_i),\max(a_i,c_i))$，也不妨设 $b\leq c$</p><script type="math/tex; mode=display">\begin{gathered}i) a \leq b \leq c;\ \ \ \ ii) b \leq a \leq c;\ \ \ \ iii) b \leq c \leq a\\i) \min \{a, \max \{b, c\}\}=\min \{a, c\}=a, \max \{\min \{a, b\}, \min \{a, c\}\}=\max \{a, a\}=a;\\ii) \min \{a, \max \{b, c\}\}=\min \{a, c\}=a, \max \{\min \{a, b\}, \min \{a, c\}\}=\max \{b, a\}=a;\\iii) \min \{a, \max \{b, c\}\}=\min \{a, c\}=c, \max \{\min \{a, b\}, \min \{a, c\}\}=\max \{b, c\}=c;\\\end{gathered}</script><p>从而同理可得 $[a,(b,c)]=([a,b],[a,c])$</p><h2 id="习题1-3-4"><a href="#习题1-3-4" class="headerlink" title="习题1.3.4"></a>习题1.3.4</h2><p>不存在整数 $m\geq 2$ ，使得 $m^2\mid n$ 的正整数 $n$ 为无平方因子，证明：</p><p>$   (1)$ 正整数 $n$ 是无平方因子当且仅当 $n=1$ 或者是不素因子的乘积；</p><p>$   (2)$ 每个正整数 $n$ 可以唯一地表示成 $n=m^2\cdot n’$，其中 $m^2$ 为平方数，而 $n’$ 为无平方因子整数。</p><hr><p>证明：$(1)$ 若 $n=1$ ，$\forall m\geq 2, m^2\nmid n$，从而 $1$ 为无平方因子，若 $n\geq 2$，由算术基本定理</p><p>令 $n=p_1^{\alpha_1}\cdot p_2^{\alpha_2}\cdots p_r^{\alpha_r}$，若 $\exists \alpha _i\geq 2$，则取 $p_i^{2}\mid p_{i}^{\alpha_{i}}\mid n$，则不是无平方因子，从而</p><p>$\forall  \alpha_{i}\leq 1$，而 $\alpha_i=0$ 无意义（$p_{i}^{0}=1$），从而此时 $n$ 为不同素因子乘积</p><p>又若 $n=1$ 或者 $n$ 为不同素因子乘积，显然满足无平方因子条件，从而两者等价</p><p>$(2)$ 若 $n$ 为无平方因子，则 $n=1^2\cdot n’$ 满足条件，若 $n$ 不为无平方因子，由 $\small (1)$ 得，$\exists \alpha_i\geq 2$</p><p>则挑选 $\mathbb{A}=\{i\mid \alpha_i\geq 2\}$，对 $\forall x\in \mathbb{A}$ 取 $\beta_{i}=2\lfloor\dfrac{\alpha_{i}}{2}\rfloor,\gamma_{i}=\alpha_i-\beta_i=0,1 $</p><p>则所有非 $\mathbb{A}$ 中的 $\alpha_{j}$ 以及 $\gamma_{i}$ 对应素数幂次的乘积组成无平方因子 $n’=\displaystyle \prod_{\alpha_{j}\notin\mathbb{A}}p_{j}^{\alpha_{j}}\cdot \prod_{\alpha_{i}\in\mathbb{A}}p_{i}^{\gamma_{i}}$</p><p>其余组成完全平方数 $m^2=\displaystyle \prod_{\alpha_{i}\in\mathbb{A}}p_{i}^{\beta_{i}}=\prod_{\alpha_{i}\in\mathbb{A}}p_{i}^{2\lfloor\frac{\alpha_i}{2}\rfloor}$，即 $m=\displaystyle \prod_{\alpha_{i}\in\mathbb{A}}p_{i}^{\lfloor\frac{\alpha_i}{2}\rfloor}$，使得 $n=m^2\cdot n’$</p><p>下证其唯一性：若有两组 $(m_1,n’_1),(m_2,n_2’)$ 使得 $n=m_1^2n_1’=m_2^2n_2’$，由 $\small(1)$ 知</p><p>$n_1$ 和 $n_2$ 为 $1$ 或者是不同素数的乘积，若两者不相同，则两边消去相同部分后总会剩余成单素数</p><p>即 $n’’=m_1^2\displaystyle \prod p_i=m_2^2\prod q_i$，考察 $p_i$ 对应的幂次有左侧为奇次幂，右侧为偶次幂</p><p>这与 $n’’$ 的算术基本定理矛盾，从而每个正整数能唯一地表示成完全平方数和无平方因子的乘积</p><h1 id="large-textcolor-blue-初等数论第三次作业-textcolor-blue-2022-3-8"><a href="#large-textcolor-blue-初等数论第三次作业-textcolor-blue-2022-3-8" class="headerlink" title="$\large\textcolor{blue}{初等数论第三次作业}      _\textcolor{blue}{2022.3.8}$"></a>$\large\textcolor{blue}{初等数论第三次作业}      _\textcolor{blue}{2022.3.8}$</h1><h2 id="习题1-2-1-1"><a href="#习题1-2-1-1" class="headerlink" title="习题1.2.1"></a>习题1.2.1</h2><p>设 $m$ 为正整数, $(a, m)=1$. 我们用 $a^{-1}$ 表示同余方程 $a x \equiv 1$ $(\bmod m)$ 的任何一个整数解 (即</p><p> $\left.a^{-1} \in \mathbf{Z}, a a^{-1} \equiv 1(\bmod m)\right)$. 证明：</p><p>(1) 若 $(a, m)=(b, m)=1$, 则 $a \equiv b(\bmod m)$ $\Longleftrightarrow $ $a^{-1} \equiv$ $b^{-1}(\bmod m)$；</p><p>(2) 若 $\{r_{1}, r_{2}, \cdots, r_{\varphi(m)}\}$ 是模 $m$ 的缩系, 则 $\{r_{1}^{-1}, r_{2}^{-1}, \cdots, r_{\varphi(m)}^{-1}\}$ 也是模 $m$ 的缩系。</p><hr><p>证明：$(1)$ 若 $a\equiv b(\mbox{mod}  m)$，即 $a-b=k_1m,k_1\in Z$，令 $a^{-1}$ 与 $b^{-1}$ 中最小的正整数为</p><p>$a_{-},b_{-}$，对上式乘以 $a_{-},b_{-}$ 得 $aa_{-}b_{-}-a_{-}(bb_{-})=k_1ma_{-}b_{-}$，两边对 $m$ 求同余有</p><p>$a_{-}\equiv b_{-}(\mbox{mod} m)$，而 $\overline{a^{-1}}=a_{-}+km,k\in Z,\overline{b^{-1}}=b_{-}+km,k\in Z$</p><p>则 $a\equiv b(\mbox{mod}  m)\Longrightarrow a^{-1}\equiv b^{-1}(\mbox{mod}  m)$，由对称性（$(a^{-1})^{-1}=a$），两者等价</p><p>$(2)$ 由 $r_{i}r_{i}^{-1}\equiv 1(\mbox{mod} m)$，若 $(r_{i}^{-1},m)\geq 2$，则 $(r_{i}r_{i}^{-1},m)\geq 2$，与 $r_{i}r_{i}^{-1}\equiv 1(\mbox{mod} m)$ </p><p>矛盾，从而所有的 $r_{i}^{-1}$ 与 $m$ 互素；又若 $\exists i\neq j,r_{i}^{-1}=r_{j}^{-1} $，由 $(1)$ 得 $r_{i}=r_{j}$ ，矛盾</p><p>而 $m$ 的缩系有 $\varphi(m)$ 个，从而 $\{r_{1}^{-1},\cdots ,r_{\varphi (m)}^{-1}\}$ 也为缩系</p><h2 id="习题1-2-2-1"><a href="#习题1-2-2-1" class="headerlink" title="习题1.2.2"></a>习题1.2.2</h2><p>设正整数 $n$ 的十进制表示为</p><script type="math/tex; mode=display">n=a_{0}+a_{1} \cdot 10+a_{2} \cdot 10^{2}+\cdots+a_{k} \cdot 10^{k},</script><p>证明: $\left\{\begin{array}{l}n \equiv a_{0}+a_{1}+\cdots+a_{k}(\bmod 9), \ n \equiv a_{0}-a_{1}+a_{2}-\cdots+(-1)^{k} a_{k}(\bmod 11) .\end{array}\right.$ 用这些结果来计算 $12345 \times 6789$ 被 $9$ 和</p><p>被 $11$ 除所得的余数。</p><hr><p>证明：由 $u=\displaystyle \sum_{i=0}^ka_i10^{i}$，且 $10^{i}\equiv(9+1)^{i}\equiv1+9^{i}\equiv1(\mbox{mod} m)$</p><p>$10^{i}\equiv (11-1)^{i}\equiv(-1)^{i}+11^{i}\equiv (-1)^{i}(\mbox{mod} m)$，代入则得到</p><script type="math/tex; mode=display">\left\{\begin{array}{l}n \equiv \displaystyle \sum_{i=0}^ka_i(\bmod 9), \\ n \equiv \displaystyle \sum_{i=0}^k(-1)^{i}a_i(\bmod 11) .\end{array}\right.</script><p>代入计算 $12345\times 6789\equiv 15\times 30\equiv 0(\mbox{mod} 9)$，$12345\times 6789\equiv 3\times2\equiv 6(\mbox{mod} 11)$</p><h2 id="习题1-2-6-1"><a href="#习题1-2-6-1" class="headerlink" title="习题1.2.6"></a>习题1.2.6</h2><p>证明：当 $n \geqslant 3$ 时, $\varphi(n)$ 为偶数。</p><hr><p>证明：$\boldsymbol ①$ 若 $n$ 有奇素数因子，则 $\varphi(n)=\displaystyle \prod_{i}(p_{i}^{\alpha_{i}}-p_{i}^{\alpha _{i}-1})$ 中对奇素数因子 $(p_{i}^{\alpha_{i}}-p_{i}^{\alpha _{i}-1})$</p><p>总为偶数，从而此时 $\varphi(n)\equiv 0(\mbox{mod} 2) $</p><p>$\boldsymbol ②$ 若 $n$ 没有奇素数因子，由于 $n\geq 3$，则 $n=2^{k},k\geq 2$，此时 $\varphi(n)=2^{k-1}$ 也为偶数</p><p>从而 $\forall n\geq 3$，$\varphi(n)$ 为偶数</p><h2 id="习题1-2-7"><a href="#习题1-2-7" class="headerlink" title="习题1.2.7"></a>习题1.2.7</h2><p>设 $m$ 和 $n$ 是正整数，$m=n t(t \in \mathbf{Z})$. 证明: 模 $n$ 的每个同余类都是模 $m$ 的 $t$ 个同余类之并。</p><hr><p>证明：对 $m$ 中特定 $\overline{a}$ ，取 $\overline{a},\overline{a}+\overline{n},\cdots ,\overline{a}+(t-1)\overline{n}$ 共 $t$ 个同余类，这些元素均模 $n$ 余数为 $a$ 模</p><p> $n$，而 $\overline{a}$ 取遍 $0,1,\cdots,n-1$，得到模 $n$ 的每个同余类。</p><h2 id="习题1-2-10-1"><a href="#习题1-2-10-1" class="headerlink" title="习题1.2.10"></a>习题1.2.10</h2><p>设 $a, m \in \mathbf{Z}, m \geqslant 2,(a, m)=1$. 计算 $\displaystyle \sum_{x=0}^{m-1}\left[\frac{a x}{m}\right]$.</p><hr><p>解：由于 $\{ax\big |x=0,1,\cdots ,m-1\}$ 为 $m$ 的完系，则拆开 $\displaystyle \left[\frac{a x}{m}\right]=\dfrac{ax}{m}-\{\dfrac{ax}{m}\}$，则</p><script type="math/tex; mode=display">\begin{gathered}\displaystyle \sum_{x=0}^{m-1}\left[\frac{a x}{m}\right]=\dfrac{a}{m}\sum_{x=0}^{m-1}x-\dfrac{1}{m}(0+1+\cdots +(m-1))=\dfrac{a}{m}\cdot\dfrac{m(m-1)}{2}-\dfrac{m(m-1)}{2m}\\=\dfrac{a(m-1)}{2}-\dfrac{m-1}{2}=\dfrac{(a-1)(m-1)}{2}\end{gathered}</script><blockquote><p>更一般地，对 $\forall  a,m\in \mathbf{Z}$，都有 $\displaystyle \sum_{x=0}^{m-1}\left[\frac{a x}{m}\right]=\dfrac{am-a-m+(a,m)}{2}$</p></blockquote><h2 id="习题2-2-1"><a href="#习题2-2-1" class="headerlink" title="习题2.2.1"></a>习题2.2.1</h2><p>设 $\alpha$ 是环 $Z_{m}$ 中非零元素。若存在 $Z_{m}$ 中非零元素 $\beta(\neq \overline{0})$, 使得 $\alpha \beta=\overline{0}$, 称 $\alpha$ 是零因子，证明：</p><p>$(1)$ 非零元素 $\alpha$ 是零因子当且仅当 $\alpha$ 不可逆. 从而 $Z_{m}$ 由彼此不同的三类元素构成：$\overline{0}, \varphi(m)$ 个可逆</p><p>元和 $m-\varphi(m)-1$ 个零因子;</p><p>$(2)$ $Z_{m}$ 中没有零因子当且仅当 $m$ 是素数。</p><hr><p>证明：$(1)$ 若 $\alpha (\neq \overline{0})$ 是零因子，反证法，若 $\alpha $ 可逆，则 $\alpha\alpha^{-1}\equiv 1(\mbox{mod} m)$，两边乘以 $\beta(\neq \overline{0})$</p><p>得 $\alpha \beta \alpha^{-1}\equiv \beta(\mbox{mod} m)$，左边为 $0$，右边不为 $0$，矛盾，从而 $\alpha $ 不可逆；又若 $\alpha $ 不可逆，则有</p><p>$\forall  \beta\neq 0,\alpha \beta\neq 1$。则考虑 $\{0,\overline{\alpha },\overline{2\alpha},\cdots,\overline{(m-1)\alpha}\}$ ，该集合不为模 $m$ 的同余类，否则一定能</p><p>找到 $\overline{1}$ 与 $\alpha $ 不可逆的条件矛盾，则 $\exists i,j\in[1,m-1],\overline{i\alpha}=\overline{j\alpha}$，从而取 $\beta=i-j$，$\alpha $ 为零因子</p><p>$(2)$ 若 $m$ 为素数，$\varphi(m)=m-1$，则有 $m-\varphi(m)-1=0$ 个零因子</p><p>若 $m-\varphi(m)-1=0$ 成立，则 $\varphi(m)=m-1$，若 $m$ 为合数，$m=ab$，则 $a$ 和 $b$ 为零因子，</p><p>$\varphi(m)\leq m-1-2$ 矛盾</p><h2 id="习题2-2-2"><a href="#习题2-2-2" class="headerlink" title="习题2.2.2"></a>习题2.2.2</h2><p>$(1)$ 对于环 $Z_{m}$ 中任何元素 $\alpha$，$m$ 个 $\alpha$ 相加为 $\overline{0}$.</p><p>$(2)$ 设 $p$ 为素数. 对于域 $Z_{p}$ 中非零元素 $\alpha$ 和正整数 $n$，证明： $n$ 个 $\alpha$ 相加为 $\overline{0}$ 当且仅当 $p \mid n$。</p><hr><p>证明：$(1)$ 由 $\alpha_{i}=\alpha_{0}+k_{i}\cdot m$，这些 $m$ 个 $\alpha $ 之和为 $m\alpha_{0}+m\displaystyle \sum_{i=1}^{m}k_{i}$，均模 $m$ 余 $0$</p><p>而且对于 $\overline{0}$ 中的所有元素 $Km$，都能找到 $k_{i}$ 使得 $\alpha_{0}+\displaystyle \sum_{k=1}^{m}k_{i}=K$，则相加为 $\overline{0}$</p><p>$(2)$ 若 $p\mid n$，有 $n$ 个 $\alpha $ 相加后模 $m$ 为 $0$，则 $n$ 个 $\alpha$ 相加为 $\overline{0}$；又若 $n$ 个 $\alpha$ 相加为 $\overline{0}$ 时</p><p>令 $\alpha_{i}=\alpha_{0}+k_{i}\cdot m$，相加后模 $m$ 得 $n\alpha_{0}\equiv 0(\mbox{mod} p)$，而 $\alpha_{0}=0,1,\cdots ,p-1$</p><p>$(\alpha_{0},p)=1$，则 $n\equiv 0(\mbox{mod} p)$，即 $p\mid n$</p><h2 id="习题2-2-3"><a href="#习题2-2-3" class="headerlink" title="习题2.2.3"></a>习题2.2.3</h2><p>证明当 $p$ 为奇素数时，$2^{p-1} \cdot\left(\left(\dfrac{p-1}{2}\right) !\right)^{2} \equiv(-1)^{\frac{p+1}{2}}(\bmod p)$。</p><hr><p>证明：$2^{p-1}(\dfrac{p-1}{2}\cdot\dfrac{p-3}{2}\cdots\dfrac{4}{2}\cdot \dfrac{2}{2})^{2}=(p-1)^{2}(p-3)^2\cdots 4^2\cdot 2^2$，使用<strong>补偿法</strong>有</p><script type="math/tex; mode=display">\begin{gathered}(p-1)^2(p-3)^2\cdots4^2\cdot2^2\equiv2\cdot 4\cdot 6\cdots(p-1)\cdot (p-1)\cdot (p-3)\cdots 4\cdot 2\\\equiv2\cdot 4\cdot 6\cdots (p-1)\cdot (p-(p-1))\cdot (p-(p-3))\cdots (p-4)\cdot (p-2)\cdot (-1)^{\frac{p-1}{2}}\\\equiv2\cdot 4\cdots (p-1)\cdot 3\cdot 5\cdots (p-2)\cdot (-1)^{\frac{p-1}{2}}\equiv (p-1)!(-1)^{\frac{p-1}{2}}\equiv (-1)^{\frac{p+1}{2}}(\mbox{mod}\ p)\end{gathered}</script><p>其中使用威尔逊定理，对素数 $p$ ，有 $(p-1)!\equiv-1(\mbox{mod} p)$</p><h2 id="习题2-2-4"><a href="#习题2-2-4" class="headerlink" title="习题2.2.4"></a>习题2.2.4</h2><p>对于整数 $m \geqslant 2$, 证明: $(m-1) ! \equiv-1(\bmod m)$ 当且仅当 $m$ 是素数。 (判别 $m$ 是否为素数)</p><hr><p>证明：若 $m$ 为素数，则由威尔逊定理得 $(m-1)!\equiv -1(\mbox{mod} m)$；若 $m$ 为合数，则 $m=ab$，</p><p>其中 $2\leq a\leq b$，则 $1\leq a,b\leq m-1$，从而 $(m-1)!$ 中一定能凑齐 $m$，此时模为 $0$</p><h2 id="习题2-2-5"><a href="#习题2-2-5" class="headerlink" title="习题2.2.5"></a>习题2.2.5</h2><p>若 $Z_{m}^{<em>}=\left\{\alpha_{1}, \cdots, \alpha_{\phi(m)}\right\}$，则 $Z_{m}^{</em>}=\left\{\alpha_{1}^{-1}, \cdots, \alpha_{\phi(m)}^{-1}\right\}$。如何将它转述成同余的语言?</p><hr><p>证明：缩系等价性证明在习题 $1.2.1$ 中。定义 $\alpha_{i}x_i\equiv 1(\mbox{mod} m)$ 中 $x_{i}$ 的可取值为 $\alpha_{i}^{-1}$ </p><p>转述为 $(\alpha_{i},m)=1$，所有 $\alpha_{i}$ 构成 $Z_{m}^<em>$，由 $\alpha_{i}x_{i}\equiv 1(\mbox{mod} m)$中，所有 $x_{i}$ 也构成 $Z_{m}^</em>$</p><h2 id="习题2-3-1"><a href="#习题2-3-1" class="headerlink" title="习题2.3.1"></a>习题2.3.1</h2><p>设 $n$ 和 $m$ 是互素的正整数，证明： $m^{\varphi(n)}+n^{\varphi(m)}\equiv1(\bmod m n)$。</p><hr><p>证明：由欧拉-费马定理，$m^{\varphi(n)}\equiv1(\mbox{mod} n),n^{\varphi(m)}\equiv1(\mbox{mod} m)$，且由$\varphi(x)\geq 1$，得</p><p>$m^{\varphi(n)}\equiv0(\mbox{mod} m),n^{\varphi(m)}\equiv0(\mbox{mod} n)$，从而</p><script type="math/tex; mode=display">m^{\varphi(n)}+n^{\varphi(m)}\equiv 1(\bmod m),m^{\varphi(n)}+n^{\varphi(m)}\equiv 1(\bmod n)</script><p>则 $m^{\varphi(n)}+n^{\varphi(m)}=1+mk_1=1+nk_2$，由于 $(m,n)=1$，则 $n\mid k_1$，原式成立</p><h2 id="习题2-3-2"><a href="#习题2-3-2" class="headerlink" title="习题2.3.2"></a>习题2.3.2</h2><p>$(1)$ 对每个与 $10$ 互素的整数 $a$, 证明: $a^{20} \equiv 1(\bmod 100)$；</p><p>$(2)$ 求 $3^{193}$ 的十进制表达式中的个位和十位数字。</p><hr><p>解：$(1)$ 由 $\varphi(4)=2,\varphi(25)=20$，结合 $(a,4)=(a,25)=1$ 有 $a^{20}\equiv 1(\bmod 25)$，</p><p>$a^2\equiv 1(\bmod 4)$，$a^{20}\equiv (a^2)^{10}\equiv 1(\bmod 4)$，而 $(4,25)=1$，则 $a^{20}\equiv 1(\bmod 100)$</p><p>$(2)$ 由 $3^{193}\equiv 3^{160}\cdot 3^{33}\equiv 27^{11}\equiv 2^{11}\equiv 23(\bmod 25)$，且 $3^{193}\equiv (-1)^{193}\equiv 3(\bmod 4)$，</p><p>从而最后两位为 $23$</p><h2 id="习题2-3-3"><a href="#习题2-3-3" class="headerlink" title="习题2.3.3"></a>习题2.3.3</h2><p>$(1)$ 设 $a, b \in \mathbf{Z}, n \geqslant 1, p$ 为素数。如果 $a \equiv b\left(\bmod p^{n}\right)$，证明：对每个整数 $k \geqslant 0$，</p><script type="math/tex; mode=display">a^{p^{k}} \equiv b^{p^{k}}\left(\bmod p^{n+k}\right)</script><p>$(2)$ 证明: 对每个奇数 $a$ 和 $k \geqslant 1, a^{2^{k}} \equiv 1\left(\bmod 2^{k+2}\right)$.</p><hr><p>证明：$(1)$ 令 $b=a+x\cdot p^{n},x\in Z$，代入使用二项式展开有</p><script type="math/tex; mode=display">b^{p^{k}}-a^{p^{k}}=(a+x\cdot p^{n})^{p^{k}}-a^{p^{k}}=\displaystyle \sum_{i=1}^{k}C_{p^{k}}^{i}b^{i}(x\cdot p^{n})^{p^{k}-i}</script><p>其中 $p^{k}\mid C_{p^{k}}^{i}$，且有 $p^{n}\mid (x\cdot p^{n})^{p^{k}-i}$，从而 $a^{p^{k}} \equiv b^{p^{k}}\left(\bmod p^{n+k}\right)$</p><p>$(2)$ 由 $a$ 为奇数，令 $a=2i+1$，则 $a^{2}=4i(i+1)+1$，且 $i$ 和 $i+1$ 一奇一偶，从而</p><p>$a^{2}\equiv 1(\bmod 2^{3})$，代入 $\small (1)$ 中结论有 $(a^2)^{2^k}\equiv 1(\bmod 2^{3+k})$，令 $k’=k+1\geq 1$ 则有</p><p>$k’ \geqslant 1, a^{2^{k’}} \equiv 1\left(\bmod 2^{k’+2}\right)$，得证</p><h1 id="large-textcolor-blue-初等数论第四次作业-textcolor-blue-2022-3-15"><a href="#large-textcolor-blue-初等数论第四次作业-textcolor-blue-2022-3-15" class="headerlink" title="$\large\textcolor{blue}{初等数论第四次作业}      _\textcolor{blue}{2022.3.15}$"></a>$\large\textcolor{blue}{初等数论第四次作业}      _\textcolor{blue}{2022.3.15}$</h1><h2 id="习题2-1-3"><a href="#习题2-1-3" class="headerlink" title="习题2.1.3"></a>习题2.1.3</h2><p>解下列同余方程。</p><p>$(1)$ $8 x \equiv 5(\bmod 23)$;                $(2)$ $60 x \equiv 7(\bmod 37)$.</p><hr><p>解：$(1)$ 由 $(8,23)=1$，则在 $Z_{23}$ 中有唯一解，利用费马小定理</p><script type="math/tex; mode=display">x\equiv 8^{\varphi(23)-1}\cdot 5\equiv 8^{21}\cdot 5\equiv 64^{10}\cdot 40\equiv 5^{10}\cdot( -6)\equiv -(25)^{5}\cdot 6\equiv -2^{5}\cdot 6\equiv 15\pmod {23}</script><p> $(2)$ 由 $(60,37)=1$，则在 $Z_{37}$ 中有唯一解，利用费马小定理</p><script type="math/tex; mode=display">\begin{gathered}x\equiv 60^{\varphi(37)-1}\cdot 7\equiv(-14)^{35}\cdot 7\equiv 196^{17}\cdot 13\equiv 11^{17}\cdot 13\\\equiv 10^{8}\cdot (-5)\equiv -5\cdot 11^4 \equiv -5\cdot 10^2\equiv (-5)\cdot (-11)\equiv 18\pmod{37}\end{gathered}</script><h2 id="习题2-1-4"><a href="#习题2-1-4" class="headerlink" title="习题2.1.4"></a>习题2.1.4</h2><p>对每个整数 $n$，证明：</p><script type="math/tex; mode=display">\begin{gathered}(1) n^{2} \neq 2(\bmod 3);&(2) n^{2} \equiv 0 或 1(\bmod 4);\\(3) n^{3} \equiv 0,1 或 -1(\bmod 9) ;&(4) n^{4} \equiv 0 或 1(\bmod 16).\end{gathered}</script><hr><p>证明：$(1)$ 由费马小定理，若 $(n,3)=1,n^{\varphi(3)}\equiv n^2\equiv 1\pmod 3$，且若 $(n,3)&gt;1$，则 $3\mid n$，</p><p>此时有 $n^2\equiv 0\pmod 3$，则 $n^2\neq2 \pmod 3$</p><p>$(2)$ 由费马小定理，若 $(n,4)=1,n^{\varphi(4)}\equiv n^2\equiv 1\pmod 4$，且若 $(n,4)&gt;0$，有 $2\mid 4$</p><p>此时有 $n^2\equiv 0\pmod 4$，则 $n^2\equiv 0或1 \pmod 4$</p><p>$(3)$ 由费马小定理，若 $(n,9)=1,n^{\varphi(9)}\equiv n^6\equiv 1\pmod 9$，即此时 $n^{3}\equiv \pm 1\pmod 9$</p><p>若 $(n,9)&gt;1$，则 $3\mid 9$，此时 $n^3\equiv 0\pmod 9$，则 $n^3\equiv 0,\pm 1\pmod 9$</p><p>$(4)$ 由费马小定理，若 $(n,16)=1,n^{\varphi(16)}\equiv n^{8}\equiv 1\pmod {16}$，此时分解因式有</p><script type="math/tex; mode=display">(n^4-1)(n^4+1)\equiv 0\pmod{16}</script><p>而 $n^4\equiv 1\pmod{8}$，故 $n^4\equiv 1,9\pmod{16}$ 综上有 $n^4\equiv 0,1\pmod{16}$</p><h2 id="习题2-1-5"><a href="#习题2-1-5" class="headerlink" title="习题2.1.5"></a>习题2.1.5</h2><p>设 $a$ 为奇数, $n \geqslant 1 .$ 证明: $a^{2^{n}} \equiv 1\left(\bmod 2^{n+2}\right)$</p><hr><p>证明：（<strong>使用归纳法，二项式展开较复杂</strong>）对 $n=1$ 时成立（第一次作业第一题）</p><p>若 $n=k$ 时成立，即 $a^{2^{k}}\equiv 1\pmod {2^{k+2}}$则存在 $t\in Z ,a^{2^{k}}=1+2^{k+2}\cdot t$，则</p><script type="math/tex; mode=display">a^{2^{k+1}}\equiv(a^{2^{k}})^2\equiv(1+2^{k+2}t)^2\equiv1+2^{k+3}t+2^{2k+4}t^2\equiv 1\pmod{2^{k+3}}</script><p>由数学归纳法知，对 $\forall  n\geq 1$ 均成立</p><h2 id="习题2-4-1"><a href="#习题2-4-1" class="headerlink" title="习题2.4.1"></a>习题2.4.1</h2><p>解下列同余方程：$(1)$ $32 x \equiv 12(\bmod 8)$;      $(2)$ $28 x \equiv 124(\bmod 116)$;     $<br>\text { (3) } 5 x \equiv 44(\bmod 81)$</p><hr><p>解：$(1)$ 由判定 $(32,8)=8\nmid 12$，则在 $Z_{8}$ 下无解</p><p>$(2)$ 由判定 $(28,116)=4\mid 124$，则在 $Z_{116}$ 下有 $4$ 组解， $7x\equiv 31\pmod{29}$，由费马小定理</p><script type="math/tex; mode=display">x\equiv 7^{\varphi(29)-1}\cdot 31\equiv 7^{27}\cdot 2\equiv 49^{13}\cdot 14\equiv -9^{13}\cdot 14\equiv 6^{6}\cdot 19\equiv 7^{3}\cdot 19\equiv 21\pmod {29}</script><p>则解为 $x\equiv 21,50,79,108$</p><p>$(3)$ 由判定 $(5,81)=1\mid 44$，则在 $Z_{81}$ 下有 $1$ 组解，有 $5x\equiv 44\equiv 125\pmod{81}$</p><p>得 $x\equiv 25\pmod{81}$</p><h2 id="习题2-4-2"><a href="#习题2-4-2" class="headerlink" title="习题2.4.2"></a>习题2.4.2</h2><p>解下列同余方程组：</p><p>$(1)$ $\left\{\begin{array}{l}x \equiv 1(\bmod 3), \ x \equiv 1(\bmod 5), \ x \equiv 2(\bmod 7) ;\end{array} \quad\right.$ $(2)$ $\left\{\begin{array}{l}x \equiv 2(\bmod 4), \ x \equiv 3(\bmod 5) \ x \equiv 7(\bmod 9)\end{array}\right.$</p><hr><p>解：$(1)$ 由中国剩余定理，有 $M_1=35,M_2=21,M_3=15$，而对应有</p><script type="math/tex; mode=display">35M_1^{-1}\equiv 1\pmod{3},\ 21M_{2}^{-1}\equiv 1\pmod{5},\ 15M_{3}^{-1}\equiv 1\pmod{7}</script><p>得 $M_1^{-1}=2,M_{2}^{-1}=1,M_{3}^{-1}=1$，则 $x\equiv 35\cdot 2\cdot 1+21\cdot 1\cdot 1+15\cdot 1\cdot 2\equiv 16\pmod{105}$</p><p>$(2)$ 由中国剩余定理，有 $M_1=45,M_2=36,M_3=20$，而对应有</p><script type="math/tex; mode=display">45M_1^{-1}\equiv 1\pmod{4},\ 36M_{2}^{-1}\equiv 1\pmod{5},\ 20M_{3}^{-1}\equiv 1\pmod{9}</script><p>得 $M_1^{-1}=1,M_{2}^{-1}=1,M_{3}^{-1}=5$，则 $x\equiv 45\cdot 1\cdot 2+36\cdot 1\cdot 3+20\cdot 5\cdot 7\equiv 178\pmod{180}$</p><h2 id="习题2-4-3"><a href="#习题2-4-3" class="headerlink" title="习题2.4.3"></a>习题2.4.3</h2><p>用中国剩余定理解同余方程 $37 x \equiv 31(\bmod 77)$.</p><hr><p>解：由 $77=7\cdot 11$，对质因数 $7$ 而言， $37x\equiv 31\equiv185\pmod{7}$，则 $x\equiv 5\pmod{7}$</p><p>对质因数 $11$ 而言，$37x\equiv 31\equiv 185\pmod{11}$，则 $x\equiv 5\pmod{11}$</p><p>则由中国剩余定理，显然 $x\equiv 5\pmod{77}$，为原方程的解，且该解唯一</p><h2 id="习题2-4-4"><a href="#习题2-4-4" class="headerlink" title="习题2.4.4"></a>习题2.4.4</h2><p>求 $2^{400}$ 被 $319$ 除的余数.</p><hr><p>解：$319=11\cdot 29$，对质因数 $11$ ，$2^{400}\equiv32^{80}\equiv (-1)^{80}\equiv 1\pmod{11}$，对质因数 $29$ </p><script type="math/tex; mode=display">2^{400}\equiv 32^{80}\equiv 3^{80}\equiv 27^{26}\cdot 9\equiv 2^{26}\cdot 9\equiv 32^{5}\cdot 18\equiv 3^{5}\cdot 18\equiv 27^2\cdot 6\equiv 24\pmod{29}</script><p>则转化成一次同余方程组 $\begin{cases}2^{400}\equiv 1\pmod{11}\\2^{400}\equiv 24\pmod{29}\end{cases}$，由中国剩余定理有</p><p>$M_1=29,M_2=11,M_1^{-1}\cdot 29\equiv 1\pmod{11},M_2^{-1}\cdot 11\equiv 1\pmod{29}$</p><p>解得 $M_1^{-1}=8,M_{2}^{-1}=8$，则 $2^{400}\equiv 29\cdot 8+11\cdot 8\cdot 24\equiv 2344\equiv 111\pmod{319}$</p><h2 id="习题2-4-5"><a href="#习题2-4-5" class="headerlink" title="习题2.4.5"></a>习题2.4.5</h2><p>设 $m_{1}, m_{2}$ 是正整数, $b_{1}, b_{2} \in \mathbf{Z}$. 证明: 同余方程组</p><script type="math/tex; mode=display">\left\{\begin{array}{l}x \equiv b_{1}\left(\bmod m_{1}\right), \\x \equiv b_{2}\left(\bmod m_{2}\right)\end{array}\right.</script><p>有整数解的充分必要条件是 $\left(m_{1}, m_{2}\right) \mid b_{1}-b_{2}$，且此条件成立时, 解为模 $\left[m_{1}, m_{2}\right]$ 的一个同余类.</p><hr><p>证明：$(1)$ <strong>充要性</strong>：若 $\left\{\begin{array}{l}x \equiv b_{1}\left(\bmod m_{1}\right), \\x \equiv b_{2}\left(\bmod m_{2}\right)\end{array}\right.$ 有整数解，则 $x=m_1y_1+b_1=m_2y_2+b_2$，</p><p>两边除以 $(m_1,m_2)$ 得到 $\dfrac{b_1-b_2}{(m_1,m_2)}=\dfrac{m_2y_2-m_1y_1}{(m_1,m_2)}\in Z$，此时有 $(m_1,m_2)\mid b_1-b_2$</p><p>若 $(m_1,m_2)\mid b_1-b_2$，有 $\dfrac{m_2y_2-m_1y_1}{(m_1,m_2)}=\dfrac{b_1-b_2}{(m_1,m_2)}\in Z$，而 $(\dfrac{m_1}{(m_1,m_2)},\dfrac{m_2}{(m_1,m_2)})=1$</p><p>由辗转相除法知，一定存在 $y_{10},y_{20}$，使得 $\dfrac{-m_1}{(m_1,m_2)}y_{10}+\dfrac{m_2}{(m_1,m_2)}y_{20}=1$</p><p>则扩大 $\dfrac{b_1-b_2}{(m_1,m_2)}$ 倍得到 $y_1,y_2$ 的解，从而原同余方程组有解</p><p>$(2)$ <strong>同余类</strong>：若上述条件成立时，对 $\dfrac{-m_1}{(m_1,m_2)}y_{10}+\dfrac{m_2}{(m_1,m_2)}y_{20}=1$ 有 $y_{10}$ 对应解</p><p>所在同余类为模 $\dfrac{m_2}{(m_1,m_2)}$ ，而 $x=m_1y_1+b_1$ 则解为模 $\dfrac{m_1m_2}{(m_1,m_2)}=[m_1,m_2]$</p><h2 id="习题2-4-6"><a href="#习题2-4-6" class="headerlink" title="习题2.4.6"></a>习题2.4.6</h2><p>设 $m_{1}$ 和 $m_{2}$ 是互素的正整数. 证明:</p><p>$(1)$ 若 $S_{1}$ 和 $S_{2}$ 分别是模 $m_{1}$ 和模 $m_{2}$ 的完系. 则</p><script type="math/tex; mode=display">S=\left\{m_{1} x_{1}+m_{2} x_{2} \mid x_{1} \in S_{2}, x_{2} \in S_{1}\right\}</script><p>是模 $m_{1} m_{2}$ 的完系;</p><p>(2) 若 $S_{1}$ 和 $S_{2}$ 分别是模 $m_{1}$ 和模 $m_{2}$ 的缩系, 则</p><script type="math/tex; mode=display">S=\left\{m_{1} x_{1}+m_{2} x_{2} \mid x_{1} \in S_{2}, x_{2} \in S_{1}\right\}</script><p>是模 $m_{1} m_{2}$ 的缩系. (由此可知 $\varphi\left(m_{1} m_{2}\right)=\varphi\left(m_{1}\right) \varphi\left(m_{2}\right)$ )</p><hr><p>解：$(1)$ 对 $S$ 中的每个元素 $x_1=m_2y_1+t_1\in S_2,x_2=m_1y_2+t_2\in S_1$</p><p>$m_1x_1+m_2x_2=m_1m_2(y_1+y_2)+t_1m_1+t_2m_2$，其中， $y_1+y_2\in Z$ 能取遍所有整数</p><p>又由 $(m_1,m_2)=1$，由辗转相除法知 $\exists t_{10},t_{20}\in Z$，使得 $t_{10}m_1+t_{20}m_2=1$，</p><p>从而 $t_1m_1+t_2m_2$ 也能取遍 $0,1,\cdots ,m_1m_2-1$，则 $S$ 为模 $m_1m_2$ 的完系</p><p>$(2)$ 与 $\small(1)$ 相比，对 $t_1m_1+t_2m_2$ 中 $t_1,t_2$ 不是任意整数，需满足 $(t_1,m_2)=1,(t_2,m_1)=1$</p><p>此时 $t_1m_1+t_2m_2\nmid m_1m_2$，且由辗转相除法知，存在 $t_{10},t_{20}$ 使得 $t_{10}m_1+t_{20}m_2=1$</p><p>且反证法若 $d=(t_{10},m_2)&gt;1$，则上式对 $d$ 同余有 $1\equiv 0\pmod{d}$，矛盾，$t_{10},t_{20}$ 满足条件</p><p>对 $\forall  0\leq x\leq m_1m_2-1,(x,m_1m_2)=1$ $(x,m_1)=(x,m_2)=1$，取 $xt_{10},xt_{20}$ 满足条件</p><p>从而 $S$ 为 $m_1m_2$ 的缩系</p><h2 id="习题2-4-7"><a href="#习题2-4-7" class="headerlink" title="习题2.4.7"></a>习题2.4.7</h2><p>设 $n$ 为正整数，证明：必有连续 $n$ 个正整数，其中每个整数均被某个大于 $1$ 的整数的平方所除尽。</p><hr><p>证明：构造一次同余方程 $\begin{cases}x\equiv 0\pmod{2^2}\\x\equiv -1\pmod{3^2}\\x\equiv -2\pmod{5^2}\\\qquad\vdots\\x\equiv -(n-1)\pmod{p_{n}^2}\end{cases}$，其中 $p_n$ 为第 $n$ 个素数</p><p>对 $\forall  p_i,p_j,(p_i^{2},p_j^2)=1$，由中国剩余定理，一定有最小正整数解 $x_{min}(n)$ 满足上述方程</p><p>该 $x_{min}$ 能保证序列 $x_{min},x_{min}+1,\cdots,x_{min}+(n-1)$ 中任何数能被某个大于 $1$ 的整数平方整除</p><h1 id="large-textcolor-blue-初等数论第五次作业-textcolor-blue-2022-3-22"><a href="#large-textcolor-blue-初等数论第五次作业-textcolor-blue-2022-3-22" class="headerlink" title="$\large\textcolor{blue}{初等数论第五次作业}      _\textcolor{blue}{2022.3.22}$"></a>$\large\textcolor{blue}{初等数论第五次作业}      _\textcolor{blue}{2022.3.22}$</h1><h2 id="习题3-1-2"><a href="#习题3-1-2" class="headerlink" title="习题3.1.2"></a>习题3.1.2</h2><p>$a$ 对模 $m$ 和模 $n$ 的阶分别为 $s$ 和 $t$, 证明: $a$ 对模 $[m, n]$ 的阶为 $[s, t]$.</p><hr><p>证明：由 $a$ 对模 $m$ 和 模 $n$ 的阶为 $s,t$，则 $a^{s}\equiv 1\pmod m,a^{t}\equiv 1\pmod n$</p><p>则令 $a$ 对 $[m,n]$ 的阶为 $r$，即 $a^{r}\equiv 1\pmod{[m,n]}$，有 $m,n\mid [m,n]$，则 $s,t\mid r$，则 $[s,t]\mid r$</p><p>又 $a^{[s,t]}\equiv (a^{s})^{\frac{[s,t]}{s}}\equiv 1\pmod{m},a^{[s,t]}\equiv (a^{t})^{\frac{[s,t]}{t}}\equiv 1\pmod{n}$，则 $a^{[s,t]}\equiv 1\mod{[m,n]}$</p><p>从而 $r\mid [s,t]$，则 $r=[s,t]$，即 $a$ 对模 $[m,n]$ 的阶为 $[s,t]$</p><h2 id="习题3-1-5"><a href="#习题3-1-5" class="headerlink" title="习题3.1.5"></a>习题3.1.5</h2><p>若 $n$ 和 $a$ 均是正整数, $a \geqslant 2$. 证明: $n \mid \varphi\left(a^{n}-1\right)$.</p><hr><p>证明：考虑 $a$ 模 $a^{n}-1$ 的阶 $r$，有 $a^{n}\equiv 1\pmod{a^{n}-1}$，则 $r\mid n$，若 $r=\dfrac{n}{d},d\geq 2$</p><p>但 $a^{r}=\sqrt[d]{a^{n}}\leq a^{n}-1$，则此时 $a^{r}\not\equiv 1\pmod{a^{n}-1}$，从而 $d=1$，即 $a$ 模 $a^{n}-1$ 阶为 $n$</p><p>由 $a$ 模 $a^{n}-1$ 阶一定为 $\varphi(a^{n}-1)$ 的因子，从而 $n\mid \varphi(a^{n}-1)$</p><h2 id="习题3-1-6"><a href="#习题3-1-6" class="headerlink" title="习题3.1.6"></a>习题3.1.6</h2><p>如果 $n \geqslant 2$, 证明: $n \not\mid 2^{n}-1$.</p><hr><p>证明：由于 $2^n-1\equiv 1\pmod{2}$，若 $2\mid n$，则 $n\not\mid 2^{n}-1$，若 $2\not\mid n$，令 $n$ 最小奇素数因子 $p$ </p><p>则 $n=pt,t\in Z$，反证法若 $n\mid 2^n-1$，令 $2^n=1+nx=2^{pt}=1+ptx,x\in Z$</p><p>有 $2^{pt}\equiv 1\pmod{p}$，而费马小定理给出 $2^{p-1}\equiv 1\pmod{p},2^p\equiv 2\pmod{p}$ 由 $pt\mid p-1$ 矛盾</p><h2 id="习题3-1-7"><a href="#习题3-1-7" class="headerlink" title="习题3.1.7"></a>习题3.1.7</h2><p>设 $p$ 是奇素数, $n \geqslant 1$. 证明:</p><script type="math/tex; mode=display">\sum_{k=1}^{p-1} k^{n} \equiv \begin{cases}-1(\bmod p), & \text { 如果 } p-1 \mid n, \\ 0(\bmod p), & \text { 如果 } p-1 \not\mid n .\end{cases}</script><hr><p>证明：由于 $p$ 为奇素数，令其原根为 $g$，则 $Z_{p}=\{1,2,\cdots ,p-1\}=\{g,g^2,\cdots,g^{p-1}\}$</p><p>从而求和式 $\displaystyle \sum_{k=1}^{p-1}k^{n}\equiv \sum_{k=1}^{p-1}g^{n}\pmod{p}$，若 $p-1\mid n$，由费马小定理 $g^{n}\equiv g^{p-1}\equiv 1\pmod{p}$</p><p>此时 $\displaystyle \sum_{k=1}^{p-1}k^{n}\equiv \sum_{k=1}^{p-1}1\equiv -1\pmod{p}$，若 $p-1\not\mid n$，则由等比数列求和</p><script type="math/tex; mode=display">\sum_{k=1}^{p-1}g^n\equiv \dfrac{g^{n}(1-g^{p-1})}{1-g^{n}}\equiv \dfrac{g^{n}\cdot 0}{1-g^{n}}(1-g^{n}\neq 0)\equiv 0\pmod{p}</script><p>从而 $\sum_{k=1}^{p-1} k^{n} \equiv \begin{cases}-1(\bmod p), &amp; \text { if } p-1 \mid n, \ 0(\bmod p), &amp; \text { if } p-1 \not\mid n .\end{cases}$</p><h2 id="习题3-1-8"><a href="#习题3-1-8" class="headerlink" title="习题3.1.8"></a>习题3.1.8</h2><p>$(1)$ 设 $F_{n}=2^{2^{n}}+1$ (费马数), $n \geqslant 1$. 证明: $F_{n}$ 的每个素因子都有形式 $2^{n+1} x+1(x \in \mathbf{Z})$.</p><p>$(2)$ 对任意给定的整数 $l \geqslant 1$, 证明: 有无穷多个素数模 $2^{l}$ 余 1 .</p><hr><p>证明：$(1)$ 对每个 $F_{n}$ 的奇素数因子 $p$，有 $2^{p-1}\equiv 1\pmod{p}$，而 $2^{2^{n}}\equiv -1\pmod{p}$，两边平方</p><p>$2^{2^{n+1}}\equiv 1\pmod{p}$，从而令 $2$ 模 $p$ 的次数为 $r$，则 $r\mid2^{n+1}$，$r=2^{k}$，显然 $k\neq n$，因为</p><p>$2^{2^{n}}\equiv -1\pmod{p}$，若 $k&lt;n$，则重复 $n-k$ 次平方操作得到 $2^{2^{n}}\equiv 1\pmod{p}$ 与条件矛盾</p><p>从而 $r=2^{n+1}$，结合 $2^{p-1}\equiv 1\pmod{p}$ 可得 $2^{n+1}\mid p-1$</p><p>$(2)$ 对任意两个不相同的费马数，$F_{m},F_{n}$ ，不妨设 $m\geq n,m=n+k,k\geq 1\in Z$</p><p>则 $F_{m}=2^{2^{m+n}}+1=(2^{2^{n}})^{2^k}+1=(F_{n}-1)^{2^k}+1=p(F_n)+2$，其中 $p(F_n)$ 为多项式</p><p>从而 $(F_{m},F_n)\mid 2$，又 $x\not\mid F_{n},F_m$，则 $(F_m,F_n)=1$，即所有费马数两两互素，而每个 $F_n$ </p><p>都至少有一个素因子模 $2^{n+1}$ 余 $1$，且不同费马数素因子不重合，则对给定的 $l$，取 $n\geq l-1$</p><p>则这些无穷个的费马数模 $2^{n+1}$ 余 $1$，则也模 $2^{l}$ 余 $1$</p><h2 id="习题3-1-9"><a href="#习题3-1-9" class="headerlink" title="习题3.1.9"></a>习题3.1.9</h2><p>$(1)$ 设 $p$ 为奇素数, $a \geqslant 2$. 证明: 若 $a^{p}-1$ 的素因子 $q$ 不整除 $a-1$，则必有形式 $q=2 p x+1(x \in Z)$.</p><p>$(2)$ 设 $p$ 为给定的奇素数, 证明：形如 $2 p x+1(x \in \mathbb{Z})$ 的素数有无限多个.</p><hr><p>证明：$(1)$ 由于 $q$ 为 $a^{p}-1$ 素因子，则 $a^p\equiv 1\pmod{q}$，由 $q\not\mid a-1$，得 $a\not\equiv 1\pmod{q}$</p><p>设 $a$ 为模 $q$ 的阶为 $r$，则有 $r\mid p$，又 $r\neq 1$，从而 $r=p$，有费马小定理 $a^{q-1}\equiv 1\pmod{q}$</p><p>从而 $r=p\mid q-1$；另一方面考虑奇偶性，若 $2 \mid a$，$2\not \mid a^{p}-1$，素因子 $q$ 为奇数，若 $2\not\mid a$，</p><p>$a^{p}-1$ 有素因子 $2$，但此时要求 $q$ 不整除 $a-1$，从而 $q\neq 2$，素因子 $q$ 也为奇数，则 $q-1$ 中</p><p>有素因子 $2$，而 $p$ 为奇素数，从而 $2p \mid q-1$</p><p>$(2)$ 构造 $a_1=2^{p}-1,a_n=(\displaystyle \prod_{i=1}^{n-1}a_i)^{p}-1$，满足两两互素，$a^{p}-1$ 总能有不整除 $a-1$ 的素因子 </p><p>否则所有素因子 $p_i=\dfrac{a-1}{k_i},k_i\geq 2\in Z$，相乘有 $a^p-1=\dfrac{(a-1)^{x}}{\displaystyle \prod_{i=1}^{x}k_i}$ 移项后有 </p><p>$(a^p-1)\displaystyle \prod _{i=1}^{x}k_i=(a-1)^x$，两边对 $a$ 取模得 $-\displaystyle \prod_{i=1}^xk_i\equiv (-1)^x\pmod{a}$ 矛盾</p><p>则两两互素的无穷整数数列 $\{a_n\}$ 中每个数都存在形如 $2px+1$ 的素因子，共无穷多个</p><h2 id="柯召讲义5-1"><a href="#柯召讲义5-1" class="headerlink" title="柯召讲义5.1"></a>柯召讲义5.1</h2><p>证明: $m$ 是一个素数的充分必要条件是存在某个整数 $a, a$ 对模数 $m$ 的次数为 $m-1$.</p><hr><p>证明：$1^{\circ}$ 若 $m$ 为一个素数，由素数必有原根可知，$\exists a\in Z$，使得 $a$ 模 $m$ 的阶数为 $m-1$ </p><p>$2^{\circ}$ 若对某个 $a\in Z$，$a^{r}\equiv 1\pmod{m}$ 的最小正整数（阶数 $r$ ）为 $m-1$，有 $(a,m)=1$</p><p>由费马小定理 $a^{\varphi(m)}\equiv 1\pmod{m}$，得 $m-1\mid \varphi(m)$，若 $m$ 不是素数，$m\geq 2$，令</p><script type="math/tex; mode=display">m=p_1^{l_1}\cdots p_{s}^{l_s},\varphi(m)=m\prod _{i=1}^{s}(1-\dfrac{1}{p_i})\leq m\prod _{i=1}^{s}(1-\dfrac{1}{p_i^{l_i}})< m(1-\prod_{i=1}^{s}\dfrac{1}{p_i^{l_i}})=m-1</script><p>从而 $m$ 为素数</p><h2 id="柯召讲义5-2"><a href="#柯召讲义5-2" class="headerlink" title="柯召讲义5.2"></a>柯召讲义5.2</h2><p>设 $g$ 是奇素数 $p$ 的一个原根, 证明: 当 $p \equiv 1(\bmod 4)$ 时, $-g$ 也是 $p$ 的一个原根; 当 $p \equiv 3(\bmod 4)$ 时, $-g$ 对 $p$ 的次数为 $\dfrac{p-1}{2}$.</p><hr><p>证明：若 $g$ 是奇素数 $p$ 的一个原根，则满足 $g^{r}\equiv 1\pmod{p}$ 的最小 $r=p-1$，而 $2\mid p-1$</p><p>则 $(-g)^{p-1}\equiv g^{p-1}\equiv 1\pmod{p}$，且若存在 $1\leq r’&lt; p-1$，使得 $(-g)^{r’}\equiv 1\pmod{p}$</p><p>$r’$ 不能是偶数，否则与阶数矛盾，则 $2\not \mid p$，有 $g^{r’}\equiv -1\pmod{p}$，则 </p><script type="math/tex; mode=display">g^{2r'}-1\equiv (g^{r'}+1)\cdot (g^{r'}-1)\equiv 0\pmod{p},g^{2r'}\equiv 1\pmod{p}</script><p>则 $2r’\mid r$，由于 $r’$ 为奇数，若 $p\equiv 1\pmod{4}$，则 $4\mid p-1$，此时 $r’$ 不存在，从而 $-g$ 也为原根</p><p>若 $p\equiv 3\pmod{4}$ ，有</p><script type="math/tex; mode=display">g^{p-1}-1\equiv (g^{\frac{p-1}{2}}-1)\cdot (g^{\frac{p-1}{2}}+1)\equiv 0\pmod{p}</script><p>且 $g^{\frac{p-1}{2}}\not \equiv 1\pmod{p}$ 否则不满足阶数的性质，则 $(-g)^{\frac{p-1}{2}}\equiv 1\pmod{p}$，若 $1\leq r’’&lt; \dfrac{p-1}{2}$</p><p>使得 $(-g)^{r’’}\equiv 1\pmod{p}$，首先 $r’’$ 不为偶数，若 $r’’$ 为奇数，则 $g^{r’’}\equiv -1\pmod{p}$</p><p>从而平方 $g^{2r’’}\equiv 1\pmod{p}$，则有 $2\leq 2r’’&lt;p-1 $ 使得 $g^{2r’’}\equiv 1\pmod{p}$ 与阶数矛盾</p><p>从而此时 $-g$ 对 $p$ 的阶数为 $\dfrac{p-1}{2}$</p><h1 id="large-textcolor-blue-初等数论第六次作业-textcolor-blue-2022-4-1"><a href="#large-textcolor-blue-初等数论第六次作业-textcolor-blue-2022-4-1" class="headerlink" title="$\large\textcolor{blue}{初等数论第六次作业}      _\textcolor{blue}{2022.4.1}$"></a>$\large\textcolor{blue}{初等数论第六次作业}      _\textcolor{blue}{2022.4.1}$</h1><h2 id="习题3-1-1"><a href="#习题3-1-1" class="headerlink" title="习题3.1.1"></a>习题3.1.1</h2><p>设 $m \geqslant 2$, 整数 $a$ 和 $b$ 模 $m$ 的阶分别为 $s$ 和 $t$, 并且 $(s, t)=1$. 证明 $a b$ 模 $m$ 的阶为 $s t$.</p><hr><p>证明：设 $ab$ 模 $m$ 的阶为 $r$，$(ab)^{r}\equiv 1\pmod{m}$，由 $(ab)^{st}\equiv (a^{s})^{r}\cdot (b^r)^{s}\equiv 1\pmod{m}$</p><p>得 $r\mid st$，则设 $st=pr,p\in Z \mbox{ and  p is  prime}$，由 $(s,t)=1$，则 $p\mid s$ 或 $p \mid t$，不妨设 $ p\mid s$ </p><p>令 $s=px,xt=r$，有 $(ab)^{r}\equiv (ab)^{xt}\equiv a^{xt}\cdot 1\equiv 1 \pmod{m}$</p><p>则 $s\mid xt$，由 $(s,t)=1$，得 $s\mid x$，又 $x\mid s$，可得 $s=x,p=1$，即 $r=st$</p><h2 id="习题3-1-4"><a href="#习题3-1-4" class="headerlink" title="习题3.1.4"></a>习题3.1.4</h2><p>$(1)$ 对于 $p=5,7,11,13,23$, 求模 $p$ 的最小正原根.</p><p>$(2)$ 求模 $7^{2}$ 的全部原根.</p><hr><p>解：$(1)$ 由在 $Z_5$ 下 $\{2,2^2,2^3,2^4\}=\{2,4,3,1\}$ ，则 $2$ 为 $5$ 的最小正原根</p><p>在 $Z_7$ 下 $\{2,2^2,2^3,2^4,2^5,2^6\}=\{2,4,1,2,4,1\},\{3,3^2,3^3,3^4,3^5,3^6\}=\{3,2,6,4,5,1\}$ </p><p>则 $3$ 为 $7$ 的最小正原根</p><p>在 $Z_{11}$ 下 $\{2,2^2,2^3,2^4,2^5,2^6,2^7,2^8,2^9,2^{10}\}=\{2,4,8,5,10,9,7,3,6,1\}$ ，则 $2$ 为 $11$ 的</p><p>最小正原根</p><p>在 $Z_{13}$ 下 $\{2,2^2,2^3,2^4,2^5,2^6,2^7,2^8,2^9,2^{10},2^{11},2^{12}\}=\{2,4,8,3,6,12,11,9,5,10,7,1\}$ </p><p>则 $2$ 为 $13$ 的最小正原根</p><p>在 $Z_{23}$ 下 $\{2,2^2,2^3,2^4,2^5,2^6,2^7,2^8,2^9,2^{10},2^{11}\}=\{2,4,8,16,9,18,13,3,6,12,1\}$ </p><p>$\{3,3^2,3^3,3^4\}=\{3,6,12,1\}$ 对 $5$ 而言</p><script type="math/tex; mode=display">\begin{gathered}\{5,5^2,5^3,5^4,5^5,5^6,5^7,5^8,5^9,5^{10},5^{11},5^{12},5^{13},5^{14},5^{15},5^{16},5^{17},5^{18},5^{19},5^{20},5^{21},5^{22}\}=\\\{5,2,10,4,20,8,17,16,11,9,22,18,21,13,19,3,15,6,7,12,14,1\}\end{gathered}</script><p>则 $5$ 为 $23$ 的最小正原根</p><p>$(2)$ 由定理， $7$ 有原根 $3$，则 $3$ 和 $10$ 必有一个为 $49$ 的原根，有 </p><script type="math/tex; mode=display">3^{2},3^{4},3^{6},3^{8},3^{12},3^{16},3^{24}\equiv 9,32,43,44,36,25,22\pmod{49}</script><p> 从而 $3$ 为 $49$ 的原根，有 $\varphi(\varphi(49))=\varphi(42)=12$ 个原根，有 $3^{r},(r,42)=1$ 均为原根，计算有 </p><p>$\{3,3^{5},3^{11},3^{13},3^{17},3^{19},3^{23},3^{25},3^{29},3^{31},3^{37},3^{41}\}=\{3,47,12,10,26,38,40,17,5,45,24,33\}$</p><p>则 $49$ 的所有原根为 $\begin{equation}\boxed{3, 5, 10 , 12, 17 , 24 , 26 , 33 , 38 , 40 , 45, 47}\end{equation}$，共 $12$ 个</p><h2 id="习题3-2-1"><a href="#习题3-2-1" class="headerlink" title="习题3.2.1"></a>习题3.2.1</h2><p>解同余方程:</p><p>$(1)$ $x^{8} \equiv 3 \pmod{13}$;</p><p>$(2)$ $x^{8} \equiv 3\pmod {143}$;</p><p>$(3)$ $7^{x} \equiv 4\pmod{17}$.</p><hr><p>解：$(1)$ 由上题知 $2$ 为 $13$ 的一个原根，则原式等价于 $8\mbox{ind}_2x\equiv \mbox{ind}_{2}3\pmod{12}$</p><p>由 $2^{4}\equiv 3\pmod{13}$ 得 $8\mbox{ind}_2x\equiv 4\pmod{12}$ 且 $(8,12)=4\mid 4$，代换有</p><p>$2\mbox{ind}_2x\equiv 1\equiv 4\pmod{3}$，$\mbox{ind}_2{x}\equiv 2,5,8,11$，得解为 $x_1\equiv 4,6,7,9\pmod{13}$</p><p>$(2)$ 结合 $x^8\equiv 3\pmod{11}$，由 $2$ 为 $11$ 的一个原根，等价于 $8\mbox{ind}_2x\equiv \mbox{ind}_23\equiv 8\pmod{10}$</p><p>由 $(8,10)=2\mid 10$，则有两个解，$\mbox{ind}_2x\equiv 1,6\pmod{10}$，则 $x_2\equiv 2,9\pmod{11}$</p><p>使用中国剩余定理，$11^{-1}\equiv 6\pmod{13},13^{-1}\equiv 6\pmod{11}$ 对应计算 $x_1\cdot 6\cdot 13+x_2\cdot 6\cdot 11$</p><script type="math/tex; mode=display">x\equiv 9,20,35,46,97,108,123,134 \pmod{143}</script><p>$(3)$ 对 $2$ 计算 $2^1,2^2,2^4,2^8\equiv 2,4,16,1\pmod{17}$，则 $2$ 不是 $17$ 的原根，同理对 $3$ 计算有</p><p>$3^1,3^2,3^4,3^8\equiv 3,9,13,16\pmod{17}$，则 $3$ 是 $17$ 的原根，则对 $7^{x} \equiv 4\pmod{17}$ 变换有</p><p>$x\mbox{ind}_{3}7\equiv \mbox{ind}_34\pmod{16}$ 有 $\mbox{ind}_37=11,\mbox{ind}_34=12$，则 $11x\equiv 12\pmod{16}$</p><p>$(11,16)=1\mid 12$ 只有一个整数解，得 $x\equiv 4\pmod{17}$</p><h2 id="习题3-2-2"><a href="#习题3-2-2" class="headerlink" title="习题3.2.2"></a>习题3.2.2</h2><p>$(1)$ 写出模 $37$ 的全部 $8$ 次剩余和 $15$ 次剩余. </p><p>$(2)$ 写出模 $11$ 的全部二次剩余.</p><hr><p>解：$(1)$ 取 $37$ 的一个原根 $2$，由 $(8,36)=4$，因此八次剩余 $a$ 满足的条件为： $4 \mid \operatorname{ind}_{2} a$ ，故 </p><p>$\operatorname{ind}_{2} a=4,8,12, \cdots, 36$ ，因此模 $37$ 的全部 $8$ 次剩余为: $a \equiv 2^{4}, 2^{8}, \cdots, 2^{36}(\bmod 37)$；</p><script type="math/tex; mode=display">a\equiv 16,34,26,9,33,10,12,7,1\pmod{37}</script><p>而 $(15,36)=3$ ，因此 $15$ 剩余 $a$ 满足的条件为：$3 \operatorname{ind}_{2} a$ ，故 $\operatorname{ind}_{2} a=3,6, \cdots, 36$ ，因此解为: </p><script type="math/tex; mode=display">a \equiv 2^{3}, 2^{6}, \cdots, 2^{36}\equiv 8,27,31,26,23,36,29,10,6,11,14,1 (\bmod 37)</script><p>$(2)$ 模 $11$ 的全部二次剩余为: $1^{2}, 2^{2}, \cdots, 5^{2}$ ，即 $1,3,4,5,9$</p><h2 id="习题3-2-3"><a href="#习题3-2-3" class="headerlink" title="习题3.2.3"></a>习题3.2.3</h2><p>设 $p$ 为素数, $p \equiv 2(\bmod 3), a$ 和 $b$ 是整数. 证明： $a^{3} \equiv b^{3}(\bmod p)$ 当且仅当 $a \equiv b(\bmod p)$.</p><hr><p>证明：若 $(a,p)=p$，则 $a\equiv b\equiv 0\pmod{p}$，否则 $(a,p)=1$ 令 $p=3k+2,k\geq 1$，有 </p><p>$a^{3}\equiv b^{3}\equiv c\pmod{p}$，且 $(c,p)=1$，由欧拉定理 $a^{3k+1}\equiv b^{3k+1}\equiv c^ka\equiv c^kb\equiv 1\pmod{p}$</p><p>从而 $a\equiv c^{-k}\equiv b\pmod{p}$</p><blockquote><p>设 $a^{3} \equiv b^{3} \equiv k(\bmod p)$ ，因为 $(3, p-1)=1$ ，故 $x^{3} \equiv k(\bmod p)$ 在模 $p$ 意义下仅有一个解， 故得证</p></blockquote><h2 id="习题3-2-4"><a href="#习题3-2-4" class="headerlink" title="习题3.2.4"></a>习题3.2.4</h2><p>设 $p$ 为奇素数, 整数 $a$ 模 $p$ 的阶为 $3$，求 $\dfrac{a}{a+1}$ 模 $p$ 的阶.</p><hr><p>解：由题设定义 $a$ 的数论倒数为 $b$，即 $ab\equiv 1\pmod{p}$，有 $(\dfrac{a}{a+1})^{-1}=1+\dfrac{1}{a}=1+b$</p><p>由 $x$ 与 $x^{-1}$ 模 $p$ 的阶是一样的，从而考虑 $1+b$ 模 $p$ 的阶，由满足 $a^{r}\equiv 1\pmod{p}$ 的最小正整数</p><p>为 $3$ ，也有 $b^3\equiv 1\pmod{p}$，$b^2+b+1\equiv 0\pmod{p}$，令 $1+b$ 模 $p$ 的阶为 $r’$，</p><p>有 $(1+b)^{r’}\equiv 1\pmod{p}$ ，有 $(1+b)^{1}\not\equiv 1\pmod{p},(1+b)^2\equiv b\not\equiv 1\pmod{p}$</p><p>但 $(1+b)^3\equiv 3(b^2+b+1)-2+b^3\equiv -1\pmod{p}$，而 $(1+b)^4\equiv -1\not\equiv 1\pmod{p}$</p><p>$(1+b)^5\equiv -b\not\equiv 1\pmod{p}$，且 $(1+b)^{6}\equiv 1\pmod{p}$，则 $\dfrac{a}{a+1}$ 模 $p$ 的阶为 $6$</p><h2 id="习题4-1-2"><a href="#习题4-1-2" class="headerlink" title="习题4.1.2"></a>习题4.1.2</h2><p>设 $p$ 为奇素数, $n$ 是最小正整数使得 $\left(\dfrac{n}{p}\right)=-1$. 证明: $n$ 为素数</p><hr><p>证明：由勒让德符号定义不存在整数 $x$ 使得 $x^2\equiv n\pmod{p}$，取 $p$ 的原根 $g$ 有 $n=g^{2j+1}$</p><p>若 $n$ 为合数，即 $n=n_1n_2$，由 $\left(\dfrac{n}{p}\right)=\left(\dfrac{n_1}{p}\right)\left(\dfrac{n_2}{p}\right)$ 可知 $n_1$ 和 $n_2$ 一定一者为 $1$，另一者为 $-1$</p><p>而显然为 $-1$ 的一者对应的 $n_i$ 更小，与题设矛盾，从而 $n$ 为素数</p><h1 id="large-textcolor-blue-初等数论第七次作业-textcolor-blue-2022-4-16"><a href="#large-textcolor-blue-初等数论第七次作业-textcolor-blue-2022-4-16" class="headerlink" title="$\large\textcolor{blue}{初等数论第七次作业}      _\textcolor{blue}{2022.4.16}$"></a>$\large\textcolor{blue}{初等数论第七次作业}      _\textcolor{blue}{2022.4.16}$</h1><h2 id="习题4-1-1"><a href="#习题4-1-1" class="headerlink" title="习题4.1.1"></a>习题4.1.1</h2><p>设 $p$ 为奇素数, $a, b \in \mathbf{Z},(a, p)=1$. 证明：</p><script type="math/tex; mode=display">\sum_{n=0}^{p-1}\left(\frac{a n+b}{p}\right)=0</script><hr><p>证明：由于 $(a,p)=1$，则 $a,a+b,\cdots,a(p-1)+b$ 构成模 $p$ 的完系，可用反证法证明</p><p>其中模 $p$ 的二次剩余和非二次剩余都为 $\dfrac{p-1}{2}$ 个，最后剩一个能被 $p$ 整除的</p><p>则 $\displaystyle \sum_{n=0}^{p-1}\left(\frac{a n+b}{p}\right)=\dfrac{p-1}{2}+(-1)\cdot \dfrac{p-1}{2}+0=0$</p><h2 id="习题4-1-3"><a href="#习题4-1-3" class="headerlink" title="习题4.1.3"></a>习题4.1.3</h2><p>证明形如 $8m+3,8m+5,8m+7$ 的素数均有无穷多个</p><hr><p>解：$(1)$ 反证，假设 $8m+3$ 的素数有限个，设为 $p_1.p_2,\cdots ,p_s$ 构造 $n=2(p_1p_2\cdots p_s)^2+1$ ，</p><p>由 $n\equiv 2\cdot (3^2)^{s}+1\equiv 3\pmod{8}$，则由假设 $n$ 为合数</p><p>设其素因子为 $p$，有 $2(p_1p_2\cdots p_s)^2\equiv -1\pmod{p}$，两边乘以 $2$，取勒让德符号</p><script type="math/tex; mode=display">(\dfrac{-2}{p})=1=(\dfrac{2}{p})(\dfrac{-1}{p})=(-1)^{\frac{p^2-1}{8}+\frac{p-1}{2}}=(-1)^{\frac{(p-1)(p+5)}{8}}</script><p>从而 $2\mid \dfrac{(p-1)(p+5)}{8}$，从而 $p\equiv 1,3\pmod{8}$。但 $n\equiv 3\pmod{8}$，$n$ 的所有素因子不可能</p><p>均模 $8$ 余 $3$，从而一定存在一个模 $8$ 余 $3$ 的素因子，而该素因子不为 $p_1,\cdots ,p_s$，这是因为 </p><p>$n\equiv 1\pmod{p_i}$，从而矛盾，$8m+3$ 型素数有无穷多个</p><p>$(2)$ 假设 $8m+5$ 的素数有限个，设为 $p_1,p_2,\cdots,p_s$，构造 $n=4(p_1\cdots p_s)^2+1$ 有 </p><p>$n\equiv 5\pmod{8}$，其为合数，设其素因子为 $p$</p><p>有 $(2p_1\cdots p_s)^2\equiv -1\pmod{p}$，取勒让德符号有 $(\dfrac{-1}{p})=1=(-1)^{\frac{p-1}{2}}$</p><p>则 $p\equiv 1,5\pmod{8}$ 而 $n\equiv 5\pmod{5}$，$n$ 的所有素因子不可能全为 $1$，则其存在一个</p><p>不为 $p_i$ 的素因子，与假设矛盾，从而 $8m+5$ 型素数有无穷多个</p><p>$(3)$ 假设 $8m+7$ 的素数有限个，设为 $p_1,p_2,\cdots,p_s$，构造 $n=8(p_1\cdots p_s)^2-1$ 有 </p><p>$n\equiv 7\pmod{8}$，其为合数，设其素因子为 $p$</p><p>有 $(4p_1\cdots p_s)^2\equiv 2\pmod{p}$，使用勒让德符号有 $(\dfrac{2}{p})=1=(-1)^{\frac{p^2-1}{8}}$</p><p>则 $p\equiv 1,7$，又由于 $n\equiv 7\pmod{8}$，$n$ 所有素因子不可能全为 $1$，则其存在一个</p><p>不为 $p_i$ 的素因子，与假设矛盾，从而 $8m+7$ 型素数有无穷多个</p><h2 id="习题4-1-4"><a href="#习题4-1-4" class="headerlink" title="习题4.1.4"></a>习题4.1.4</h2><p>设 $p$ 为奇素数. 证明: 有无穷多的素数是模 $p$ 的二次非剩余.</p><hr><p>证明：假设满足是模 $p$ 二次非剩余的素数有限，为 $p_1,p_2,\cdots p_s$，有 $(\dfrac{p_i}{p})=-1$，取模 $p$ 的</p><p>一个二次非剩余 $a$，由中国剩余定理，满足 $x\equiv a\pmod{p},x\equiv 1\pmod{p_i}$ 同余方程的解</p><p>存在，设其中一个解为 $x$</p><p>则 $(\dfrac{x}{p})=(\dfrac{a}{p})=-1$，$x$ 必有素因子为二次非剩余，且使得该素因子与 $p_i$ 均互素，这样与</p><p>有限个满足条件的素数矛盾，从而有无穷多个素数模 $p$ 二次剩余</p><h2 id="习题4-1-5"><a href="#习题4-1-5" class="headerlink" title="习题4.1.5"></a>习题4.1.5</h2><p>设 $p$ 和 $q=2 p+1$ 都是素数. 证明:</p><p>$(1)$ 当 $p \equiv 1(\bmod 4)$ 时, $2$ 是模 $q$ 的原根;</p><p>$(2)$ 当 $p \equiv 3(\bmod 4)$ 时,$-2$ 是模 $q$ 的原根.</p><hr><p>解：$(1)$ 由于 $q-1=2p$ 只有素因子 $2$ 和 $p$ ，有 $2^2\equiv 4\not\equiv 1\pmod{q}$ 而对$2^{p}\equiv 2^{\frac{q-1}{2}}$，计算 </p><p>$(\dfrac{2}{q})=(-1)^{\frac{q^2-1}{8}}=(-1)^{\frac{p(p+1)}{2}}=-1$，则 $2$ 为模 $q$ 的二次非剩余，则取 $q$ 的原根 $g$，有 $2=g^{2j+1}$，代入计算 $2^{p}=g^{(2j+1)p}=(g^{p})^{2j+1}=(g^{\frac{q-1}{2}})^{2j+1}=(-1)^{2j+1}=-1$，从而 $2,p$ 均不是模 $p$ </p><p>下 $2$ 的阶数，从而 $2$ 为模 $p $ 的原根</p><p>$(2)$ 同上，只需考虑 $(-2)^{p}$，$p\neq 2$，计算 $(\dfrac{-2}{q})=(\dfrac{-1}{q})(\dfrac{2}{q})=(-1)^{\frac{q-1}{2}}(-1)^{\frac{q^2-1}{8}}=-1$，</p><p>则取 $q$ 的原根 $g$，有 $-2=g^{2j+1}$，代入 $(-2)^{p}=(g^{\frac{q-1}{2}})^{2j}=(-1)^{2j+1}=-1$</p><p>从而 $2,p$ 均不是模 $p$ 下 $-2$ 的阶数，从而 $-2$ 为模 $p $ 的原根</p><h2 id="习题4-1-6"><a href="#习题4-1-6" class="headerlink" title="习题4.1.6"></a>习题4.1.6</h2><p>设 $p$ 为素数, $p \equiv 3(\bmod 4)$. 记 $q=2 p+1$. 则 $q$ 为素数当且仅当 $q \mid 2^{p}-1$.</p><hr><p>证明：由上题知，若 $q$ 为素数，$-2$ 为 $q$ 的原根 </p><script type="math/tex; mode=display">2^{p}\equiv -(-2)^{p}\equiv -(-2)^{\frac{q-1}{2}}\equiv -(-1)\equiv 1\pmod{p}</script><p>则 $q\mid 2^{p}-1$ 。又若 $q\mid 2^{p}-1$ ，由欧拉定理 $2^{\varphi(q)}\equiv 1\pmod{q}$，即 $q\mid 2^{\varphi(q)}-1$</p><p>则 $p\mid \varphi(q)=\varphi(2p+1)$，若 $q$ 不是素数，$\varphi(2p+1)&lt;2p$，则 $p=\varphi(2p+1)$，而对于奇数</p><p>的欧拉函数为偶数，从而矛盾，则 $q$ 为素数</p><h2 id="习题4-1-7"><a href="#习题4-1-7" class="headerlink" title="习题4.1.7"></a>习题4.1.7</h2><p>设 $p$ 为奇素数. 证明：</p><script type="math/tex; mode=display">\large \prod_{\substack{r=1 \\ \\ \\  \large (\frac{r}{p})=1}}^{p-1} \normalsize r \equiv-\left(\frac{-1}{p}\right)(\bmod p)</script><hr><p>解：满足 $(\dfrac{r}{p})=1$ 的所有 $r$ 为 $g^0,g^2,\cdots ,g^{p-3}$。其中 $g$ 为 $p$ 的一个原根，则 </p><script type="math/tex; mode=display">\displaystyle \prod r =g^{0+2+\cdots p-3}=g^{\frac{(p-3)(p-1)}{4}}=(g^{\frac{p-1}{2}})^{\frac{p-3}{2}}=(-1)^{\frac{p-3}{2}}</script><p>而 $-(\dfrac{-1}{p})=-(-1)^{\frac{p-1}{2}}=(-1)^{\frac{p-3}{2}}$，两者相等</p><h2 id="习题4-1-8"><a href="#习题4-1-8" class="headerlink" title="习题4.1.8"></a>习题4.1.8</h2><p>设 $p$ 为素数,</p><p>$(1)$ 若 $p \equiv 1(\bmod 4)$, 则</p><script type="math/tex; mode=display">\sum_{\substack{r=1 \\\left(\frac{r}{p}\right)=1}}^{p-1} r=\frac{p(p-1)}{4}, \quad \sum_{a=1}^{p-1} a\left(\frac{a}{p}\right)=0</script><p>(2) 若 $p \equiv 3(\bmod 4)$, 并且 $p \geqslant 7$, 则</p><script type="math/tex; mode=display">\sum_{\substack{r=1 \\\left(\frac{r}{p}\right)=1}}^{p-1} r \equiv 0(\bmod p), \sum_{r=1}^{p-1} a\left(\frac{a}{p}\right) \equiv 0(\bmod p) .</script><hr><p>证明：$(1)$ 由 $(\dfrac{p-x}{p})=(\dfrac{-x}{p})=(\dfrac{x}{p})(\dfrac{-1}{p})=(\dfrac{x}{p})(-1)^{\frac{p-1}{2}}=(\dfrac{x}{p})$</p><p>从而 $(i,p-i)$ 每对勒让德符号相同，从而所有满足 $(\dfrac{r}{p})=1$ 的 $r$ 一定能配成和为 $p$ 的 $\mbox{pairs}$</p><p>且共有 $\dfrac{p-1}{4}$ 对，求和为 $\dfrac{p(p-1)}{4}$，同理分离得到 $\displaystyle \sum_{a=1}^{p-1}a(\dfrac{a}{p})=0+\sum_{\substack{r=1 \\\left(\frac{r}{p}\right)=1}}^{p-1} r-\sum_{\substack{r=1 \\\left(\frac{r}{p}\right)\neq 1}}^{p-1} r=0$</p><p>$(2)$ 和上题类似，得到 $(\dfrac{p-x}{p})=-(\dfrac{x}{p})$，从而 $(i,p-i)$ 勒让德符号相反，有记</p><script type="math/tex; mode=display">\sum_{\substack{r=1 \\\left(\frac{r}{p}\right)=1}}^{p-1} r \equiv A(\bmod p),\sum_{\substack{r=1 \\\left(\frac{r}{p}\right)\neq 1}}^{p-1} r \equiv B(\bmod p)</script><p>取模 $p$ 的一个原根 $g$ ，则 $g$ 是模 $p$ 的一个二次非剩，$(\dfrac{g}{p})=-1$</p><script type="math/tex; mode=display">\begin{aligned}&\sum_{r=1,\left(\frac{r}{p}\right)=1}^{p-1} r \equiv 1+g^{2}+\cdots+g^{p-3} \equiv \frac{1-g^{\frac{p-1}{2}\cdot 2}}{1-g^{2}} \equiv 0 \quad(\bmod p) \\&\sum_{a=1}^{p-1} a\left(\frac{a}{p}\right) \equiv \sum_{i=0}^{p-2} g^{i}\left(\frac{g^{i}}{p}\right) \equiv \sum_{i=0}^{p-2} g^{i}(-1)^{i} \equiv \sum_{i=0}^{p-1}(-g)^{i} \equiv \frac{1-g^{p-1}}{1+g} \equiv 0 \quad(\bmod p) .\end{aligned}</script><h2 id="习题4-2-1"><a href="#习题4-2-1" class="headerlink" title="习题4.2.1"></a>习题4.2.1</h2><p>计算 $\left(\dfrac{17}{23}\right),\left(\dfrac{19}{37}\right),\left(\dfrac{92}{101}\right)$.</p><hr><p>由二次互反律计算有 </p><script type="math/tex; mode=display">\left(\dfrac{17}{23}\right)=\left(\dfrac{23}{17}\right)(-1)^{11 \cdot 8}=\left(\dfrac{23}{17}\right)=\left(\dfrac{6}{17}\right)=\left(\dfrac{2}{17}\right)\left(\dfrac{3}{17}\right)\\=(-1)^{\frac{17^{2}-1}{8}}\left(\dfrac{17}{3}\right)(-1)^{8}=\left(\dfrac{17}{3}\right)=\left(\dfrac{2}{3}\right)=-1\\\left(\dfrac{19}{37}\right)=\left(\dfrac{37}{19}\right)(-1)^{9 \cdot 18}=\left(\dfrac{37}{19}\right)=\left(\dfrac{-1}{19}\right)=(-1)^{9}=-1\\\left(\dfrac{92}{101}\right)=\left(\dfrac{2}{101}\right)^{2}\left(\dfrac{23}{101}\right)=(-1)^{\dfrac{101^{2}-1}{8}}\left(\dfrac{23}{101}\right)=\\\left(\dfrac{23}{101}\right)=\left(\dfrac{101}{23}\right)(-1)^{50 \cdot 11}=\left(\dfrac{101}{23}\right)=\left(\dfrac{9}{23}\right)=\left(\dfrac{3}{23}\right)^{2}=1</script><h2 id="习题4-2-4"><a href="#习题4-2-4" class="headerlink" title="习题4.2.4"></a>习题4.2.4</h2><p>若 $p=10 m-1$ 为素数, 证明: $p \mid 5^{5 m-1}-1$.</p><hr><p>证明：计算 $(\dfrac{5}{p})=(\dfrac{p}{5})(-1)^{2\cdot \frac{p-1}{2}}=(\dfrac{p}{5})=(\dfrac{-1}{5})=(-1)^2=1$，则 $5$ 是 $p$ 的二次剩余</p><p>令 $g$ 为 $p$ 的二次剩余，$5\equiv g^{2j}$，有 $5^{5m-1}\equiv (g^{2j})^{\frac{p-1}{2}}\equiv (g^{p-1})^{j}\equiv 1\pmod{p}$</p><h2 id="习题4-2-5"><a href="#习题4-2-5" class="headerlink" title="习题4.2.5"></a>习题4.2.5</h2><p>设 $n \geqslant 2, p=2^{n}+1$ 为素数. 证明：</p><p>$(1)$ 对每个 $a \in \mathbf{Z}, a$ 为模 $p$ 的原根当且仅当 $\left(\dfrac{a}{p}\right)=-1$;</p><p>$(2)$ 证明 $3$ 和 $7$ 均为模 $p$ 的原根.</p><hr><p>证明：$(1)$ 若 $a$ 为模 $p$ 的原根，有 $(\dfrac{a}{p})=-1$；若 $(\dfrac{a}{p})=-1$，若 $a$ 不是模 $p$ 的原根，则对 </p><p>$p-1=2^n$ 的因子为对应的阶，总有 $a^{2}\equiv 1\pmod{p}$，这与 $(\dfrac{a}{p})=-1$ 矛盾，从而 $a$ 是模 $p$ 的原根</p><p>$(2)$ 由于 $p=2^{n}+1$ 为素数，故 $n=2^{k}$ ，其中 $k \geq 1$.</p><p>由 $(\dfrac{3}{p})=(\dfrac{p}{3})(-1)^{1\cdot \frac{p-1}{2}}=(\dfrac{p}{3})$ ，而 $2^{2^n}+1\equiv (-1)^{2^n}+1\equiv 2\pmod{3}$</p><p>有 $(\dfrac{2}{3})=-1$，则 $(\dfrac{3}{p})=-1$，从而 $3$ 为模 $p$ 的原根；同理 $(\dfrac{7}{p})=(\dfrac{p}{7})$</p><p>若 $2^{k} \equiv 1(\bmod 3)$ ，则 $\left(\dfrac{2^{2^{k}}+1}{7}\right)=\left(\dfrac{\left(2^{3}\right)^{t} \cdot 2+1}{7}\right)=\left(\dfrac{3}{7}\right)=-\left(\dfrac{7}{3}\right)=-1$.</p><p>若 $2^{k} \equiv-1(\bmod 3)$ ，则 $\left(\dfrac{2^{2^{k}}+1}{7}\right)=\left(\dfrac{\left(2^{3}\right)^{t} \cdot 2^{2}+1}{7}\right)=\left(\dfrac{5}{7}\right)=\left(\dfrac{7}{5}\right)=\left(\dfrac{2}{5}\right)=(-1)^{\frac{5^{2}-1}{8}}=-1$. </p><p>因此 $\left(\dfrac{7}{p}\right)=-1$ ，故 $7$ 是模 $p$ 的原根.</p><h1 id="large-textcolor-blue-初等数论第八次作业-textcolor-blue-2022-4-23"><a href="#large-textcolor-blue-初等数论第八次作业-textcolor-blue-2022-4-23" class="headerlink" title="$\large\textcolor{blue}{初等数论第八次作业}      _\textcolor{blue}{2022.4.23}$"></a>$\large\textcolor{blue}{初等数论第八次作业}      _\textcolor{blue}{2022.4.23}$</h1><h2 id="习题4-2-2"><a href="#习题4-2-2" class="headerlink" title="习题4.2.2"></a>习题4.2.2</h2><p>确定以 $a$ 为二次剩余的素数, 其中 $a=-3,5$ 和 $15$ .</p><hr><p>$a=-3$ 时，$2$ 满足题意，此外， $\dfrac{1}{2} \varphi(3)=1$. 且 $7$ 满足题意，则解为奇素数 $p=3 k+1$ 和 $2$ </p><p>$a=5\equiv 1\pmod{4}$，$2$ 满足题意. 此外， $\dfrac{1}{2} \varphi(5)=2$ ，且 $11,19$ 均满足题意. 故 $2$ 和奇素数 $5 k \pm 1$ 满足题意.</p><p>$a=15$ 时， $2$ 满足题意. $\dfrac{1}{2} \varphi(60)=8$ ，且经过验证， $7,11,17,43,53,59,109,181$ 都满足. </p><p>解为 $2$ 和素数 $60 k+1,60 k+7,60 k+11,60 k+17,60 k+43,60 k+49,60 k+53,60 k+59$ </p><h2 id="习题4-2-3"><a href="#习题4-2-3" class="headerlink" title="习题4.2.3"></a>习题4.2.3</h2><p>设 $p=4 k+1$ 是素数, $a$ 是 $k$ 的因子, 证明: $\left(\dfrac{a}{p}\right)=1$.</p><hr><p>证明：由二次互反律 $(\dfrac{a}{p})=(\dfrac{p}{a})(-1)^{\frac{p-1}{2}\frac{a-1}{2}}=(\dfrac{p}{a})=(\dfrac{4k+1}{a})=(\dfrac{4ax+1}{a})=(\dfrac{1}{a})=1$</p><h2 id="习题4-2-6"><a href="#习题4-2-6" class="headerlink" title="习题4.2.6"></a>习题4.2.6</h2><p>$(1)$ 设 $n=2^{m} a+1$, 其中 $m \geqslant 2,1 \leqslant a&lt;2^{m}$. 如果 $p$ 为奇素数, 并且 $\left(\dfrac{n}{p}\right)=-1$, 证明: $n$ 是素数当且仅当 $p^{\frac{n-1}{2}} \equiv-1(\bmod n)$.</p><p>$(2)$ 设 $n=2^{m}+1, m \geqslant 2$. 证明: $n$ 为素数当且仅当 $3^{\frac{n-1}{2}} \equiv-1$ $(\bmod n)$.</p><hr><p>证明：$(1)$ 若 $n$ 为素数，由于 $n=2^ma+1$ 故 $\left(\dfrac{n}{p}\right)=\left(\dfrac{p}{n}\right)=-1$ ，故 $p^{\frac{n-1}{2}} \equiv-1(\bmod n)$.</p><p>另一方面，若 $p^ \frac{n-1}{2} \equiv-1(\bmod n)$ ，任取 $n$ 的一个素因子 $q ， q \geq 3$. 令 $d$ 为 $p$ 模 $q$ 的阶，由于 </p><p>$p^{\frac{n-1}{2}} \equiv-1(\bmod q)$ ，故 $p^{2^{m-1} a} \equiv-1(\bmod q)$ ，因此 $2^{m}\mid d$ ，又 $d \mid q-1$ ，则 $2^{m} \mid q-1$ </p><p>$q \geq 2^{m}+1$. 由于 $n=2^{m} a+1 ， a<2^{m}$ ，所以 $q^2>n$，这样的 $q$ 只能为 $n$ 本身，则 $n$ 为素数</p><p>$(2)$ 在 $\small(1)$ 中取 $a=1, p=3$ 当 $n$ 为素数时，满足 $m$ 为奇数，否则 $3$ 为 $n$ 的素因子，此时</p><p> $\left(\dfrac{2^{m}+1}{3}\right)=\left(\dfrac{2}{3}\right)=-1$ ，故满足 $\small(1)$ 的条件，则 $3^{\frac{n-1}{2}} \equiv-1$</p><p>若 $3^{\frac{n-1}{2}} \equiv-1$，由 $\small (1)$ 中的推导中没有使用到 $\left(\dfrac{n}{p}\right)=-1$ 条件知 $n$ 为素数</p><h2 id="习题4-3-2"><a href="#习题4-3-2" class="headerlink" title="习题4.3.2"></a>习题4.3.2</h2><p>设 $f(x, y)$ 是关于 $x, y$ 的整系数多项式. $(x, y)=(a, b)$ 和 $(c, d)$ 均是同余方程 </p><p>$f(x, y) \equiv 0(\bmod m)$ 的整数解, 即 $f(a, b) \equiv 0$ $(\bmod m), f(c, d) \equiv 0(\bmod m)$. </p><p>称这两组解为模 $m$ 的同一个解, 是指 $a \equiv c(\bmod m)$, 并且 $b \equiv d(\bmod m)$.</p><p>$(1)$ 设 $p$ 为奇素数, $a$ 为整数. 证明:同余方程 </p><script type="math/tex; mode=display">x^{2}-y^{2} \equiv a \quad(\bmod p)</script><p>的模 $p$ 解数为 $p-1$ （若 $p\not\mid a$） 或 $2 p-1$ （若 $p\mid a$）.</p><p>$(2)$ 证明：</p><script type="math/tex; mode=display">\sum_{y=0}^{p-1}\left(\frac{y^{2}+a}{p}\right)= \begin{cases}-1, & \text { 若 } p \nmid a, \\ p-1, & \text { 若 } p \mid a .\end{cases}</script><hr><p>证明：$(1)$ 当 $p \nmid a$ 时， $(x+y)(x-y) \equiv a(\bmod p)$. 设 $x+y \equiv b(\bmod p)$ ，其中 $(b, p)=1$.</p><p>则 $x-y \equiv a b^{-1}(\bmod p)$. 从而 $(x, y)=\left(\dfrac{b+a b^{-1}}{2}, \dfrac{b-a b^{-1}}{2}\right)$. 因此解数为 $b$ 的个数 $p-1$.</p><p>当 $p \mid a$ 时， $p \mid(x+y)(x-y)$ ，所以 $x \equiv y(\bmod p)$ 或 $x \equiv-y(\bmod p)$.</p><p>共有 $(0,0),(b,-b),(-b, b)$ 即 $2\cdotp(p-1)+1=2p-1$ 组解.</p><p>$(2)$ 设  $x^{2} \equiv y^{2}+a(\bmod p) .\left(\dfrac{y^{2}+a}{p}\right)=1$ 时，有两组解， $\left(\dfrac{y^{2}+a}{p}\right)=-1$ 时，无解</p><p>计算其总解数为 $\sum_{y=0}^{p-1}\left(1+\left(\frac{y^{2}+a}{p}\right)\right)=p+\sum_{y=0}^{p-1}\left(\frac{y^{2}+a}{p}\right)= \begin{cases}p-1, &amp; p \nmid a \ 2 p-1, &amp; p \mid a\end{cases}$<br>因此 $\sum_{y=0}^{p-1}\left(\frac{y^{2}+a}{p}\right)= \begin{cases}-1, &amp; p \nmid a \ p-1, &amp; p \mid a\end{cases}$</p><h2 id="习题4-3-3"><a href="#习题4-3-3" class="headerlink" title="习题4.3.3"></a>习题4.3.3</h2><p>设 $p$ 为奇素数, $a, b, c \in \mathbf{Z}, p \nmid a, D=b^{2}-4 a c$. 证明:</p><script type="math/tex; mode=display">\sum_{x=0}^{p-1}\left(\frac{a x^{2}+b x+c}{p}\right)=\left\{\begin{array}{l}-\left(\dfrac{a}{p}\right), \quad \text { 若 } p \not\mid D, \\(p-1)\left(\dfrac{a}{p}\right), \text { 若 } p \mid D .\end{array}\right.</script><hr><p>证明：令 $y=x+\dfrac{b}{2a}=x+b\cdot 2^{-1}\cdot a^{-1},a^{\prime}=c-b^2\cdot 4^{-1}\cdot a^{-1}$ 代入上题结论得到</p><script type="math/tex; mode=display">\sum_{y=\frac{b}{2a}}^{\frac{b}{2a}+p-1}(\dfrac{ay^2+a'}{p})=\sum_{y=0}^{p-1}(\dfrac{ay^2+a'}{p})=(\dfrac{a}{p})\sum_{y=0}^{p-1}(\dfrac{y^2+a'a^{-1}}{p})=\left\{\begin{array}{l}-\left(\dfrac{a}{p}\right), \quad \text { 若 } p \not\mid D, \\(p-1)\left(\dfrac{a}{p}\right), \text { 若 } p \mid D .\end{array}\right.</script><h2 id="习题4-2-4-1"><a href="#习题4-2-4-1" class="headerlink" title="习题4.2.4"></a>习题4.2.4</h2><p>设 $a, b, c \in \mathbf{Z}, p \not\mid a b$, 则同余方程</p><script type="math/tex; mode=display">a x^{2}+b y^{2} \equiv c \quad(\bmod p)</script><p>模 $p$ 的解数为</p><script type="math/tex; mode=display">N=\left\{\begin{array}{l}p+(p-1)\left(\dfrac{-a b}{p}\right), \quad \text { 若 } p \mid c, \\p-\left(\dfrac{-a b}{p}\right), \quad \text { 若 } p \not\mid  c .\end{array}\right.</script><hr><p>证明：$a x^{2}+b y^{2} \equiv c(\bmod p)$ 等价于 $x^{2} \equiv-a^{-1} b y^{2}+a^{-1} c(\bmod p) .$ $(a,p)=(b,p)=1$ 解数</p><script type="math/tex; mode=display">\sum_{y=0}^{p-1}\left(1+\left(\frac{-a^{-1} b y^{2}+a^{-1} c}{p}\right)\right)=p+\sum_{y=0}^{p-1}\left(\frac{-a^{-1} b}{p}\right)\left(\frac{y^{2}-c b^{-1}}{p}\right)\\=p+\left(\frac{-a b}{p}\right) \sum_{y=0}^{p-1}\left(\frac{y^{2}-c b^{-1}}{p}\right)= \begin{cases}p+(p-1)\left(\dfrac{-a b}{p}\right), & p \mid c \\ p-\left(\dfrac{-a b}{p}\right), & p \nmid c\end{cases}</script><p>其中用到上题结论 $\displaystyle \sum_{x=0}^{p-1}\left(\frac{a x^{2}+b x+c}{p}\right)=\left\{\begin{array}{l}<br>-\left(\dfrac{a}{p}\right), \quad \text { 若 } p \not\mid D, \\<br>(p-1)\left(\dfrac{a}{p}\right), \text { 若 } p \mid D .<br>\end{array}\right.$</p><h1 id="large-textcolor-blue-初等数论第九次作业-textcolor-blue-2022-4-30"><a href="#large-textcolor-blue-初等数论第九次作业-textcolor-blue-2022-4-30" class="headerlink" title="$\large\textcolor{blue}{初等数论第九次作业}      _\textcolor{blue}{2022.4.30}$"></a>$\large\textcolor{blue}{初等数论第九次作业}      _\textcolor{blue}{2022.4.30}$</h1><h2 id="习题4-3-1"><a href="#习题4-3-1" class="headerlink" title="习题4.3.1"></a>习题4.3.1</h2><p>解下列同余方程:</p><p>$(1)$ $2 x^{2}+3 x+1 \equiv 0 \quad(\bmod 28)$;</p><p>$(2)$ $x^{2} \equiv-1 \quad(\bmod 169)$;</p><p>$(3)$ $x^{2} \equiv 2 \quad(\bmod 98)$;</p><p>$(4)$ $3 x^{2}+x+6 \equiv 0 \quad(\bmod 45)$.</p><hr><p>解：$(1)$ $28 \mid(2 x+1)(x+1)$. 且有 $(2 x+1, x+1)=(1, x+1)=1$ 两者互素，且 $28=4\times 7$ 则</p><p>$2 x+1 \equiv 0(\bmod 4), x+1 \equiv 0(\bmod 7)$ 或者 $2 x+1 \equiv 0(\bmod 7), x+1 \equiv 0(\bmod 4) $ </p><p>又或者 $x+1\equiv 0\pmod{28}$ 解得 $x \equiv 3,27(\bmod 28)$.</p><p>$(2)$ $x^{2} \equiv-1(\bmod 13)$ 解得 $x=13 k+5,13 k+8$. 代入 $(13 k+5)^{2} \equiv-1(\bmod 169)$ 可以化简得</p><p>$10 k+2 \equiv 0(\bmod 13)$. 解得 $k \equiv 5(\bmod 13)$. $(13 k+8)^{2} \equiv-1(\bmod 169)$ 化简得: $3 k \equiv-5(\bmod 13)$</p><p>解得 $k \equiv 7(\bmod 13)$. 从而 $x \equiv 70,99(\bmod 169)$.</p><p>$(3)$ $x^{2} \equiv 2(\bmod 98)$ $x$ 为偶数. 设 $x=2 k$ ，则 $2 k^{2} \equiv 1(\bmod 49)$. 即 $k^{2} \equiv 25(\bmod 49)$. 考虑 </p><p>$k^{2} \equiv 25(\bmod 7)$ ，解得 $k=7 m+2,7 m+5 .$ 分别代入 $k^{2} \equiv 25(\bmod 49)$ 解得 </p><p>$k \equiv 44,5(\bmod 49)$. 因此 $x \equiv 10,88(\bmod 98) .$</p><p>$(4)$ $3 x^{2}+x+6 \equiv 0(\bmod 45)$. 两边模 $3$ 有 $x \equiv 0(\bmod 3)$. 令 $x=3 y$. 代入 $9 y^{2}+y+2 \equiv 0(\bmod 15) .$</p><p>模 $3$ 知， $y \equiv 1(\bmod 3)$. 设 $y=3 z+1$ ，代入可知 $2 z^{2}-z-1 \equiv 0(\bmod 5)$. $(2 z+1)(z-1) \equiv 0(\bmod 5)$. </p><p>解得 $z \equiv 1,2(\bmod 5)$. 从而 $x \equiv 12,21(\bmod 45)$.</p><h2 id="习题5-1-1"><a href="#习题5-1-1" class="headerlink" title="习题5.1.1"></a>习题5.1.1</h2><p>求下列方程的全部整数解：</p><p>$(1)$ $2 x^{2}-5 y^{2}=7$;                    $(2)$ $x^{2}-2 x y^{2}+5 z^{3}+3=0$;</p><p>$(3)$ $y^{2}=41 x^{3}+3$;                    $(4)$ $x^{2}-x y+y^{2}-x-y=0$;</p><p>$(5)$ $y^{2}=x^{3}-6$                $\tiny $         $(6)$ $y^{2}=x^{3}-x$.</p><hr><p>解：$(1)$ $x^{2} \equiv 0,1,2,4(\bmod 7) .$ 对原方程两边模 $7$ 知: $x^{2}+y^{2} \equiv 0(\bmod 7)$. 因此 $x \equiv y \equiv 0(\bmod 7)$.</p><p>两边模 $49$ 有 $0\equiv 7\pmod{49}$ 矛盾，从而无解</p><p>$(2)$ 方程两边模 $5$ 知  $x^{2}-2 x y^{2}+3 \equiv 0(\bmod 5)$ ，故 $\left(x-y^{2}\right)^{2} \equiv y^{4}-3(\bmod 5)$. 注意到 </p><p>$x^{2} \equiv 0,1,-1(\bmod 5),x^{4} \equiv 0,1(\bmod 5)$ ，则 $y^4\equiv 2,3,4\pmod{5}$ 矛盾，从而无解</p><p>$(3)$ 两边模 $41$ 可知: $y^{2} \equiv 3(\bmod 41)$. 而 $\left(\dfrac{3}{41}\right)=\left(\dfrac{41}{3}\right)=\left(\dfrac{-1}{3}\right)=-1$ ，故没有整数解.</p><p>$(4)$ $x^{2}-x y+y^{2}-x-y=0$ 主元后 $x^2-(y+1)x+y^2-y=0$ 其判别式</p><p>$\Delta=\sqrt{(y+1)^2-4(y^2-y)}=\sqrt{-3y^2+6y+1}$ 为整数，则 $-3y^2+6y+1=t^2$ </p><p>$3y^2-6y+(t^2-1)=0$ 其判别式 $\Delta =\sqrt{6^2-4\cdot 3\cdot (t^2-1)}=2\sqrt{3(4-t^2)}$ 也为完全平方数</p><p>从而 $3(4-t^2)$ 为完全平方数，可以得到 $t^2=1,4$ 解得 $y=0,1,2$ 回代解得 </p><p>$(x,y)=(0,0),(0,1),(1,0),(1,2),(2,1),(2,2)$</p><p>$(5)$ 方程两边模 $8$. 注意到 $y^{2} \equiv 0,1,4(\bmod 8) ， x^{3} \equiv 0, \pm 1, \pm 3(\bmod 8)$ ，对比有 $x \equiv 7(\bmod 8)$.</p><p>$y^{2}-2=x^{3}-8=(x-2)\left(x^{2}+2 x+4\right)=(x-2)\left((x+1)^{2}+3\right)$. 其中 $(x+1)^{2}+3 \equiv 3(\bmod 8) .$</p><p>任取它的一个素因子 $p ， p$ 为奇数. $y^{2} \equiv 2(\bmod p)$. 因此 $1=\left(\dfrac{2}{p}\right)$ ，则 $p \equiv \pm 1(\bmod 8)$. </p><p>这与 $(x+1)^{2}+3 \equiv 3(\bmod 8)$ 矛盾，所以原方程没有整数解.</p><p>$(6)$ $y^{2}=x(x-1)(x+1)$ ，当 $x=0, \pm 1$ 时， $y=0$. $|x| \geq 2$ 时，若 $x$ 是偶数，$x, x+1, x-1$ 两两互素.</p><p>因此存在整数 $a, b$ 使得 $x=a^{2}, x+1=b^{2}$ ，即 $b^{2}-a^{2}=1$ ，其中 $b&gt;a&gt;1$. 显然这是无解的.</p><p>若 $x$ 是奇数，则 $\left(\dfrac{y}{2}\right)^{2}=x \cdot \dfrac{x+1}{2} \cdot \dfrac{x-1}{2}$. 其中 $x, \dfrac{x-1}{2}, \dfrac{x+1}{2}$ 两两互素，同理，存在整数 $a,b$ 使得</p><p>$a^2=\dfrac{x+1}{2},b^2=\dfrac{x-1}{2},a^2-b^2=1$ 故原方程的解为 $(0,0),(1,0),(-1,0)$.</p><h1 id="large-textcolor-blue-初等数论第十次作业-textcolor-blue-2022-5-8"><a href="#large-textcolor-blue-初等数论第十次作业-textcolor-blue-2022-5-8" class="headerlink" title="$\large\textcolor{blue}{初等数论第十次作业}      _\textcolor{blue}{2022.5.8}$"></a>$\large\textcolor{blue}{初等数论第十次作业}      _\textcolor{blue}{2022.5.8}$</h1><h2 id="习题5-2-1"><a href="#习题5-2-1" class="headerlink" title="习题5.2.1"></a>习题5.2.1</h2><p>求所有正整数 $m$ 和 $n$,使 $2^{m}+3^{n}$ 是完全平方.</p><hr><p>解：由题设 $2^m+3^n=x^2$ 有 $2,3\not\mid x$ 方程两边模 $3$ 有 $(-1)^{m}\equiv x^2\equiv 1\pmod{3}$ 则 $m\equiv 0\pmod{2}$ </p><p>$m\geq 2,2^{m}\geq 4,2^m\equiv 0\pmod{4}$，方程两边模 $4$ 有 $0+(-1)^{n}\equiv x^2\pmod{4}$ 而 $x^2\equiv 0,1\pmod{4}$ </p><p>则 $n\equiv 0\pmod{2}$。令 $m=2k,n=2t$，原方程化为费马方程 $(2^k)^2+(3^t)^2=x^2$ 本原解满足 </p><script type="math/tex; mode=display">2^k=2mn,3^t=m^2-n^2</script><p>且 $m,n$ 一奇一偶，而 $2^{k-1}=mn$ 则 $n=1,m=2^{k-1}$ 代入有</p><script type="math/tex; mode=display">3^t=2^{2(k-1)}-1\Longrightarrow 3^t=(2^{k-1}+1)(2^{k-1}-1)</script><p>而 $(2^{k-1}-1,2^{k-1}+1)=1$，则 $2^{k-1}-1=1,k=2,t=1$ 则仅有唯一解 $m=4,n=2,2^4+3^2=5^2$</p><h2 id="习题5-2-2"><a href="#习题5-2-2" class="headerlink" title="习题5.2.2"></a>习题5.2.2</h2><p>求不定方程 $3^{x}+4^{y}=5^{z}$ 的所有正整数解.</p><hr><p>解：方程模 $3$ 有 $1\equiv 2^z\equiv (-1)^z\pmod{3}$ 得到 $z\equiv0\pmod{2}$。方程模 $4$ 有 $(-1)^x\equiv 1\pmod{5}$</p><p>则 $x\equiv 0\pmod{2}$，令 $x=2r,z=2k$，原方程化为费马方程 $(3^r)^2+(2^y)^2=(5^k)^2$ 本原解满足</p><script type="math/tex; mode=display">2^y=2mn,3^r=m^2-n^2=(m-n)(m+n)</script><p>由 $2^{y-1}=mn$ 知 $m=2^s,n=2^t$。有 $(m+n)-(m-n)=2n=2^{t+1},3\not\mid 2^{t+1}$ 则 $m-n=1$</p><p>有 $2^s=2^t+1$，只有 $t=0,s=1$ 唯一解，回代得到唯一解 $(x,y,z)=(2,2,2)$</p><h2 id="习题5-2-4"><a href="#习题5-2-4" class="headerlink" title="习题5.2.4"></a>习题5.2.4</h2><p>证明: $x^{4}+4 y^{4}=z^{2}$ 没有正整数解.</p><hr><p>证明：假设有解 $(x,y,z)$ 若 $(x,y)&gt;1$ 记素数 $p$ 为 $(x,y)$ 的一个约数，有 $p^4\mid x^4+4y^4=z^2$ 得到 $p^2\mid z$ 从而 </p><p>$(\dfrac{x}{p},\dfrac{y}{p},\dfrac{z}{p^2})$ 为原方程的整数解，则有限步操作后总能使得 $(x,y)=1=(x^2,y^2)$ 若 $2\mid x$ 令 $x=2t$ 有 $2\not\mid y$</p><p>则 $16t^4+4y^4=z^2\Longrightarrow y^4+4t^4=(\dfrac{z}{2})^2$ 与原方程相同，且 $2\not\mid y$ ，总可以化为 $2\not\mid x$，有 $(x^2,2y^2)=1$</p><p>则 $x^2,2y^2,z$ 为费马方程的本原解。令 $z$ 为解中最小的，由 $2\mid 2y^2$ 可知，$m,n$ 一奇一偶，$(m,n)=1,m&gt;n$</p><script type="math/tex; mode=display">x^2=m^2-n^2,2y^2=2mn,z^2=m^2+n^2</script><p>有 $m^2=x^2+n^2$ 因为 $(m,n)=1$，则 $(x,n)=1$，$(x,n,m) $ 也为费马方程的本原解，由 $x$ 为奇数</p><script type="math/tex; mode=display">x=c^2-d^2,n=2cd,m=c^2+d^2,y^2=mn=2cd(c^2+d^2)</script><p>由 $2 \mid mn=y^2,2\mid y$，则 $\dfrac{cd(c^2+d^2)}{2}=(\dfrac{y}{2})^2$ 为完全平方数，设 $c,d$ 中偶数、奇数为 $s,t$ </p><p>$\dfrac{st(s^2+t^2)}{2}=(\dfrac{y}{2})^2$ 也成立，令 $s=2k$ 有 $kt(4k^2+t^2)=(\dfrac{y}{2})^2$ 又 $(c,d)=1=(k,t)$ 三者为完全平方数</p><p>则 $k=a^2,t=b^2,4k^2+t^2=c^2$ 消元有 $b^4+4a^4=c^2$ 而 $c^2=m-d^2&lt;m=\sqrt{z^2-n^2}&lt;z&lt;z^2$</p><p>与假设最小矛盾，从而原方程无解</p><h2 id="习题5-2-6"><a href="#习题5-2-6" class="headerlink" title="习题5.2.6"></a>习题5.2.6</h2><p>证明: $1$ 不是同余数, 即不存在面积为 $1 、$ 三边长为有理数的直角三角形.</p><hr><p>证明：原问题等价于满足 $a^2+b^2=c^2,ab=2d^2$ 的正整数解不存在，假设存在有若 $(a,b)=2$，则</p><p>$2\mid c,4\mid ab=2d^2,2\mid d$，从而 $(\dfrac{a}{2},\dfrac{b}{2},\dfrac{c}{2},\dfrac{d}{2})$ 也为解，若 $(a,b)=p\geq 3$ 则 $p^2 \mid c^2,d^2$ 同理</p><p>$(\dfrac{a}{p},\dfrac{b}{p},\dfrac{c}{p},\dfrac{d}{p})$ 也为解，在有限步之后，总能使得 $(a,b)=1$，满足费马方程，$a,b$ 一奇一偶，不妨设 $a=2k$</p><p>有 $bk=d^2,(b,k)=1$ 则 $b=x^2,k=y^2$ 代入 $a^2+b^2=c^2$ 有 $4y^4+x^4=c^2$，由上题知该方程无解</p><h2 id="习题5-3-1"><a href="#习题5-3-1" class="headerlink" title="习题5.3.1"></a>习题5.3.1</h2><p>证明: 形如 $4^{a}(8 k+7)$ 的正整数不能表为三个整数的平方和.</p><hr><p>证明：由 $x^2\equiv 0,1,4\pmod{8}$ 计算 $a^2+b^2+c^2\equiv 0,1,2,3,4,5,6\not\equiv 7\pmod{8}$ 从而 $8k+7$ 的正整数</p><p>不能表示为三个整数平方和。对 $4(8k+7)=a^2+b^2+c^2$ 有 $x^2\equiv 0,1\pmod{4}$，而三者之和模 $0$，则</p><p>$a^2\equiv b^2\equiv c^2\pmod{4}$，有 $a,b,c\equiv 0\pmod{2}$，则可以转化为 $a’^2+b’^2+c’^2=8k+7$ 的情况</p><p>从而 $4^a(8k+7)$ 均与 $8k+7$ 等价，从而不能表示为三个整数的平方和</p><h2 id="习题5-3-2"><a href="#习题5-3-2" class="headerlink" title="习题5.3.2"></a>习题5.3.2</h2><p>$(1)$ 确定哪些整数可表为两个整数的平方差.</p><p>$(2)$ 证明: 对任意整数 $n$, 不定方程</p><script type="math/tex; mode=display">x^{2}+y^{2}-z^{2}=n</script><p>均有无穷多组正整数解.</p><hr><p>解：$(1)$ $z=x^2-y^2=(x+y)(x-y)$，而 $(x+y)-(x-y)=2y$ 从而 $z\equiv 0,1,3\pmod{4}$</p><p>而只要 $z\not\equiv 2\pmod{4}$，分三种情况 $z=4k=2\cdot 2k,z=4k+1=1\cdot(4k+1),z=4k+3=1\cdot (4k+3)$</p><p>三种情况都对应有 $x,y$ 解，从而当且仅当 $z\not\equiv 2\pmod{4}$ 时该整数可以表示为两个整数的平方差</p><p>$(2)$ 由 $y^2-z^2=n-x^2$ 且上问给出只要 $n-x^2\not \equiv 2\pmod{4}$，就一定有解，而 $x^2\equiv 0,1\pmod{4}$</p><p>对 $n\equiv 0,1,2,3\pmod{4}$，所有情况都有 $x^2\equiv 0,0,1,0\pmod{4}$ 使得 $n-x^2\not \equiv 2\pmod{4}$ 成立</p><p>而满足上述条件的 $x$ 有无穷多个，从而对应解 $(x,y,z)$ 也有无穷多个</p><h2 id="习题5-3-3"><a href="#习题5-3-3" class="headerlink" title="习题5.3.3"></a>习题5.3.3</h2><p>证明: 对任意给定的 $n \geqslant 1$, 均存在连续 $n$ 个正整数, 其中每个都不是两个整数的平方和.</p><hr><p>证明：取 $4k+3$ 型素数 $n$ 个，存在正整数 $N$ 使得 </p><script type="math/tex; mode=display">N=-i+p_{i}\left(\bmod p_{i}^{2}\right) \quad(1 \leqslant i \leqslant n)</script><p>从而 $N+i(1\leq i\leq n)$ 分解后 $p_i$ 的幂次为 $1$，从而不能写成两个整数平方和，则 $N+1,\cdots,N+n$ 为所求</p><h1 id="large-textcolor-blue-初等数论第十一次作业-textcolor-blue-2022-5-11"><a href="#large-textcolor-blue-初等数论第十一次作业-textcolor-blue-2022-5-11" class="headerlink" title="$\large\textcolor{blue}{初等数论第十一次作业}      _\textcolor{blue}{2022.5.11}$"></a>$\large\textcolor{blue}{初等数论第十一次作业}      _\textcolor{blue}{2022.5.11}$</h1><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p>设 $F$ 是一个域, $f(x), g(x) \in F[x]$ 。</p><p>$(1)$ 证明存在多项式 $q(x), r(x) \in F[x]$ 使得 $f(x)=g(x) q(x)+r(x)$ 且 $r(x)$ 的次数严格小于 $g(x)$;</p><p>$(2)$ 设 $h(x)=(f(x), g(x))$ 是首项系数为 1 的最大公因式, 则存在 $p(x), q(x) \in F(x)$ 使得 </p><script type="math/tex; mode=display">f(x) p(x)+g(x) q(x)=h(x)</script><p>$(3)$ 设 $f(x) \in F_{p}[x]$ 且 $g(x)$ 是模 $f(x)$ 的一个缩同余类。则存在 $h(x)$ 使得 $g(x) h(x) \equiv 1$ $(\bmod f(x))$ 。</p><hr><p>证明：$(1)$ 设 $f(x),g(x)$ 最高幂次为 $x^{n_1},x^{n_2}$，且系数分别为 $a,b$，不妨设 $n_1\geq n_2$，由非零元素存在乘法逆元</p><p>构造 $h(x)=ab^{-1}x^{n_1-n_2}$，有 $ax^{n_1}-bx^{n_2}\cdot ab^{-1}x^{n_1-n_2}=0$，则 $f(x)-h(x)g(x)$ 首项系数被消去。如此</p><p>新的最高幂次不超过 $n_1-1$，执行上述操作 $n_1-n_2+1$ 之后，总能得到 $h_{tot}(x)=\displaystyle \sum_{i=1}^{n_1-n_2+1}h_{i}(x)$</p><p>使得 $f(x)-g(x)h(x)$ 的最高次数严格小于 $g(x)$</p><p>$(2)$ 由 $\small(1)$ 中可知，实际上给出了域上的多项式有带余除法，使用辗转相除法</p><script type="math/tex; mode=display">f(x)=g(x)q_1(x)+f_1(x),g(x)=f_1(x)q_2(x)+g_1(x),\cdots</script><p>最终得到 $f_N(x),g_{N-1}(x)=ah(x)$，从而 $h(x)=a^{-1}f_{N}(x)$，一直回代，每次保证为线性组合</p><p>从而有限次数之后总能找到 $f(x)q(x)+g(x)p(x)=h(x)$</p><p>$(3)$ 由 $\small(2)$ 可以得到，当 $(f(x),g(x))=1$ 时，存在 $p(x),h(x)$ 使得 $f(x)p(x)+g(x)h(x)=1$，从而</p><script type="math/tex; mode=display">g(x)q(x)\equiv 1\pmod{f(x)}</script><h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><p>证明 $\left(x^{a}-1, x^{b}-1\right)=\left(x^{(a, b)}-1\right)$ 。特别的, $\left(x^{a^{m}-1}-1, x^{a^{n}-1}-1\right)=x^{a^{(m, n)}}-1$ 。</p><hr><p>证明：不妨设 $a\geq b$，$(x^a-1,x^b-1)=(x^b-1,x^a-x^b)=(x^b-1,x^b(x^{a-b}-1))$</p><p>而 $(x^b-1,x^b)=(1,x^b)=1$，则 $(x^a-1,x^b-1)=(x^{a-b}-1,x^b-1)$ 相当于指数项可以相互加减</p><p>则类比辗转相除法，经过有限步辗转相除后 $(x^a-1,x^b-1)=(x^{(a,b)}-1,x^{\lambda(a,b)}-1)=x^{(a,b)}-1$</p><h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><p>设 $f(x) \in F_{p}[x]$ 。</p><p>$(1)$ 证明 $f(x)^{p}=f\left(x^{p}\right)$;</p><p>$(2)$ 证明 $f(x)$ 的导函数为 $0$ 当且仅当存在 $g(x) \in F_{p}[x]$ 使得 $f(x)=g\left(x^{p}\right)$ 。</p><hr><p>$(1)$ 由费马小定理 $f(x)^p=\displaystyle (\sum_{i=0}^{n-1}a_ix^i)^{p}=\sum_{i=0}^{n-1}a_i^px^{ip}+pg(x)=\sum_{i=0}^{n-1}a_i^{p-1}a_i(x^{p})^i=\sum_{i=0}^{n-1}a_i(x^p)^{i}=f(x^p)$</p><p>$(2)$ 由 $f(x)=\displaystyle \sum_{i=0}^{n-1}a_ix^i,f’(x)=\sum_{i=1}^{n-1}ia_ix^{i-1}=0$ 从而存在数论倒数的 $p\not\mid j$，$ja_jx^{j-1}=0\Longrightarrow a_j=0$ </p><p>从而剩下 $p\mid i$，使得 $a_i$ 不一定为 $0$，则 $f(x)=\displaystyle \sum_{p\mid i}a_ix^i=g(x^{p})$</p><h2 id="4"><a href="#4" class="headerlink" title="4"></a>4</h2><p>证明 $F:=\left\{a+b i \mid a, b \in \mathbb{Z}_{5}\right\}$ 不是一个域。</p><hr><p>证明：假设 $F$ 为一个域，由域有乘法逆元，考虑 $1+2i$ 的逆，在 $F$ 中设为 $a+bi$，显然 $F$ 的乘法单位元为 $1$，</p><p>故 $(1+2i)(a+bi)\equiv 1\pmod{5}$，整理为 $a\equiv 2b+1\pmod{5},2a\equiv -b\pmod{5}$，得 $0\equiv 1\pmod{5}$ ，矛盾</p><h1 id="large-textcolor-blue-初等数论第十二次作业-textcolor-blue-2022-5-21"><a href="#large-textcolor-blue-初等数论第十二次作业-textcolor-blue-2022-5-21" class="headerlink" title="$\large\textcolor{blue}{初等数论第十二次作业}      _\textcolor{blue}{2022.5.21}$"></a>$\large\textcolor{blue}{初等数论第十二次作业}      _\textcolor{blue}{2022.5.21}$</h1><h2 id="柯召7-22"><a href="#柯召7-22" class="headerlink" title="柯召7.22"></a>柯召7.22</h2><p>求出 $F_{2}$ 上的全部四次不可约多项式.</p><hr><p>解：计算 $\Phi_{2}(4)=\dfrac{1}{4}(\mu(1)2^4+\mu(2)2^2+\mu(4)2^1)=3 \text {. }<br>$从而共有 $3$ 个四次不可约多项式， $F_2$ 上，有</p><p>一次不可约多项式为 $x, x+1$. 有 $x^2\equiv x\pmod{2}$ 从而当且仅当 $f(x)$ 的非零系数有偶数个时都不是不可约多项式（验证）</p><p>$F_{2}$ 上的多项式 $f(x)$ 被 $x$ 整除当且仅当 $f(0)=0$ 从而排除掉上述情况有 $\mathrm{F}_{2}$ 上的不含有一次因子的四次多项式 </p><script type="math/tex; mode=display">x^{4}+x^{3}+x^{2}+x+1, x^{4}+x^{3}+1, x^{4}+x^{2}+1, x^{4}+x+1</script><p>而 $x^{4}+x^{2}+1=\left(x^{2}+x+1\right)^{2}$ 可约，则该多项式排除，则 $F_{2}$​ 上的全部四次不可约多项式为 </p><script type="math/tex; mode=display">x^{4}+x^{3}+x^{2}+x+1, x^{4}+x^{3}+1, x^{4}+x+1</script><h2 id="柯召7-23"><a href="#柯召7-23" class="headerlink" title="柯召7.23"></a>柯召7.23</h2><p>证明：若 $p \neq q$ 是两个奇素数, 则 $F_{p}$ 上首项系数为 $1$ 的 $q$ 次不可约多项式的个数为 $\dfrac{p^{q}-p}{q}$.</p><hr><p>证明：由 $\Phi_{p}(q)=\displaystyle \frac{1}{q} \sum_{l \mid q} \mu(l) p^{\frac{q}{l}}=\dfrac{1}{q}(1\cdot p^q+(-1)\cdot p)=\dfrac{p^q-p}{q}$</p><h2 id="柯召7-27"><a href="#柯召7-27" class="headerlink" title="柯召7.27"></a>柯召7.27</h2><p>证明: 若 $\left(r, p^{n}-1\right)=1$, 则 $F_{p^{n}}$ 中任一个元 $\alpha$ 是 $F_{p^n}$ 中的 $r$ 次幂元，若 $r \mid p^n-1$，则 $\alpha$ 是 $F_{p^n}$ 中的 $r$ 次幂元</p><p>的充分必要条件是 $\alpha^{\frac{p^n-1}{r}}=1$</p><hr><p>证明：若 $\left(r, p^{n}-1\right)=1$ ，则 $r$ 存在数论倒数 $r^{-1}$。 取 $F_{p}[x]$ 中的一个 $n$ 次不可约多项式 ，取模 $f$ 的原根 $g$. </p><p>则对任意的 $\alpha \in F_{p^{n}}$ ，都存在整数 $s$ ，使得 $\alpha \equiv g^{s}(\bmod f)$. 令 $t=s r^{-1}$ ，则 $\left(g^{t}\right)^{r} \equiv g^{s} \equiv \alpha(\bmod f)$ </p><p>从而 $\alpha$ 是 $r$ 次幂元</p><p>若 $r\mid p^n-1$，$\Longrightarrow:$ $\alpha=\beta^r,\alpha^{\frac{p^n-1}{r}}=\beta^{p^n-1}\equiv 1\pmod{f}$ $\Longleftarrow:$ 设 $\alpha=g^s$ 代入有 </p><script type="math/tex; mode=display">\alpha^{\frac{p^n-1}{r}}=1=g^{\frac{s(p^n-1)}{r}}\equiv 1\pmod{f}</script><p>由原根的性质可得 $r\mid s$ 从而 $\alpha$ 为 $r$ 次幂元</p><h2 id="柯召7-28"><a href="#柯召7-28" class="headerlink" title="柯召7.28"></a>柯召7.28</h2><p>证明：设 $\alpha_{1}, \cdots, \alpha_{p^{n}-1}$ 是 $F_{p^{n}}$ 中的全体非蕶元, 则</p><script type="math/tex; mode=display">\alpha_{1} \cdots \alpha_{p^{n}-1}=-1 \text {. }</script><hr><p>证明：类比威尔逊定理的证明，取 $F_{p}[x]$ 中的一个 $n$ 次不可约多项式，然后取其原根 $g$ 则</p><script type="math/tex; mode=display">\alpha_{1} \cdots \alpha_{p^{n}-1} \equiv g^{1+2+\cdots+\left(p^{n}-1\right)} \equiv\left(g^{\frac{p^{n}-1}{2}}\right)^{p^{n}} \equiv(-1)^{p^{n}} \equiv-1(\bmod f)</script><p> 其中 $g^{\frac{p^n-1}{2}}\equiv -1\pmod{p^n-1}$ 为原根的性质</p><blockquote><p><strong>特殊情况</strong>，考虑 $p=2$ 有 $(-1)^{p^n}\equiv 1\equiv -1\pmod{f}$ 从而对所有素数成立</p></blockquote><h2 id="柯召7-32"><a href="#柯召7-32" class="headerlink" title="柯召7.32"></a>柯召7.32</h2><p>证明：若 $F_{p}$ 上 $n$ 次不可约多项式的周期为 $l$, 则 $p$ 模 $l$ 的次数为 $n$.</p><hr><p>证明：由原根的性质可知，$l\mid p^n-1$，令 $p^x\equiv 1\pmod{l}$ 显然次数 $r$ 满足 $r\mid n$，</p><p>于是 $f \mid x^{p^{r}}-x$ ，但 $f$ 是 $n$ 次的，故 $n \leq r$. 于是 $r=n$ ，即 $p$ 模 $l$ 的次数为 $n$.</p><h1 id="large-textcolor-blue-初等数论第十三次作业-textcolor-blue-2022-5-28"><a href="#large-textcolor-blue-初等数论第十三次作业-textcolor-blue-2022-5-28" class="headerlink" title="$\large\textcolor{blue}{初等数论第十三次作业}      _\textcolor{blue}{2022.5.28}$"></a>$\large\textcolor{blue}{初等数论第十三次作业}      _\textcolor{blue}{2022.5.28}$</h1><h2 id="柯召7-34"><a href="#柯召7-34" class="headerlink" title="柯召7.34"></a>柯召7.34</h2><p>分别求出 $F_{2}$ 上多项式 $f(x)=(x+1)\left(x^{3}+x+1\right)\left(x^{3}+x^{2}+1\right)$ 和 $g(x) = (x^2+x+1)\cdot $ </p><p>$\left(x^{4}+x+1\right)^{3}$ 的周期.</p><hr><p>解：由定理可知周期等于 $[l_1,\cdots,l_n]e,e=\{2^r:r\in Z,r\geq 0,2^r\geq 1(f(x)),3(g(x))\}=1,4$，求 $l_i$</p><p>由 $x+1\mid x-1$ 最小正整数为 $1$，则对 $f(x)$ 中 $(x+1)$ 的周期为 $1$，对 $(x^3+x+1)$ 和 $(x^3+x^2+1)$ </p><p>均为不可约多项式，且 $2^3-1=7$ 为素数，从而两者周期均为 $7$，故 $f(x)$ 周期为 $[1,7,7]\cdot 1=7$</p><p>$x^2-1=3$ 为素数，且 $x^2+x+1$ 为不可约多项式，则其周期为 $3$</p><p>对 $(x^4+x+1)$ 有 $2^4-1=15$ 为合数，而分别计算 $x^5,x^3\stackrel{?}{\equiv }1\pmod{x^4+x^2+1} $</p><script type="math/tex; mode=display">\begin{gathered}x^5=x\cdot x^4\equiv x(-x-1)\equiv -x^2-x\equiv -x(x+1)\not \equiv 1\pmod{x^4+x+1}\\x^3\not\equiv1\pmod{x^4+x+1}\end{gathered}</script><p>故 $15$ 为 $x^4+x+1$ 的周期，$g(x)$ 周期为 $[3,15]\cdot 4=60$，故 $f(x)$ 和 $g(x)$ 的周期为 $7$ 和 $60$</p><h2 id="柯召7-36"><a href="#柯召7-36" class="headerlink" title="柯召7.36"></a>柯召7.36</h2><p>求 $F_{2}$ 上多项式 $x^{2 \cdot 3^{k}}+x^{3^{k}}+1$ 的周期, 并证明它是不可约的。</p><hr><p>解：由立方差公式 $x^{3\cdot 3^{k}}-1=(x^{2 \cdot 3^{k}}+x^{3^{k}}+1)(x^{3^{k}}-1)$ 则 $x^{2 \cdot 3^{k}}+x^{3^{k}}+1\mid x^{3^{k+1}}-1$ 令其周期为 $r$</p><p>有 $r\mid 3^{k+1}$，而考虑 $x^{2 \cdot 3^{k}}+x^{3^{k}}+1\mid x^r-1$ 的最高次项，$r\geq 2\cdot 3^k$，故 $r=3^{k+1}$ </p><p>假设该多项式不可约，则其能被分解为若干个不可约多项式之积，由不可约多项式周期相关定理有</p><script type="math/tex; mode=display">3^{k+1}=[l_1,l_2,\cdots,l_n]e</script><p>由 $e=2^r$ 则 $e=1,\exists s\in[1,n],s.t.l_s=3^{k+1}$ 令该不可约多项式为 $p(x)$ 令其最高幂次项为 $n$，有</p><script type="math/tex; mode=display">3^{k+1}\mid 2^n-1</script><p>两边模 $3$ 有 $(-1)^n\equiv 1\pmod{3}$，则 $n\equiv 0\pmod{2}$，取 $n=2t$ 代入有 $3^{k+1}\mid 4^t-1$</p><p>将其展开 $4^t-1=(1+3)^t-1$ 其中 $3$ 的最小幂次为 $k+1$ 则 $3^{k+1}\mid 3t,3^k\mid t$ 则 $n=2t\geq 2\cdot 3^k$ </p><p>恰为 $f(x)$ 的最高幂次，从而该多项式即为其本身，故其不可约</p><h2 id="柯召8-16"><a href="#柯召8-16" class="headerlink" title="柯召8.16"></a>柯召8.16</h2><p>设 $p$ 是一个奇素数, $d=(m, p-1)$, 证明: $N\left(x^{m}=a\right)=N\left(x^{d}=a\right)$.</p><hr><p>证明：当 $x^d\equiv a\pmod{p}$ 无解时，$x^m\equiv a\pmod{p}$ 也无解（否则 $(x^{\frac{m}{d}})^d$ 为前者的解）</p><p>又当 $x^d\equiv a\pmod{p}$ 有解时，其解有 $d$ 个，设为 $x_1,\cdots,x_d$ ，又注意到 $(\dfrac{m}{d},p-1)=1$ 则有</p><p>$p-1$ 的完系均为 $\dfrac{m}{d}$ 次剩余，则 $x^m\equiv a\pmod{p}$ 等价于 $x^{\frac{m}{d}}\equiv x_i\pmod{p}$ ，每个方程都只有一解</p><p>（取 $p$ 的原根 $g$，有 $\dfrac{m}{d}\mbox{ind}_gx\equiv \mbox{ind}_gx_i\pmod{p-1}$ 则只有一解）故两者解为 $d$ 个</p><h2 id="柯召8-21"><a href="#柯召8-21" class="headerlink" title="柯召8.21"></a>柯召8.21</h2><p>证明：若 $k \mid p-1, \chi$ 是 $F_{p}$ 上一个 $k$ 阶特征, 则</p><script type="math/tex; mode=display">\sum_{j=0}^{k-1} \chi^{j}(-1)=\left\{\begin{array}{l}k, \quad \text { 当 }\left(\dfrac{-1}{p}\right)_{k}=1 \text { 时, } \\0 , \quad \text { 当 }\left(\dfrac{-1}{p}\right)_{k}\neq 1 \text { 时. }\end{array}\right.</script><hr><p>证明：由定理可知，$\displaystyle \sum_{j=0}^{k-1} \chi^{j}(-1)=N(x^k=-1)$，则当 $(\dfrac{-1}{p})_k=1$ 时，显然该方程有 $k$ 个解，当 $(\dfrac{-1}{p})_k=1$ 时，该方程无解，故 $\sum_{j=0}^{k-1} \chi^{j}(-1)=\left\{\begin{array}{l}<br>k, \quad \text { 当 }\left(\dfrac{-1}{p}\right)_{k}=1 \text { 时, } \\<br>0 , \quad \text { 当 }\left(\dfrac{-1}{p}\right)_{k}\neq 1 \text { 时. }<br>\end{array}\right.$</p><h1 id="large-textcolor-blue-初等数论第十四次作业-textcolor-blue-2022-6-2"><a href="#large-textcolor-blue-初等数论第十四次作业-textcolor-blue-2022-6-2" class="headerlink" title="$\large\textcolor{blue}{初等数论第十四次作业}      _\textcolor{blue}{2022.6.2}$"></a>$\large\textcolor{blue}{初等数论第十四次作业}      _\textcolor{blue}{2022.6.2}$</h1><h2 id="阶以及雅可比和"><a href="#阶以及雅可比和" class="headerlink" title="阶以及雅可比和"></a>阶以及雅可比和</h2><p>设 $\chi \neq \chi_{0}$ 是 $F_{p}$ 上的一个特征。设 $\rho(a)=\left(\dfrac{a}{p}\right)$ 是唯一的 $2$ 阶特征。设 $p \neq 2$ 。</p><p>$(1)$ 证明</p><script type="math/tex; mode=display">\sum_{t \in F_{p}} \chi\left(1-t^{2}\right)=J(\chi, \rho)</script><p>$(2)$ 设 $0 \neq k \in F_{p}$ 。证明</p><script type="math/tex; mode=display">\sum_{t \in F_{p}} \chi(t(k-t))=\frac{\chi\left(k^{2}\right)}{\chi\left(2^{2}\right)} J(\chi, \rho)</script><p>(提示：利用 $(1)$ )</p><p>$(3)$ 证明 $J(\chi, \chi)=\chi(2)^{-2} J(\chi, \rho)$; (提示：利用 $(2)$)</p><p>$(4)$ 设 $\chi^{2} \neq \chi_{0}$ 。证明 $g_{1}(\chi)^{2}=\chi(2)^{-2} J(\chi, \rho) g_{1}\left(\chi^{2}\right)$;</p><p>$(5)$ 设 $p \equiv 1(\bmod 3)$ 且 $\chi$ 是一个 $3$ 阶特征。证明 $g_1(\chi)^{3}=p \cdot \chi(2) J(\chi, \rho)$;</p><p>$(6)$ 设 $p \equiv 1(\bmod 4)$ 且 $\chi$ 是一个 $4$ 阶特征。证明 $\chi^{2}=\rho$ 且 $J(\chi, \chi)=\chi(-1) J(\chi, \rho)$ 。</p><p>(提示: 证明 $\chi(-1)=(\dfrac{2}{p})$)</p><hr><p>解：$(1)$ 由雅可比定义，代入 $\left(\dfrac{a}{p}\right)=N(x^2=a)-1$ 有</p><script type="math/tex; mode=display">\begin{gathered}J(\chi,\rho)=\displaystyle \sum_{t\in F_p}\chi(1-t)\rho(t)=\sum_{t\in F_p}\chi(1-t)(N(x^2=t)-1)\\=\sum_{t\in F_p}\chi(1-t)N(x^2=t)-\sum_{t\in F_p}\chi(1-t)=\sum_{t\in F_p}\chi(1-t)N(x^2=t)\end{gathered}</script><p>而 $N(x^2=t)$ 对求和有贡献的有两类，当 $N(x^2=t)=1$ 时 $t=0$，当  $N(x^2=t)=2$ 时，$t$ 为二次剩余</p><script type="math/tex; mode=display">J(\chi,\rho)=\chi(1-0)\cdot 1+2\cdot \sum_{(\frac{t}{p})=1}\chi(1-t)</script><p>而对每一个二次剩余 $t=b^2$，且 $\chi(1-b^2)$ 中 $\pm b$ 对应同一个 $t$，且保证所有的 $b$ 不同，构成 $F_p$ 中所有非零元素</p><script type="math/tex; mode=display">J(\chi,\rho)=1+2\cdot \sum_{b\in F_p,b\neq 0}\chi(1-b^2)=\sum_{t \in F_{p}} \chi\left(1-t^{2}\right)</script><p>$(2)$ 由 $(2,p)=1$ 以及 $(k,p)=1$，则 $\{2t | t\in F_p\}$ 和 $\{kt | t\in F_p\}$ 构成 $F_p$ 中的完系，则</p><script type="math/tex; mode=display">\begin{gathered}\chi(k)^2\sum_{t\in F_p}\chi(1+t)\chi (1-t)=\sum_{t\in F_p}\chi(k+kt)\chi (k-kt)=\chi(k)^2\sum_{t\in F_p}\chi(1-t^2)=\sum_{t\in F_p}\chi(k+t)\chi (k-t)\\=\sum_{t\in F_p}\chi(t)\chi (2k-t)=\sum_{t\in F_p}\chi(2t)\chi (2k-2t)=\chi(2)^2\sum_{t\in F_p}\chi(t)\chi (k-t)\end{gathered}</script><p>代入 $\small (1)$ 中结论 $\displaystyle \sum_{t \in F_{p}} \chi\left(1-t^{2}\right)=J(\chi, \rho)$ 则得到 $\displaystyle \sum_{t \in F_{p}} \chi(t(k-t))=\frac{\chi\left(k^{2}\right)}{\chi\left(2^{2}\right)} J(\chi, \rho)$</p><p>$(3)$ 取 $k=1$ 有 $\displaystyle \sum_{t \in F_{p}} \chi(t(1-t))=\frac{\chi\left(1^2\right)}{\chi\left(2^{2}\right)} J(\chi, \rho)=\sum_{t \in F_{p}}\chi(t)\chi(1-t)=J(\chi,\chi)$</p><p>而 $\chi(1)=1$，代入得 $J(\chi, \chi)=\chi(2)^{-2} J(\chi, \rho)$</p><p>$(4)$ 由雅可比和与高斯和之间的关系有 $J(\chi,\chi)=\dfrac{g_1(\chi)\cdot g_1(\chi )}{g_1(\chi ^2)}=\chi(2)^{-2} J(\chi, \rho)$</p><p>移项整理得到 $g_{1}(\chi)^{2}=\chi(2)^{-2} J(\chi, \rho) g_{1}\left(\chi^{2}\right)$</p><p>$(5)$ 在 $\small(4)$ 等式左右乘以 $g_1(\chi)$ 可以得到 $g_{1}(\chi)^{3}=\chi(2)^{-2} J(\chi, \rho) g_{1}\left(\chi^{2}\right)g_1(\chi)$，而由于 $\chi$ 为 $3$ 阶特征</p><p>则 $\chi(2)^3=1$ 则 $g_{1}(\chi)^{3}=\chi(2) J(\chi, \rho) g_{1}\left(\chi^{2}\right)g_1(\chi)$ 由于</p><script type="math/tex; mode=display">\overline{g(\chi)}=\sum_{t} \overline{\chi(t)} \zeta^{-t}=\chi(-1) \sum_{t} \overline{\chi(-t)} \zeta(-t)=\chi(-1) g(\chi)</script><p>有 $\chi(-1)^3=1$ 且 $\chi(-1)^2=\chi(1)=1$，故 $\chi(-1)=1$，代入有 </p><script type="math/tex; mode=display">g\left(\chi^{2}\right) g(\chi)=g(\bar{\chi}) g(\chi)=\overline{g(\chi)} g(\chi)=|g(\chi)|^{2}=p</script><p>则 $g_1(\chi)^{3}=p \cdot \chi(2) J(\chi, \rho)$</p><p>$(6)$ 由于 $\chi$ 的阶为 $4$，则 $\chi^2$ 的阶为 $2$，而 $\rho$ 为唯一的二阶特征，故 $\chi ^2=\rho$，由高斯和与雅可比和之间关系</p><script type="math/tex; mode=display">g(\chi)^{4}=\chi(-1) p J(\chi, \chi) J\left(\chi, \chi^{2}\right)=\chi(-1) p J(\chi, \chi) J(\chi, \rho)</script><p>又对 $\small(4)$ 中的等式两边平方得到</p><script type="math/tex; mode=display">g(\chi)^{4}=\chi(2)^{-4} J(\chi, \rho)^{2}\left[g\left(\chi^{2}\right)\right]^{2}</script><p>而由 $4$ 阶特征可以得到 $\chi\left(2^{4}\right)=\chi^{4}(2)=\chi_0(2)=1$, and $g\left(\chi^{2}\right)=g(\rho)=g$, so $\left[g\left(\chi^{2}\right)\right]^{2}=g^{2}$ ，而有</p><script type="math/tex; mode=display">g_{a} g_{-a}=(\dfrac{a}{p})(\dfrac{-a}{p}) g^{2}=(\dfrac{-1}{p}) g^{2}\Longrightarrow\sum_{a} g_{a} g_{-a}=\left(\frac{-1}{p}\right)(p-1) g^{2}</script><p>而使用另一种方法计算左边有</p><script type="math/tex; mode=display">g_{a} g_{-a}=\sum_{x} \sum_{y}\left(\frac{x}{p}\right)\left(\frac{y}{p}\right) \zeta^{a(x-y)}=\sum_{x} \sum_{y}\left(\frac{x}{p}\right)\left(\frac{y}{p}\right) \delta(x, y) p=(p-1) p</script><p>两式对比有 $g^{2}=(\dfrac{-1}{p})p$ 由于 $p\equiv 1\pmod{4}$ 则 $(\dfrac{-1}{p})=1$ 则 $g^2=p$，则有</p><script type="math/tex; mode=display">\chi(-1) p J(\chi, \chi) J(\chi, \rho)=J(\chi, \rho)^{2} p</script><p>由于 $g(\chi)^{4} \neq 0$ 以及 $|g(\chi)|^{2}=p$，有 $J(\chi, \rho) \neq 0$, 则两边约去 $pJ(\chi,\rho)$ 有</p><script type="math/tex; mode=display">\chi(-1) J(\chi, \chi)=J(\chi, \rho)</script><p>$[\chi(-1)]^{2}=\chi\left((-1)^{2}\right)=\chi(1)=1$, 故 $\chi(-1)=\pm 1$, 从而 $\chi(-1)^{-1}=\chi(-1)$, 移项得到</p><script type="math/tex; mode=display">J(\chi, \chi)=\chi(-1) J(\chi, \rho)</script><h1 id="large-textcolor-blue-初等数论第十五次作业-textcolor-blue-2022-6-12"><a href="#large-textcolor-blue-初等数论第十五次作业-textcolor-blue-2022-6-12" class="headerlink" title="$\large\textcolor{blue}{初等数论第十五次作业}      _\textcolor{blue}{2022.6.12}$"></a>$\large\textcolor{blue}{初等数论第十五次作业}      _\textcolor{blue}{2022.6.12}$</h1><h2 id="雅可比和以及加密解密"><a href="#雅可比和以及加密解密" class="headerlink" title="雅可比和以及加密解密"></a>雅可比和以及加密解密</h2><ol><li><p>设 $p$ 是一个奇素数, 计算</p><p>$(1)$ $N\left(x^{3}-y^{3}=1\right), p=37$;</p><p>$(2)$ $N\left(9 x^{2}+8 y^{2}=a\right), p=17, a \in F_{17}^{*}$ 。</p></li><li><p>使用加密密钥 $E(x) \equiv x+3(\bmod 26)$ 将信息 “mathematics” 加密.</p></li><li><p>已知加密密钥 $E(x) \equiv x+5(\bmod 26)$ 。将信息 “lttijajsnsl” 解密.</p></li><li><p>假设加密密钥 $E(x) \equiv 3 x+1(\bmod 26)$, 求去密密钥 $D(y)$, 并将信息 “EBOBO BEBOK” 解密。</p></li></ol><hr><p>1、解：$(1)$ 计算 $M(x^3+(-y)^3=1)=\displaystyle \sum_{i=0}^2\sum_{j=0}^2\chi ^i(a)\chi^j(1-a)=p+J(\chi,\chi)+J(\chi^2,\chi^2)-2\chi(-1)$</p><p>$=p-2+J(\chi,\chi)+J(\chi^2,\chi^2)=p-2+J(\chi,\chi)+\overline{J(\chi,\chi)}$ 令 $J(\chi,\chi)=a+b\omega,\omega=-\dfrac{1}{2}+\dfrac{\sqrt{3}}{2}i$</p><p>得到 $p-2+2a-b$，由分解定理 $4p=(2a-b)^2+27(\dfrac{b}{3})^2=148=11^2+27\cdot 1\Longrightarrow a=7,b=3$ 要求 $2a-b\equiv 1\pmod{3}$ </p><p>则 $2a-b=-11$ $N(x^3-y^3=1)=37-2+(-11)=24$ </p><p>$(2)$ 由 $p=17$ 得 $N(9x^2+8y^2=a)=N(9(x^2-y^2)=a)$ 而 $\{3x\}$ 与 $\{x\}$ 均取遍所有 $F_{p}^*$，故化解为 $N(x^2-y^2=a)$</p><p>由 $(\dfrac{-1}{p})=(-1)^{\frac{p-1}{2}}=1$ 知 $-1$ 为二次剩余，从而 $-y^2=(a_0)^2(y)^2=(a_0y)^2$ 又可化解为 $N(x^2+y^2=a)$</p><script type="math/tex; mode=display">\begin{gathered}N(x^2+y^2=a)=\displaystyle \sum_{i=0}^1\sum_{j=0}^1\chi ^i(t)\chi^j(a-t)=p+J(\chi,\chi_0)+J(\chi_0,\chi)+J(\chi,\chi)\\=p-\chi(-1)=p+\sum_{c\in F_p}\chi(\dfrac{c}{a-c})\end{gathered}</script><p>而 $\dfrac{c}{a-c}=t\Longrightarrow c=\dfrac{at}{t+1}$ 只有 $t=-1$ 元素没有遍历，从而 $\displaystyle \sum_{c\in F_p}\chi(\dfrac{c}{a-c})=0-\chi(-1)=-1$</p><p> 故原方程有 $17+(-1)=16$ 个解</p><p>2、使用 $\mbox{python}$ 编程计算，代码如下，加密结果为 $\mathbf{pdwkhpdwlfv}$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">charList = <span class="hljs-string">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span><br>word = <span class="hljs-string">&quot;mathematics&quot;</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> word:<br>    <span class="hljs-built_in">print</span>(charList[(<span class="hljs-built_in">ord</span>(i) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&quot;a&quot;</span>) + <span class="hljs-number">3</span>) % <span class="hljs-number">26</span>], end = <span class="hljs-string">&quot;&quot;</span>)<br></code></pre></td></tr></table></figure><p>3、只需改动一行代码，解密结果为 $\mathbf{goodevening}$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(charList[(<span class="hljs-built_in">ord</span>(i) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&quot;a&quot;</span>) - <span class="hljs-number">5</span>) % <span class="hljs-number">26</span>], end = <span class="hljs-string">&quot;&quot;</span>)<br></code></pre></td></tr></table></figure><p>4、反解同余方程得 $x\equiv 9\cdot (y-1)\equiv 9y+17\pmod{26}$，代码如下，解密结果为 $\mathbf{BANAN  ABAND}$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(charList[(<span class="hljs-number">9</span> * (<span class="hljs-built_in">ord</span>(i) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&quot;A&quot;</span>)) + <span class="hljs-number">17</span>) % <span class="hljs-number">26</span>], end = <span class="hljs-string">&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>初等数论</category>
      
    </categories>
    
    
    <tags>
      
      <tag>初等数论</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>The Saltwater Room</title>
    <link href="/2022/06/10/%E7%94%9F%E6%B4%BB/%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E6%B5%8B%E8%AF%95/"/>
    <url>/2022/06/10/%E7%94%9F%E6%B4%BB/%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E6%B5%8B%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<p><div id="dplayer1" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer1"),"theme":"#FADFA3","loop":true,"lang":"zh-cn//语言","screenshot":true,"hotkey":true,"preload":"auto","volume":0.9,"video":{"url":"https://lr-tsinghua11.github.io/video/The Saltwater\nRoom.mp4","pic":"https://lr-tsinghua11.github.io/img/深空之海.jpg"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></p>]]></content>
    
    
    <categories>
      
      <category>生活</category>
      
      <category>视频播放</category>
      
    </categories>
    
    
    <tags>
      
      <tag>视频播放</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>A practice for Calculus final exam</title>
    <link href="/2022/06/03/%E6%95%B0%E5%AD%A6/%E5%BE%AE%E7%A7%AF%E5%88%86A(2)%E6%9C%9F%E6%9C%AB%E6%A8%A1%E6%8B%9F%E8%80%83%E8%AF%95%E8%AF%95%E9%A2%98/"/>
    <url>/2022/06/03/%E6%95%B0%E5%AD%A6/%E5%BE%AE%E7%A7%AF%E5%88%86A(2)%E6%9C%9F%E6%9C%AB%E6%A8%A1%E6%8B%9F%E8%80%83%E8%AF%95%E8%AF%95%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>一、选择题</p><p>1、马鞍面 $z=x y$ 被圆柱面 $x^{2}+y^{2}=1$ 所截，截得的有界部分曲面的面积为  $(B)$</p><p>(A) $\dfrac{1}{3} \pi(2 \sqrt{2}+1)$</p><p>(B) $\dfrac{2}{3} \pi(2 \sqrt{2}-1)$</p><p>(C) $\dfrac{1}{3} \pi(2 \sqrt{2}-1)$</p><p>(D) $\dfrac{2}{3} \pi(\sqrt{2}-1)$</p><p>2、设曲线 $L$ 为从点 $A(-1,1)$ 沿曲线 $y=x^{2}$ 到点 $B(0,0)$ 再沿直线 $y=0$ 到点 $C(2,0)$ 的路径，则 $\displaystyle \int_{L}\left(12 x+\mathrm{e}^{y}\right) \mathrm{d} x+\left(x \mathrm{e}^{y}-\cos y\right) \mathrm{d} y=$  $(A)$</p><p>(A) $20+\mathrm{e}+\sin 1$</p><p>(B) $2 \mathrm{e}+\sin 1$</p><p>(C) $10+\mathrm{e}^{2}+\sin 1$</p><p>(D) $\mathrm{e}+\sin 1$</p><p>3、幂级数 $\displaystyle \sum_{n=1}^{\infty} \frac{1}{n}(x-1)^{n}$ 的收敛域为   $(B)$</p><p>(A) $[0,2]$</p><p>(B) $[0,2)$</p><p>(C) $(0,1)$</p><p>(D) $[0,1]$</p><p>4、设 $f$ 连续, 交换累次积分的次序 $\displaystyle \int_{1}^{2} \mathrm{~d} x \int_{0}^{x} f(x, y) \mathrm{d} y=$   $(B)$</p><p>(A) $\displaystyle \int_{0}^{2} \mathrm{dy} \int_{y}^{2} f(x, y) \mathrm{d} x$</p><p>(B) $\displaystyle \int_{0}^{1} \mathrm{~d} y \int_{1}^{2} f(x, y) \mathrm{d} x+\int_{1}^{2} \mathrm{~d} y \int_{y}^{2} f(x, y) \mathrm{d} x$</p><p>(C) $\displaystyle \int_{0}^{x} \mathrm{dy} \int_{1}^{2} f(x, y) \mathrm{d} x$</p><p>5、设 $L$ 是球面 $x^{2}+y^{2}+z^{2}=1$ 与平面 $x+y+z=0$ 的交线，则 $\displaystyle \int_{L} x^{2} \mathrm{~d} l=$   $(C)$</p><p>(A) $2 \pi$</p><p>(B) $\pi$</p><p>(C) $\displaystyle \frac{2}{3} \pi$</p><p>(D) $\displaystyle \frac{1}{2} \pi$</p><p>6、级数 $\displaystyle \sum_{n=1}^{\infty}(-1)^{n+1} \frac{2^{n}}{n !}$ 的收敛性为   $(C)$</p><p>(A) 条件收敛</p><p>(B) 发散</p><p>(C) 绝对收敛</p><p>7、设 $\Omega$ 为由圆柱面 $x^{2}+y^{2}=1$, 锥面 $z=\sqrt{x^{2}+y^{2}}$ 和平面 $z=0$ 所围成的空间有界区域，则三重积分 $\displaystyle \iiint_{\Omega} z \mathrm{~d} x \mathrm{~d} y \mathrm{~d} z=$   $(A)$</p><p>(A) $\displaystyle \frac{\pi}{4}$</p><p>(B) $\pi$</p><p>(C) $\displaystyle \frac{\pi}{2}$</p><p>(D) 2</p><p>二、填空题</p><p>8、设 $2 \pi$ 周期函数 $f(x)=\left\{\begin{array}{l}4 ; x \in[-\pi, 0) \ 0 ; x \in[0, \pi)\end{array}\right.$ 的形式 Fourier 级数的和函数为 $S(x)$ ，则 $S(0)=\stackrel{\Large 2}{______}$  </p><p>9、若 $(x+3 y) \mathrm{d} x+(k x+y) \mathrm{d} y=0$ 为全微分方程，则常数 $k=\stackrel{\Large 3}{______}$</p><p>10、柱面 $x^{2}+y^{2}=2 x$ 夹在锥面 $z=\sqrt{x^{2}+y^{2}}$ 和平面 $z=0$ 之间部分的面积为 $\stackrel{\Large 8}{______}$</p><p>11、设 $S$ 为单位球面 $(x-1)^{2}+(y-2)^{2}+(z-3)^{2}=1$ ，则 $\dfrac{1}{\pi} \displaystyle \iint_{S}(x+y+z) \mathrm{d} S=\stackrel{\Large 24}{______}$</p><p>12、设 $\overrightarrow{\mathbf{F}}(x, y, z)=(y z, z x, x y)$ ，则 $|\operatorname{rot} \overrightarrow{\mathbf{F}}(x, y, z)|=\stackrel{\Large 0}{______}$</p><p>13、封闭曲线 $\left(x^{2}+y^{2}\right)^{2}=2\left(x^{2}-y^{2}\right)(x \geq 0)$ 所围区域的面积为 $\stackrel{\Large 1}{______}$</p><p>14、设 $L^{+}$为逆时针旋转的椭圆 $x^{2}+4 y^{2}=1$ ，则 $\displaystyle \oint_{L^{+}} \frac{x^{2} \mathrm{~d} x+y^{3} \mathrm{~d} y}{x^{2}+4 y^{2}}=\stackrel{\Large 0}{______}$</p><p>15、设 $L: x^{2}+y^{2}=1$ ，则 $\displaystyle \frac{1}{\pi} \int_{L}(x+y)^{2} \mathrm{~d} l=\stackrel{\Large 2}{______}$</p><p>16、设曲面 $\mathrm{S}^{+}: z=1\left(x^{2}+y^{2} \leq 1\right)$ ，方向向上。则 $\displaystyle \frac{1}{\pi} \iint_{\mathrm{S}^{+}} x \mathrm{~d} y \wedge \mathrm{d} z+y \mathrm{~d} z \wedge \mathrm{d} x+z \mathrm{~d} x \wedge \mathrm{d} y=\stackrel{\Large 1}{______}$</p><p>17、设 $f(x)$ 是以 2 为周期的周期函数， $f(x)=x ， x \in[0,1]$ 。若 $f(x)$ 的形式Fourier级数为 $\displaystyle \sum_{n=1}^{\infty} b_{n} \sin n \pi x$ ，则 $5 \pi b_{5}=\stackrel{\Large 2}{______}$</p><p>18、设 $f(x, y)=x^{2} y^{2}$ ，则在点 $(1,1)$ 处， $\operatorname{div}(\operatorname{grad} f)=\stackrel{\Large 4}{______}$</p><p>19、记 $L^{+}$为逆时针旋转的有向封闭曲线 $|x|+|y|=1$ ，则 $\displaystyle \frac{1}{\pi} \oint_{L^{+}} \frac{x \mathrm{~d} y-y \mathrm{~d} x}{x^{2}+y^{2}}=\stackrel{\Large 2}{______}$</p><p>20、设 $L^{+}$为从 $(0,0)$ 点到 $(1,2)$ 点的有向线段，则 $\displaystyle \int_{L^{+}} x y^{2} \mathrm{~d} x+x^{2} y \mathrm{~d} y=\stackrel{\Large 2}{______}$</p><p>三、主观题</p><p>1、设 $\Omega$ 为由 $z=1-\left(x^{2}+y^{2}\right)$ 和 $x^{2}+y^{2}+z^{2}=1$ 围成的空间有界区域，求 $\displaystyle \iiint_{\Omega} z \mathrm{~d} x \mathrm{~d} y \mathrm{~d} z$   $\stackrel{ \dfrac{\pi}{12}}{______}$</p><p>2、证明函数项级数 $\displaystyle \sum_{k=1}^{\infty} k^{2} \mathrm{e}^{-k x}$ 的和函数 $S(x)$ 在其收敛域内连续可微。</p>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>微积分 A(2)</category>
      
    </categories>
    
    
    <tags>
      
      <tag>微积分 A(2)</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Functional plotter</title>
    <link href="/2022/05/25/%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0%E7%BB%98%E5%9B%BE%E5%99%A8%E5%A4%A7%E4%BD%9C%E4%B8%9A%E6%8A%A5%E5%91%8A/"/>
    <url>/2022/05/25/%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0%E7%BB%98%E5%9B%BE%E5%99%A8%E5%A4%A7%E4%BD%9C%E4%B8%9A%E6%8A%A5%E5%91%8A/</url>
    
    <content type="html"><![CDATA[<center>面向对象</center><center>空教室，录音放。先继承，再封装。</center><center>写模板，搞工厂。郑成伟，凌精望。</center><center>谢谢你，非常棒！精品书，快推广！</center><h1 id="函数绘图器"><a href="#函数绘图器" class="headerlink" title="函数绘图器"></a>函数绘图器</h1><h2 id="效果呈现"><a href="#效果呈现" class="headerlink" title="效果呈现"></a>效果呈现</h2><h3 id="用户入界面"><a href="#用户入界面" class="headerlink" title="用户入界面"></a>用户入界面</h3><p>函数绘图器的用户输入 $\mbox{ui}$ 界面如下，其中点击 <code>θ</code> 按钮之后，函数表达式文本字符串会增加 $\theta$ 字符串，用户在该界面中输入表达式、精度、自变量 $x$ 取值范围等信息，输入结束之后，绘图器会自动识别函数表达式类型，结合步长以及定义域生成对应的图像。</p><p><img src="https://pic.imgdb.cn/item/628c5b40094754312947880c.jpg" style="zoom:70%;" /></p><h3 id="有理函数"><a href="#有理函数" class="headerlink" title="有理函数"></a>有理函数</h3><p>本函数绘图器首先实现只与加减乘除相关的基本函数，如<strong>多项式函数、带括号的多项式函数、有理分式函数</strong>。三者统一表达式为 $f(x)=\dfrac{P(x)}{Q(x)}$ ，其中 $P(x)$ 和 $Q(x)$ 均为多项式且 $Q(x)\neq0$，绘制一些函数图像如下图所示：</p><p><img src="https://pic.imgdb.cn/item/628bac030947543129840abd.jpg" style="zoom:45%;" /></p><script type="math/tex; mode=display">\large 多项式函数:\ y=2x^3-x^2-3x+2,x\in[-1.5,1.5]</script><p><img src="https://pic.imgdb.cn/item/628bac670947543129853239.jpg" style="zoom:60%;" /></p><script type="math/tex; mode=display">\large 含括号多项式函数:\ y=(x+1)\cdot (x-1)\cdot (x-2),x\in[-1.5,2.5]</script><p><img src="https://pic.imgdb.cn/item/628bb7ce0947543129a22f14.jpg" style="zoom:30%;" /></p><script type="math/tex; mode=display">\large 有理分式函数:\ y=\dfrac{x^2+1}{x^4+1},x\in[-2,2]</script><h3 id="其余初等函数"><a href="#其余初等函数" class="headerlink" title="其余初等函数"></a>其余初等函数</h3><p>同时，该函数绘图器实现了<strong>三角函数、指数函数、对数函数</strong>的绘制</p><p><img src="https://pic.imgdb.cn/item/628c5c40094754312948df9a.jpg" style="zoom:30%;" /></p><script type="math/tex; mode=display">\large 三角混合函数:\ y=\sin x +\cos x,x\in[-5,5]</script><p><img src="https://pic.imgdb.cn/item/628bb30c094754312995dbfc.jpg" style="zoom:40%;" /></p><script type="math/tex; mode=display">\large 指数函数:\ y=e^x,x\in[-2,1.5]</script><p><img src="https://pic.imgdb.cn/item/628bb5ff09475431299db82e.jpg" style="zoom:50%;" /></p><script type="math/tex; mode=display">\large 对数函数:\ y=\ln x,x\in[0.05,2]</script><h3 id="极坐标函数"><a href="#极坐标函数" class="headerlink" title="极坐标函数"></a>极坐标函数</h3><p>当点击 $\theta$ 按钮时，绘图器会自动在表达式后面增加 $\theta$ 字符串，同时定义域会自动修改为 $[0,2\pi]$（可修改），以绘制极坐标函数：</p><p><img src="https://pic.imgdb.cn/item/628c3d4f094754312922da9b.jpg" style="zoom:40%;" /></p><script type="math/tex; mode=display">\large 阿基米德螺旋线:\ \rho=\theta,\theta\in[0,\dfrac{3}{2}\pi]</script><p><img src="https://pic.imgdb.cn/item/628bb8790947543129a33300.jpg" style="zoom:40%;" /></p><script type="math/tex; mode=display">\large 星形线:\ \rho=1-\sin \theta,\theta\in[0,2\pi]</script><p><img src="https://pic.imgdb.cn/item/628c3c4d094754312921f7f2.jpg" style="zoom:40%;" /></p><script type="math/tex; mode=display">\large 极坐标函数(有理分式):\ \rho=\dfrac{\theta-1}{\theta+1},\theta\in[0,2\pi]</script><h3 id="混合函数"><a href="#混合函数" class="headerlink" title="混合函数"></a>混合函数</h3><p>上述函数可以组合成更一般的初等函数，一些<strong>比较优雅</strong>的函数如下图所示</p><p><img src="https://pic.imgdb.cn/item/628c3b2f094754312920a828.jpg" style="zoom:40%;" /></p><script type="math/tex; mode=display">\large 三角函数与多项式混合:\ y=(x+1)\cdot (\sin x+1),x\in[-2,2]</script><p><img src="https://pic.imgdb.cn/item/628c6a8909475431295d6cc6.jpg" style="zoom:50%;" /></p><script type="math/tex; mode=display">\large 三角函数与指数混合:\ y=\cos x\cdot e^x,\theta\in[0,2\pi]</script><p><img src="https://pic.imgdb.cn/item/628c98b20947543129a67d4b.jpg" style="zoom:60%;" /></p><script type="math/tex; mode=display">\large 指数函数和多项式混合:\ y=(x^2-1)e^x,x\in[-1,1]</script><h3 id="极限修复函数"><a href="#极限修复函数" class="headerlink" title="极限修复函数"></a>极限修复函数</h3><p>除了一些定义域上连续可微的函数，本函数绘图器实现极限修复功能，可以绘制<strong>存在第一类间断点以及第二类间断点的函数</strong>，例如：</p><p><img src="https://pic.imgdb.cn/item/628c519609475431293bb1c0.jpg" style="zoom:40%;" /></p><script type="math/tex; mode=display">\large 与e相关的函数:\ y=x\ln(1+\dfrac{1}{x}),x\in[0,2]</script><p><img src="https://pic.imgdb.cn/item/628c5829094754312943dcc9.jpg" style="zoom:50%;" /></p><script type="math/tex; mode=display">\large 一次函数:\ y=\dfrac{2x^2}{x},x\in[-2,2]</script><p><img src="https://pic.imgdb.cn/item/628c4d0e094754312935d3af.jpg" style="zoom:40%;" /></p><script type="math/tex; mode=display">\large 正弦极限函数:\ y=\dfrac{\sin x}{x},x\in[-5,5]</script><h2 id="框架构建"><a href="#框架构建" class="headerlink" title="框架构建"></a>框架构建</h2><p>该函数绘图器大作业使用 $\mbox{QT}$ 编写，共编写 $18$ 个文件（ $8$ 个头文件，$8$ 个 $\mbox{C++}$ 文件，$2$ 个 $\mbox{ui}$ 文件）</p><p>其中 $\mbox{Utils.h}$ 头文件中定义一些数学常数（如 $\pi,e$ ），以及一些<strong>内联函数</strong>，形成一种<strong>函数工具包</strong>便于调用，其余除生成实例对象的 $\mbox{main.cpp}$ 之外均分为头文件和源文件 $(\mbox{.h/cpp})$ ，且每对文件只针对一个类，各种类之间尽量<strong>解耦</strong>以及<strong>模块化</strong>，各文件之间的层级关系以及功能如下图所示：</p><pre><code class="mermaid" >flowchart TD    A([main.cpp]) --实例对象--> B([mainwindow.h/cpp])    C((mainwindow.ui)) --用户输入--> B    B -->|后端图像| D([latexImg.h/cpp])    B --->|前端展示| E([dialog.h/cpp])    B --后端数据--> F([Expression.h/cpp])    F --直角坐标系--> G([recExp.h/cpp])    F --极坐标系--> H([polarExp.h/cpp])    G --表达式以及异常处理--> I[(vector< double > x,y)]    H --表达式以及异常处理--> I    D --转换latex格式--> J[downloader.h/cpp]J --URL网络请求--> K[(QPixmap img)]K --图像背景更换--> L{graph}I --线性重排以及调整--> LE --> M((dialog.ui))M --高精度计时器-->LN[Utils.h] --内联函数-->B</code></pre><p>对于绘制函数图像这一需求，设计上先分为<strong>前端和后端</strong>，后端处理分为数据双列表的计算以及 $\LaTeX$ 图像的获取，前端将后端得到的内容进行重排以及处理，最终展示得到相应的含 $\LaTeX$ 表达式的图像</p><h2 id="实现细节"><a href="#实现细节" class="headerlink" title="实现细节"></a>实现细节</h2><h3 id="mbox-Utils-h-工具函数"><a href="#mbox-Utils-h-工具函数" class="headerlink" title="$\mbox{Utils.h}$ 工具函数"></a>$\mbox{Utils.h}$ 工具函数</h3><p>该头文件实现一些工具函数，有字符串处理、背景颜色更换、获取 $\mbox{vector}$ 对象中的最大值最小值、使用 $\mbox{C++}$ 文件流的操作转换 $\mbox{double}$ 类型数据和 $\mbox{string}$ 类型数据几种函数。例如其中更改背景颜色的工具函数中使用 $\mbox{QColor}$ 类创建白色和灰色实例对象，将从网络上获取到的 $\LaTeX$ 图像中的白色背景转换为灰色，以适应函数图像的背景：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//更改背景颜色</span><br><span class="hljs-function"><span class="hljs-keyword">inline</span> QPixmap <span class="hljs-title">changeBackGroundColor</span><span class="hljs-params">(QPixmap img)</span></span>&#123;<br>    <span class="hljs-function">QColor <span class="hljs-title">white</span><span class="hljs-params">(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>)</span></span>;<br>    <span class="hljs-function">QColor <span class="hljs-title">grey</span><span class="hljs-params">(<span class="hljs-number">240</span>, <span class="hljs-number">240</span>, <span class="hljs-number">240</span>)</span></span>;<br>    QImage image = img.<span class="hljs-built_in">toImage</span>();<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> w = <span class="hljs-number">0</span>;w &lt; image.<span class="hljs-built_in">width</span>();w++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> h = <span class="hljs-number">0</span>; h &lt; image.<span class="hljs-built_in">height</span>();h++)&#123;<br>            QRgb rgb = image.<span class="hljs-built_in">pixel</span>(w, h);<br>            <span class="hljs-keyword">if</span> (rgb == white.<span class="hljs-built_in">rgb</span>())<br>                image.<span class="hljs-built_in">setPixel</span>(w, h, grey.<span class="hljs-built_in">rgba</span>());<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> QPixmap::<span class="hljs-built_in">fromImage</span>(image);<br>&#125;<br></code></pre></td></tr></table></figure><p>该函数可以将以白色为背景的图片转换为以灰色为背景的图片：</p><p><img src="https://pic.imgdb.cn/item/628b8d0509475431292d1d3a.jpg" style="zoom:20%;" /></p><h3 id="内联函数"><a href="#内联函数" class="headerlink" title="内联函数"></a>内联函数</h3><p>$\mbox{Utils.g}$ 文件中均使用内联函数，$\mbox{wiki}$ 上对 <code>inline function</code> 的定义如下：</p><blockquote><p>It serves as a compiler directive that suggests (but does not require) that the <strong>compiler</strong> substitute the body of the function inline by performing <strong>inline expansion</strong>, i.e. by inserting the function code at the address of each function call, thereby saving the overhead of a function call. </p></blockquote><p>可见，内联函数通过直接在调用点展开的方式节约函数调用的开销，这对于一些工具函数是合理的，毕竟这些工具函数不需要专门的类加以封装，对于所有类中的方法，均可以直接进行调用展开即可。</p><p>在 $\mbox{C++}$ 中也可以使用 $\mbox{lambda}$ 匿名函数实现函数的插入。 $\mbox{lambda}$ 表达式是 $\mbox{C++}$ 发展史上的一个重大事件，也是 $\mbox{C++}$ 支持函数式编程的重要一环。</p><p><strong>$\mbox{C++}$ 既融合了面向对象编程的约束，也融合了函数式编程的自由，一张一弛，乃编程之道</strong>。$\mbox{lambda}$ 表达式在数学上可以证明为图灵完备的，其开创了  $\mbox{C++}$ 的一个崭新编程范式。</p><p>具体来说，$\mbox{lambda}$ 表达式可以看做是一个临时使用的、嵌入在几乎任何地方的函数，简单示例如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">auto</span> maxVec = [](vector&lt;<span class="hljs-type">double</span>&gt; x)&#123; <span class="hljs-keyword">return</span> *<span class="hljs-built_in">max_element</span>(x.<span class="hljs-built_in">begin</span>(), x.<span class="hljs-built_in">end</span>()); &#125;;<br>    <span class="hljs-comment">// maxVec 为 lambda 表达式，代表一个函数</span><br>    vector&lt;<span class="hljs-type">double</span>&gt; a&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>&#125;;<br>    cout &lt;&lt; <span class="hljs-built_in">maxVec</span>(a) &lt;&lt; endl;<span class="hljs-comment">// 使用起来相当于一个函数，可重复调用多个 Vector </span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>在编写代码过程中，对于一些不需要专门声明的函数，可以使用上述 $\mbox{lambda}$ 表达式，$\mbox{lambda}$ 表达式还可以使将函数内部的局部变量进行捕获，防止函数作用完成之后原始数据丢失的情况，由于该特性没有在代码编写中使用，这里不再展开。</p><h3 id="后端数据处理"><a href="#后端数据处理" class="headerlink" title="后端数据处理"></a>后端数据处理</h3><p>采用正则表达式的方法对表达式中的对各种运算进行逐一搜索递归计算，下面给出所有正则表达式运算优先级代码，在初等函数的分类下，共 $17$ 个</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::regex Expression::priority[<span class="hljs-number">17</span>]&#123;<br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(.*)\\+(.*)&quot;</span>),              <span class="hljs-comment">//0，加</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(.*)\\-(.*)&quot;</span>),              <span class="hljs-comment">//1，减</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(.*)\\*(.*)&quot;</span>),              <span class="hljs-comment">//2，乘</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(.*)/(.*)&quot;</span>),                <span class="hljs-comment">//3，除</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(.*)\\^(.*)&quot;</span>),              <span class="hljs-comment">//4，次方</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;sin(.*)&quot;</span>),                  <span class="hljs-comment">//5，正弦</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;cos(.*)&quot;</span>),                  <span class="hljs-comment">//6，余弦</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;tan(.*)&quot;</span>),                  <span class="hljs-comment">//7，正切</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;arcsin(.*)&quot;</span>),               <span class="hljs-comment">//8，反正弦</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;arccos(.*)&quot;</span>),               <span class="hljs-comment">//9，反余弦</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;arctan(.*)&quot;</span>),               <span class="hljs-comment">//10，反正切</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;log\\((.*),(.*)\\)&quot;</span>),       <span class="hljs-comment">//11，以 10 为底对数</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;ln(.*)&quot;</span>),                   <span class="hljs-comment">//12，以 e 为底对数</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(^(-?\\d+)(\\.\\d+)?$)&quot;</span>),   <span class="hljs-comment">//13，单个常数（包括任何小数）</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;x&quot;</span>),                        <span class="hljs-comment">//14，自变量符号 x</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;e&quot;</span>),                        <span class="hljs-comment">//15，自然底数 e</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;π&quot;</span>)                         <span class="hljs-comment">//16，圆周率 π</span><br>&#125;;<br></code></pre></td></tr></table></figure><p>运算级较低的符号应该放在最后计算，由于递归的特点，其应该在前面进行检测，在运算时，只需要依次遍历每个正则表达式，若符合要求，则将表达式拆成几个部分进行递归计算，其流程图（仅有 $2$ 次递归）如下：</p><pre><code class="mermaid" >flowchart TDA[A operator B] --> B[A]A[A operator B] --- C(operator)A[A operator B] --> D[B]B <--> O[a1]B <--> P[operator]B <--> Q[a2]B --data--> CD --data--> CD <--> R[b1]D <--> S[operator]D <--> T[b2]C -->Z[result]</code></pre><p>对于输入表达式有误进行异常处理：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//合法、括号不匹配、分子不为0且分母为0、分子分母均为0（可能存在极限）、非括号运算符错误、常数错误（小数点出错）、函数无定义</span><br>    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">judge</span>&#123;isLegal, mismatch, divisorZero, perhapsLim, operatorInlegal, constantInlegal, undefined&#125;;<br>    std::map&lt;<span class="hljs-type">double</span>, judge&gt; judges;<br></code></pre></td></tr></table></figure><p>采用枚举各种错误的方式，对于括号不匹配，分母为 $0$ 等一些异常处理进行相应的判断。使用标准库中的 $\mathbf{map}$ 数据结构，将对应自变量 $x$ 与相关判断构成映射关系，方便之后统一处理，例如对于 <code>/</code> 的处理如下，其中由于计算机浮点数误差，采用比较 $\mbox{tolerance}$ 误差的方法进行判定：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++">   <span class="hljs-comment">//正则表达式以 / 为界切分为两部分，调用 str() 函数构造两个新的 Expression 实例对象</span><br><span class="hljs-keyword">if</span> (std::<span class="hljs-built_in">regex_search</span>(<span class="hljs-keyword">this</span>-&gt;exp, m, priority[<span class="hljs-number">3</span>]))&#123;<br>       Expression e1&#123; m[<span class="hljs-number">1</span>].<span class="hljs-built_in">str</span>(), x &#125;;<br>       Expression e2&#123; m[<span class="hljs-number">2</span>].<span class="hljs-built_in">str</span>(), x &#125;;<br>       <span class="hljs-comment">//分子&quot;不为0&quot;，分母&quot;为0&quot;</span><br>       <span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(e2) &lt; tol &amp;&amp; <span class="hljs-built_in">fabs</span>(e1) &gt; tol)<br>           judges[x] = judge::divisorZero;<br>       <span class="hljs-comment">//分子&quot;为0&quot;，分母也&quot;为0&quot;，有可能存在极限</span><br>       <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-built_in">fabs</span>(e2) &lt; tol &amp;&amp; <span class="hljs-built_in">fabs</span>(e1) &lt; tol)<br>           judges[x] = judge::perhapsLim;<br>       cout &lt;&lt; errorStrings[judges[x]] &lt;&lt; endl;<br>       <span class="hljs-keyword">return</span> (<span class="hljs-built_in">int</span>(judges[x]) == <span class="hljs-number">0</span>)? e1 / e2 : <span class="hljs-number">0</span>;<br>   &#125;<br></code></pre></td></tr></table></figure><p>最后在处理 <code>vector&lt;double&gt; x,y</code> 时若出现极限可能存在的情况，考虑其两侧的函数值，如果两者差异过大，则该处极限不存在，如果两者差异不大，则该处极限可以用两侧的点取平均得到近似解，写成数学表达式有</p><script type="math/tex; mode=display">\begin{gathered}|\lim_{x\to x_0^+}f(x)-\lim_{x\to x_0^-}f(x)|<\mbox{tolerance} , \lim_{x\to x_0}f(x)\ \  \mbox{exists}\\|\lim_{x\to x_0^+}f(x)-\lim_{x\to x_0^-}f(x)|\geq \mbox{tolerance} , \lim_{x\to x_0}f(x)\ \  \mbox{doesn't exist}\end{gathered}</script><p>相关处理函数如下所示：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-built_in">int</span>(x.<span class="hljs-built_in">size</span>()); i++)&#123;<br>    judges[x[i]] = judge::isLegal;<br>    y.<span class="hljs-built_in">push_back</span>(<span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">getValue</span>(x[i]));<br>    <span class="hljs-comment">//如果这个点存在极限，判定两侧的差值是否较大，如果不大则使用平均值</span><br>    <span class="hljs-keyword">if</span> (judges[x[i]] == judge::perhapsLim &amp;&amp; <span class="hljs-number">0</span> &lt; i &amp;&amp; i + <span class="hljs-number">1</span> &lt; <span class="hljs-built_in">int</span>(y.<span class="hljs-built_in">size</span>()) )&#123;<br>        judges[x[i + <span class="hljs-number">1</span>]] = judge::isLegal;<br>        y.<span class="hljs-built_in">push_back</span>(<span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">getValue</span>(y[i + <span class="hljs-number">1</span>]));<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(y[i + <span class="hljs-number">1</span>] - y[i - <span class="hljs-number">1</span>]) &lt;= <span class="hljs-number">100</span> * tol)&#123;<br>            y[i] = (y[i + <span class="hljs-number">1</span>] + y[i - <span class="hljs-number">1</span>]) / <span class="hljs-number">2</span>;<br>            judges[x[i]] = judge::isLegal;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            judges[x[i]] = judge::divisorZero;<br>            cout &lt;&lt; x[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; y[i + <span class="hljs-number">1</span>] &lt;&lt; endl;<br>        &#125;<br>        i += <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>处理之后得到的 $\mbox{x,y}$ 两列表还需要单独针对极坐标系进行计算，相应计算公式如下：</p><script type="math/tex; mode=display">\begin{cases}x=\rho \cos \theta\\y=\rho \sin \theta\end{cases}</script><p>针对两个继承的类，使用<strong>函数重载</strong>对两种情况进行处理，在 $\mbox{mainwindow.h/cpp}$ 中通过查找是否存在 <code>&quot;θ&quot;</code> 字符串判定需要定义的类，该类中的运算方法都继承自 <code>class Expression</code> ，<strong>复用</strong>相同的使用正则表达式计算对应的函数值。</p><h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><p>在处理一些冗余点时，使用 <code>iterator</code> 迭代器以及 $\mbox{C++}$ 新特性对 $\mbox{vector}$ 中的元素进行迭代， $\mbox{wiki}$ 中对 $\mbox{iterator}$ 的解释如下：</p><blockquote><p>In computer programming, an iterator is an object that enables a programmer to traverse a container, particularly lists.</p></blockquote><p>$\mbox{C++}$ 语言在其标准库中广泛使用了迭代器，并描述了几类选代器，它们所允许的操作不同。这些包括前向选代器、双向选代器和随机访问选代器，在 $\mbox{C++}$ 语言中还支持自定义迭代器，更加方便构建适用的类，例如机器学习中对数据预处理就可以使用迭代器的方式进行处理（ 依照 $\mbox{epoch,batch}$ 的大小分批次处理数据），这样可以在调用接口处使用 $\mbox{auto}$ 语句更加简洁：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataLoader</span>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-comment">//乱序编码位置</span><br>    vector&lt;<span class="hljs-type">int</span>&gt; _rand_order;<br>    <span class="hljs-comment">//每个 batch 的最大长度，总组数</span><br>    <span class="hljs-type">int</span> batch_size = <span class="hljs-number">0</span>, endIndex = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">//所有句子编码（顺序排列）</span><br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; _data;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">//三维数组</span><br>    vector&lt;vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&gt; ans;<br>    <span class="hljs-comment">// 迭代器，取出 ans 对应下标结果</span><br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Iterator</span><br>    &#123;<br>        <span class="hljs-comment">//标签</span><br>        <span class="hljs-keyword">using</span> iterator_category = std::forward_iterator_tag;<br>        <span class="hljs-keyword">using</span> difference_type   = std::<span class="hljs-type">ptrdiff_t</span>;<br>        <span class="hljs-keyword">using</span> value_type        = vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;;<br>        <span class="hljs-keyword">using</span> reference         = value_type&amp;;<span class="hljs-comment">// 迭代器所指向的变量的引用类型</span><br>        <span class="hljs-keyword">using</span> pointer           = value_type*;<span class="hljs-comment">// 迭代器所指向的变量的指针类型</span><br>    <span class="hljs-keyword">private</span>:<br>        pointer m_ptr;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">Iterator</span>(pointer ptr) : <span class="hljs-built_in">m_ptr</span>(ptr) &#123;&#125;<br>        reference <span class="hljs-keyword">operator</span>*() <span class="hljs-type">const</span> &#123; <span class="hljs-keyword">return</span> *m_ptr; &#125;<br>        pointer <span class="hljs-keyword">operator</span>-&gt;() &#123; <span class="hljs-keyword">return</span> m_ptr; &#125;<br>        <span class="hljs-comment">//前缀 ++</span><br>        Iterator&amp; <span class="hljs-keyword">operator</span>++() &#123; m_ptr++; <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>; &#125;   <span class="hljs-comment">// ++i</span><br>        <span class="hljs-comment">//后缀 ++</span><br>        Iterator <span class="hljs-keyword">operator</span>++(<span class="hljs-type">int</span>) &#123; Iterator tmp = *<span class="hljs-keyword">this</span>; ++(*<span class="hljs-keyword">this</span>); <span class="hljs-keyword">return</span> tmp; &#125;<br>    &#125;;<br>    <span class="hljs-comment">//迭代器开始</span><br>    <span class="hljs-function">Iterator <span class="hljs-title">begin</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Iterator</span>(&amp;ans[<span class="hljs-number">0</span>]);   <span class="hljs-comment">// 返回迭代器</span><br>    &#125;<br>    <span class="hljs-comment">//迭代器结束</span><br>    <span class="hljs-function">Iterator <span class="hljs-title">end</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Iterator</span>(&amp;ans[endIndex]);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><code>auto batch : D</code> 等同于 <code>iteractor it = D.begin(); it &lt; D.end();it++, batch = *it</code> </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> batch : D)&#123;<br>    string str = <span class="hljs-built_in">matrix_unicode</span>(batch);<br>    cout&lt;&lt; str &lt;&lt;endl;<br>&#125;<br></code></pre></td></tr></table></figure><p>由此可见，将迭代器和 $\mbox{auto}$ 关键字可以简化代码的编写，对于本次函数绘图器而言，若出现一些需要去除的点（已经极限修复的点不算），则将 $\mbox{vetcor<double> x,y}$ 中对应的 $(x,y)$ 均删除，实现代码如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i = x.<span class="hljs-built_in">begin</span>(), j = y.<span class="hljs-built_in">begin</span>(); i != x.<span class="hljs-built_in">end</span>() &amp;&amp; j != y.<span class="hljs-built_in">end</span>(); i++, j++)&#123;<br>    <span class="hljs-comment">//如果这个点为特殊点，将其删除</span><br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">int</span>(judges[*i]) != <span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-comment">// temp.erase返回迭代器，将不合法的元素全部删除</span><br>        i = x.<span class="hljs-built_in">erase</span>(i);<br>        j = y.<span class="hljs-built_in">erase</span>(j);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>使用两个迭代器同向遍历，遇到出现问题的点就自动对应删除，达到删除不合理点的目的，例如 $f(x)=\dfrac{1}{x}$ 中 $x=0$ 的点，在处理时便自动删除该间断点。</p><h3 id="后端图像处理"><a href="#后端图像处理" class="headerlink" title="后端图像处理"></a>后端图像处理</h3><p>在编写函数绘图器的过程中，曾经使用过与 $\mbox{Qt 4.0}$ 版本兼容的排版库 $\mbox{miktex}$，但由于当前 $\mbox{Qt}$ 版本为 $6.2.4$ 无法和该排版库兼容，另一方面，$\mbox{miktex}$ 在数学公式渲染方面有一定缺陷，需要更换思路。</p><p>进而想到 $\mbox{Qt}$ 有相应的网络包，可以通过给定的 $\mbox{URL}$ 网址获取对应的图片，而 $\mbox{latex.codecogs.com}$ 官网提供可以直接获取 $\LaTeX$ 排版之后的图片，经过清晰化调整之后在以下网址 </p><script type="math/tex; mode=display">\mbox{https://latex.codecogs.com/png.latex?\%5Cdpi\%7B300\%7D\%20\%5Cbg\_white\%20\%5Chuge\%20}</script><p>后面添加正确的 $\LaTeX$ 公式（如 $\mbox{y=\\dfrac\{\\sin x\}\{x}\small\wedge\normalsize \mbox{2+1\}}$），便可以获取对应图片，相应的 $y=\dfrac{\sin x}{x^2+1}$ 在该<a href="https://latex.codecogs.com/png.latex?%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20y=\dfrac{\sin%20x}{x^2+1}">网址</a>中便可得到以下高清图片：</p><p><img src="https://pic.imgdb.cn/item/628ce54c09475431292c425d.jpg" style="zoom:50%;" /></p><p>将一般表达式转换到 $\LaTeX$ 表达式单独列封装成一个类 $\mbox{latexImg.h/cpp}$，针对各种表达式进行替换，如：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++">vector&lt;pair&lt;string, string&gt;&gt; replaceLatex = &#123;&#123;<span class="hljs-string">&quot;θ&quot;</span>,<span class="hljs-string">&quot;\\theta&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;π&quot;</span>, <span class="hljs-string">&quot;\\pi&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;（&quot;</span>, <span class="hljs-string">&quot;(&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;）&quot;</span>, <span class="hljs-string">&quot;)&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;)*(&quot;</span>, <span class="hljs-string">&quot;) \\cdot (&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;)(&quot;</span>, <span class="hljs-string">&quot;) \\cdot (&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;PI&quot;</span>, <span class="hljs-string">&quot; \\pi &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;Pi&quot;</span>, <span class="hljs-string">&quot; \\pi &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;pi&quot;</span>, <span class="hljs-string">&quot; \\pi &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;x*(&quot;</span>,<span class="hljs-string">&quot;x \\cdot (&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;x(&quot;</span>,<span class="hljs-string">&quot;x \\cdot (&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;)*x&quot;</span>, <span class="hljs-string">&quot;) \\cdot x&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;)x&quot;</span>,<span class="hljs-string">&quot;) \\cdot x&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;sin&quot;</span>, <span class="hljs-string">&quot; \\Sin &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;cos&quot;</span>, <span class="hljs-string">&quot; \\Cos &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;tan&quot;</span>, <span class="hljs-string">&quot; \\Tan &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;ln&quot;</span>, <span class="hljs-string">&quot; \\Ln &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;*&quot;</span>, <span class="hljs-string">&quot; \\cdot &quot;</span>&#125;&#125;;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> pr : solveRepeations)<br>    latexStr = <span class="hljs-built_in">replace_all</span>(latexStr, pr.first, pr.second);<br></code></pre></td></tr></table></figure><p>使用 $\mbox{pair}$ 数据结构以及 $\mbox{auto}$ 的使用，对成对的字符串进行替换，再编写 <code>removeRedundant()</code> 函数专门处理和分式相关的字符串，例如将 $\mbox{1/x}$ 转换为 $\mbox{\\dfrac\{1\}\{x\}}$ 依此类推</p><p>有关网络请求获取图片的代码如下，编写在 $\mbox{mainwindow.cpp}$ 中：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MainWindow::getImg</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-comment">//在函数里面定义一个类的实例对象，需要在前面加上关键词 class</span><br>    <span class="hljs-comment">//使用 latexImg 对象获取对应表达式的 latex 图片</span><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">latexImg</span> latex&#123;<span class="hljs-keyword">this</span>-&gt;exp.<span class="hljs-built_in">toStdString</span>(), isRec&#125;;<br>    string latexURL = latex.<span class="hljs-built_in">getURL</span>();<br>    <span class="hljs-comment">//构造 QNetworkAccessManage 实例模拟获取网页的过程</span><br>    <span class="hljs-function">QUrl <span class="hljs-title">url</span><span class="hljs-params">(QString::fromStdString(latexURL))</span></span>;<br>    QNetworkAccessManager manager;<br>    QEventLoop loop;<br>    QNetworkReply *reply = manager.<span class="hljs-built_in">get</span>(<span class="hljs-built_in">QNetworkRequest</span>(url));<br>    <span class="hljs-comment">//请求结束并下载完成后，退出子事件循环</span><br>    QObject::<span class="hljs-built_in">connect</span>(reply, <span class="hljs-built_in">SIGNAL</span>(<span class="hljs-built_in">finished</span>()), &amp;loop, <span class="hljs-built_in">SLOT</span>(<span class="hljs-built_in">quit</span>()));<br>    <span class="hljs-comment">//开启子事件循环</span><br>    loop.<span class="hljs-built_in">exec</span>();<br>    QByteArray jpegData = reply-&gt;<span class="hljs-built_in">readAll</span>();<br>    <span class="hljs-comment">//将获取图片存储在 mainwindow 中</span><br>    latexImg.<span class="hljs-built_in">loadFromData</span>(jpegData);<br>&#125;<br></code></pre></td></tr></table></figure><p>在调试过程中发现，对于类中的方法，如果函数里面定义一个类的实例对象，需要在前面加上关键词 <code>class</code>，否则编译不通过</p><h2 id="前端展示"><a href="#前端展示" class="headerlink" title="前端展示"></a>前端展示</h2><p>对于主窗口，使用 $\mbox{Qt}$ 中的设计师界面添加相应的按钮以及修改相应的初始值，设计相应的前端框架界面</p><p><img src="https://pic.imgdb.cn/item/628cf1f4094754312940eff6.jpg" alt=""></p><p>对于从后端拿到的<strong>数据</strong>，分别进行等比例缩放以及在合适的位置处增加坐标轴和标度，从数学的角度来说，该步骤是将数据所在的线性空间<strong>线性且合适地映射</strong>到画布所在的线性空间。注意绘图原点在左上角，$x$ 方向向右，$y$ 方向向下，绘制的坐标轴处的箭头需要一定的偏置，本绘图器采用 $45\degree$ ：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++">   <span class="hljs-comment">// x 放大倍数</span><br>   <span class="hljs-type">int</span> zoomOutX = <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() * <span class="hljs-number">0.9</span> / width;<br>   <span class="hljs-comment">// y 放大倍数</span><br>   <span class="hljs-type">int</span> zoomOutY = <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.9</span> / height;<br>   <span class="hljs-comment">//放大倍数，取较小者</span><br>   <span class="hljs-type">int</span> zoomOut = zoomOutX &lt; zoomOutY ? zoomOutX : zoomOutY;<br><span class="hljs-comment">//原点 x</span><br>   <span class="hljs-type">double</span> originX = offsetX * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() * <span class="hljs-number">0.05</span>;<br>   <span class="hljs-comment">//原点 y</span><br>   <span class="hljs-type">double</span> originY = offsetY * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.05</span>;<br>   minX = (minX + offsetX) * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() * <span class="hljs-number">0.05</span>;<br>   maxX = (maxX + offsetX) * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() * <span class="hljs-number">0.05</span>;<br>   minY = (minY + offsetY) * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.05</span>;<br>   maxY = (maxY + offsetY) * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.05</span>;<br>   <span class="hljs-comment">// x 轴</span><br>   <span class="hljs-function">QLine <span class="hljs-title">xLine</span><span class="hljs-params">(minX, originY, maxX, originY)</span></span>;<br>   qPainter.<span class="hljs-built_in">drawLine</span>(xLine);<br>   <span class="hljs-comment">// y 轴</span><br>   <span class="hljs-function">QLine <span class="hljs-title">yLine</span><span class="hljs-params">(originX, minY, originX, maxY)</span></span>;<br>qPainter.<span class="hljs-built_in">drawLine</span>(yLine);<br>   <span class="hljs-comment">//绘制原点、x轴、y轴处的字符</span><br>   qPainter.<span class="hljs-built_in">drawText</span>(<span class="hljs-built_in">QPointF</span>(originX + <span class="hljs-number">2</span>, originY - <span class="hljs-number">2</span>), <span class="hljs-string">&quot;O&quot;</span>);<br>   qPainter.<span class="hljs-built_in">drawText</span>(<span class="hljs-built_in">QPointF</span>(maxX, originY - <span class="hljs-number">7</span>), <span class="hljs-string">&quot;x&quot;</span>);<br>   qPainter.<span class="hljs-built_in">drawText</span>(<span class="hljs-built_in">QPointF</span>(originX + <span class="hljs-number">7</span>, minY), <span class="hljs-string">&quot;y&quot;</span>);<br>   <span class="hljs-comment">//绘制箭头，45°方向绘制箭头</span><br>   QLineF *arrows = <span class="hljs-keyword">new</span> QLineF[<span class="hljs-number">4</span>]&#123;&#123;maxX, originY, maxX - <span class="hljs-number">5</span>, originY - <span class="hljs-number">5</span>&#125;,<br>                                  &#123;maxX, originY, maxX - <span class="hljs-number">5</span>, originY + <span class="hljs-number">5</span>&#125;,<br>                                  &#123;originX, minY, originX - <span class="hljs-number">5</span>, minY + <span class="hljs-number">5</span>&#125;,<br>                                  &#123;originX, minY, originX + <span class="hljs-number">5</span>, minY + <span class="hljs-number">5</span>&#125;&#125;;<br><br></code></pre></td></tr></table></figure><p>而绘制刻度时，原点需要作为一个刻度，$y$ 轴需要正负号分别计算：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;originY + i * hSpacer &lt;= maxScreenY;i++)&#123;<br>       <span class="hljs-type">int</span> screenY = originY + i * hSpacer;<br>       qPainter.<span class="hljs-built_in">drawLine</span>(originX, screenY, originX + <span class="hljs-number">3</span>, screenY);<br>       <span class="hljs-type">double</span> realY = (screenY - <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.05</span>) / <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">double</span>&gt;(zoomOut) - offsetY;<br>       qPainter.<span class="hljs-built_in">drawText</span>(<span class="hljs-built_in">QPoint</span>(originX + <span class="hljs-number">13</span>, screenY + <span class="hljs-number">5</span>), QString::<span class="hljs-built_in">number</span>(-realY, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-number">2</span>));<br>   &#125;<br>   <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;originY - i * hSpacer &gt;= minScreenY;i++)&#123;<br>       <span class="hljs-type">int</span> screenY = originY - i * hSpacer;<br>       qPainter.<span class="hljs-built_in">drawLine</span>(originX, screenY, originX + <span class="hljs-number">3</span>, screenY);<br>       <span class="hljs-type">double</span> realY = (screenY - <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.05</span>) / <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">double</span>&gt;(zoomOut) - offsetY;<br>       qPainter.<span class="hljs-built_in">drawText</span>(<span class="hljs-built_in">QPoint</span>(originX + <span class="hljs-number">13</span>, screenY + <span class="hljs-number">5</span>), QString::<span class="hljs-built_in">number</span>(-realY, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-number">2</span>));<br>   &#125;<br></code></pre></td></tr></table></figure><p>同理，对于从后端拿到的<strong>图像</strong>，进行背景颜色的替换再通过计算当前画大小得到相应的右上角位置，并最后设置画笔为蓝色，调用 $\mbox{Qt}$ 中的 <code>qPainter.drawPolyline(points, size)</code> 函数平滑连接各点，得到相应的图像</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c++">   <span class="hljs-comment">//获取当前画布宽度和高度</span><br><span class="hljs-type">double</span> imgWidth = originImg.<span class="hljs-built_in">width</span>();<br>   <span class="hljs-type">double</span> imgHeight = originImg.<span class="hljs-built_in">height</span>();<br><span class="hljs-comment">//比较得到图片的高度</span><br>   <span class="hljs-type">int</span> sizeImg = <span class="hljs-built_in">MIN</span>(<span class="hljs-number">60</span>, <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() / <span class="hljs-number">1.2</span> / imgWidth * imgHeight);<br><span class="hljs-comment">//将图片放置在合适的位置</span><br>   qPainter.<span class="hljs-built_in">drawPixmap</span>(<span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() - sizeImg * <span class="hljs-number">1.2</span> * imgWidth / imgHeight, <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.1</span>, sizeImg * imgWidth / imgHeight, sizeImg, <span class="hljs-built_in">changeBackGroundColor</span>(originImg));<br>   qPainter.<span class="hljs-built_in">setPen</span>(<span class="hljs-built_in">QColor</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>));<br>   qPainter.<span class="hljs-built_in">drawPolyline</span>(points, size);<br></code></pre></td></tr></table></figure><h3 id="高精度计时"><a href="#高精度计时" class="headerlink" title="高精度计时"></a>高精度计时</h3><p>关于这部分，可以访问本人博客有关 $\mbox{OOP}$ 第二次小作业报告中的探讨，网址如下<a href="https://lr-tsinghua11.github.io/2022/03/06/Program/OOP%20Homework%202/">面向对象编程第二次作业</a></p><p>大致为调用相关 $\mbox{API}$ ，通过所在电脑的频率和计数器高精度计算相关时间，并将时间显示在图像标题处</p><h2 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h2><h3 id="表达式函数"><a href="#表达式函数" class="headerlink" title="表达式函数"></a>表达式函数</h3><p>由于 $\mbox{Qt}$ 相关的 $\mbox{ui}$ 界面在编写过程中已经写好，对于该表达式函数，使用 $\mbox{Visual studio}$ 单独定义该类并进行测试，通过的测试样例如下（其中大致可以分为几个部分）：</p><div class="table-container"><table><thead><tr><th>单元测试分类</th><th>实例</th></tr></thead><tbody><tr><td>乘法含负号</td><td><code>Expression e(&quot;2*(-2)&quot;);</code></td></tr><tr><td>除法含负号</td><td><code>Expression e(&quot;-1/1&quot;);</code></td></tr><tr><td>加减（含括号）</td><td><code>Expression e(&quot;(-1+1)*(-1-1)&quot;);</code></td></tr><tr><td>加乘（含括号）</td><td><code>Expression e(&quot;(1+2)*(2+3)&quot;);</code></td></tr><tr><td>加减乘（含括号）</td><td><code>Expression e(&quot;(1+1)*(1-1)&quot;);</code></td></tr><tr><td>加乘（含括号和负号）</td><td><code>Expression e&#123; &quot;-(-(2*4-1*3))&quot;,1&#125;;</code></td></tr><tr><td>加减和幂次</td><td><code>Expression e(&quot;-1^3+3*1&quot;);</code></td></tr><tr><td>加减除幂次</td><td><code>Expression e(&quot;(x^2-1)/(x+1)&quot;);</code></td></tr><tr><td>三角函数（含负号）</td><td><code>Expression e(&quot;sin(-1)&quot;);</code>    <code>Expression e(&quot;tan(-1000)&quot;);</code></td></tr></tbody></table></div><p>调取之后输出相应的结果并口算进行验证，结果符合预测，验证代码如下，在表达式分段处加入 <code>cout &lt;&lt; Exp</code> 等语句调试上述正则表达式相关过程，进行 $\mbox{Debug}$：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++">cout &lt;&lt; <span class="hljs-string">&quot;The result is &quot;</span> &lt;&lt; e.<span class="hljs-built_in">getValue</span>(<span class="hljs-number">0</span>) &lt;&lt; endl;<br>cout &lt;&lt; <span class="hljs-string">&quot;Judge is &quot;</span> &lt;&lt; e.judges[<span class="hljs-built_in">double</span>(<span class="hljs-number">0</span>)] &lt;&lt; endl;<br></code></pre></td></tr></table></figure><p>$\mbox{Visual Studio}$ 中单元测试代码截屏如下：</p><p><img src="https://pic.imgdb.cn/item/628cf6b7094754312948beb1.jpg" style="zoom:40%;" /></p><h3 id="处理-LaTeX-公式"><a href="#处理-LaTeX-公式" class="headerlink" title="处理 $\LaTeX$ 公式"></a>处理 $\LaTeX$ 公式</h3><p>在中后期编写处理 $\LaTeX$ 公式进行单元测试，采用 $\mbox{wsl/Linux}$ 子系统控制台终端进行测试，摆脱大型 $\mbox{IDE}$ 的束缚，让代码输入输出全部都在 $\mbox{powershell}$ 中进行，能够达到快速 $\mbox{Debug}$ 的效果，截图如下：</p><p><img src="https://pic.imgdb.cn/item/628cf9e809475431294dfcd6.jpg" style="zoom:60%;" /></p><p>其中可以在控制台中使用重定向 <code>&gt;</code> 运算符将输入输出结果保存到相应的 $\mbox{txt}$ 文件中，测试通过的样例如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++">   <span class="hljs-number">1</span>/x \dfrac&#123;<span class="hljs-number">1</span>&#125;&#123;x&#125;<br><span class="hljs-number">1</span>/x+<span class="hljs-number">2</span>/x \dfrac&#123;<span class="hljs-number">1</span>&#125;&#123;x&#125;+\dfrac&#123;<span class="hljs-number">2</span>&#125;&#123;x&#125;<br>(<span class="hljs-number">1</span>+x)/x \dfrac&#123;<span class="hljs-number">1</span>+x&#125;&#123;x&#125;<br><span class="hljs-number">1</span>/(x+<span class="hljs-number">1</span>) \dfrac&#123;<span class="hljs-number">1</span>&#125;&#123;x+<span class="hljs-number">1</span>&#125;<br>(x+<span class="hljs-number">2</span>)/(x+<span class="hljs-number">1</span>) \dfrac&#123;x+<span class="hljs-number">2</span>&#125;&#123;x+<span class="hljs-number">1</span>&#125;<br></code></pre></td></tr></table></figure><p>对于多重分式需要括号匹配，该公式转换会出现一些问题。但是，在函数绘制中很少出现这种情形，如 $\dfrac{1+\dfrac{1}{x}}{x}=\dfrac{x+1}{x^2}$ 总可以通过手工化简的方式简化为只需要一个分号的形式，不需要考虑多重分式的情况。</p><p>从而该单元测试函数的测试至此为止，<strong>否则会极大影响开发进度</strong>。</p><h2 id="总结与反思"><a href="#总结与反思" class="headerlink" title="总结与反思"></a>总结与反思</h2><ul><li><p>该函数绘图器中正则表达式遍历查找的算法时间消耗比较大，对一般的函数基本消耗时间 $\in[1s,2s]$ ，由于数据结构相关课程没有学习，猜测一些树的结构能够加快运算速度</p></li><li><p>本次函数绘图器开发周期至少整整 $7$ 天，从最开始的手足无措，到后面一点点列出需求文档不断进行实现和填充，在需求和实现之间追求高效率地开发，之前编写的函数绘图器需求文档截图如下：</p><p><img src="https://pic.imgdb.cn/item/628cffa70947543129579805.jpg" style="zoom:50%;" /></p></li><li><p>从上图中可以发现有些功能仍然没有实现，由于时间原因只能先搁置一段时间。但这种 $\mbox{to-do-list}$ 的方式可以很大幅度提高大作业代码编写的效率</p></li><li><p>单元测试在一个功能模块完成后便可以进行，针对不同的情况逐一进行测验，遇到相应的问题马上进行调整和修复，否则各种网状结构连接一起运行时，不容易定位 $\mbox{bug}$</p></li><li><p>一些难以解决的问题可以考虑另辟蹊径（如使用发送网络请求的方式获取 $\LaTeX$ 图片）</p></li><li><p>$\mbox{C++}$ 新特性的使用可以省去了很多繁琐的语法表达式，加快代码的编写效率，虽然和 $\mbox{pythonic}$ 的 $\mbox{python}$ 语言有一定差距，但毕竟前者更接触底层，效率较高（当然对一些特定问题也未必），两者各有千秋</p></li><li><p>$\mbox{Qt}$ 的熟悉以及使用虽然让我踩过不少坑，不过，对报错信息的理解以及在各种网络资源的帮助之下，逐渐排开各种“雷”</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Foundation for machine learning</title>
    <link href="/2022/05/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/"/>
    <url>/2022/05/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="机器学习绪论"><a href="#机器学习绪论" class="headerlink" title="机器学习绪论"></a>机器学习绪论</h1><p>机器学习的三起两落：</p><p>第一次兴起，$1958 \mbox{Perception}$ ，$1969$ $\mbox{AI winter}$</p><p>第二次兴起，$1986 \mbox{BP}$，在 $\mbox{SVM}$ （隔壁统计学家）下跌落</p><p>第三次兴起，$2006 \mbox{DBN}$，$2012 \mbox{CNN}$</p><p>最近预测下落两大原因：</p><p>$①$ 自动驾驶在决策方面解决不了行人的无规律问题</p><p>$②$ 存在使用 $\mbox{idea}$ 骗取资本的诟病，使得资本注入减少</p><p>传统机器学习：人工设计特征</p><p>传统机器学习和深度学习：<strong>专家系统</strong>（人为指定一系列规则）$\longrightarrow $ <strong>经典机器学习</strong>： $\mbox{PCA}$ 进行分类</p><p>$\longrightarrow $ <strong>浅层机器学习</strong> $\longrightarrow $ <strong>深度机器学习</strong>（浅层的特征，每加一层更加抽象，得到抽象特征后做一个 $\mbox{mapping}$ ）</p><p>特征到标签的映射（二分类：$\mbox{softmark relation}$ 、 $\mbox{logistic}$ 、决策树、$\mbox{SVM}$）</p><p>深度学习的数学描述：$f^1(f^2(f^3\cdots f^n(x)))$ </p><ul><li><p>前机器学习时代：花很多时间观察图像，<strong>绞尽脑汁</strong>选择或者设计特征，使用分类器进行训练和测试，结果不好的话就重新回到绞尽脑汁选择或设计特征步骤</p></li><li><p>深度学习时代：花一定时间，挑选几个深度模型，选几个模型超参数，交给机器<strong>绞尽脑汁</strong>优化模型总的数千万/数权重参数</p></li><li><p>后深度学习时代：花少量时间标注，让机器更<strong>绞尽脑汁</strong>学习模型</p></li></ul><h1 id="机器学习基础"><a href="#机器学习基础" class="headerlink" title="机器学习基础"></a>机器学习基础</h1><h2 id="三大要素"><a href="#三大要素" class="headerlink" title="三大要素"></a>三大要素</h2><p>机器学习：在计算机上从数据中产生“模型”的算法，称为学习算法</p><p>例如，给定一系列芒果的性质以及其好坏，求另一种芒果性质的好坏</p><p>三个基本要素：<strong>模型</strong>、<strong>学习准则</strong>、<strong>优化算法</strong></p><ul><li><p><strong>模型</strong>：线性方法 : $f(\boldsymbol{x} ; \theta)=\boldsymbol{w}^{\top} \boldsymbol{x}+b$，广义非线性方法 : $f(\boldsymbol{x} ; \theta)=\boldsymbol{w}^{\top} \phi(\boldsymbol{x})+b$</p><p>$\checkmark$ 如果 $\phi(x)$ 为可学习的非线性基函数， $f(x, \theta)$ 就等价于神经网络。</p></li><li><p><strong>学习准则</strong>：期望风险（期望误差 $\mbox{Expected Risk}$ ，衡量模型的好坏），损失函数定义如下</p><script type="math/tex; mode=display">\mathcal{R}(\theta)=\mathbb{E}_{(\boldsymbol{x}, y) \sim p_{r}(\boldsymbol{x}, y)}\mathcal{L}(y, f(\boldsymbol{x} ; \theta))</script><p>表征所有样本的差异，能量化模型预测和真实标签之间的差异，（期望风险最小化准则）</p><p>$0-1$ 损失函数，正确为 $1$，错误为 $0$，平方损失函数：$\mathcal{L}(y, f(\boldsymbol{x} ; \theta))=(y-f(x, \theta))^{2}$</p><p>存在泛化错误 $g_{\mathcal{D}}(f)=\mathcal{R}(f)-\mathcal{R}_{\mathcal{D}}^{e m p}(f)$，真实数据分布未知，期望风险不可以计算</p><p>利用大数定律，使用经验风险最小化，转化为最优化问题，使下列函数最小，在 $N\to \infty$ 时两者相同</p><script type="math/tex; mode=display">\mathcal{R}_{\mathcal{D}}^{e m p}(\theta)=\frac{1}{N} \sum_{n=1}^{N} \mathcal{L}(y, f(\boldsymbol x ; \theta))</script></li></ul><p><img src="https://pic.imgdb.cn/item/6277c4f9094754312923ec21.jpg" style="zoom:80%;" /></p><p>​        </p><ul><li><strong>优化算法</strong>：梯度下降，迭代法，其中 $\alpha$ 定义为<strong>学习率</strong><script type="math/tex; mode=display">\begin{aligned} \theta_{t+1} &=\theta_{t}-\alpha \frac{\partial \mathcal{R}_{\mathcal{D}}(\theta)}{\partial \theta} \\ &=\theta_{t}-\alpha \frac{1}{N} \sum_{n=1}^{N} \frac{\partial \mathcal{L}\left(y^{(n)}, f\left(x^{(n)} ; \theta\right)\right)}{\partial \theta} \end{aligned}</script><img src="https://pic.imgdb.cn/item/6277c3f809475431291f8974.jpg" alt=""></li></ul><p>​        $\alpha$ 必须选择恰当（如上图所示）</p><h2 id="数学基础"><a href="#数学基础" class="headerlink" title="数学基础"></a>数学基础</h2><p>正则化，一类通过限制模型复杂度，避免过拟合，提高泛化能力的犯法</p><p>$l_1$ 和 $l_2$ 正则化，正方形、椭圆</p><script type="math/tex; mode=display">\begin{array}{llll}\hline & \text { 监督学习 } & \text { 无监督学习 } & \text { 强化学习 } \\\hline \text { 训练样本 } & \text { 训练集 } & \text { 训练集 } & \text { 智能体和环境交互的 } \\& \left\{\left(\mathbf{x}^{(n)}, y^{(n)}\right)\right\}_{n=1}^{N} & \left\{\mathbf{x}^{n}\right\}_{n=1}^{N} & \text { 轨迹 } \tau \text { 和累积奖励 } G_{\tau} \\& & & \\\text { 优化目标 } & y=f(\mathbf{x}) \text { 或 } p(y \mid \mathbf{x}) & p(\mathbf{x}) \text { 或带隐变量 } & \text { 期望总回报 } \mathbb{E}_{\tau}\left[G_{\tau}\right] \\& & \mathbf{z} \text { 的 } p(\mathbf{x} \mid \mathbf{z}) & \\\text { 学习准则 } & \text { 期望风险最小化 } & \text { 最大似然估计 } & \text { 策略评估 } \\& \text { 最大似然估计 } & \text { 最小重构错误 } & \text { 策略改进 } \\\hline\end{array}</script><p>向量的范数：</p><p>$\ell_{1}$ 范数为向量的各个元素的绝对值之和. $\displaystyle |\boldsymbol{v}|_{1}=\sum_{n=1}^{N}\left|v_{n}\right|$</p><p>$\ell_2$ 范数为向量的各个元素的方和根 $\displaystyle |\boldsymbol{v}|_{2}=\sqrt{\sum_{n=1}^{N} v_{n}^{2}}=\sqrt{\boldsymbol{v}^{\top} \boldsymbol{v}}$</p><p>$\ell_{\infty}$ 范数 $\ell_{\infty}$ 范数为向量的各个元素的最大绝对值 $|\boldsymbol{v}|_{\infty}=\max \left\{v_{1}, v_{2}, \cdots, v_{N}\right\} .$</p><p>矩阵的范数：</p><p>$\ell_{p}$ 范数定义为 $\displaystyle |\boldsymbol{A}|_{p}=\left(\sum_{m=1}^{M} \sum_{n=1}^{N}\left|a_{m n}\right|^{p}\right)^{1 / p} .$</p><p>$F$ 范数是向量的 $l_{2}$ 范数的推广 $\displaystyle |\boldsymbol{W}|_{F}=\sqrt{\sum_{m=1}^{M} \sum_{n=1}^{N}\left(w_{m n}\right)^{2}}$</p><h2 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h2><ul><li><p>线性模型 </p><ul><li><p>线性模型 ( Linear Model) 是机器学习中应用最广泛的模型，指通过样本特 征的线性组合来进行预测的模型</p></li><li><p>分类问题 : 输出目标 $y$ 是一些离散的标签（具体是哪一类）</p><p>$&gt;$ 而特征的线性组合本身是连续值，即 $f(x ; \boldsymbol{w})$ 的值域为实数<br>$&gt;$ 需要引入一个非线性的决策函数 $g(\cdot)$ ，使输出符合预期离散值的目标</p></li></ul></li></ul><p>​        分类决策问题，使用符号函数</p><ul><li>$\mbox{Logistic}$ 回归，把分类决策问题压缩压缩到 $[0,1]$ 区间内</li></ul><script type="math/tex; mode=display">\sigma(x)=\dfrac{1}{1+e^{-x}}</script><p>​        先用线性函数组合特征: $f=\boldsymbol{\omega}^{\mathrm{T}} \boldsymbol{x}$，利用 $g(\cdot)=\sigma(\boldsymbol{x})$ 作非线性决策：</p><script type="math/tex; mode=display">\begin{aligned}p(y=1 \mid \boldsymbol{x}) &=\sigma\left(\boldsymbol{w}^{\top} \boldsymbol{x}\right) & p(y=0 \mid \boldsymbol{x}) &=1-p(y=1 \mid \boldsymbol{x}) \\& \triangleq \frac{1}{1+\exp \left(-\boldsymbol{w}^{\top} \boldsymbol{x}\right)} & &=\frac{\exp \left(-\boldsymbol{w}^{\top} \boldsymbol{x}\right)}{1+\exp \left(-\boldsymbol{w}^{\top} \boldsymbol{x}\right)}\end{aligned}</script><p>​        $Logistic$ 回归可以看作预测值为<strong>标签的对数几率</strong>的线性回归模型。因此， Logistic 回归也称为对数几率回归</p><script type="math/tex; mode=display">\boldsymbol{w}^{\top} \boldsymbol{x}=\log \frac{p(\bar{y}=1 \mid \boldsymbol{x})}{1-p(y=1 \mid \boldsymbol{x})} \quad \text { 样本为正负例的后验概率的比值 }</script><p>​        衡量两个条件概率的差距，引入熵的概念，<strong>自信息</strong> $I(x)=-\ln (p(x))$，<strong>自信息的期望</strong></p><script type="math/tex; mode=display">\begin{aligned}H(X) &=\mathbb{E}_{X}[I(x)]=\mathbb{E}_{X}[-\log p(x)]=-\sum_{x \in X} p(x) \log p(x)\end{aligned}</script><p>​        对分布 $p(x)$ 的信息进行编码时，<strong>熵</strong>为自信息的期望为该信息编码所需要的最小长度</p><p>​        例如，如果选择题 $ABCD$ 四个答案的概率为 $\dfrac{1}{4}$ 计算自信息的期望 $-4\cdot \dfrac{1}{4}\log(\dfrac{1}{4})=-2\log(2)$</p><p>​        计算机编码时就规定 $\log=\log_2$ </p><p>​        <strong>交叉熵</strong>按照概率分布 $q$ 的最优编码对真实分布为 $p$ 的信息进行编码的长度</p><script type="math/tex; mode=display">\begin{aligned}H(p, q) =\mathbb{E}_{p}[-\log q(x)]=-\sum_{x} p(x) \log q(x)\end{aligned}</script><p>​        基于交叉熵损失函数可以得到损失函数公式（<strong>准则</strong>），如果两个分布越靠近，交叉熵就会越小</p><script type="math/tex; mode=display">\mathcal{R}(\mathbf{w})=-\frac{1}{N} \sum_{n=1}^{N}\left(y^{(n)} \log \hat{y}^{(n)}+\left(1-y^{(n)}\right) \log \left(1-\hat{y}^{(n)}\right)\right)</script><p>​        优化算法，求导有公式</p><p>​        对一维数据拟合时该回归更好</p><p><img src="https://pic.imgdb.cn/item/6277cf15094754312952e57d.jpg" alt=""></p><ul><li>$Softmax$ 回归，多类或多项 $Logistic$ 回归，是上者的推广，其三要素如下</li></ul><p>​        模型 </p><script type="math/tex; mode=display">p(y=c \mid \boldsymbol{x})=\operatorname{softmax}\left(\boldsymbol{w}_{c}^{\top} \boldsymbol{x}\right)=\frac{\exp \left(\boldsymbol{w}_{c}^{\top} \boldsymbol{x}\right)}{\sum_{c^{\prime}=1}^{C} \exp \left(\boldsymbol{w}_{c^{\prime}}^{\top} \boldsymbol{x}\right)},</script><p>​        学习: 交叉熵损失 $\quad \mathcal{R}(\boldsymbol{W})=-\frac{1}{N} \sum_{n=1}^{N} \sum_{c=1}^{c} \boldsymbol{y}_{c}^{(n)} \log \hat{\boldsymbol{y}}_{c}^{(n)}$</p><script type="math/tex; mode=display">=-\frac{1}{N} \sum_{n=1}^{N}\left(\boldsymbol{y}^{(n)}\right)^{\top} \log \hat{\boldsymbol{y}}^{(n)},</script><p>​        优化算法 ：梯度下降</p><script type="math/tex; mode=display">\frac{\partial \mathcal{R}(\boldsymbol{W})}{\partial \boldsymbol{W}}=-\frac{1}{N} \sum_{n=1}^{N} \boldsymbol{x}^{(n)}\left(\boldsymbol{y}^{(n)}-\hat{\boldsymbol{y}}^{(n)}\right)^{\top}</script><ul><li>感知机（最简单的神经网络，一个神经元）</li></ul><p>​        模型：</p><script type="math/tex; mode=display">g(\mathbf{x}, \mathbf{w})=\left\{\begin{array}{lll}+1 & \text { 当 } & \mathbf{w}^{\mathrm{T}} \mathbf{x}>0, \\ -1 & \text { 当 } & \mathbf{w}^{\mathrm{T}} \mathbf{x}<0 .\end{array}\right.</script><p>​        学习准则 :</p><script type="math/tex; mode=display">\mathcal{L}(\mathbf{w} ; \mathbf{x}, y)=\max \left(0,-y \mathbf{w}^{\mathrm{T}} \mathbf{x}\right)</script><p>​        优化算法：随机梯度下降</p><script type="math/tex; mode=display">\frac{\partial \mathcal{L}(\mathbf{w} ; \mathbf{x}, y)}{\partial \mathbf{w}}= \begin{cases}0 & \text { 当 } y \mathbf{w}^{\mathrm{T}} \mathbf{x}>0, \\ -y \mathbf{x} & \text { 当 } y \mathbf{w}^{\mathrm{T}} \mathbf{x}<0 .\end{cases}</script><script type="math/tex; mode=display">\begin{equation}\begin{array}{llll}\text { 线性模型 } & \text { 激活函数 } & \text { 损失函数 } & \text { 优化方法 } \\\hline \text { 线性回归 } & - & \left(y-\boldsymbol{w}^{\top} \boldsymbol{x}\right)^{2} & \text { 最小二乘、梯度下降 } \\\text { Logistic 回归 } & \sigma\left(\boldsymbol{w}^{\top} \boldsymbol{x}\right) & \boldsymbol{y} \log \sigma\left(\boldsymbol{w}^{\top} \boldsymbol{x}\right) & \text { 梯度下降 } \\\text { Softmax回归 } & \operatorname{softmax}\left(\boldsymbol{W}^{\top} \boldsymbol{x}\right) & \boldsymbol{y} \log \operatorname{softmax}\left(\boldsymbol{W}^{\top} \boldsymbol{x}\right) & \text { 梯度下降 } \\\text { 感知器 } & \operatorname{sgn}\left(\boldsymbol{w}^{\top} \boldsymbol{x}\right) & \max \left(0,-y \boldsymbol{w}^{\top} \boldsymbol{x}\right) & \text { 随机梯度下降 }\end{array}\end{equation}</script>]]></content>
    
    
    <categories>
      
      <category>计算机科学</category>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Unlock pdf by shell commands</title>
    <link href="/2022/05/04/%E7%BC%96%E7%A8%8B/Linux%20%E6%96%87%E4%BB%B6%E8%A7%A3%E9%94%81%E5%92%8C%E8%BD%AC%E6%8D%A2/"/>
    <url>/2022/05/04/%E7%BC%96%E7%A8%8B/Linux%20%E6%96%87%E4%BB%B6%E8%A7%A3%E9%94%81%E5%92%8C%E8%BD%AC%E6%8D%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="解锁-mbox-pdf-密码并替换原始文件"><a href="#解锁-mbox-pdf-密码并替换原始文件" class="headerlink" title="解锁 $\mbox{pdf}$ 密码并替换原始文件"></a>解锁 $\mbox{pdf}$ 密码并替换原始文件</h1><p>每次解锁 $\mbox{pdf}$ 中的密码比较麻烦，当然有免费的在线网页资源 <a href="https://smallpdf.com/cn/unlock-pdf">smallpdf</a> 不过每次需要上传文件，而且有一定的安全风险。使用 $\mbox{wsl}$ 安装 $\mbox{qpdf}$ 加上脚本编辑可以实现解锁 $\mbox{pdf}$ （在不知道密码的情况下，有暴力解锁的 $\mbox{linux}$ 安装包，不过现在 $\mbox{pdf}$ 升级了，貌似不能被暴力破解了……）</p><p>在 $\mbox{linux/wsl}$ 环境下，安装 $\mbox{qpdf}$ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get install qpdf<br></code></pre></td></tr></table></figure><p>输入密码后便自动安装好了。之后，在当前目录下创建一个 $\mbox{unlockPDF}$ 文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">touch unlockPDF<br></code></pre></td></tr></table></figure><p>使用 $\mbox{nano}$ 进行编辑</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">nano unlockPDF<br></code></pre></td></tr></table></figure><p>在编辑界面中写入如下代码，其中 $#$ 开头的为注释</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta"># </span><span class="language-bash">第一行代表在哪个 shell 命令下执行，可以修改为 python 成为 python 脚本</span><br><span class="hljs-meta"># </span><span class="language-bash">可以使用命令行 <span class="hljs-built_in">which</span> bash 找到当前控制台命令行所在位置（本质上命令也是一些文件）</span><br><span class="hljs-meta">#</span><span class="language-bash">!/usr/bin/bash</span><br><span class="hljs-meta"># </span><span class="language-bash">要求文件名中不能有空格，否则处理时会把文件名分割，其中一个成为命令使得程序运行失败</span><br><span class="hljs-meta"># </span><span class="language-bash">pdf名称，存储输入的第一个参数</span><br>pdfName=$1<br><span class="hljs-meta"># </span><span class="language-bash">密码，存储输入的第二个参数</span><br>password=$2<br><span class="hljs-meta"># </span><span class="language-bash">解锁 pdf 命令，安装 qpdf (sudo apt-get install qpdf) 便可以使用</span><br>qpdf -password=$password --decrypt $pdfName output.pdf<br><span class="hljs-meta"># </span><span class="language-bash">$? 为 0 代表上条命令执行成功</span><br>if [ $? -eq 0 ]; then<br>    # 删除原文件<br>    rm -rf $pdfName<br>    # 将得到的 output.pdf 名称修改为原来 pdf 的名称，达到替换的效果<br>    mv output.pdf $pdfName<br>    # 输出成功结果<br>    echo &quot;解锁成功，原文件被替换&quot;<br>else<br>    # 输出失败结果<br>    echo &quot;密码错误，或未安装qpdf&quot;<br>fi<br></code></pre></td></tr></table></figure><p>可以看到 $\mbox{shell}$ 中的参数传递方式、$\mbox{if}$ 语句的输入、$=$ 的格式规范（不要在 $=$ 两侧加空格，<strong>加空格就代表分割命令</strong>，文件名也不能有空格）等与其他语言有些不同，需要加以熟悉，不过各语言之间的底层逻辑是相通的，只是各有千秋。</p><p>编写好之后，由于 $\mbox{wsl}$ 与 $\mbox{windows}$ 的分隔机制，不能把写好的脚本直接放在 $\mbox{wsl}$ 控制台中，就直接放在文件夹中，专门用来处理文件，执行时输入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta"># </span><span class="language-bash">secure.pdf 为需要解锁的 pdf 文件，password 为解锁密码</span><br>./unlockPDF secure.pdf password<br></code></pre></td></tr></table></figure><h1 id="转换文档的-mbox-Linux-命令行"><a href="#转换文档的-mbox-Linux-命令行" class="headerlink" title="转换文档的 $\mbox{Linux}$ 命令行"></a>转换文档的 $\mbox{Linux}$ 命令行</h1><p>（ wsl 环境下输入下行代码会自动提示安装对应包，由于在命令行中运行，十分简便）</p><p><strong>转换 $\mbox{tex}$ 文件为 $\mbox{md}$ 文件</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">//需要安装 pandoc<br>pandoc -s OOP_Homework.tex -o OOp_Homework.md<br></code></pre></td></tr></table></figure><p>使用 $\text {linux}$ 环境下<strong>合成多个 $pdf$</strong>（主要用于合成多个爬虫 $pdf$ 文件）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">//需要安装 pdftk<br>pdftk $(<span class="hljs-built_in">ls</span> *.pdf) <span class="hljs-built_in">cat</span> output 教材.pdf<br></code></pre></td></tr></table></figure><p>将<strong>多张原始图片合成为 $pdf$</strong>（主要用于合成手写作业）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs b">//需要安装 ImageMagick<br>convert *.jpg 作业.pdf<br></code></pre></td></tr></table></figure><p>如果出现安全问题（如下）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">attempt to perform an operation not allowed by the security policy `PDF<span class="hljs-string">&#x27; @ error/constitute.c/IsCoderAuthorized/408.</span><br></code></pre></td></tr></table></figure><p>需要使用权限修改 $policy.xml$ 文件，使用以下命令行进入此文件中，回车后会进入编辑模式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo nano /etc/ImageMagick-6/policy.xml<br></code></pre></td></tr></table></figure><p>其中，$nano$ 是字符终端的文本编辑器，可以对文件进行修改</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml">…………//大概在文件结尾部分<br>   <span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;EPS&quot;</span> /&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;PDF&quot;</span> /&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;XPS&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p>修改 $\mbox{PDF}$ 对应权限 <code>rights=&quot;none&quot;</code> $\Longrightarrow $ <code>rights=&quot;read|write&quot;</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;EPS&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;read|write&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;PDF&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;XPS&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p>$Ctrl+X$ 退出并输入 $Y$ 保存就可以使用了</p>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>shell</category>
      
    </categories>
    
    
    <tags>
      
      <tag>shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Physics of report</title>
    <link href="/2022/05/03/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%89%A91%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/"/>
    <url>/2022/05/03/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%89%A91%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</url>
    
    <content type="html"><![CDATA[<p><a href="https://lr-tsinghua11.github.io/pdf/阻尼振动和受迫振动.pdf">阻尼振动和受迫振动实验报告</a></p><p><a href="https://lr-tsinghua11.github.io/pdf/弦振动实验.pdf">弦振动实验报告</a></p><p><a href="https://lr-tsinghua11.github.io/pdf/电磁感应.pdf">电磁感应实验报告</a></p>]]></content>
    
    
    <categories>
      
      <category>物理</category>
      
      <category>实验报告</category>
      
    </categories>
    
    
    <tags>
      
      <tag>实验报告</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Matplotlib-For-Lab-of-Physics</title>
    <link href="/2022/04/30/%E7%BC%96%E7%A8%8B/python%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/"/>
    <url>/2022/04/30/%E7%BC%96%E7%A8%8B/python%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/</url>
    
    <content type="html"><![CDATA[<p>之前写的绘制最小二乘法代码太垃了，现在使用面向对象的技术对截距为 $0$ 和不为 $0$ 封装为两个类，并共同继承拥有一个父类 $\mbox{regression}$ 在命令行执行时输入相应参数，对应两种不同拟合方式，以后有时间可以增加多项式拟合相关的类。</p><p>源码以及对应详尽注释如下：（绘制拟合直线和计算相应误差并输出为 $\LaTeX$ 格式   ）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> argparse<br><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> sqrt,log,pi<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> IPython <span class="hljs-keyword">import</span> embed<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> TINV <span class="hljs-keyword">import</span> TINV<br><span class="hljs-comment"># 存储xy坐标名称</span><br><br>xNames = [<span class="hljs-string">&quot;谐频次数$\mathcal&#123;n&#125;$(个)&quot;</span>, <span class="hljs-string">&quot;弦长倒数$\ \mathcal&#123;L&#125;^&#123;-1&#125;(\mathcal&#123;m&#125;$$^&#123;-1&#125;$)&quot;</span>, <br>            <span class="hljs-string">&quot;拉力对数$\ln\mathcal&#123;T&#125;&#125;$&quot;</span>, <span class="hljs-string">&quot;线密度对数$\ \lnρ$&quot;</span>, <span class="hljs-string">&quot;振动次数 n&quot;</span>, <span class="hljs-string">&quot;振幅平方$A^2(rad^2$)&quot;</span>]<br><br>yNames = [<span class="hljs-string">&quot;共振频率$\mathcal&#123;f&#125;\ \mathcal&#123;(Hz)&#125;$&quot;</span>, <span class="hljs-string">&quot;共振频率$\mathcal&#123;f&#125;\ \mathcal&#123;(Hz)&#125;$&quot;</span>, <br>            <span class="hljs-string">&quot;基频对数$\ln\mathcal&#123;f&#125;&#125;$&quot;</span>, <span class="hljs-string">&quot;基频对数$\ln\mathcal&#123;f&#125;&#125;$&quot;</span>, <span class="hljs-string">&quot;振幅($\mathrm&#123;rad&#125;$)的对数 $\mathrm&#123;ln&#125;\  θ$&quot;</span>, <span class="hljs-string">&quot;周期$T(s)$&quot;</span>]<br><br><span class="hljs-comment"># 当前选择的名称，默认为列表最后一个</span><br>xName = xNames[-<span class="hljs-number">1</span>]<br>yName = yNames[-<span class="hljs-number">1</span>]<br><br><span class="hljs-comment"># 传入截距是否为0的参数</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">getInput</span>():<br><br>    parser = argparse.ArgumentParser(description = <span class="hljs-string">&#x27;Version: v1.0. Draw the regression line for the Physics Report,&#x27;</span> <br>                        <span class="hljs-string">&#x27;coefficient 0 means the intercept is 0, &#x27;</span><br>                        <span class="hljs-string">&#x27;1 means the intercept is not 1, &#x27;</span><br>                        <span class="hljs-string">&#x27;01 means the intercept is 0 and save the figure, &#x27;</span><br>                        <span class="hljs-string">&#x27;11 means the intercept is not 0 and save the figure.&#x27;</span><br>                        <span class="hljs-string">&#x27;\nFor example, python LinearRegression.py 0&#x27;</span>)<br>    parser.add_argument(<span class="hljs-string">&#x27;crossOrigin&#x27;</span>, <span class="hljs-built_in">help</span> = <span class="hljs-string">&#x27;Whether the intercept of the line is 0 or 1. &#x27;</span> <br>                                        <span class="hljs-string">&#x27;Besides, if want to save the figure, just add 1. &#x27;</span>)<br>    args = parser.parse_args()<br>    <span class="hljs-keyword">return</span> args.crossOrigin<br><br><span class="hljs-comment"># 截距为0和不为0的父类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">regression</span>:<br><br>    <span class="hljs-comment"># 初始化相关数据</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        self.x = x<br>        self.y = y<br>        self.length = <span class="hljs-built_in">len</span>(x)<br>        self.k = <span class="hljs-number">0.0</span><br>        self.b = <span class="hljs-number">0.0</span><br>        self.R_2 = <span class="hljs-number">0.0</span><br>        self.Sk = <span class="hljs-number">0.0</span><br>        self.Uk = <span class="hljs-number">0.0</span><br>        self.Sb = <span class="hljs-number">0.0</span><br>        self.Ub = <span class="hljs-number">0.0</span><br>    <br>    <span class="hljs-comment"># 将计算结果表达为latex格式</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">expression</span>(<span class="hljs-params">self</span>):<br>        lineExpression = <span class="hljs-string">&quot;$\hat&#123;y&#125;=&quot;</span> + <span class="hljs-built_in">str</span>(<span class="hljs-built_in">round</span>(self.k, <span class="hljs-number">6</span>)) + <span class="hljs-string">&quot;x&quot;</span><br>        R2Expression = <span class="hljs-string">&#x27;$r^2=&#x27;</span> + <span class="hljs-built_in">str</span>(self.R_2) + <span class="hljs-string">&quot;$&quot;</span><br>        <span class="hljs-keyword">if</span> self.b == <span class="hljs-number">0.0</span>:<br>            b = <span class="hljs-string">&quot;&quot;</span><br>        <span class="hljs-keyword">elif</span> self.b &gt; <span class="hljs-number">0</span>:<br>            b = <span class="hljs-string">&quot;+&quot;</span> + <span class="hljs-built_in">str</span>(<span class="hljs-built_in">round</span>(self.b, <span class="hljs-number">6</span>))<br>        <span class="hljs-keyword">else</span>:<br>            b = <span class="hljs-built_in">str</span>(<span class="hljs-built_in">round</span>(self.b, <span class="hljs-number">6</span>))<br>        lineExpression += (b + <span class="hljs-string">&quot;$&quot;</span>)<br>        <span class="hljs-keyword">return</span> lineExpression, R2Expression<br><br>    <span class="hljs-comment"># 绘制直线以及离散点</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">drawLineAndPoints</span>(<span class="hljs-params">self</span>):<br>        xdraw = np.linspace(<span class="hljs-built_in">min</span>(self.x), <span class="hljs-built_in">max</span>(self.x), <span class="hljs-number">50</span>)<br>        ydraw = self.k * xdraw + self.b<br>        plt.plot(xdraw, ydraw, <span class="hljs-string">&#x27;-&#x27;</span> , color = <span class="hljs-string">&#x27;b&#x27;</span>, linewidth = <span class="hljs-number">0.5</span>)<br>        plt.plot(self.x, self.y, <span class="hljs-string">&#x27;ro&#x27;</span>)<br><br>    <span class="hljs-comment"># 将拟合直线表达式和相关系数自动标定在合适位置</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addTwoExpressions</span>(<span class="hljs-params">self</span>):<br>        addLimx = (<span class="hljs-built_in">max</span>(self.x) - <span class="hljs-built_in">min</span>(self.x)) / <span class="hljs-number">10</span><br>        addLimy = (<span class="hljs-built_in">max</span>(self.y) - <span class="hljs-built_in">min</span>(self.y)) / <span class="hljs-number">10</span><br>        plt.xlim(<span class="hljs-built_in">min</span>(self.x) - addLimx, <span class="hljs-built_in">max</span>(self.x) + addLimx)<br>        plt.ylim(<span class="hljs-built_in">min</span>(self.y) - addLimy, <span class="hljs-built_in">max</span>(self.y) + addLimy)<br><br>        deltaY = <span class="hljs-built_in">max</span>(self.y ) - <span class="hljs-built_in">min</span>(self.y) + <span class="hljs-number">2</span> * addLimy<br>        deltaX = <span class="hljs-built_in">max</span>(self.x) - <span class="hljs-built_in">min</span>(self.x) + <span class="hljs-number">2</span> * addLimx<br>        middleX = (<span class="hljs-built_in">max</span>(self.x) + <span class="hljs-built_in">min</span>(self.x)) / <span class="hljs-number">2</span><br>        middleY = (<span class="hljs-built_in">max</span>(self.y) + <span class="hljs-built_in">min</span>(self.y)) / <span class="hljs-number">2</span><br><br>        <span class="hljs-keyword">if</span> self.k &lt; <span class="hljs-number">0</span>:<br>            lineY1 = middleY + deltaY * <span class="hljs-number">0.24</span><br>            lineY2 = middleY + deltaY * <span class="hljs-number">0.16</span><br>            lineX1 = middleX - deltaX * <span class="hljs-number">0.088</span><br>            lineX2 = middleX - deltaX * <span class="hljs-number">0.088</span><br>        <span class="hljs-keyword">else</span>:<br>            lineY1 = middleY - deltaY * <span class="hljs-number">0.16</span><br>            lineY2 = middleY - deltaY * <span class="hljs-number">0.24</span><br>            lineX1 = middleX - deltaX * <span class="hljs-number">0.088</span><br>            lineX2 = middleX - deltaX * <span class="hljs-number">0.088</span><br><br>        lineExpression, R2Expression = self.expression()<br>        plt.text(lineX1, lineY1, lineExpression, fontsize = <span class="hljs-number">12</span>)<br>        plt.text(lineX2, lineY2, R2Expression, fontsize = <span class="hljs-number">12</span>)<br><br>    <span class="hljs-comment"># 添加xy轴标签</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addLabels</span>(<span class="hljs-params">self</span>):<br>        plt.rcParams[<span class="hljs-string">&#x27;font.sans-serif&#x27;</span>] = <span class="hljs-string">&#x27;Kaiti&#x27;</span> <span class="hljs-comment"># 文字使用楷体</span><br>        plt.xlabel(xName, fontsize = <span class="hljs-number">12</span>)<br>        plt.ylabel(yName, fontsize = <span class="hljs-number">12</span>)<br><br>    <span class="hljs-comment"># 绘制图形</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">drawGraph</span>(<span class="hljs-params">self</span>):<br>        plt.rcParams[<span class="hljs-string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="hljs-literal">False</span>  <span class="hljs-comment"># 正常显示负数</span><br>        plt.rcParams[<span class="hljs-string">&#x27;font.sans-serif&#x27;</span>] =<span class="hljs-string">&#x27;Times New Roman&#x27;</span>  <span class="hljs-comment"># 数字使用罗马字体</span><br>        self.drawLineAndPoints()<br>        self.addTwoExpressions()<br>        self.addLabels()<br>        self.addLabels()<br><br>    <span class="hljs-comment"># 输出数据</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">dataOutput</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad \quad 线性拟合斜率$k=&quot;</span>, <span class="hljs-built_in">round</span>(self.k, <span class="hljs-number">10</span>), end = <span class="hljs-string">&quot;$&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad 调用Excel中TINV函数&quot;</span>, <span class="hljs-string">&quot;$t_&#123;0.95,&quot;</span>, <span class="hljs-built_in">str</span>(self.length - <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;&#125;=&quot;</span>, <span class="hljs-built_in">round</span>(<span class="hljs-built_in">float</span>(TINV[self.length - <span class="hljs-number">1</span>]), <span class="hljs-number">10</span>), <span class="hljs-string">&quot;$\par&quot;</span>) <br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad \quad 斜率标准偏差$s_k=&quot;</span>, <span class="hljs-built_in">round</span>(self.Sk, <span class="hljs-number">10</span>), end = <span class="hljs-string">&quot;$&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad 斜率不确定度为$U_k=&quot;</span>, <span class="hljs-built_in">round</span>(self.Uk, <span class="hljs-number">10</span>), <span class="hljs-string">&quot;$\par&quot;</span>)<br><br>        <span class="hljs-keyword">if</span>(self.Sb != <span class="hljs-number">0.0</span>):<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad \quad 线性拟合截距$b=&quot;</span>, <span class="hljs-built_in">round</span>(self.b, <span class="hljs-number">10</span>), end = <span class="hljs-string">&quot;$&quot;</span>)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad 线性回归相关系数&quot;</span>, <span class="hljs-string">&quot;$R^2=&quot;</span>, <span class="hljs-built_in">round</span>(self.R_2, <span class="hljs-number">10</span>), <span class="hljs-string">&quot;$\par&quot;</span>) <br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad \quad 截距标准偏差$s_b=&quot;</span>, <span class="hljs-built_in">round</span>(self.Sb, <span class="hljs-number">10</span>), end = <span class="hljs-string">&quot;$&quot;</span>)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad 截距不确定度为$U_b=&quot;</span>, <span class="hljs-built_in">round</span>(self.Ub,<span class="hljs-number">10</span>), <span class="hljs-string">&quot;$\par&quot;</span>)<br><br>    <span class="hljs-comment"># 预览但不保存图片</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">output</span>(<span class="hljs-params">self</span>):<br>        self.dataOutput()<br>        self.drawGraph()<br>        plt.show()<br><br>    <span class="hljs-comment"># 保存且预览图片</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">save</span>(<span class="hljs-params">self, saveName</span>):<br>        self.dataOutput()<br>        self.drawGraph()<br>        plt.savefig(saveName)<br>        plt.show()<br><br><span class="hljs-comment"># 继承父类，不强制截距为0</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">notCrossOrigin</span>(<span class="hljs-title class_ inherited__">regression</span>):<br><br>    <span class="hljs-comment"># 计算父类中的所有数据</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        regression.__init__(self, x, y)<br>        self.k, self.b = self.regressK_b()<br>        self.R_2 = self.getR_2()<br>        self.Sk = sqrt((<span class="hljs-number">1</span> / self.R_2 - <span class="hljs-number">1</span>) / (self.length - <span class="hljs-number">2</span>)) * self.k<br>        self.Uk = self.Sk * TINV[self.length - <span class="hljs-number">1</span>]<br>        self.Sb = sqrt((<span class="hljs-number">1</span> - self.R_2) / (self.length - <span class="hljs-number">2</span>)) * self.b<br>        self.Ub = self.Sb * TINV[self.length - <span class="hljs-number">1</span>]<br><br>    <span class="hljs-comment"># 计算线性回归斜率和截距</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">regressK_b</span>(<span class="hljs-params">self</span>):<br>        coef = np.polyfit(self.x, self.y, <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> coef[<span class="hljs-number">0</span>], coef[<span class="hljs-number">1</span>]<br>    <br>    <span class="hljs-comment"># 计算线性回归相关系数</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getR_2</span>(<span class="hljs-params">self</span>):<br>        coeffs = np.polyfit(self.x, self.y, <span class="hljs-number">1</span>)<br>        p = np.poly1d(coeffs)<br>        yhat = p(self.x)<br>        ybar = np.<span class="hljs-built_in">sum</span>(self.y) / <span class="hljs-built_in">len</span>(self.y)<br>        ssreg = np.<span class="hljs-built_in">sum</span>((yhat - ybar) ** <span class="hljs-number">2</span>)<br>        sstot = np.<span class="hljs-built_in">sum</span>((self.y - ybar) ** <span class="hljs-number">2</span>)<br>        <span class="hljs-keyword">return</span> ssreg / sstot<br><br><span class="hljs-comment"># 继承父类，强制截距为0</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">crossOrigin</span>(<span class="hljs-title class_ inherited__">regression</span>):<br><br>    <span class="hljs-comment"># 计算父类中的所有数据</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        regression.__init__(self, x, y)<br>        self.k = np.dot(x, y) / np.dot(x, x)<br>        self.R_2, self.Sk= self.getR_2AndS_k()<br>        self.Uk = self.Sk * TINV[self.length - <span class="hljs-number">1</span>]<br>    <br>    <span class="hljs-comment"># 计算线性回归相关系数和斜率标准偏差</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getR_2AndS_k</span>(<span class="hljs-params">self</span>):<br>        yhat = [self.k * self.x[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.length)]<br>        deltay = [self.y[i] - yhat[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.length)]<br>        ybar = np.<span class="hljs-built_in">sum</span>(self.y) / self.length<br>        newReg = np.dot(deltay, deltay)<br>        sstot = np.dot(self.y - ybar, yhat - ybar)<br>        sy = sqrt(newReg / (<span class="hljs-built_in">len</span>(self.y) - <span class="hljs-number">1</span>))<br>        xrms = sqrt(np.dot(self.x, self.x))<br>        <span class="hljs-keyword">return</span> (<span class="hljs-number">1</span> - newReg / sstot), sy / xrms<br><br><span class="hljs-comment"># 主函数定义开始</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br><br>    <span class="hljs-comment"># 原始数据，如果需要处理，添加循环语句进行计算</span><br>    x = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">7</span>,<span class="hljs-number">1</span>)<br>    y = [<span class="hljs-number">31.2</span>,<span class="hljs-number">62.9</span>,<span class="hljs-number">95.5</span>,<span class="hljs-number">128.4</span>,<span class="hljs-number">161.0</span>,<span class="hljs-number">194.3</span>]<br><br>    <span class="hljs-comment"># 获取类型参数</span><br>    cross = getInput()<br><br>    <span class="hljs-comment"># 对不同参数进行回归</span><br>    <span class="hljs-keyword">if</span> cross == <span class="hljs-string">&quot;0&quot;</span>:<br>        crossOrigin(x, y).output()<br>    <span class="hljs-keyword">elif</span> cross == <span class="hljs-string">&quot;1&quot;</span>:<br>        notCrossOrigin(x, y).output()<br><br>    <span class="hljs-keyword">elif</span> cross == <span class="hljs-string">&quot;01&quot;</span>:<br>        crossOrigin(x, y).save(<span class="hljs-string">&quot;crossOrigin.png&quot;</span>)<br>    <span class="hljs-keyword">elif</span> cross == <span class="hljs-string">&quot;11&quot;</span>:<br>        notCrossOrigin(x, y).save(<span class="hljs-string">&quot;notCrossOrigin.png&quot;</span>)<br></code></pre></td></tr></table></figure><p>绘制可微的 $Bezeir$ 曲线源代码如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> matplotlib <span class="hljs-keyword">import</span> pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> scipy.special <span class="hljs-keyword">import</span> comb<br><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> sqrt,pi,exp<br><br><span class="hljs-comment"># 全局变量，每次绘图前修改曲线颜色，xlabel,ylabel代表横纵坐标</span><br>colorLineWhole = <span class="hljs-string">&quot;blue&quot;</span><br>xLabel = [<span class="hljs-string">&quot;Forced frequency $\omega_&#123;f&#125; (\mathrm&#123;s&#125;^&#123;-1&#125;)$&quot;</span>]<br>yLabel = [<span class="hljs-string">&quot;Amplitude θ (°)&quot;</span>,<span class="hljs-string">&quot;Phase Difference φ&quot;</span>,<span class="hljs-string">&quot;Amplitude θ (°)&quot;</span>]<br><br><span class="hljs-comment"># 使用 python 中面向对象特性，编写贝塞尔曲线类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">BezierCurve</span>:<br><br>    <span class="hljs-comment"># 初始化点坐标和控制点个数</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, list_of_points: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">float</span>, <span class="hljs-built_in">float</span>]]</span>):<br>        self.list_of_points = list_of_points<br>        self.degree = <span class="hljs-built_in">len</span>(list_of_points) - <span class="hljs-number">1</span><br><br>    <span class="hljs-comment"># Bezier 曲线基函数对应多项式系数数组 B_&#123;i,n&#125;(t) = C_&#123;n&#125;^&#123;i&#125; * (1 - t)^&#123;n - i&#125; * t^&#123;i&#125;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">basis_function</span>(<span class="hljs-params">self, t: <span class="hljs-built_in">float</span></span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-built_in">float</span>]:<br>        <span class="hljs-keyword">assert</span> <span class="hljs-number">0</span> &lt;= t &lt;= <span class="hljs-number">1</span>, <span class="hljs-string">&quot;Time t must be between 0 and 1.&quot;</span><br>        output_values: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">float</span>] = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.list_of_points)):<br>            output_values.append(comb(self.degree, i) * ((<span class="hljs-number">1</span> - t) ** (self.degree - i)) * (t**i))<br>        <span class="hljs-keyword">return</span> output_values<br><br>    <span class="hljs-comment"># 计算 Bezier 曲线函数在 t∈[0,1] 处的值</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bezier_curve_function</span>(<span class="hljs-params">self, t: <span class="hljs-built_in">float</span></span>) -&gt; <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">float</span>, <span class="hljs-built_in">float</span>]:<br>        <span class="hljs-keyword">assert</span> <span class="hljs-number">0</span> &lt;= t &lt;= <span class="hljs-number">1</span>, <span class="hljs-string">&quot;Time t must be between 0 and 1.&quot;</span><br>        basis_function = self.basis_function(t)<br>        x = <span class="hljs-number">0.0</span><br>        y = <span class="hljs-number">0.0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.list_of_points)):<br>            x += basis_function[i] * self.list_of_points[i][<span class="hljs-number">0</span>]<br>            y += basis_function[i] * self.list_of_points[i][<span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">return</span> (x, y)<br><br>    <span class="hljs-comment"># 绘制给定 n 个控制点下的 Bezier 曲线</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_curve</span>(<span class="hljs-params">self, step_size: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.001</span></span>):<br>        to_plot_x: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">float</span>] = []<br>        to_plot_y: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">float</span>] = []<br>        t = <span class="hljs-number">0.0</span><br>        <span class="hljs-keyword">while</span> t &lt;= <span class="hljs-number">1</span>:<br>            value = self.bezier_curve_function(t)<br>            to_plot_x.append(value[<span class="hljs-number">0</span>])<br>            to_plot_y.append(value[<span class="hljs-number">1</span>])<br>            t += step_size<br>        x = [i[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> self.list_of_points]<br>        y = [i[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> self.list_of_points]<br>        plt.plot(to_plot_x, to_plot_y, color = colorLineWhole, linewidth = <span class="hljs-number">0.88</span>)<br><br><span class="hljs-comment">#  x 排序从大到小，并保证数据对应</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sortXY</span>(<span class="hljs-params">x, y</span>):<br>    data = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(x)):<br>        data.append([x[i],y[i]])<br>    data.sort(key = <span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">0</span>])<br>    x = [i[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> data]<br>    y = [i[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> data]<br>    <span class="hljs-keyword">return</span> x, y<br><br><span class="hljs-comment"># 计算两个点的欧式距离</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">distance</span>(<span class="hljs-params">p1,p2</span>):<br>    <span class="hljs-keyword">return</span> sqrt((p1[<span class="hljs-number">0</span>] - p2[<span class="hljs-number">0</span>]) * (p1[<span class="hljs-number">0</span>] - p2[<span class="hljs-number">0</span>]) + (p1[<span class="hljs-number">1</span>] - p2[<span class="hljs-number">1</span>]) * (p1[<span class="hljs-number">1</span>] - p2[<span class="hljs-number">1</span>]))<br><br><span class="hljs-comment"># 计算四个点对应两条直线的交点</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intersectPoints</span>(<span class="hljs-params">p1, p2, p3, p4</span>):<br>    k1 = (p2[<span class="hljs-number">1</span>] - p1[<span class="hljs-number">1</span>]) / (p2[<span class="hljs-number">0</span>] - p1[<span class="hljs-number">0</span>])<br>    b1 = p1[<span class="hljs-number">1</span>] - k1 * p1[<span class="hljs-number">0</span>]<br>    k2 = (p4[<span class="hljs-number">1</span>] - p3[<span class="hljs-number">1</span>]) / (p4[<span class="hljs-number">0</span>] - p3[<span class="hljs-number">0</span>])<br>    b2 = p3[<span class="hljs-number">1</span>] - k2 * p3[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">return</span> [(b1 - b2) / (k2 - k1), (k2 * b1 - k1 * b2) / (k2 - k1)]<br><br><span class="hljs-comment"># 计算由上述所生成三个点所构成三角形的内心</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">angularBisector</span>(<span class="hljs-params">p1,p2,p3,p4</span>):<br>    interP = intersectPoints(p1,p2,p3,p4)<br>    a = distance(p2, p3)<br>    b = distance(p3, interP)<br>    c = distance(p2, interP)<br><span class="hljs-keyword">return</span> [(a * interP[<span class="hljs-number">0</span>] + b * p2[<span class="hljs-number">0</span>] + c * p3[<span class="hljs-number">0</span>]) / (a + b + c),<br>             (a * interP[<span class="hljs-number">1</span>] + b * p2[<span class="hljs-number">1</span>] + c * p3[<span class="hljs-number">1</span>]) / (a + b + c) ]<br><br><span class="hljs-comment"># 计算给定离散点生成的 Bezier 曲线</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">pointdBezierGraph</span>(<span class="hljs-params">x,y,colorPoint</span>):<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(x)):<br>        plt.scatter(x[i], y[i], color = colorPoint, marker = <span class="hljs-string">&quot;+&quot;</span>, s = <span class="hljs-number">24</span>, linewidth = <span class="hljs-number">0.88</span>)<br>    averageX = (x[-<span class="hljs-number">1</span>] - x[<span class="hljs-number">0</span>]) / <span class="hljs-built_in">len</span>(x)<br>    x.insert(<span class="hljs-number">0</span>, x[<span class="hljs-number">0</span>] - averageX)<br>    x.append(x[-<span class="hljs-number">1</span>] + averageX)<br>    y.insert(<span class="hljs-number">0</span>, y[<span class="hljs-number">0</span>])<br>    y.append(y[-<span class="hljs-number">1</span>])<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(x) - <span class="hljs-number">3</span>):<br>        p1 = [x[i], y[i]]<br>        p2 = [x[i + <span class="hljs-number">1</span>], y[i + <span class="hljs-number">1</span>]]<br>        p3 = [x[i + <span class="hljs-number">2</span>], y[i + <span class="hljs-number">2</span>]]<br>        p4 = [x[i + <span class="hljs-number">3</span>], y[i + <span class="hljs-number">3</span>]]<br>        I = angularBisector(p1, p2, p3, p4)<br>        BezierCurve([p2, I, p3]).plot_curve()<br><br><span class="hljs-comment"># 自动处理数据，传入两个列表，线条颜色，标记点颜色， 绘制 Bezier 曲线</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">drawBezier</span>(<span class="hljs-params">x,y,colorLine,colorPoint</span>):<br>    x,y = sortXY(x,y)<br>    <span class="hljs-keyword">global</span> colorLineWhole<br>    colorLineWhole = colorLine<br>    pointdBezierGraph(x,y,colorPoint)<br><br><span class="hljs-comment"># 主函数定义开始</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    x = [<span class="hljs-number">1.575</span>,<span class="hljs-number">1.553</span>,<span class="hljs-number">1.531</span>,<span class="hljs-number">1.516</span>,<span class="hljs-number">1.501</span>,<span class="hljs-number">1.487</span>,<span class="hljs-number">1.479</span>,<span class="hljs-number">1.472</span>,<span class="hljs-number">1.465</span>,<span class="hljs-number">1.451</span>,<span class="hljs-number">1.443</span>,<span class="hljs-number">1.427</span>,<span class="hljs-number">1.413</span>,<span class="hljs-number">1.391</span>,<span class="hljs-number">1.369</span>]<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(x)):<br>        x[i] = <span class="hljs-number">2</span> * pi / x[i]<br><br>    y = [<span class="hljs-number">15</span>,<span class="hljs-number">25</span>,<span class="hljs-number">35</span>,<span class="hljs-number">44</span>,<span class="hljs-number">58</span>,<span class="hljs-number">76</span>,<span class="hljs-number">87</span>,<span class="hljs-number">99</span>,<span class="hljs-number">112</span>,<span class="hljs-number">130</span>,<span class="hljs-number">138</span>,<span class="hljs-number">147</span>,<span class="hljs-number">152</span>,<span class="hljs-number">156</span>,<span class="hljs-number">160</span>]<br>    drawBezier(x,y,<span class="hljs-string">&quot;green&quot;</span>,<span class="hljs-string">&quot;blue&quot;</span>)<br><br>    plt.xlabel(xLabel[<span class="hljs-number">1</span>])<br>    plt.ylabel(yLabel[<span class="hljs-number">0</span>])<br>    <span class="hljs-comment"># plt.savefig(&quot;图片.png&quot;,dpi = 2000)</span><br>    plt.show()<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Advanced Algebra Midterm</title>
    <link href="/2022/04/24/%E6%95%B0%E5%AD%A6/%E9%AB%98%E4%BB%A3%E6%9C%9F%E4%B8%AD%E4%BD%9C%E4%B8%9A/"/>
    <url>/2022/04/24/%E6%95%B0%E5%AD%A6/%E9%AB%98%E4%BB%A3%E6%9C%9F%E4%B8%AD%E4%BD%9C%E4%B8%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="large-textcolor-blue-mbox-Advanced-Algebra-small-mathbf-Midterm-textcolor-blue-2022-4-21"><a href="#large-textcolor-blue-mbox-Advanced-Algebra-small-mathbf-Midterm-textcolor-blue-2022-4-21" class="headerlink" title="$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbf{Midterm}}      _\textcolor{blue}{2022.4.21}$"></a>$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbf{Midterm}}      _\textcolor{blue}{2022.4.21}$</h1><h2 id="Problem-1-small-mbox-Quaternions"><a href="#Problem-1-small-mbox-Quaternions" class="headerlink" title="Problem 1$ \small  \mbox{Quaternions}$"></a>Problem 1$ \small  \mbox{Quaternions}$</h2><p>The quaternions are widely applied in computation graphics and computer games, and can also be used to simplify calculations that involves angular stuff or rotations. They are defiend as $a+b i+c j+d k$, where $a, b, c, d \in \mathbb{R}$ and $i^{2}=j^{2}=k^{2}=i j k=-1$. (In particular, the multiplication is defined </p><script type="math/tex; mode=display">a s(a+b i+c j+d k)\left(a^{\prime}+b^{\prime} i+c^{\prime} j+d^{\prime} k\right)=\left(a a^{\prime}-b b^{\prime}-c c^{\prime}-d d^{\prime}\right)+\\\left(a b^{\prime}+b a^{\prime}+c d^{\prime}-d c^{\prime}\right) i+\left(a c^{\prime}+c a^{\prime}+d^{\prime} b-\right.\left.b d^{\prime}\right) j+\left(a d^{\prime}+d a^{\prime}+b c^{\prime}-c b^{\prime}\right) k</script><p> You don’t really need to know this formula for this problem though.)</p><p>$(1)$ Recall that we can formulate complex numbers as matrices. Similarly, let us try this for quaternions. Consider matrices of the form </p><script type="math/tex; mode=display">a\left[\begin{array}{cccc}1 & 0 & 0 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 1\end{array}\right]+b\left[\begin{array}{cccc}0 & -1 & 0 & 0 \\ 1 & 0 & 0 & 0 \\ 0 & 0 & 0 & -1 \\ 0 & 0 & 1 & 0\end{array}\right]+c\left[\begin{array}{cccc}0 & 0 & -1 & 0 \\ 0 & 0 & 0 & 1 \\ 1 & 0 & 0 & 0 \\ 0 & -1 & 0 & 0\end{array}\right]+d\left[\begin{array}{cccc}0 & 0 & 0 & -1 \\ 0 & 0 & -1 & 0 \\ 0 & 1 & 0 & 0 \\ 1 & 0 & 0 & 0\end{array}\right]</script><p> where $a, b, c, d \in \mathbb{R}$. Show that this gives a model of the quaternions as well, i.e., they satisfy $i^{2}=j^{2}=k^{2}=i j k=-1$.</p><p>$(2)$ You may interpret $\left[\begin{array}{l}a \ b \ c \ d\end{array}\right] \in \mathbb{R}^{4}$ as the quaternion $a+b i+c j+d k$. Then for any quaternion $q$, multiplying $q$ to $a+b i+c j+d k$ from the left gives a linear map $\mathbb{R}^{4} \rightarrow \mathbb{R}^{4}:(a+b i+c j+d k) \mapsto q(a+b i+c j+d k)$. If $q=r+x i+y j+z k$, what is the matrix $L_{q}$ for this linear map? What is the matrix $R_{q}$ for the linear map if we multiply $q$ from the right? Do we have $L_{q} R_{q}=R_{q} L_{q}$ ?</p><p>$(3)$ The conjugate of a quaternion $q=a+b i+c j+d k$ is $\bar{q}=a-b i-c j-d k$. Show that for a unit quaternion $q$ (i.e., $q \bar{q}=1$ ), the matrix $L_{q} R_{\bar{q}}$ has block form $\left[\begin{array}{cc}1 &amp; 0 \ 0 &amp; Q\end{array}\right]$ where $Q$ is an orthogonal matrix. (Hint: The block form is easy. To see that $Q$ is orthogonal, an easy way is to show that $\left(L_{q} R_{\bar{q}}\right)^{T}\left(L_{q} R_{\bar{q}}\right)=I$ by understanding the meaning of the matrices involved.) (In particular, if you interpret a $3 D$ vector $(x, y, z)$ as the quaternion $v=0+x i+y j+z k \mathrm{~ , ~ t h e n ~ t h e ~ q u a t e r n i o n ~ m u l t i p l i c a t i o n ~ q v}$ to some rotation of $v$. This quaternion interpretation is currently one of the best way to compute 3D rotations in real life. Many of your games with $3 D$ graphics depend on this.)</p><hr><p>$(1)$ Just calculate it. </p><p>$(2)$ $L_{q}=\begin{pmatrix}r&amp;-x&amp;-y&amp;-z\\x&amp;r&amp;-z&amp;y\\y&amp;z&amp;r&amp;-x\\z&amp;-y&amp;x&amp;r\end{pmatrix},R_{q}=\begin{pmatrix}r&amp;-x&amp;-y&amp;-z\\x&amp;r&amp;z&amp;-y\\y&amp;-z&amp;r&amp;x\\z&amp;y&amp;-x&amp;r\end{pmatrix}$  </p><p>$R_qL_q=\begin{pmatrix}-x^2-y^2-z^2+r^2&amp;-2rx&amp;-2ry&amp;-2rz\\2rx&amp;-x^2+r^2+y^2+z^2&amp;-2xy&amp;-2xz\\2yr&amp;-2yx&amp;-y^2+z^2+r^2+x^2&amp;-2zy\\2zr&amp;2zx&amp;-2zy&amp;-z^2+r^2+x^2+y^2\end{pmatrix}$</p><p>$L_qR_q=\begin{pmatrix}-x^2-y^2-z^2+r^2&amp;-2rx&amp;-2ry&amp;-2rz\\2rx&amp;-x^2+r^2+y^2+z^2&amp;-2xy&amp;-2xz\\2yr&amp;-2yx&amp;-y^2+z^2+r^2+x^2&amp;-2zy\\2zr&amp;2zx&amp;-2zy&amp;-z^2+r^2+x^2+y^2\end{pmatrix}$</p><p>So $L_qR_q=R_qL_q$, and it’s obvious when looking at its linear map, which is both right for $L_qR_q$ and $R_qL_q$ :  $\mathbb{R}^{4} \rightarrow \mathbb{R}^{4}:(a+b i+c j+d k) \mapsto q(a+b i+c j+d k)q$</p><p>$(3)$ Calculate that $q\bar{q}=1\Longleftrightarrow a^2+b^2+c^2+d^2=1$ </p><script type="math/tex; mode=display">\begin{gathered}L_qR_{\bar{q}}=\begin{pmatrix}a&-b&-c&-d\\b&a&-d&c\\c&d&a&-b\\d&-c&b&a\end{pmatrix}\begin{pmatrix}a&b&c&d\\-b&a&-d&c\\-c&d&a&-b\\-d&-c&b&a\end{pmatrix}\\=\begin{pmatrix}1&0&0&0\\0&a^2+b^2-c^2-d^2&2(bc-ad)&2(ac+bd)\\0&2(ad+bc)&a^2+c^2-b^2-d^2&2(cd-ab)\\0&2(bd-ac)&2(ab-cd)&a^2+d^2-b^2-c^2\end{pmatrix}\end{gathered}</script><p>The direct way to judge whether the matrix above is orthogonal is hard. So consider multiply</p><script type="math/tex; mode=display">\left(L_{q} R_{\bar{q}}\right)^{T}\left(L_{q} R_{\bar{q}}\right)=R_{\bar{q}}^TL_q^TL_qR_{\bar{q}}</script><p>And calculate $L_q^TL_q=I_4,R_{\bar{q}}^TR_{\bar{q}}=I_4$ So this matrix has block form $\begin{pmatrix}I&amp;O\\O&amp;Q\end{pmatrix}$</p><h2 id="Problem-2-small-mbox-Drazin-Inverse-and-Differential-Equation"><a href="#Problem-2-small-mbox-Drazin-Inverse-and-Differential-Equation" class="headerlink" title="Problem 2$ \small  \mbox{Drazin Inverse and Differential Equation}$"></a>Problem 2$ \small  \mbox{Drazin Inverse and Differential Equation}$</h2><p>Given an unknown vector-valued function $\boldsymbol{v}(t)$, we know how to solve $\boldsymbol{v}^{\prime}=A \boldsymbol{v}$ for a constant matrix $A$. But what if we have $A \boldsymbol{v}^{\prime}+B \boldsymbol{v}=\mathbf{0}$ for constant matrices? If $A$ is invertible, we can reorganize this into $\boldsymbol{v}^{\prime}=-A^{-1} B \boldsymbol{v}$ and solve it easily. But what if $A$ is not invertible?</p><p>Here we introduce the Drazin inverse of a matrix. Recall that for any matrix A, according to the ultimate decomposition, $A=X\left[\begin{array}{cc}A_{R} &amp; \ &amp; A_{N}\end{array}\right] X^{-1}$ where $A_{R}$ is invertible and $A_{N}$ is nilpotent. Then we define $A^{(\mathrm{D})}=X\left[\begin{array}{ll}A_{R}^{-1} &amp; \ &amp; 0\end{array}\right] X^{-1}$ as the Drazin inverse of $A$</p><p>$(1)$ Show that if $\left[\begin{array}{ll}R &amp; \ &amp; N\end{array}\right]=X\left[\begin{array}{cc}R^{\prime} &amp; \ &amp; N^{\prime}\end{array}\right] X^{-1}$ where $R, R^{\prime}$ are invertible and $N, N^{\prime}$ are nilpotent, then $\left[\begin{array}{cc}R^{-1} &amp; \ &amp; 0\end{array}\right]=X\left[\begin{array}{cc}\left(R^{\prime}\right)^{-1} &amp; \ &amp; 0\end{array}\right] X^{-1}$. (This shows that the Drazin inverse of $A$ is unique and does not depends on the choice of invertible-nilpotent decomposition $A=X\left[\begin{array}{lll}A_{R} &amp; &amp; \ &amp; A_{N}\end{array}\right] X^{-1}$.)</p><p>$(2)$ Show that $A A^{(\mathrm{D})}=A^{(\mathrm{D})} A, A^{(\mathrm{D})} A A^{(\mathrm{D})}=A^{(\mathrm{D})}$, and $A^{(\mathrm{D})} A^{k+1}=A^{k}$ where $k$ is the smallest integer such that $\operatorname{Ker}\left(A^{k}\right)=\operatorname{Ker}\left(A^{k+1}\right)$</p><p>$(3)$ Calculate $\left(\boldsymbol{a} \boldsymbol{b}^{*}\right)^{(\mathrm{D})}$ for non-zero vectors $\boldsymbol{a}, \boldsymbol{b} \in \mathbb{C}^{n}$. (Hint: Harder if you use brute force calculation with the definition. Easier if you can guess it out right, and prove that you have the right guess.)</p><p>$(4)$ For fixed $A$, show that we can find a polynomial $p(x)$ such that $A^{(\mathrm{D})}=p(A)$. (Again, note that for different $A$ this polynomial may be different.) (Hint: Suppose $A_{R}^{-1}=q\left(A_{R}\right)$ for a polynomial $q(x)$.)</p><p>$(5)$ If $A B=B A$, show that $\mathrm{e}^{-A^{(\mathrm{D})} B t} A A^{(\mathrm{D})} \boldsymbol{v}_{0}$ is a solution to $A \boldsymbol{v}^{\prime}+B \boldsymbol{v}=\mathbf{0}$ for any constant vector $\boldsymbol{v}_{0}$. (This is one of the results in a paper by Campbell, Meyer and Rose in $1967$.)</p><hr><p>$(1)$ Set $X=\begin{bmatrix}A&amp; B\\C&amp;D\end{bmatrix}$  so the equation can be simplified </p><script type="math/tex; mode=display">\left[\begin{array}{ll}R & \\ & N\end{array}\right]=X\left[\begin{array}{cc}R^{\prime} & \\ & N^{\prime}\end{array}\right] X^{-1}\rightarrow \begin{bmatrix}R&\\&N\end{bmatrix}\begin{bmatrix}A& B\\C&D\end{bmatrix}=\begin{bmatrix}A& B\\C&D\end{bmatrix}\begin{bmatrix}R&\\&N\end{bmatrix}</script><p>For each block we have $RA=AR’,RB=BN’,ND=DN’$. Use induction to prove </p><p>$R^nB=BN’^{n}$, if $n=k-1$ $R^{k-1}B=BN’^{k-1}$ is right, then $R^{k}B=RBN^{k-1}=BN’^{k}$</p><p>And $N$ is a nilpotent matrix, so after limited steps, it transfers to $R^{n}B=O$ and $R$ is invertible </p><p>So $B=O$, it’s the same with $C=O$, and $X=\begin{bmatrix}A&amp;\\&amp;D\end{bmatrix}$ since $RA=AR’$, $R^{-1}A=A(R’)^{-1}$</p><script type="math/tex; mode=display">\begin{bmatrix}R^{-1}& O\\O&O\end{bmatrix}\begin{bmatrix}A& O\\O&D\end{bmatrix}=\begin{bmatrix}R^{-1}A& O\\O&O\end{bmatrix}=\begin{bmatrix}A(R')^{-1}& O\\O&O\end{bmatrix}=\begin{bmatrix}A& O\\O&D\end{bmatrix}\begin{bmatrix}(R')^{-1}& O\\O&O\end{bmatrix}</script><p>So $\left[\begin{array}{cc}R^{-1} &amp; \ &amp; 0\end{array}\right]=X\left[\begin{array}{cc}\left(R^{\prime}\right)^{-1} &amp; \ &amp; 0\end{array}\right] X^{-1}$, so the Drazin inverse is sole. </p><p>$(2)$ $AA^{(D)}=X\left[\begin{array}{cc}A_{R} &amp; \ &amp; A_{N}\end{array}\right] X^{-1}X\left[\begin{array}{ll}A_{R}^{-1} &amp; \ &amp; 0\end{array}\right] X^{-1}=X\begin{bmatrix}I&amp;O\\O&amp;O\end{bmatrix}X^{-1}$</p><p>$A^{(D)}A=X\left[\begin{array}{ll}A_{R}^{-1} &amp; \ &amp; 0\end{array}\right] X^{-1}X\left[\begin{array}{cc}A_{R} &amp; \ &amp; A_{N}\end{array}\right] X^{-1}=X\begin{bmatrix}I&amp;O\\O&amp;O\end{bmatrix}X^{-1}=AA^{(D)}$</p><p>$A^{(D)}AA^{(D)}=X\begin{bmatrix}I&amp;O\\O&amp;O\end{bmatrix}X^{-1}X\left[\begin{array}{ll}A_{R}^{-1} &amp; \ &amp; 0\end{array}\right] X^{-1}=X\left[\begin{array}{ll}A_{R}^{-1} &amp; \ &amp; 0\end{array}\right] X^{-1}=A^{(D)}$</p><p>By induction, $A^{(D)}A^{k+1}=X\left[\begin{array}{ll}A_{R}^{-1} &amp; \ &amp; O\end{array}\right] X^{-1}X\left[\begin{array}{cc}A_{R}^{k+1} &amp; \ &amp; A_{N}^{k+1}\end{array}\right] X^{-1}=X\begin{bmatrix}A_R^{k}&amp;\\&amp;O\end{bmatrix}X^{-1}$</p><p>And $A^{k}=X\left[\begin{array}{cc}A_{R}^k &amp; \ &amp; A_{N}^k\end{array}\right] X^{-1}$ if $\ker{(A^{k})}=\ker{(A^{k+1})}$ so $\ker{(A_N^k)}=\ker{(A_{N}^{k+1})}$ </p><p>let $m$ is the smallest number that satisfied $A_N^m=O$, so $k\leq m$, if $k&lt;m$, that is to say</p><p>$A_N^{k+1}\vec{x}=\vec{0}\Longrightarrow A_N^{k}\vec{x}=\vec{0}$  and  $\ker{(A_{N}^{k})}=\ker{(A_{N}^{k+1})}=\cdots \ker{(A_{N}^{m})}=\mathbb{R}^{n}$ </p><p>So $A_N^{k}=O$ , $A^{(\mathrm{D})} A^{k+1}=A^{k}$</p><p>$(3)$ Can’t solve this question</p><p>$(4)$ For $A_R\neq O$, let its minimal polynomial $p(A_R)=p_1(A_R)+a I=O$ because $A_R$ </p><p>is invertible, and its eigenpolynomial’s constant term is not $0$, so $a\neq 0$, $p_2(A_R)A_R=-aI$</p><p>Define $q(A_R)=-\dfrac{p_2(A_{R})}{a}$ so $\exists $ polynomial $q(x)$ such that $A_R^{-1}=q(A_R)$. Also define </p><p> $k$ is the smallest integer such that $\operatorname{Ker}\left(A^{k}\right)=\operatorname{Ker}\left(A^{k+1}\right)$ According to $\small(2)$, we have </p><p>$A_N^k=O,A^k=X\begin{bmatrix}A_R^k&amp;O\\O&amp;O\end{bmatrix}X^{-1}$, and multiply by $(q(A))^{k+1}=X\begin{pmatrix}(A_{R}^{-1})^{k+1}&amp;O\\O&amp;q(A_N)\end{pmatrix}X^{-1}$</p><p>$A^{k}q(A)^{k+1}=X\begin{bmatrix}A_R^k&amp;O\\O&amp;O\end{bmatrix}X^{-1}X\begin{pmatrix}(A_{R}^{-1})^{k+1}&amp;O\\O&amp;q(A_N)\end{pmatrix}X^{-1}=X\begin{bmatrix}A_R^{-1}&amp;O\\O&amp;O\end{bmatrix}X^{-1}=A^{(D)}$</p><p>$(5)$ First, $A^{(D)}$ and $B$ is community. let $B^{\prime}=X^{-1}BX$ so that </p><script type="math/tex; mode=display">\begin{pmatrix}A_{R}&O\\O&A_N\end{pmatrix}B^{\prime}=B^{\prime}\begin{pmatrix}A_{R}&O\\O&A_N\end{pmatrix}</script><p> like question $\small(1)$ we can know that $B^{\prime}=\begin{pmatrix}B_1&amp;O\\O&amp;B_4\end{pmatrix}$  $B_1$ and $A_R$ is community</p><p>so it’s obvious that $\begin{pmatrix}A_{R}^{-1}&amp;O\\O&amp;O\end{pmatrix}B^{\prime}=B^{\prime}\begin{pmatrix}A_{R}^{-1}&amp;O\\O&amp;O\end{pmatrix}$ so $A^{(D)}$ and $B$ is community. </p><p>Secondly, because $AB=BA,AA^{(D)}=A^{(D)}A$ we can prove that $(A^{(D)}Bt)^{i}A=A(A^{(D)}Bt)^{i}$</p><p>if $i=k$ right  $(A^{(D)}Bt)^{k+1}A=A^{(D)}Bt(A^{(D)}Bt)^{k}A=A^{(D)}BtA(A^{(D)}Bt)^{k}=A(A^{(D)}Bt)^{k+1}$</p><p>$i=0$ is right, By induction $(A^{(D)}Bt)^{i}A=A(A^{(D)}Bt)^{i}$ is right. It is the same to </p><p>$(A^{(D)}Bt)^{i}A^{(D)}=A^{(D)}(A^{(D)}Bt)^{i}$, calculate the solution below</p><script type="math/tex; mode=display">\begin{gathered}A \boldsymbol{v}^{\prime}=-AA^{(D)}Be^{-A^{(D)}Bt}AA^{(D)}\boldsymbol{v}_{0}=-AA^{(D)}B\sum_{i=1}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}AA^{(D)}\boldsymbol{v}_{0}\\=-AA^{(D)}BA\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}A^{(D)}\boldsymbol{v}_{0}=-AA^{(D)}ABA^{(D)}\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}\boldsymbol{v}_{0}\\=-BA\boxed{A^{(D)}AA^{(D)}}\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}\boldsymbol{v}_{0}=-BA\boxed{A^{(D)}}\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}\boldsymbol{v}_{0}\\=-BA\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}A^{(D)}\boldsymbol{v}_{0}=-B\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}AA^{(D)}\boldsymbol{v}_{0}=-B\boldsymbol {v}\end{gathered}</script><p>So $\mathrm{e}^{-A^{(\mathrm{D})} B t} A A^{(\mathrm{D})} \boldsymbol{v}_{0}$ is a solution to $A \boldsymbol{v}^{\prime}+B \boldsymbol{v}=\mathbf{0}$</p><h2 id="Problem-3-small-mbox-Sherman-Morrison-Woodburry-Formula"><a href="#Problem-3-small-mbox-Sherman-Morrison-Woodburry-Formula" class="headerlink" title="Problem 3$ \small  \mbox{Sherman-Morrison-Woodburry Formula}$"></a>Problem 3$ \small  \mbox{Sherman-Morrison-Woodburry Formula}$</h2><p>The famous Sherman-Morrison-Woodburry formula states that, for any $m \times m$ invertible matrix $X, n \times n$ invertible matrix $Y, m \times n$ matrix $A$ and $n \times m$ matrix $B$, we have $(X-A Y B)^{-1}=X^{-1}+X^{-1} A\left(Y^{-1}-B X^{-1} A\right)^{-1} B X^{-1}$. This can be proven using block eliminations on $\left[\begin{array}{cc}X &amp; -A \ B &amp; Y\end{array}\right]$. Well, I always find that proof annoying. So let us not do that, and try to find some alternative proofs. To simplify, you can easily see that it is enough to establish the special case $\left(I_{m}-A B\right)^{-1}=I_{m}+A\left(I_{n}-B A\right)^{-1} B .$</p><p>Consider the function $f(x)=(1-x)^{-1}$. This function has a Taylor expansion $f(x)=1+x+x^{2}+\ldots$ for all $|x|&lt;1$ over the complex numbers. (This is also the sum of the geometric series, which you should have learned about in high school.)</p><p>$(1)$ For any $m \times n$ matrix $A$ and $n \times m$ matrix $B$, suppose $I_{m}-A B$ is invertible and all eigenvalues of $AB$ have absolute value less than 1. Write $\left(I_{m}-A B\right)^{-1}$ as the sum of a series of matrices.</p><p>$(2)$ Using above idea, deduce the formula $\left(I_{m}-A B\right)^{-1}=I_{m}+A\left(I_{n}-B A\right)^{-1} B$, when $I_{m}+A B$ and $I_{n}-B A$ are invertible and all eigenvalues of $A B$ and $B A$ have absolute value less than $1 .$ (Btw, note that $A B$ and $B A$ always have the same non-zero eigenvalues. You don’t need this fact though.)</p><p>$(3)$ Oops, unfortunately, the method above does not always work. It has many annoying requirements on eigenvalues. Let us now forget about Taylor expansion. In general, prove that $A p(B A)=p(A B) A$ for all polynomials $p(x)$. (Hint: $\operatorname{try} p(x)=x$ first.)</p><p>$(4)$ Show that for any function $f(x)$ and any two square matrix $X, Y$, we can find a polynomial $p(x)$ such that $p(X)=f(X)$ and $p(Y)=f(Y)$ simultaneously. (Hint: block matrix.)</p><p>$(5)$ Show that $A f(B A)=f(A B) A$ as long as $f(A B)$ and $f(B A)$ are defined.</p><p>$(6)$ Verify that $f(A B)=I_{m}+A f(B A) B$, using the identity above.</p><hr><p>$(1)$ let $S=I_m+AB+(AB)^2+\cdots$ the absolute value of $AB$ is less than $1$, so it converges</p><p>And $(I_m-AB)S=(I_m+AB+(AB)^2+\cdots)-(AB+(AB)^2+\cdots)=I_m$ then </p><p>$S=(I_m-AB)^{-1}=I_m+AB+(AB)^2+\cdots=\displaystyle \sum_{i=0}^{+\infty}(AB)^{i}$</p><p>$(2)$ $RHS=I_m+\displaystyle A\sum_{i=0}^{+\infty}(BA)^{i}B=I_m+\sum_{i=0}^{+\infty}A(BA)^{i}B \stackrel{?}{=}\sum_{i=0}^{+\infty}(AB)^{i}=LHS$</p><p>$(3)$ $p(x)=\displaystyle \sum_{i=0}^{n}a_ix^{i}$, it can be linearly decomposed into ‘single’ polynomial. Consider $x^{n}$ </p><p>If $n=k$ is right, so  $A(BA)^{k+1}=A(BA)^{k}(BA)=(AB)^{k}ABA=(AB)^{k+1}A$  $n=k+1$ is right, and $n=0$ is right. By induction, $A p(B A)=p(A B) A$ for each $x^{n}$ Add them together </p><p>So $A p(B A)=p(A B) A$</p><p>$(4)$ Construct a block matrix $M=\begin{pmatrix}X&amp;O\\O&amp;Y\end{pmatrix}$ for any fixed matrix $M$, we can find a certain polynomial $p(x)$, such that $p(M)=f(M)$ use the Taylor Series divide its minimal polynomial </p><p>$p(\begin{pmatrix}X&amp;O\\O&amp;Y\end{pmatrix})=f(\begin{pmatrix}X&amp;O\\O&amp;Y\end{pmatrix})$ so $p(X)=f(X),p(Y)=f(Y)$</p><p>$(5)$ if fix $A$ and $B$, according to the last question, we can find a polynomial $p(x)$ to replace the function $f$. Also, according to the $\small (3)$ question,  if $f(A B)$ and $f(B A)$ are defined, then </p><script type="math/tex; mode=display">A f(B A)=f(A B) A</script><p>$(6)$ let $f(AB)=\displaystyle \sum_{i=0}^{+\infty}(AB)^{i}$ so use the equation above </p><script type="math/tex; mode=display">\begin{gathered}RHS=I_m+\displaystyle \sum_{i=0}^{+\infty}A(BA)^{i}B=I_m+Af(BA)B=I_m+f(AB)AB=\\I_m+\sum_{i=0}^{+\infty}(AB)^{i+1}=\sum_{i=0}^{+\infty}(AB)^{i}=LHS\end{gathered}</script><p>So we prove the equality $\left(I_{m}-A B\right)^{-1}=I_{m}+A\left(I_{n}-B A\right)^{-1} B$</p><h2 id="Problem-4-small-mbox-Equations-of-matrixes"><a href="#Problem-4-small-mbox-Equations-of-matrixes" class="headerlink" title="Problem 4$ \small  \mbox{Equations of matrixes}$"></a>Problem 4$ \small  \mbox{Equations of matrixes}$</h2><p>Let $N$ be the $n \times n$ nilpotent Jordan block.</p><p>$(1)$ Show that the solutions to the Sylvester’s equation $N X-X N=0$ are exactly the polynomials of $N$.</p><p>$(2)$ Suppose $Y=\mathrm{e}^{N}$. Show that $Y, Y-I,(Y-I)^{2}, \ldots,(Y-I)^{n-1}$ are linearly independent in the space of matrixes, and they span the space of matrices made of polynomials of $N$. (Consequently, $N$ is a polynomial of $Y$.)</p><p>$(3)$ Find all solutions $X$ to the matrix equation $\mathrm{e}^{X}=\mathrm{e}^{N}$. (Make sure to consider COMPLEX matrixes $X$.)</p><p>$(4)$ Find real matrixes $A, B$ such that $A B \neq B A$ but $\mathrm{e}^{A}=\mathrm{e}^{B}$. (Hint: for complex $1 \times 1$ matrices, try to find $x \neq y \in \mathbb{C}$ such that $\mathrm{e}^{x}=\mathrm{e}^{y}$.)</p><p>$(5)$ Prove that there is no solution $X$ to the equation $\sin (X)=\left[\begin{array}{cc}1 &amp; 1996 \ 0 &amp; 1\end{array}\right]$. (This is a Putnam competition problem. I’m sure you know the year of the competition….)</p><hr><p>(1)$ let $ $N=\left[\begin{array}{lllll}0 &amp; &amp; &amp; &amp; \ 1 &amp; 0 &amp; &amp; 0 &amp; \ &amp; \ddots &amp; \ddots &amp; &amp; \ 0 &amp; &amp; \ddots &amp; \ddots &amp; \ &amp; &amp; &amp; 1 &amp; 0\end{array}\right],X=\left[\begin{array}{cccc}a_{11} &amp; a_{12} &amp; \cdots &amp; a_{1 n} \ a_{21} &amp; a_{22} &amp; \cdots &amp; a_{2 n} \ \vdots &amp; \vdots &amp; &amp; \vdots \ a_{n 1} &amp; a_{n 2} &amp; \cdots &amp; a_{n n}\end{array}\right]$</p><p>$NX=\left[\begin{array}{cccc}0&amp;0&amp;\cdots&amp;0\\a_{11} &amp; a_{12} &amp; \cdots &amp; a_{1 n} \ a_{21} &amp; a_{22} &amp; \cdots &amp; a_{2 n} \ \vdots &amp; \vdots &amp; &amp; \vdots \ a_{(n-1) 1} &amp; a_{(n-1) 2} &amp; \cdots &amp; a_{(n-1) n}\end{array}\right],XN=\left[\begin{array}{cccc}a_{12} &amp; a_{13} &amp; \cdots &amp; a_{1 (n-1)}&amp;0 \ a_{22} &amp; a_{23} &amp; \cdots &amp; a_{2 (n-1)}&amp;0 \ \vdots &amp; \vdots &amp; &amp; \vdots \ a_{n 2} &amp; a_{n 3} &amp; \cdots &amp; a_{n(n-1) }&amp;0\end{array}\right],$</p><p>some elements of each row are ‘killed’ step by step. like $\{a_{12},a_{13}\cdots,a_{1n}\}$ </p><p>neat  $\{a_{23},a_{24},\cdots ,a_{2n}\},\{a_{34},a_{35},\cdots,a_{3n}\},\cdots,\{a_{(n-1)n}\}$ and $a_{ij}=a_{(i+k)(j+k)}$</p><p>So $X=\left[\begin{array}{cccc}a_{11} &amp; 0 &amp; \cdots &amp; 0 \ a_{21} &amp; a_{11} &amp; \cdots &amp; 0 \ \vdots &amp; \ddots &amp; &amp; \vdots \ a_{n 1}  &amp; \cdots &amp;a_{21}&amp; a_{11}\end{array}\right]=a_{11}I+a_{21}N+a_{31}N^{2}+\cdots +a_{n1}N^{n-1}=p(N)$</p><p>$(2)$ Use Taylor Series to $Y=e^{N}=\displaystyle \sum_{i=0}^{+\infty}\dfrac{N^{i}}{i!}=\sum_{i=0}^{n-1}\dfrac{N^{i}}{i!}=I+\sum_{i=1}^{n-1}\dfrac{N^{i}}{i!}$</p><p>$(Y-I)^{k}=\displaystyle (\sum_{i=1}^{n-1}\dfrac{N^{i}}{i!})^{k}$ the minimum of $N$ is $k$. So for  $\{Y, Y-I,(Y-I)^{2}, \ldots,(Y-I)^{n-1}\}$</p><p> the minimum of $N$ is exactly $0,1,2,\cdots,n-1 $ and each $N^{k}$ is obviously independent</p><p>So, they are linearly independent, the dimension of the polynomial of $N$ is $n$, which is equal to the number of the base, so they span the whole space $V$. Also, $N\in V$ and $N$ can be written by the combination of the base. Each base is just the polynomial of $Y$. So, $N=p(e^{N})$</p><p>$(3)$ Use Jordan factorization, every complex matrix $A$ can be divided into </p><script type="math/tex; mode=display">A=XJX^{-1}</script><p>Obviously, one solution is $x=N$, finding complex matrixes $A_{I}$ such that $e^{A_{I}}=I$ matters.</p><p>And $e^{A_{I}}=Xe^{J_{I}}X^{-1}=I\Longrightarrow e^{J_{I}}=I$ And if $J_{k}=\begin{bmatrix}\lambda&amp;1&amp;0&amp;\cdots&amp;0\\0&amp;\lambda&amp;1&amp;\cdots&amp;0\\0&amp;0&amp;\lambda&amp;\cdots&amp;0\\\vdots&amp;\vdots&amp;\vdots &amp;\ddots&amp;1\\0&amp;0&amp;0&amp;\cdots&amp;\lambda\end{bmatrix}$ exists in $J_{I}$</p><p>which will produce $\dfrac{d^{n}e^{x}}{dx^{n}}\Large|\normalsize _{x=\lambda}\neq 0$ as non-diagonal elements, causing contradiction.</p><p>So $J_{I}$ is a diagonal matrix $J_{I}=\mbox{diag}(z_1,z_2\cdots,z_{n})$ So $e^{z_i}=1\Longrightarrow z_{i}=2k\pi ,k\in \mathbb{Z}$ </p><p>Some base soluitions to $e^{X}=e^{N}$ are $X=N+2\pi\cdot\mbox{diag}(k_1,k_2,\cdots,k_{n}),k_{i}\in \mathbb{Z}$</p><p>And if want to add $X$ and $X^{-1}$, because $e^{A+B}=e^{A}e^{B}$ needs $AB=BA$ </p><p>$N(XDX^{-1})=(XDX^{-1})N\Longrightarrow (X^{-1}NX)D=D(X^{-1}NX)$ if and only if $d_{i}=d_{j}$</p><p>$N+X\mbox{diag}(2\pi k,2\pi k,\cdots 2\pi k)X^{-1},k\in \mathbb{Z}$ Can be added to the solutions</p><p>So one part of the solutions are (can’t prove these matrixes contain all the solutions)</p><script type="math/tex; mode=display">\{N+2\pi\mbox{diag}(k_1,k_2,\cdots,k_{n}),k_{i}\in \mathbb{Z}\}\cup \{N+2\pi X\mbox{diag}(k,k,\cdots k)X^{-1},k\in \mathbb{Z},\det X\neq 0\}</script><p>$(4)$ Because of the rotation $e^{x+yi}=e^{x+(y+2k\pi)i}$ So we can easily know that </p><script type="math/tex; mode=display">\Large e^{\large \begin{pmatrix}0&-2k\pi\\2k\pi&0\end{pmatrix}}\normalsize =I_2,k\in \mathbb{Z}</script><p>But the ‘standard complex’ matrix $aI+bJ=\begin{pmatrix}a&amp;-b\\b&amp;a\end{pmatrix}$ is community. So let’s try other matrixes meaning for rotations, which gives the $I$ itself. And the answer is <strong>Quaternions</strong></p><p>Because of its non-commnuity. Like $(b_1i+c_1j)(b_2i+c_2j)=-b_1b_2-c_1c_2+(b_1c_2-c_1b_2)k$</p><p>$\neq (b_2i+c_2j)(b_1i+c_1j)=-b_1b_2-c_1c_2+(b_2c_1-c_2b_1)k$ when $b_1c_2\neq b_2c_1$ and $e^{2\pi i,j}=I_4$</p><script type="math/tex; mode=display">\begin{gathered}A=2\pi i=\begin{pmatrix}0&-2\pi&0&0\\2\pi &0&0&0\\0&0&0&-2\pi\\0&0&2\pi&0\end{pmatrix},B=2\pi j=\begin{pmatrix}0&0&-2\pi&0\\0&0&0&2\pi\\2\pi&0&0&0\\0&-2\pi&0&0\end{pmatrix}\\AB=4\pi^2\begin{pmatrix}0&0&0&-1\\0&0&-1&0\\0&1&0&0\\1&0&0&0\end{pmatrix}\neq BA=4\pi^2\begin{pmatrix}0&0&0&1\\0&0&1&0\\0&-1&0&0\\-1&0&0&0\end{pmatrix}\\\mbox{But}\ \ \ e^{A}=e^{B}=\begin{pmatrix}1&0&0&0\\0&1&0&0\\0&0&1&0\\0&0&0&1\end{pmatrix}=I_4\end{gathered}</script><p>$(5)$ Since $f(x)=\sin x,g(x)=\cos x$ are all matrix functions, and $f(x)^2+g(x)^2=1$ is right</p><p>So $\sin^2X+\cos ^2X=I$ substitute $\sin X=\left[\begin{array}{cc}1 &amp; 1996 \ 0 &amp; 1\end{array}\right]$ we can get $\cos^2 X=\left[\begin{array}{cc}0 &amp; -3992 \ 0 &amp; 0\end{array}\right]$</p><p>That is to say $Y=\cos X$ is nilpotent $Y^{4}=O$. However, the matrix is $2\times 2 $. $Y^{2}$ must be $O$ ,</p><p>which causes contradiction. </p><h2 id="Problem-5-small-mbox-Newton’s-Method"><a href="#Problem-5-small-mbox-Newton’s-Method" class="headerlink" title="Problem 5$ \small  \mbox{Newton’s Method}$"></a>Problem 5$ \small  \mbox{Newton’s Method}$</h2><p>As we have seen in class, $\operatorname{sign}(X)$ is useful to solve certain Sylvester’s equations. Here we aim to find a way an approximation to $\operatorname{sign}(X)$. Given a matrix $A$ with no purely imaginary eigenvalue, set $X_{0}=A$, and set $X_{n+1}=\dfrac{1}{2}\left(X_{n}+X_{n}^{-1}\right)$. (As a side note, a complex number $z$ is purely imaginary if its real part is zero. In particular, 0 is a purely imaginary number as well. So, if a matrix has no purely imaginary eigenvalue, then it is invertible.)</p><p>$(1)$ Show that if $X_{n}$ has no purely imaginary eigenvalue, then $X_{n+1}$ has no purely imaginary eigenvalue. (So our inductive definition makes sense.)</p><p>$(2)$ If $A$ is $1 \times 1$, and it is not purely imaginary, show that $X_{n}$ indeed coverge to sign $(A)$. (This question has little to do with linear algebra…) (Hint: $\dfrac{f(x)-1}{f(x)+1}=\left(\dfrac{x-1}{x+1}\right)^{2}$ where $f(x)=\dfrac{1}{2}\left(x+\dfrac{1}{x}\right)$.</p><p>$(3)$ If $A$ is diagonalizable and has no purely imaginary eigenvalue, show that $X_{n}$ indeed coverge to sign $(A)$. (Not part of this problem. But diagonalizable matrices are dense, so you can imagine that this is true in general.)</p><p>$(4)$ Suppose $A$ is an $n \times n$ Jordan block with eigenvalue $1$. Show that $X_{n-1}=I$.</p><hr><p>$(1)$ Use Jordan block $X_{n}=XJX^{-1}$</p><script type="math/tex; mode=display">J=\begin{pmatrix}J_{1}\\&\ddots\\&&J_{n}\end{pmatrix},J_{i}=\begin{bmatrix}\lambda_i&1&0&\cdots&0\\0&\lambda_i&1&\cdots&0\\0&0&\lambda_i&\ddots&0\\\vdots&\vdots&\vdots &\ddots&1\\0&0&0&\cdots&\lambda_i\end{bmatrix}</script><p>And $\mathbf{Re}(\lambda_{i})\neq 0$ So $X_n^{-1}=XJ^{-1}X^{-1}=X\begin{bmatrix}\lambda_i^{-1}&amp;a_1&amp;a_2&amp;\cdots&amp;a_{n-1}\\0&amp;\lambda_i^{-1}&amp;a_1&amp;\cdots&amp;a_{n-2}\\0&amp;0&amp;\lambda_i^{-1}&amp;\cdots&amp;a_{n-3}\\\vdots&amp;\vdots&amp;\vdots &amp;\ddots&amp;a_1\\0&amp;0&amp;0&amp;\cdots&amp;\lambda_i^{-1}\end{bmatrix}X^{-1}$</p><p>and $\dfrac{X_n+X_n^{-1}}{2}=\dfrac{1}{2}X\begin{bmatrix}\lambda_i+\lambda_i^{-1}&amp;1+a_1&amp;a_2&amp;\cdots&amp;a_{n-1}\\0&amp;\lambda_i+\lambda_i^{-1}&amp;1+a_1&amp;\cdots&amp;a_{n-2}\\0&amp;0&amp;\lambda_i+\lambda_i^{-1}&amp;\cdots&amp;a_{n-3}\\\vdots&amp;\vdots&amp;\vdots &amp;\ddots&amp;1+a_1\\0&amp;0&amp;0&amp;\cdots&amp;\lambda_i+\lambda_i^{-1}\end{bmatrix}X^{-1}$</p><p>So the eigenvalue of $X_{n+1}$ is $\lambda_i+\lambda_{i}^{-1}=(x_i+y_i)+\dfrac{1}{x_i+y_i}$ its real part is </p><script type="math/tex; mode=display">x_i+\dfrac{x_i}{x_i^2+y_i^2}=x_i(1+\dfrac{1}{x_i^2+y_i^2})\neq 0</script><p>So $X_{n+1}$ has no purely imaginary eigenvalue</p><p>$(2)$ set $f(x)=\dfrac{1}{2}(x+\dfrac{1}{x})$ We have recursion formula $\dfrac{f(x)-1}{f(x)+1}=\left(\dfrac{x-1}{x+1}\right)^{2}$</p><p>$A = x+yi$ if $\mathbf{Re}(A)=x&gt;0$ So set $a_n=\dfrac{X_{n}-1}{X_{n}+1}$ it will be $a_n=a_{n-1}^{2}$ </p><p>By induction we can easily get $a_n=a_1^{2^{n-1}}=(\dfrac{x-1+yi}{x+1+yi})^{2^{n}}$ and the length of $\dfrac{x-1+yi}{x+1+yi}$ </p><p>is $\sqrt{\dfrac{(x-1)^{2}+y^2}{(x+1)^2+y^2}}=\sqrt{1-\dfrac{4x}{(x+1)^2+y^2}}&lt;1$ so let $n\to +\infty $ $\lim\limits_{n\to +\infty}a_n=0$ $X_{+\infty}\to 1$</p><p>And if $x&lt;0$, find a new path $b_n=\dfrac{X_n+1}{X_n-1}$, also satisfy $b_{n+1}=b_{n}^2$ And the length</p><p>$|\dfrac{x+1+yi}{x-1+yi}|=\sqrt{1+\dfrac{4x}{(x-1)^{2}+y^2}}&lt;1$ so let $n\to +\infty$ $\lim\limits_{n\to +\infty}a_n=0,X_{+\infty }\to -1$</p><p>In conclusion,  $\lim\limits_{n\to +\infty}X_n=\begin{cases}1&amp;\mathbf{Re}(A)&gt;0\-1&amp;\mathbf{Re}(A)&lt;0\end{cases}=\mbox{sign(A)}$</p><p>$(3)$ Actually, for every Jordan block $J_{i}=\begin{bmatrix}\lambda_i&amp;1&amp;0&amp;\cdots&amp;0\\0&amp;\lambda_i&amp;1&amp;\cdots&amp;0\\0&amp;0&amp;\lambda_i&amp;\ddots&amp;0\\\vdots&amp;\vdots&amp;\vdots &amp;\ddots&amp;1\\0&amp;0&amp;0&amp;\cdots&amp;\lambda_i\end{bmatrix}$ the diagonal elements</p><p>stay the sequence transformation. $\lambda_{i(n+1)}=\dfrac{1}{2}(\lambda_{in}+\lambda_{in}^{-1})$ According to the $\small (2)$ question</p><p>$\lim\limits_{n\to +\infty}\lambda_{in}=\mbox{sign}(\lambda_{i})$ So the diagonal elements of $\lim\limits_{n\to +\infty}X_{n}$ are $\mbox{sign}(\lambda_i)$ Just consider $\lambda_i&gt;0$</p><p>Then $\mbox{sign}(\lambda_i)=1$ So $\lim\limits_{n\to +\infty}X_n=I+\displaystyle \sum_{i=1}^{n-1}b_i(J-\lambda I)^{i}$ Take the limit for the original equation $X_{n+1}=\dfrac{1}{2}\left(X_{n}+X_{n}^{-1}\right)\Longrightarrow I+\displaystyle \sum_{i=1}^{n-1}b_i(J-\lambda I)^{i}=\dfrac{1}{2}(I+\displaystyle \sum_{i=1}^{n-1}b_i(J-\lambda I)^{i}+(I+\displaystyle \sum_{i=1}^{n-1}b_i(J-\lambda I)^{i})^{-1})$</p><p>So $(I+\displaystyle \sum_{i=1}^{n-1}b_i(J-\lambda I)^{i})^{2}=I$ then $\displaystyle \sum_{i=1}^{n-1}(b_i^2(J-\lambda I)^{2i}+2b_i(J-\lambda I)^{i})=O$</p><p>We have proved that $J,J-I,(J-I)^2,\cdots,(J-I)^{n-1}$ are linearly independent</p><p>So $b_1=b_3=\cdots=b_{2j+1}=0$ and $b_1^2+2b_2=0\Longrightarrow b_2=0,\cdots,b_{j}^{2}+2b_{2j}=0$</p><p>For every even $b_{\small\mbox{even}}=2^{n}\cdot c$ where $c\in \mbox{odd}$ So $b_{\small\mbox{even}}$ will ultimately went to $0$. So </p><p>$\lim\limits_{n\to +\infty}X_{n}=I=\mbox{sign}(A)$ when $\lambda_i&lt;0$ that is the same. </p><p>Every matrix can be transformed into Jordan block and every Jordan block is right</p><p>So the algorithm of $X_{n+1}=\dfrac{1}{2}(X_n+X_{n}^{-1})$ can give $\mbox{sign}(A)$ if $A$ has no purely eigenvalues</p><p>And also, solving the equation $AX+XB=C$ by calculating $\mbox{sign}\begin{pmatrix}A&amp;-C\\O&amp;B\end{pmatrix}$ can be done</p><p>$(4)$ $A=I+J,J=\begin{bmatrix}0&amp;1&amp;0&amp;\cdots&amp;0\\0&amp;0&amp;1&amp;\cdots&amp;0\\0&amp;0&amp;0&amp;\ddots&amp;0\\\vdots&amp;\vdots&amp;\vdots &amp;\ddots&amp;1\\0&amp;0&amp;0&amp;\cdots&amp;0\end{bmatrix}$ use Taylor series and note that $J^{n}=O$</p><p>$X_0=I+J,X_1=\dfrac{1}{2}(I+J+(I+J)^{-1})=\dfrac{1}{2}(I+J+(I-J+J^2+\cdots+(-1)^{n-1}J^{n-1}))$</p><p>$=I+\dfrac{1}{2}J^2+\cdots$ every step at least ‘kill’s the ‘smallest one’. If after $k$ steps the result is $X_{k}=I+a_{k+1}J^{k+1}+\cdots+a_{n-1}J^{n-1}$, then $X_{k+1}=\dfrac{1}{2}(X_k+X_k^{-1})$</p><p>$=\dfrac{1}{2}((I+a_{k+1}J^{k+1}+\cdots+a_{n-1}J^{n-1})+(I+a_{k+1}J^{k+1}+\cdots+a_{n-1}J^{n-1})^{-1})$ </p><p>the coefficient of $J^{k+1}$ is eliminated. By induction, $X_{n-1}=I+a_nJ^{n}+\cdots=I$</p><h2 id="Problem-6-small-mbox-Real-Mobius-transformations"><a href="#Problem-6-small-mbox-Real-Mobius-transformations" class="headerlink" title="Problem 6$ \small  \mbox{Real Möbius transformations}$"></a>Problem 6$ \small  \mbox{Real Möbius transformations}$</h2><p>A Möbius transformation is a function $f: x \mapsto \dfrac{a x+b}{c x+d}$. For example, scaling $x \mapsto 2 x$, addition $x \mapsto x+1$, inversion $x \mapsto \dfrac{1}{x}$ are all Mobius transformations. We may further define $f(\infty)=\dfrac{a}{c}$ and $f\left(-\dfrac{d}{c}\right)=\infty$, as you can tell by taking limits. So Möbius transformations are actiong on the space $\mathbb{R} \cup\{\infty\}$. In some sense, you are imagining the real line where $\infty$ and $-\infty$ are treated as the same thing (i.e., they are glued together), and you see that $\mathbb{R} \cup\{\infty\}$ is in fact a big circle.<br>(You can skip these materials in this parenthesis. They are irrelavant but maybe of interest: geometrically, consider the circle $C$ on the xy-plane with center $(0,1 / 2)$ and radius $1 / 2$. Then imagine that the point $(0,1)$ on the circle has a ray gun attached. For each point of the circle, the ray gun can shoot that point, and then go through it and intersect with the $x$-axis somewhere. This would give a 1-to-1 correspondence betwee the real line $\mathbb{R}$ and $C-\{(0,1)\}$. Now think of $\infty$ as the point $(0,1)$, and you have thus build a 1-to-1 correspondence bwteen $\mathbb{R} \cup\{\infty\}$ and the circle $C$. The Möbius transformations act on $\mathbb{R} \cup\{\infty\}$, so under this correspondence you can imagine them as acting on the circle $C$. They usually stretch some portions of $C$ while shrinking some other portions. This corresponds to looking at this circle from various perspectives. For example, if you look at the circle from the left, then since the left portion of the circle is closer to your eyes, it appears to be larger, while the right portion of the circle appears to be smaller as it is further away from your eyes. For a more concrete example, consider $x \mapsto 2 x$. This means you are moving your perspective to be closer to $(0,0)$ on the circle, so that points near $(0,0)$ are more spread out. Everyone is now repelled away from the origin and attracted towards the infinity point $(0,1)$.)</p><p><img src="https://pic.imgdb.cn/item/62610514239250f7c5e6c98c.jpg" style="zoom:50%;" /></p><p>For any 2 by 2 invertible real matrix $A=\left[\begin{array}{ll}a &amp; b \ c &amp; d\end{array}\right]$, we can build a corresponding Möbius transformation $f_{A}: \mathbb{R} \cup\{\infty\} \rightarrow \mathbb{R} \cup\{\infty\}$ such that $f_{A}(x)=\dfrac{a x+b}{c x+d}$. Obviously all Möbius transformation arises in this way.</p><p>$(1)$ Show that $f_{A} \circ f_{B}=f_{A B}$ for any $A, B$. In particular, if we simply write $A$ to represent the function $f_{A}$, then the composition of $A$ and $B$ is the same as the matrix multiplication of $A$ and $B$. (You may also check $f_{A^{-1}}$ is the inverse function of $f_{A}$ and so on. This is not required though.)</p><p>$(2)$ Show that for any $k \in \mathbb{R}-\{0\}, f_{A}=f_{k A}$. And conversely, if $f_{A}=f_{B}$, then $A=k B$ for some complex constant $k$. (So WLOG, to study a Möbius transformation $f_{A}$, you can always scale A appropriately and assume that $\operatorname{det}(A)=1$.)</p><p>$(3)$ Interpret a vector $\left[\begin{array}{l}x \ y\end{array}\right]$ as a ratio $\dfrac{x}{y}$. Then show that, under this interpretation, $A\left[\begin{array}{l}x \ y\end{array}\right]$ is interpreted exactly as the ratio $f_{A}\left(\dfrac{x}{y}\right)$. (As a result, some literature write $A$ and $f_{A}$ interchangably and $\left[\begin{array}{l}x \ y\end{array}\right]$ and $\dfrac{x}{y}$ interchangably.)</p><p>$(4)$ Show that there are only four kinds of Möbius transformations. There is a kind where $f_{A}$ has two fixed points in $\mathbb{R} \cup\{\infty\}$ (a typical example is $x \mapsto 2 x$ where 0 and $\infty$ are the fixed points), a kind where $f_{A}$ has only one fixed point in $\mathbb{R} \cup\{\infty\}$ (a typical example is $x \mapsto x+1$ where $\infty$ is the only fixed point), and a kind without any fixed point in $\mathbb{R} \cup\{\infty\}$ (a typical example is $x \mapsto-\dfrac{1}{x}$ ). Finally, there is a kind where everyone is fixed, i.e., the identity function $x \mapsto x$.</p><hr><p>$(1)$ set $A=\begin{pmatrix}a_1&amp;a_2\\a_3&amp;a_4\end{pmatrix},B=\begin{pmatrix}b_1&amp;b_2\\b_3&amp;b_4\end{pmatrix}$ $f_A\circ f_B(x)=f_A(\dfrac{b_1x+b_2}{b_3x+b_4})=\dfrac{a_1\dfrac{b_1x+b_2}{b_3x+b_4}+a_2}{a_3\dfrac{b_1x+b_2}{b_3x+b_4}+a_4}$</p><p>$=\dfrac{(a_1b_1+a_2b_3)x+(a_1b_2+a_2b_4)}{(a_3b_1+a_4b_3)x+(a_3b_2+a_4b_4)}=f_{AB}(x)=f_{\begin{pmatrix}a_1b_1+a_2b_3&amp;a_1b_2+a_3b_4\\a_3b_1+a_4b_3&amp;a_3b_2+a_4b_4\end{pmatrix}}(x)$</p><p>Check $A^{-1}=\dfrac{1}{a_1a_4-a_2a_3}\begin{pmatrix}a_4&amp;-a_2\-a_3&amp;a_1\end{pmatrix}$ so $f_{A^{-1}}(x)=\dfrac{a_4x-a_2}{-a_3x+a_1}$ $(a_1a_4\neq a_2a_3)$</p><p>$x\stackrel{f_{A}}{\longmapsto}\dfrac{a_1x+a_2}{a_3x+a_4}\stackrel{f_{A^{-1}}}{\longmapsto} \dfrac{a_4\dfrac{a_1x+a_2}{a_3x+a_4}-a_2}{-a_3\dfrac{a_1x+a_2}{a_3x+a_4}+a_1}=\dfrac{(a_1a_4-a_2a_3)x}{a_1a_4-a_2a_3}=x$ $f_{A^{-1}}$ is the inverse of  $f_{A}$ </p><p>$(2)$ $A=\begin{pmatrix}a_1&amp;a_2\\a_3&amp;a_4\end{pmatrix},f_{kA}(x)=\dfrac{ka_1x+ka_2}{ka_3x+ka_4}=\dfrac{a_1x+a_2}{a_3x+a_4}=f_{A}(x)$ if $k\neq 0$</p><p>If $B=\begin{pmatrix}b_1&amp;b_2\\b_3&amp;b_4\end{pmatrix},f_{A}=f_{B}$ we can get $\dfrac{a_1x+a_2}{a_3x+a_4}=\dfrac{b_1x+b_2}{b_3x+b_4}$ $\Longrightarrow a_1b_3=a_3b_1,a_2b_4=b_2a_4$</p><p>Construct $k=\dfrac{a_1b_4-a_2b_3}{b_1b_4-b_2b_3}+i\dfrac{a_1b_2-a_2b_1}{b_1b_4-b_2b_3}=\begin{pmatrix}\dfrac{a_1b_4-a_2b_3}{b_1b_4-b_2b_3}&amp;\dfrac{a_2b_1-a_1b_2}{b_1b_4-b_2b_3}\\\dfrac{a_1b_2-a_2b_1}{b_1b_4-b_2b_3}&amp;\dfrac{a_1b_4-a_2b_3}{b_1b_4-b_2b_3}\end{pmatrix}$</p><p>After too many calculations, $A=kB=\begin{pmatrix}\dfrac{a_1b_4-a_2b_3}{b_1b_4-b_2b_3}&amp;\dfrac{a_2b_1-a_1b_2}{b_1b_4-b_2b_3}\\\dfrac{a_1b_2-a_2b_1}{b_1b_4-b_2b_3}&amp;\dfrac{a_1b_4-a_2b_3}{b_1b_4-b_2b_3}\end{pmatrix}B$ is right.</p><p>$(3)$ $A\begin{bmatrix}x\\y\end{bmatrix}=\begin{bmatrix}a_1&amp;a_2\\a_3&amp;a_4\end{bmatrix}\begin{bmatrix}x\\y\end{bmatrix}=\begin{bmatrix}a_1x+a_2y\\a_3x+a_4y\end{bmatrix}$ which can be interpred as $\dfrac{a_1x+a_2y}{a_3x+a_4y}$</p><p>and $f_{A}(\dfrac{x}{y})=\dfrac{a_1\dfrac{x}{y}+a_2}{a_3\dfrac{x}{y}+a_4}=\dfrac{a_1x+a_2y}{a_3x+a_4y}$ they are the same </p><p>$(4)$ For all the $2\times 2$ matrixes $A$, use Jordan block, $A=XJX^{-1}$ All types of the $J$ are $4$ </p><script type="math/tex; mode=display">\det(J)=1\Longrightarrow J=\begin{pmatrix}1&0\\0&1\end{pmatrix},\begin{pmatrix}\lambda_1&0\\0&\lambda_2\end{pmatrix},\begin{pmatrix}z&0\\0&\bar{z}\end{pmatrix},\begin{pmatrix}1&1\\0&1\end{pmatrix}\ \ \mbox{where} \ \lambda_1\lambda_2=|z|=1</script><p>Fixed points are $\text{R},\{0,\infty\},\{\phi\},\{\infty\}$ Because their eigenvectors must be real $A\begin{bmatrix}x\\y\end{bmatrix}=\begin{bmatrix}x\\y\end{bmatrix}$</p>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>高等代数选讲</category>
      
    </categories>
    
    
    <tags>
      
      <tag>高等代数选讲</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>An intriguing contest in Spring</title>
    <link href="/2022/04/10/%E6%95%B0%E5%AD%A6/%E6%96%B0%E7%94%9F%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80%E5%A4%A7%E8%B5%9B/"/>
    <url>/2022/04/10/%E6%95%B0%E5%AD%A6/%E6%96%B0%E7%94%9F%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80%E5%A4%A7%E8%B5%9B/</url>
    
    <content type="html"><![CDATA[<p>期中考试前一周周六，参加求真书院（丘成桐班）举办的新生数理基础大赛，分为数学组和非数学组，当然选的是非数学组。考试途中监考员觉得我们做得有点慢，还给我们加了时长，从 $3$ 小时增加到 $3.5$ 小时。</p><p>很久没有集中精力考过这么长的试了，那本答题纸被我填满了（没有正反面都写），考到最后手都没力气了（手动捂脸）。考完整个人都虚脱了，吃了紫荆二楼的涮羊肉后待在寝室睡了一小时觉，睡完觉起来啥都不想干，直接躺平整个晚上。</p><p>考题总体来说比较符合口味，很像之前物理竞赛中的<strong>亚赛</strong>风格，从最简单、底层的证明开始推导，像楼房一样一层层累高。说实话，这才比较具有趣味性和科研性，那种一来就大眼瞪小眼（例如：求证 $x^n+y^n=z^n,n\geq 3$ 无平凡整数解，当然这是开玩笑，反正就这个意思）的题反而体验感不好。</p><p>四道题，每题 $25$ 分，$A$ 题 $Stirling$ 公式，$B$ 题包络线，$C$ 题两个题选一个，一个菲涅尔积分，一个随机游走，$D$ 题正交投影。$C$ 题我选的菲涅尔积分，也就是我做了 $3$ 道微积分，$1$ 道线代，平均每个题 $7-8$ 个小问。</p><p>据说前三题是同一个人出的，当时做的时候很容易在中间地方卡壳，但最后冥思苦想后都通关了，尤其是第一题做到一半感觉差点都要放弃了……最后一个线代题有点云里雾里，考试也说了后面问可以使用前面问的结论。</p><p>最终得分 $\mathbf{25+23+23+18=89}$，混了个非数学组第二名（一等奖第一名），有几个数值计算题可能脑袋已经超负荷了，没有检查合理性，第三题算星形线面积时多乘了个 $4$，线代题奇异值忘记开根号了，有些小遗憾。不过 wl 大师拿第一名特等奖也是实至名归了（$\mathbf{92}$ 分），等繁忙的期中考试后把题目（或许有时间的话解答）贴在后面。</p><p>新生数理基础大赛之旅还真不错，难得思考问题这么集中持久，感觉平常写代码 $\mbox{copy}$ 惯了，脑子没有之前高中竞赛那么灵活了，遇到j问题全靠搜索引擎。之后有机会还是多参加类似的比赛，也算是无聊大学生活中的愉悦体验吧。</p><p>麻了，微积分半期考试还没考过这个竞赛……</p><p><a href="https://lr-tsinghua11.github.io/pdf/NoneProfessionalMathmeticsContest.pdf">非数学组答案 pdf 版本</a></p>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>数理基础大赛</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数理基础大赛</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>A story of farming</title>
    <link href="/2022/03/27/%E7%94%9F%E6%B4%BB/%E7%A7%8D%E7%94%B0%E8%AE%B0/"/>
    <url>/2022/03/27/%E7%94%9F%E6%B4%BB/%E7%A7%8D%E7%94%B0%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<p>地点在北京市房山区庐西园，感觉书院还是有钱，包了两个大棚拿给未央书院和日新书院种地。</p><p>早上起来天气是真的好，太阳照着很暖和， $3$ 月初北京还倔强地下雪，现在总算是被春天逮到起了</p><p>基地入口和大棚外面的空旷田园，嗯，春天的气息</p><p><img src="https://pic.imgdb.cn/item/6249c599239250f7c5c8850e.jpg" style="zoom:33%;" /></p><p><img src="https://pic.imgdb.cn/item/6249c47f239250f7c5c5c882.jpg" style="zoom:33%;" /></p><p>有个小牧场，看到许多动物，鸡，狗，孔雀，鸵鸟，兔（白毛但眼睛周围的毛是黑色的是啥品种？），羊……</p><p><img src="https://pic.imgdb.cn/item/6249c624239250f7c5c9d26e.jpg" style="zoom:33%;" /></p><p>然后便化身<strong>喂（未）养（央）人</strong>：</p><p><img src="https://pic.imgdb.cn/item/6249c6a1239250f7c5cafac9.jpg" style="zoom:33%;" /></p><p>想不到吧，这里最吸引我们的还是<strong>童趣乐园</strong>，辅导员们和我们在这儿磨蹭了很久……</p><p><img src="https://pic.imgdb.cn/item/6249c75c239250f7c5cca41a.jpg" style="zoom:33%;" /></p><p><img src="https://pic.imgdb.cn/item/6249c7fd239250f7c5ce15cc.jpg" style="zoom:33%;" /></p><p>中午吃了一些干粮，还没耍够，一点钟准备种地，农场挂牌</p><p><img src="https://pic.imgdb.cn/item/6249c539239250f7c5c7a6e0.jpg" style="zoom:33%;" /></p><p>进去直接热炸了，汗水一层一层地从皮肤中冒出来，大中午种地确实难受，结果进去第一件事情就是均匀铲平这些牛粪，别看着轻松，没铲下去甩一下还真不知道这阻力有多大</p><p><img src="https://pic.imgdb.cn/item/6249c8a9239250f7c5cfa035.jpg" style="zoom:33%;" /></p>]]></content>
    
    
    <categories>
      
      <category>生活</category>
      
      <category>种田记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>种田记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>gdb to debug</title>
    <link href="/2022/03/18/%E7%BC%96%E7%A8%8B/gdb%E8%B0%83%E8%AF%95%E5%99%A8/"/>
    <url>/2022/03/18/%E7%BC%96%E7%A8%8B/gdb%E8%B0%83%E8%AF%95%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<p>先使用编译器生成可执行文件，注意使用 $-g$ 包含调试信息（保留变量名以及函数名方便调试）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">gcc -g main.c -o main<br>g++ -g main.cpp -o main<br></code></pre></td></tr></table></figure><p>然后使用 $gdb$ 工具进入到调试界面中</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">gdb main<br>……………………<br>(gbd) 待输入的命令<br></code></pre></td></tr></table></figure><p>监测单变量的变化（比如说 $tot[1]$ ）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">(gdb) watch tot[1]//输入监测点名称，watch 代表当 tot[1] 变化时报告<br>(gbd) awatch tot[1]//输入监测点名称，awatch 代表读取和写入 tot[1] 时都会报告<br>Hardware watchpoint 1: tot[1]//输出监测标记信息（可以添加多个监测点）<br>(gdb) run//或者简写 r，运行程序<br></code></pre></td></tr></table></figure><p>每次监测变量改变的时候就会停下来报告改变量，停下来后可以打印当前程序的中间值 <code>print tot[0]</code>（或者 <code>p tot[0]</code>）、单步运行程序 <code>tot[1] += 1</code>、继续运行程序 <code>continue</code>（或者 <code>c</code> ）修改对应变量的值 <code>set variable tot[1] = 1</code></p><p>将所有断点以及监视变量删除</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">(gdb) delete<br>Delete all breakpoints? (y or n) y<br></code></pre></td></tr></table></figure><p>查看代码操作</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">list//展示当前<br>list 5//展示以 5 为中心的代码<br>list 1,20//展示第 1 行到第 20 行的代码（最多展示 30 行代码）<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>shell</category>
      
    </categories>
    
    
    <tags>
      
      <tag>shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Advanced Algebra part of Homework</title>
    <link href="/2022/03/16/%E6%95%B0%E5%AD%A6/%E9%AB%98%E4%BB%A3%E9%80%89%E8%AE%B2%E9%83%A8%E5%88%86%E4%BD%9C%E4%B8%9A/"/>
    <url>/2022/03/16/%E6%95%B0%E5%AD%A6/%E9%AB%98%E4%BB%A3%E9%80%89%E8%AE%B2%E9%83%A8%E5%88%86%E4%BD%9C%E4%B8%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="large-textcolor-blue-mbox-Advanced-Algebra-small-mathbb-HW-mathrm-2-textcolor-blue-2022-3-16"><a href="#large-textcolor-blue-mbox-Advanced-Algebra-small-mathbb-HW-mathrm-2-textcolor-blue-2022-3-16" class="headerlink" title="$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbb{HW}\mathrm{2}}      _\textcolor{blue}{2022.3.16}$"></a>$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbb{HW}\mathrm{2}}      _\textcolor{blue}{2022.3.16}$</h1><h2 id="1-2-1-small-mbox-four-subspaces"><a href="#1-2-1-small-mbox-four-subspaces" class="headerlink" title="1.2.1$ \small  \mbox{four subspaces}$"></a>1.2.1$ \small  \mbox{four subspaces}$</h2><p> Prove or find counter examples.</p><ol><li>For four subspaces, if any three of them are linearly independent, then the four subspaces are linearly independent.</li><li>If subspaces $V_{1}, V_{2}$ are linearly independent, and $V_{1}, V_{3}, V_{4}$ are linearly independent, and $V_{2}, V_{3}, V_{4}$ are linearly independent, then all four subspaces are linearly independent.</li><li>If $V_{1}, V_{2}$ are linearly independent, and $V_{3}, V_{4}$ are linearly independent, and $V_{1}+V_{2}, V_{3}+V_{4}$ are linearly independent, then all four subspaces are linearly independent.</li></ol><hr><p>$(1)$ Construct four subspaces below. It is obvious that any three of them are linearly independent, but four subspaces together are linearly dependent. （$\dim \mathbb {R}^{3}=3$）</p><script type="math/tex; mode=display">V_1=\{\begin{bmatrix}k\\0\\0\end{bmatrix}\mid k\in \mathbb{R}\},V_2=\{\begin{bmatrix}0\\k\\0\end{bmatrix}\mid k\in \mathbb{R}\},V_3=\{\begin{bmatrix}0\\0\\k\end{bmatrix}\mid k\in \mathbb{R}\},V_4=\{\begin{bmatrix}k\\k\\k\end{bmatrix}\mid k\in \mathbb{R}\}</script><p>$(2)$ Construct four subspaces below. We can prove that each of  $V_1,V_2$ and $V_1,V_3,V_4$ and $V_2,V_3,V_4$ are linearly independent. </p><script type="math/tex; mode=display">V_1=\{\begin{bmatrix}k\\0\\0\end{bmatrix}\mid k\in \mathbb{R}\},V_2=\{\begin{bmatrix}0\\k\\0\end{bmatrix}\mid k\in \mathbb{R}\},V_3=\{\begin{bmatrix}k\\0\\k\end{bmatrix}\mid k\in \mathbb{R}\},V_4=\{\begin{bmatrix}0\\k\\k\end{bmatrix}\mid k\in \mathbb{R}\}</script><p>However, pick some special vectors from these subspaces and its linear combination are zero</p><script type="math/tex; mode=display">1\cdot \begin{bmatrix}1\\0\\0\end{bmatrix}+(-1)\cdot \begin{bmatrix}0\\1\\0\end{bmatrix}+(-1)\begin{bmatrix}1\\0\\1\end{bmatrix}+1\cdot \begin{bmatrix}0\\1\\1\end{bmatrix}=\vec{0}</script><p>$(3)$ Reduction to absurdity, assume that four real numbers that not all of them is zero</p><script type="math/tex; mode=display">a_1\vec{v}_1+a_2\vec{v}_2+a_3\vec{v}_3+a_4\vec{v}_4=0</script><p>We can proof that $a_1\vec{v}_1+a_2\vec{v}_2\neq 0$, otherwise according to the independence of $V_1,V_2$ and </p><p>$V_3,V_4$ $a_1=a_2=0,a_3=a_4=0$, so $a_1\vec{v}_1+a_2\vec{v}_2\neq 0,a_3\vec{v}_3+a_4\vec{v}_4\neq 0$</p><p>But $a_1\vec{v}_1+a_2\vec{v}_2\in V_1+V_2,a_3\vec{v}_3+a_4\vec{v}_4\in V_3+V_4$, so linear combination of $a_1\vec{v}_1+a_2\vec{v}_2$ and </p><p>$a_3\vec{v}_3+a_4\vec{v}_4$ can add up to $0$, which is contrary to the independence of $V_1+V_2.V_3+V_4$  </p><p>All in all, the four subspaces must be linearly independence</p><h2 id="1-2-2-small-mbox-decomposition-of-transpose"><a href="#1-2-2-small-mbox-decomposition-of-transpose" class="headerlink" title="1.2.2$ \small \mbox{decomposition of transpose}$"></a>1.2.2$ \small \mbox{decomposition of transpose}$</h2><p>Let $V$ be the space of $n \times n$ real matrices. Let $T: V \rightarrow V$ be the transpose operation, i.e., $T$ sends $A$ to $A^{\mathrm{T}}$ for each $A \in V$. Find a non-trivial $T$-invariant decomposition of $V$, and find the corresponding block form of $T$.<br>(Here we use real matrices for your convenience, but the statement is totally fine for complex matrices and conjugate transpose.)</p><hr><p>Set  $S=\{A\mid A=A^{T},A\in M_{n\times n}\}$, this decomposition is invariant. Because after transposing any symmetric matrix, the matrix remains itself. </p><p>Set $S’=\{A\mid A=-A^{T},A\in M_{n\times n}\}$, $A=-A^{T}\Longrightarrow A^{T}=-A=-(A^{T})^{T}$, so any antisymmetric matrix’s transpose is antisymmetric. </p><p>So decompose the linear map of  $T$ into $S$ and $S’$, $\dim S=\dfrac{n(n+1)}{2},\dim S’=\dfrac{n(n-1)}{2}$</p><p>Because any $n\times n$ matrix $B=\dfrac{B+B^{T}}{2}+\dfrac{B-B^{T}}{2}$ , so transpose $T$ can be decomposed </p><p>into $S$ and $S’$ two block form. </p><p>$A\to \begin{pmatrix}\frac{A+A^{T}}{2}&amp;0\\0&amp;\frac{A-A^{T}}{2}\end{pmatrix}$ so the corresponding block form of $T$ is $\begin{pmatrix}I&amp;0\\0&amp;-I\end{pmatrix}$</p><h2 id="1-2-3-small-mbox-ultimate-subspaces"><a href="#1-2-3-small-mbox-ultimate-subspaces" class="headerlink" title="1.2.3$ \small \mbox{ultimate subspaces }$"></a>1.2.3$ \small \mbox{ultimate subspaces }$</h2><p>Let $p(x)$ be any polynomial, and define $p(A)$ in the obvious manner. E.g., if $p(x)=$ $x^{2}+2 x+3$, then $p(A)=A^{2}+2 A+3 I$. We fix some $n \times n$ matrix $A$.</p><ol><li>If $A B=B A$, show that $\operatorname{Ker}(B), \operatorname{Ran}(B)$ are both $A$-invariant subspaces.</li><li>Prove that $A p(A)=p(A) A$.</li><li>Conclude that $N_{\infty}(A-\lambda I), R_{\infty}(A-\lambda I)$ are both $A$-invariant for any $\lambda \in \mathbb{C}$.</li></ol><hr><p>$(1)$ For any vector $\vec{v}\in \mbox{Ker}(B),B\vec{v}=\vec{0}$, so $B(A\vec{v})=BA\vec{v}=AB\vec{v}=0,A\vec{v}\in \mbox{Ker}(B)$</p><p>And for any vector $\vec{v}\in \mbox{Ran}(B),B\vec{x}=\vec{v}$, so $A\vec{v}=A(B\vec{v})=AB\vec{v}=BA\vec{v}=B(A\vec{v})$</p><p>$A\vec{v}\in \mbox{Ran}(B)$. So $\mbox{Ker}(B)$ and $\mbox{Ran}(B)$ are both $A-$invariant subspaces</p><p>$(2)$ Similar to polynomial, set $p(A)=\displaystyle \sum_{i=0}^{n}a_{i}A^{n}$, so calculate $Ap(A)$  </p><script type="math/tex; mode=display">Ap(A)=A\displaystyle \sum_{i=0}^{n}a_iA^{n}=\sum_{i=0}^{n}a_{i}A^{n+1}=(\sum_{i=0}^{n}a_{i}A^{n})A=p(A)A</script><p>$(3)$ Due to limited dimension $n$ of $A$, $N_{\infty}(A-\lambda I)$ and $R_{\infty}(A-\lambda I)$ are limited combinations </p><p>of $\mbox{Ker}(A-\lambda I)^{k}$ and $\mbox{Ran}(A-\lambda I)^{k}$ . According to the conclusion from $\small (1)$ and $\small (2) $ </p><p>$A(A-\lambda I)=(A-\lambda I)A,A(A-\lambda I)^2=(A-\lambda I)^2A,\cdots ,A(A-\lambda I)^k=(A-\lambda I)^kA$</p><p>so $\forall  k\in Z$ , $\mbox{Ker}(A-\lambda I)^{k}$ and $\mbox{Ran}(A-\lambda I)^{k}$ are all $A-$invariant. Add them all together </p><p>So, $N_{\infty}(A-\lambda I), R_{\infty}(A-\lambda I)$ are both $A$-invariant for any $\lambda \in \mathbb{C}$.</p><h2 id="1-2-4-small-mbox-interchangeability-and-common-eigenvector"><a href="#1-2-4-small-mbox-interchangeability-and-common-eigenvector" class="headerlink" title="1.2.4$ \small \mbox{interchangeability and common eigenvector}$"></a>1.2.4$ \small \mbox{interchangeability and common eigenvector}$</h2><p>Note that any linear map must have at least one eigenvector. (You may try to prove this yourself, but it is not part of this homework.) You may use this fact freely in this problem.<br>Fix any two $n \times n$ square matrices $A, B$. Suppose $A B=B A$.</p><ol><li>If $W$ is an A-invariant subspace, show that $A$ has an eigenvector in $W$.</li><li>Show that $\operatorname{Ker}(A-\lambda I)$ is always $B$-invariant for all $\lambda \in \mathbb{C}$. (Hint: Last problem.)</li><li>Show that $A, B$ has a common eigenvector. (Hint: Last two sub-problem.)</li></ol><hr><p>$(1)$ Construct a new linear map from $W$ to $W$</p><script type="math/tex; mode=display">W\longmapsto  W: \vec{w}\longmapsto A\vec{w}</script><p>According to the fact that any linear map must have at least one eigenvector, A has an eigenvector in $W$</p><p>$(2)$ For any vector $\vec{v}$ from $\mbox{Ker}(A-\lambda I)$, $(A-\lambda I)\vec{v}=0,A\vec{v}=\lambda\vec{v}$, use $AB=BA$</p><p>Because  $(A-\lambda I)(B\vec{v})=(AB-\lambda B)\vec{v}=(BA-\lambda B)\vec{v}=B(A-\lambda I)\vec{v}=0$</p><p> So $\mbox{Ker}(A-\lambda I)$ is $B-$invariant for all $\lambda \in \mathbb{C}$</p><p>$(3)$ According to $\small (1)$ and $\small (2)$, there exists at least one eigenvector $\vec{v}$ in $\mbox{Ker}(A-\lambda I)$ that </p><p>$B\vec{v}=\lambda_{B}\vec{v}$ And the vector $\vec{v}$ also satisfies that $A\vec{v}=\lambda_{A}\vec{v}$</p><p>So if $A$ and $B$ are interchangeable, they must have common eigenvector. </p><h1 id="large-textcolor-blue-mbox-Advanced-Algebra-small-mathbb-HW-mathrm-3-textcolor-blue-2022-3-24"><a href="#large-textcolor-blue-mbox-Advanced-Algebra-small-mathbb-HW-mathrm-3-textcolor-blue-2022-3-24" class="headerlink" title="$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbb{HW}\mathrm{3}}      _\textcolor{blue}{2022.3.24}$"></a>$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbb{HW}\mathrm{3}}      _\textcolor{blue}{2022.3.24}$</h1><h2 id="1-3-1-small-mbox-jordan-normal-form"><a href="#1-3-1-small-mbox-jordan-normal-form" class="headerlink" title="1.3.1$ \small  \mbox{jordan normal form}$"></a>1.3.1$ \small  \mbox{jordan normal form}$</h2><p>Find a basis in the following vector space so that the linear map involved will be in Jordan normal form. Also find the Jordan normal form.</p><ol><li>$V=\mathbb{C}^{2}$ is a real vector space, and $A: V \rightarrow V$ that sends $\left[\begin{array}{l}x \ y\end{array}\right]$ to $\left[\begin{array}{c}\bar{x}-\Re(y) \ (1+i) \Im(x)-y\end{array}\right]$ is a real linear map. (Here $\bar{x}$ means the complex conjugate of a complex number $x$, and $\Re(x), \Im(x)$ means the real part and the imaginary part of a complex number $x .)$</li><li>$V=P_{4}$, the real vector space space of all real polynomials of degree at most 4. And $A: V \rightarrow V$ is a linear map such that $A(p(x))=p^{\prime}(x)+p(0)+p^{\prime}(0) x^{2}$ for each polynomial $p \in P_{4}$.</li><li>$A=\left[\begin{array}{llll} &amp; &amp; &amp; a_{1} \ &amp; &amp; a_{2} &amp; \ &amp; a_{3} &amp; &amp; \ a_{4} &amp; &amp; &amp; \end{array}\right]$. Be careful here. Maybe we have many possibilities for its Jordan normal form depending on the values of $a_{1}, a_{2}, a_{3}, a_{4}$.</li></ol><hr><p>$(1)$ $A_1=\begin{pmatrix}1&amp;0&amp;-1&amp;0\\0&amp;-1&amp;0&amp;0\\0&amp;1&amp;-1&amp;0\\0&amp;1&amp;0&amp;-1\end{pmatrix}=\begin{pmatrix}1&amp;2&amp;1&amp;0\\0&amp;0&amp;4&amp;0\\0&amp;4&amp;0&amp;0\\0&amp;4&amp;0&amp;1\end{pmatrix}\begin{pmatrix}1&amp;0&amp;0&amp;0\\0&amp;-1&amp;1&amp;0\\0&amp;0&amp;-1&amp;0\\0&amp;0&amp;0&amp;-1\end{pmatrix}\begin{pmatrix}1&amp;2&amp;1&amp;0\\0&amp;0&amp;4&amp;0\\0&amp;4&amp;0&amp;0\\0&amp;4&amp;0&amp;1\end{pmatrix}^{-1}$</p><p>$(2)$ $A:a_0+a_1x+a_2x^2+a_3x^3+a_4x^4\longmapsto(a_0+a_1)+2a_2x+(a_1+2a_3)x^2+4a_4x^3$</p><script type="math/tex; mode=display">\begin{gathered}\begin{pmatrix}1&1&0&0&0\\0&0&2&0&0\\0&1&0&3&0\\0&0&0&0&4\\0&0&0&0&0\end{pmatrix}=J\begin{pmatrix}1&0&0&0&0\\0&\sqrt{2}&0&0&0\\0&0&-\sqrt{2}&0&0\\0&0&0&0&1\\0&0&0&0&0\end{pmatrix}J^{-1}\\J=\begin{pmatrix}1&\sqrt{2}+1&1-\sqrt{2}&12&12\\0&1&1&-12&0\\0&\dfrac{\sqrt{2}}{2}&-\dfrac{\sqrt{2}}{2}&0&-6\\0&0&0&4&0\\0&0&0&0&1\end{pmatrix}\end{gathered}</script><p>$(3)$</p><script type="math/tex; mode=display">J=\begin{pmatrix}J_{1,4}&O\\O&J_{2,3}\end{pmatrix},\mbox{where }J_{i,j}=\begin{cases}\begin{pmatrix}\sqrt{a_ia_j}&0\\0&-\sqrt{a_ia_j}\end{pmatrix}&a_i\neq 0,a_j\neq 0\\\begin{pmatrix}0&0\\0&0\end{pmatrix}&a_i= 0,a_j\neq 0\mbox{ or }a_i\neq 0,a_j=0 \\\begin{pmatrix}0&1\\0&0\end{pmatrix}&a_i=a_j=0\\\end{cases}</script><h2 id="1-3-2-small-mbox-partitions-of-interger"><a href="#1-3-2-small-mbox-partitions-of-interger" class="headerlink" title="1.3.2$ \small \mbox{partitions of interger}$"></a>1.3.2$ \small \mbox{partitions of interger}$</h2><p>A partition of integer $n$ is a way to write $n$ as a sum of other positive integers, say $5=2+2+1$. If you always order the summands from large to small, you end up with a dot diagram, where each column represent an integer: $\left[\begin{array}{ll}\cdot &amp; \cdot \ \cdot &amp; \cdot \ \cdot\end{array}\right]$. Similarly, $7=4+2+1$ should be represented as $\left[\begin{array}{lll}<br>\cdot &amp; \cdot &amp; \cdot \\<br>\cdot &amp; \cdot &amp; \\<br>\cdot &amp; &amp; \\<br>\cdot &amp; &amp;<br>\end{array}\right]$</p><ol><li>If the Jordan normal form of an $n \times n$ nilpotent matrix $A$ is diag $\left(J_{a_{1}}, J_{a_{2}}, \ldots, J_{a_{k}}\right)$, then we have a partition of integer $n=a_{1}+\ldots+a_{k}$. However, we also have a partition of integer $n=\small [\operatorname{dim} \operatorname{Ker}(A)]+\left[\operatorname{dim} \operatorname{Ker}\left(A^{2}\right)-\operatorname{dim} \operatorname{Ker}(A)\right]+\left[\operatorname{dim} \operatorname{Ker}\left(A^{3}\right)-\operatorname{dim} \operatorname{Ker}\left(A^{2}\right)\right]+\ldots$ where we treat the content of each bracket as a positive integer. Can you find a relation between the two dot diagrams?</li><li><p>A partition of integer $n=a_{1}+\ldots+a_{k}$ is called self-conjugate if, for the matrix $A=\operatorname{diag}\left(J_{a_{1}}, J_{a_{2}}, \ldots, J_{a_{k}}\right)$, the two dot diagrams you obtained above are the same. Show that, for a fixed integer n, the number of self-conjugate partition of $n$ is equal to the number of partition of $n$ into distinct odd positive integers. (Hint: For a self-conjugate dot diagram, count the total number of dots that are either in the first column or in the first row or in both. Is this always odd?)</p></li><li><p>Suppose a 4 by 4 matrix $A$ is nilpotent and upper trianguler, and all $(i, j)$ entries for $i&lt;j$ are chosen randomly and uniformly in the interval $[-1,1]$. What are the probabilities that its Jordan canonical form corresponds to the partitions $4=4,4=3+1,4=2+2,4=2+1+1,4=1+1+1+1$ ?</p></li></ol><hr><p>$(1)$ I can find that the sequence of each bracket’ number is not incremental, which is just like the dot graph. Put $\small [\operatorname{dim} \operatorname{Ker}(A)],\left[\operatorname{dim} \operatorname{Ker}\left(A^{2}\right)-\operatorname{dim} \operatorname{Ker}(A)\right],\left[\operatorname{dim} \operatorname{Ker}\left(A^{3}\right)-\operatorname{dim} \operatorname{Ker}\left(A^{2}\right)\right],\ldots$ like the dot graph. According to the ‘killing chain’, the number of each row’s dots of the dot graph is just $a_1,a_2,a_3,\ldots$ </p><p>$(2)$ The self-conjugate of the partition is just like a flying wing. Like this $\left[\begin{array}{lll}<br>\cdot &amp; \cdot &amp; \cdot &amp; \cdot&amp;\cdot &amp;\cdot \\<br>\cdot &amp; \cdot &amp; \cdot &amp; \cdot&amp;\cdot \\<br>\cdot &amp;\cdot &amp;\cdot  &amp; \\\cdot &amp;\cdot  &amp;\\<br>\cdot &amp;\cdot  &amp;\\\cdot \end{array}\right]$</p><p>If rudely call this as a matrix $A$, because of the condition, we have $A=A^{T}$.</p><p>Consider the outermost corner, the total number of the dots is $n+n-1=2n-1\in \mbox{odd}$</p><p>And deprive each corner, the newest outermost corner also satisfies the odd condition. </p><p>So every self-conjugate can be correspondence to odd-partition. And for each odd-partition, we can construct the matrix one corner by one corner. </p><p>In conclusion, the two numbers are the same. </p><p>$(3)$ $A$ is nilpotent and its dimension is $4$, so $A^{4}=O$. Consider the diagonal elements. </p><p>$A^4(i,i)=(A(i,i))^4=0$, so $A$ is like $A=\begin{pmatrix}0&amp;\mbox{ran}&amp;\mbox{ran}&amp;\mbox{ran}\\0&amp;0&amp;\mbox{ran}&amp;\mbox{ran}\\0&amp;0&amp;0&amp;\mbox{ran}\\0&amp;0&amp;0&amp;0\end{pmatrix}$. It is obvious that all the </p><p>eigenvalues are $0$. Consider $\mbox{Ker}(A),\mbox{Ker}(A^2),\mbox{Ker}(A^3),\mbox{Ke}(A^4)$, dimension of each is nearly </p><p>$1,2,3,4$ , since each $\mbox{ran}$ is randomly chosen from $[-1,1]$. The probability $4=1+1+1+1$</p><p>is $1$, others are $0$.</p><h1 id="large-textcolor-blue-mbox-Advanced-Algebra-small-mathbb-HW-mathrm-6-textcolor-blue-2022-4-29"><a href="#large-textcolor-blue-mbox-Advanced-Algebra-small-mathbb-HW-mathrm-6-textcolor-blue-2022-4-29" class="headerlink" title="$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbb{HW}\mathrm{6}}      _\textcolor{blue}{2022.4.29}$"></a>$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbb{HW}\mathrm{6}}      _\textcolor{blue}{2022.4.29}$</h1><h2 id="1-6-1-small-mbox-Vandermode-matrix"><a href="#1-6-1-small-mbox-Vandermode-matrix" class="headerlink" title="1.6.1$ \small  \mbox{Vandermode matrix}$"></a>1.6.1$ \small  \mbox{Vandermode matrix}$</h2><p>Let $V$ be the space of real polynomials of degree less than $n$. So $\operatorname{dim} V=n$. Then for each $a \in \mathbb{R}$, the evaluation $\mathrm{ev}_{a}$ is a dual vector.</p><p>For any real numbers $a_{1}, \ldots, a_{n} \in \mathbb{R}$, consider the map $L: V \rightarrow \mathbb{R}^{n}$ such that $L(p)=\left[\begin{array}{c}p\left(a_{1}\right) \ \vdots \ p\left(a_{n}\right)\end{array}\right]$.</p><ol><li>Write out the matrix for $L$ under the basis $1, x, \ldots, x^{n-1}$ for $V$ and the standard basis for $\mathbb{R}^{n}$. (Do you know the name for this matrix?)</li><li>Prove that $L$ is invertible if and only if $a_{1}, \ldots, a_{n}$ are distinct. (If you can name the matrix $L$, then you may use its determinant formula without proof.)</li><li>Show that $\mathrm{ev}_{a_{1}}, \ldots, \mathrm{ev}_{a_{n}}$ form a basis for $V^{*}$ if and only if all $a_{1}, \ldots, a_{n}$ are distinct.</li><li>Set $n=3$. Find polynomials $p_{1}, p_{2}, p_{3}$ such that $p_{i}(j)=\delta_{i j}$ for $i, j \in\{-1,0,1\}$.</li><li>Set $n=4$, and consider $\mathrm{ev}_{-2}, \mathrm{ev}_{-1}, \mathrm{ev}_{0}, \mathrm{ev}_{1}, \mathrm{ev}_{2} \in V^{<em>}$. Since $\operatorname{dim} V^{</em>}=4$, these must be linearly dependent. Find a non-trivial linear combination of these which is zero.</li></ol><hr><p>$(1)$ $L=\left[\begin{array}{cccc}<br>1 &amp; a_{1} &amp; \cdots &amp; a_{1}^{n-1} \\<br>1 &amp; a_{2} &amp; \cdots &amp; a_{2}^{n-1} \\<br>\vdots &amp; &amp; &amp; \vdots \\<br>1 &amp; a_{n} &amp; \cdots &amp; a_{n}^{n-1}<br>\end{array}\right]$<strong>Vandermode matrix</strong> </p><p>Calculate its inverse and we can get standard basis using Lagrange interpolation.</p><script type="math/tex; mode=display">\left(\begin{array}{cccc}1 & a_{1} & \cdots & a_{1}^{n-1} \\1 & a_{2} & \cdots & a_{2}^{n-1} \\\vdots & & & \vdots \\1 & a_{n} & \cdots & a_{n}^{n-1}\end{array}\right)\left(\begin{array}{c}x_{0} \\ x_{1} \\ x_{2} \\ \vdots \\ x_{n-1}\end{array}\right)=\left(\begin{array}{c}y_{0} \\ y_{1} \\ y_{2} \\ \vdots \\ y_{n-1}\end{array}\right)\\\left(\begin{array}{cccc}1 & a_{1} & \cdots & a_{1}^{n-1} \\1 & a_{2} & \cdots & a_{2}^{n-1} \\\vdots & & & \vdots \\1 & a_{n} & \cdots & a_{n}^{n-1}\end{array}\right)^{-1}\left(\begin{array}{c}y_{0} \\ y_{1} \\ y_{2} \\ \vdots \\ y_{n-1}\end{array}\right)=\left(\begin{array}{c}x_{0} \\ x_{1} \\ x_{2} \\ \vdots \\ x_{n-1}\end{array}\right)</script><p>Construct polynomial $f(a)=\displaystyle \sum_{i}y_i \prod_{j \neq i} \frac{a-a_{j}}{a_{i}-a_{j}}$ So $f(a_i)=x_i$</p><p>So $\left(V^{-1}\right)_{i j}$ is the coefficient of  $\displaystyle \prod_{k \neq i} \frac{a-a_{k}}{a_{i}-a_{k}}$ at $x^{j-1}$ , which is $\displaystyle\left(V^{-1}\right)_{i j}=\left[x^{j-1}\right] \prod_{k \neq i} \frac{a-a_{k}}{a_{i}-a_{k}}$</p><script type="math/tex; mode=display">\left(V^{-1}\right)_{i j}=(-1)^{j+1} \frac{\displaystyle \sum_{0 \leq p_{1}<\cdots<p_{n-\zeta} ; p_{1}, p_{2}, \cdots p_{n-j} \neq i} x_{p_{1}} x_{p_{2}} \cdots x_{p_{n-j}}}{\displaystyle \prod_{0 \leq k<n ; k \neq i}\left(x_{k}-x_{i}\right)}</script><p>The column of the $(V^{-1})$ is the standard basis of $V$</p><p>$(2)$ $\det L=\displaystyle \prod_{1\leq i\leq j\leq n }(a_i-a_j)\neq 0\Longleftrightarrow a_i\neq a_j$</p><p>$(3)$ $e v_{a_{1}}, \cdots, ev_{a_n}$ form a basis for $V^{*} \Longleftrightarrow e v_{a_{1}}, e v_{a_{2}}, \cdots, ev_{a_n}$, evan are linearly indepenctent.</p><p>The matrix $\left(\begin{array}{c}e v_{a_{1}} \ e v_{a_{2}} \ \vdots \ e v_{a_{n}}\end{array}\right)$ is invertible, which means $L$ is invertible. According to $\small(2)$, $a_i$ are distinct.</p><p>$(4)$ Pick original basis $\{1,x,x^2\}$ So $\alpha_{1}=(1,-1,1) \quad \alpha_{2}=(1,0,0) \quad \alpha_{3}=(1,1,1)$</p><script type="math/tex; mode=display">A=\left(\begin{array}{l}\alpha_{1} \\ \alpha_{2} \\ \alpha_{3}\end{array}\right)=\left(\begin{array}{ccc}1 & -1 & 1 \\ 1 & 0 & 0 \\ 1 & 1 & 1\end{array}\right) \quad A^{-1}=\left(\begin{array}{ccc}0 & 1 & 0 \\ -\frac{1}{2} & 0 & \frac{1}{2} \\ \frac{1}{2} & -1 & \frac{1}{2}\end{array}\right)</script><p>So $p_{1}=-\dfrac{1}{2} x+\dfrac{1}{2} x^{2} \quad p_{2}=1-x^{2} \quad p_{3}=\dfrac{1}{2} x+\dfrac{1}{2} x^{2}$</p><p>$(5)$ Set $p(x)=ax^3+bx^2+cx+d$ and <script type="math/tex">m e v_{-2}+n e v_{-1}+p e v_{0}+q e v_{1}+r e v_{2}=0</script></p><script type="math/tex; mode=display">\begin{gathered}e v_{-2}=-8 a+4 b-2 c+d \quad e v_{-1}=-a+b-c+d \quad e v_{0}=d\\ \quad e v_{1}=a+b+c+d \quad e v_{2}=8 a+4 b+2 c+d\\\left(\begin{array}{ccccc}-8 & -1 & 0 & 1 & 8 \\ 4 & 1 & 0 & 1 & 4 \\ -2 & -1 & 0 & 1 & 2 \\ 1 & 1 & 1 & 1 &1\end{array}\right)\left(\begin{array}{l}m \\ n \\ p \\ q \\ r\end{array}\right)=\boldsymbol 0\end{gathered}</script><p>Solve that $e v_{-2}-4 e v_{-1}+6 e v_{0}-4 e v_{1}+e v_{2}=0$</p><h2 id="1-6-2-small-mbox-dual-vector-in-polynomials"><a href="#1-6-2-small-mbox-dual-vector-in-polynomials" class="headerlink" title="1.6.2$ \small  \mbox{dual vector in polynomials}$"></a>1.6.2$ \small  \mbox{dual vector in polynomials}$</h2><p>Let $V$ be the space of real polynomials of degree less than $3$. Which of the following is a dual vector? Prove it or show why not.</p><ol><li>$p \mapsto \operatorname{ev}_{5}((x+1) p(x))$.</li><li>$p \mapsto \lim _{x \rightarrow \infty} \dfrac{p(x)}{x}$.</li><li>$p \mapsto \lim _{x \rightarrow \infty} \dfrac{p(x)}{x^{2}}$.</li><li>$p \mapsto p(3) p^{\prime}(4)$.</li><li>$p \mapsto \operatorname{deg}(p)$, the degree of the polynomial $p$.</li></ol><hr><p>$(1)$ Yes.  $①  e_{s}((x+1) p(x))=6 p(5)$.  that is the map from $V$ to $\mathbb{R}$.  $②$ For $\forall  p, q \in V$ and </p><p>$\forall m, n \in \mathbb{R}, L(m p+n q)=6 m p(5)+6 n p(5)=m L(p)+n L(q)$, so its bilinear.</p><p>$(2)$ No. Sometimes the limit doeen’t exist when $\mbox{deg}(p)\geq 2$ </p><p>$(3)$ Yes. This vector is just a ‘taking the coefficient of $x^2$’, which is bilinear. </p><p>$(4)$ No. For instance, $p(x)=x^{2}+2, q(x)=-2 x, \quad L(p)=11 \times 8=88 \quad L(q)=12$</p><p>$L(p+q)=5 \times 6=30 . \quad L(p+q) \neq L(p)+L(q)$. So it’s not a dual vector.</p><p>$(5)$ No. For instance, $p(x)=x^{2}+x, q(x)=-x^{2}+1, L(p)=\operatorname{deg}(p)=2, L(q)=\operatorname{deg}(q)=2$</p><p>$L(p+q)=\operatorname{deg}(x+1)=1 . L(p)+L(q) \neq L(p+q)$. So it’s not a clual vector</p><h2 id="1-6-3-small-mbox-directional-derivative"><a href="#1-6-3-small-mbox-directional-derivative" class="headerlink" title="1.6.3$ \small  \mbox{directional derivative}$"></a>1.6.3$ \small  \mbox{directional derivative}$</h2><p>Fix a differentiable function $f: \mathbb{R}^{2} \rightarrow \mathbb{R}$, and fix a point $\boldsymbol{p} \in \mathbb{R}^{2}$. For any vector $\boldsymbol{v} \in \mathbb{R}^{2}$, then the directional derivative of $f$ at $\boldsymbol{p}$ in the direction of $\boldsymbol{v}$ is defined as $\nabla_{\boldsymbol{v}} f:=\lim _{t \rightarrow 0} \dfrac{f(\boldsymbol{p}+t \boldsymbol{v})-f(\boldsymbol{p})}{t} . S \mathrm{Show}$ that the map $\nabla f: \boldsymbol{v} \mapsto \nabla_{\boldsymbol{v}}(f)$ is a dual vector in $\left(\mathbb{R}^{2}\right)^{*}$, i.e., a row vector. Also, what are its “coordinates” under the standard dual basis?<br>(Remark: In calculus, we write $\nabla f$ as a column vector for historical reasons. By all means, from a mathematical perspective, the correct way to write $\nabla f$ is to write it as a row vector, as illlustrated in this problem. (But don’t annoy your calculus teachers though…. In your calculus class, you use whatever notation your calculus teacher told you.)<br>(Extra Remark: If we use row vector, then the evaluation of $\nabla f$ at $\boldsymbol{v}$ is purely linear, and no inner product structure is needed, which is sweet. But if we HAVE TO write $\nabla f$ as a column vector (for historical reason), then we would have to do a dot product between $\nabla f$ and $\boldsymbol{v}$, which now requires an inner product structure. That is an unnecessary dependence on an extra structure that actually should have no influence.)</p><hr><p>Set $\vec{v}=\begin{pmatrix}a\\b\end{pmatrix}$, since the function $f$ is differentiable,  $\nabla_{\vec{v}} f=\dfrac{\partial f(\vec{v})}{\partial x} \cdot \dfrac{a}{\sqrt{a^{2}+b^{2}}}+\dfrac{\partial f(\vec{v})}{\partial y} \dfrac{b}{\sqrt{a^{2}+b}}$</p><p>So the map $\nabla f$ is a map from $\left(\mathbb{R}^{2}\right)^{*}$ to $\mathbb{R}$.And for $\forall$ diffential functions $f, g, \forall m, n \in \mathbb{R}$, we have:</p><script type="math/tex; mode=display">\begin{aligned}\nabla_{\vec{v}}(m f+n g) &=\frac{\partial[m f(\vec{v})+n g(\vec{v})]}{\partial x} \cdot \frac{a}{\sqrt{a^{2}+b^{2}}}+\frac{\partial[m f(\vec{v})+n g(\vec{v})]}{\partial y} \cdot \frac{b}{\sqrt{a^{2}+b^{2}}} \\&=m \nabla_{\vec{v}} f+n \nabla_{\vec{v}} g\end{aligned}</script><p>So the map $\nabla f$ is bilinear, i.e, is a dual vector in $\left(\mathbb{R}^{2}\right)^{*}$.</p><p>Since $x$-axis and $y$-axis are perpendicular, the standard dual basis is $\dfrac{\partial f}{\partial x}$ and $\dfrac{\partial f}{\partial y} .$<br>And the coordinates are $\dfrac{\vec{v} \cdot \hat{x}}{|\vec{v}|}$ and $\dfrac{\vec{v} \cdot \hat{y}}{|\vec{v}|}$</p><h2 id="1-6-4-small-mbox-‘Big-map’-for-L"><a href="#1-6-4-small-mbox-‘Big-map’-for-L" class="headerlink" title="1.6.4$ \small  \mbox{‘Big map’ for $L$}$"></a>1.6.4$ \small  \mbox{‘Big map’ for $L$}$</h2><p>Consider a linear map $L: V \rightarrow W$ and its dual map $L^{<em>}: W^{</em>} \rightarrow V^{*}$. Prove the following.</p><ol><li>$\operatorname{Ker}\left(L^{<em>}\right)$ is exactly the collection of dual vectors in $W^{</em>}$ that kills $\operatorname{Ran}(L)$.</li><li>$\operatorname{Ran}\left(L^{<em>}\right)$ is exactly the collection of dual vectors in $V^{</em>}$ that kills $\operatorname{Ker}(L)$.</li></ol><hr><p>$(1)$ First, all the elements in $\ker(L^<em>)\in W^{</em>}$, so just prove $\forall  \vec{v}\in \ker(L^*),\vec{\omega}\in \mbox{Ran}(L),\vec{v}^{T}\cdot \vec{\omega}=0$</p><p>$L^{<em>}\vec{v}=0,L^{</em>}\vec{v}\cdot\vec{x}=0=\vec{v}^{T}(L\vec{x})$, set $L\vec{x}=\vec{\omega}$ So $\vec{v}^{T}\cdot \vec{\omega}=\langle \vec{v},\vec{\omega}\rangle=0$</p><p>$(2)$ First, all the elements in $\mbox{Ran}(L^{<em>})\in V^{</em>}$ ,so just prove $\forall  \vec{v}\in \mbox{Ran}(L^*),\vec{\omega}\in \mbox{Ker}(L),\vec{v}^{T}\cdot \vec{\omega}=0$</p><p>$L\vec{\omega}=0,L\vec{\omega}\cdot\vec{x}=0=\vec{\omega}^{T}(L^{<em>}\vec{x})$, set $L^{</em>}\vec{x}=\vec{v}$, So $\vec{\omega}^{T}\cdot \vec{v}=\langle \vec{\omega},\vec{v}\rangle=0$</p><h1 id="large-textcolor-blue-mbox-Advanced-Algebra-small-mathbb-HW-mathrm-7-textcolor-blue-2022-5-3"><a href="#large-textcolor-blue-mbox-Advanced-Algebra-small-mathbb-HW-mathrm-7-textcolor-blue-2022-5-3" class="headerlink" title="$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbb{HW}\mathrm{7}}      _\textcolor{blue}{2022.5.3}$"></a>$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbb{HW}\mathrm{7}}      _\textcolor{blue}{2022.5.3}$</h1><h2 id="1-7-1-small-mbox-bra-map-and-Riesz-map"><a href="#1-7-1-small-mbox-bra-map-and-Riesz-map" class="headerlink" title="1.7.1$ \small  \mbox{bra map and Riesz map}$"></a>1.7.1$ \small  \mbox{bra map and Riesz map}$</h2><p>On the space $\mathbb{R}^{n}$, we fix a symmetric positive-definite matrix $A$, and define $(\boldsymbol{v}, \boldsymbol{w})=\boldsymbol{v}^{\mathrm{T}}A\boldsymbol{w}$</p><ol><li>Show that this is an inner product.</li><li>The Riesz map (inverse of the bra map) from $V^{*}$ to $V$ would send a row vector $\boldsymbol{v}^{\mathrm{T}}$ to what?</li><li>The bra map from $V$ to $V^{*}$ would send a vector $\boldsymbol{v}$ to what?</li><li>The dual of the Riesz map from $V^{*}$ to $V$ would send a row vector $\boldsymbol{v}^{\mathrm{T}}$ to what?</li></ol><hr><p>$(1)$ Easy to prove.</p><p>$(2)$ The bra map means $\forall  \langle \boldsymbol{v}|\in \mathcal{B},s.t.\langle \boldsymbol{v}|:\boldsymbol{\omega\longmapsto}\langle\boldsymbol{v},\boldsymbol{\omega}\rangle=\boldsymbol{v}^{\mathrm{T}}A\boldsymbol{w}$ So the inverse of $\langle \boldsymbol{v}|$ is make $\boldsymbol{v}^{\mathrm{T}}A$ </p><p>to $\boldsymbol {v}$, which is from $V^{*}$ to $V$. Set $\boldsymbol{u}=\boldsymbol {v}^{T}A$, so $\boldsymbol{v}^{T}=\boldsymbol{u}A^{-1}$ then transpose it we can get $\boldsymbol{v}=(A^{-1})^{T}\boldsymbol{u^{T}}$</p><p>So if the input is $\boldsymbol{v}^{T}\in V^{*}$, the output is $(A^{-1})^{T}(\boldsymbol v^{T})^{T}=(A^{-1})^{T}\boldsymbol{v}\in     V$</p><p>$(3)$ Obviously, it sends $\boldsymbol{v}$ to $\boldsymbol{v}^{T}A$</p><p>$(4)$ I guess the result is the same with $\small(2)$, which sends $\boldsymbol {v}^{T}$ to $(A^{-1})^{T}\boldsymbol{v}$</p><h2 id="1-7-2-small-mbox-What-is-a-derivative"><a href="#1-7-2-small-mbox-What-is-a-derivative" class="headerlink" title="1.7.2$ \small  \mbox{What is a derivative}$"></a>1.7.2$ \small  \mbox{What is a derivative}$</h2><p>The discussions in this problem holds for all manifolds $M$. But for simplicities sake, suppose $M=\mathbb{R}^{3}$ for this problem.</p><p>Let $V$ be the space of all analytic functions from $M$ to $\mathbb{R}$. Here analytic means $f(x, y, z)$ is a infinite polynomial series (its Taylor expansion) with variables $x, y, z$. Approximately $f(x, y, z)=a_{0}+a_{1} x+a_{2} y+$ $a_{3} z+a_{4} x^{2}+a_{5} x y+a_{6} x z+a_{7} y^{2}+\ldots$, and things should converge always.</p><p>Then a dual vector $v \in V^{*}$ is said to be a “derivation at $\boldsymbol{p} \in M^{\prime \prime}$ if it satisfy the following Leibniz rule (or product rule):</p><script type="math/tex; mode=display">v(f g)=f(\boldsymbol{p}) v(g)+g(\boldsymbol{p}) v(f) .</script><p>(Note the similarity with your traditional product rule $(f g)^{\prime}(x)=f(x) g^{\prime}(x)+g(x) f^{\prime}(x)$.)<br>Prove the following:</p><ol><li>Constant functions in $V$ must be sent to zero by all derivations at any point.</li><li>Let $x, y, z \in V$ be the coordinate function. Suppose $\boldsymbol{p}=\left[\begin{array}{l}p_{1} \ p_{2} \ p_{3}\end{array}\right]$, then for any derivation $v$ at $\boldsymbol{p}$, then we have $v\left(\left(x-p_{1}\right) f\right)=f(\boldsymbol{p}) v(x), v\left(\left(y-p_{2}\right) f\right)=f(\boldsymbol{p}) v(y)$ and $v\left(\left(z-p_{3}\right) f\right)=f(\boldsymbol{p}) v(z)$.</li><li>Let $x, y, z \in V$ be the coordinate function. Suppose $\boldsymbol{p}=\left[\begin{array}{l}p_{1} \ p_{2} \ p_{3}\end{array}\right]$, then for any derivation $v$ at $\boldsymbol{p}$, then we have $v\left(\left(x-p_{1}\right)^{a}\left(y-p_{2}\right)^{b}\left(z-p_{3}\right)^{c}\right)=0$ for any non-negative integers $a, b, c$ such that $a+b+c&gt;1$.</li><li>Let $x, y, z \in V$ be the coordinate function. Suppose $\boldsymbol{p}=\left[\begin{array}{l}p_{1} \ p_{2} \ p_{3}\end{array}\right]$, then for any derivation $v$ at $\boldsymbol{p}, v(f)=$ $\dfrac{\partial f}{\partial x}(\boldsymbol{p}) v(x)+\dfrac{\partial f}{\partial y}(\boldsymbol{p}) v(y)+\dfrac{\partial f}{\partial z}(\boldsymbol{p}) v(z)$. (Hint: use the Taylor expansion of $f$ at $\left.\boldsymbol{p} .\right)$</li><li>Any derivation $v$ at $\boldsymbol{p}$ must be exactly the directional derivative operator $\nabla_{\boldsymbol{v}}$ where $\boldsymbol{v}=\left[\begin{array}{l}v(x) \ v(y) \ v(z)\end{array}\right]$.<br>(Remark: So, algebraically speaking, tangent vectors are exactly derivations, i.e., things that satisfy the Leibniz rule.)</li></ol><hr><p>$(1)$ Set $f(\vec{p})\equiv a$, because $v(f g)=f(\boldsymbol{p}) v(g)+g(\boldsymbol{p}) v(f)$ and $v\in V^{*}$ is linear, $v(fg)=av(g)+g(\boldsymbol{p})v(f)$  </p><p>Set $g=f$, so $v(ff)=2av(f)=v(af)=av(f)$ If $a=0$, $v(g)=v(0)=v(gg)=0+0=0$ If $a\neq 0$</p><p>$av(f)=0$, and $v(f)=0$ So constant functions in $V$ are all sent to $0$</p><p>$(2)$ Calculate $v((x-p_1)f)=f(\boldsymbol {p})v(x-p_1)+(x-p_1)(\boldsymbol{p})v(f)$ And $x(\boldsymbol{p})=p_1,p_1(\boldsymbol{p})=p_1$</p><p>So $(x-p_1)(\boldsymbol{p})=0$ For constant $\boldsymbol{p}$, $v(\boldsymbol{p}=0)$ So $v((x-p_1)f)=f(\boldsymbol{p})(v(x)-v(p_1))=f(\boldsymbol{p})v(x)$</p><p>$(3)$ As $a,b,c$ are all integers, if $a,b,c&lt;1$, the sum of them is $a+b+c\leq 0$, contradiction</p><p>So at least one intergers is $\geq 1$, without loss of generalization, assume $a\geq 1$</p><p>$v\left(\left(x-p_{1}\right)^{a}\left(y-p_{2}\right)^{b}\left(z-p_{3}\right)^{c}\right)=v(x-p_1)((x-p_1)^{a-1}(y-p_2)^b(z-p_3)^c)(\boldsymbol{p})$</p><p>And if $a&gt; 1$, $(x-p_1)^{a-1}(\boldsymbol{p})=(x-p_1)^{a-2}(x-p_1)(\boldsymbol{p})=0$ if $a=1$, then $b+c&gt;0$</p><p>at least one integer in $b$ and $c$ $\geq 1$, without of generalization, assume $b\geq 1$. Then </p><p>$(y-p_2)^{b}(\boldsymbol{p})=(y-p_2)^{b-1}(y-p_2)(\boldsymbol{p})=0$ So $v\left(\left(x-p_{1}\right)^{a}\left(y-p_{2}\right)^{b}\left(z-p_{3}\right)^{c}\right)=0$</p><p>$(4)$ Use Taylor expansion for $f$, we have </p><script type="math/tex; mode=display">f(x, y, z)=f\left(p_{1}, p_{2}, p_{3}\right)+\frac{\partial f}{\partial x}(\boldsymbol{p})\left(x-p_{1}\right)+\frac{\partial f}{\partial y}(\boldsymbol{p})\left(y-p_{2}\right)+\frac{\partial f}{\partial z}(\boldsymbol{p})\left(z-p_{3}\right)+o(|\boldsymbol{r}-\boldsymbol{p}|)</script><p>According to $(3)$, the remainder $o(|\boldsymbol{r}-\boldsymbol{p}|)=\left(x-p_{1}\right)^{a}\left(y-p_{2}\right)^{b}\left(z-p_{3}\right)^{c},a+b+c&gt;1$</p><p>So $v(o(|\boldsymbol{r}-\boldsymbol{p}|))=0$ For constant number $v$ sends to $0$. Take $v$ function to the Taylor expansion</p><script type="math/tex; mode=display">v(f)=\dfrac{\partial f}{\partial x}(\boldsymbol{p}) v(x)+\dfrac{\partial f}{\partial y}(\boldsymbol{p}) v(y)+\dfrac{\partial f}{\partial z}(\boldsymbol{p}) v(z)</script><p>Which shows the complete differential at $\boldsymbol{p}$</p><p>$(5)$ Just calculate the directional derivative $\nabla_{\boldsymbol{v}}$ where $\boldsymbol{v}=\left[\begin{array}{l}v(x) \ v(y) \ v(z)\end{array}\right]$</p><script type="math/tex; mode=display">\begin{aligned}\nabla_{v} f &=\lim _{t \rightarrow 0^{+}} \frac{f(\boldsymbol{p}+t \boldsymbol{v})-f(\boldsymbol{p})}{t} \\&=\lim _{t \rightarrow 0^{+}} \dfrac{f(\boldsymbol{p})+\dfrac{\partial f}{\partial x}(\boldsymbol{p}) v(x) t+\dfrac{\partial f}{\partial y}(\boldsymbol{p}) v(y) t+\dfrac{\partial f}{\partial z}(\boldsymbol{p}) v(z) t+o(\|\boldsymbol{v}\| t)-f(\boldsymbol{p})}{t} \\&=\frac{\partial f}{\partial x}(\boldsymbol{p}) v(x)+\frac{\partial f}{\partial y}(\boldsymbol{p}) v(y)+\frac{\partial f}{\partial z}(\boldsymbol{p}) v(z) \\&=v(f)\end{aligned}</script><p>So derivative in calculus is just a vector in the dual space of $R^{n}$ which suits Leibniz rule</p><h2 id="1-7-3-small-mbox-What-is-a-vector-field"><a href="#1-7-3-small-mbox-What-is-a-vector-field" class="headerlink" title="1.7.3$ \small  \mbox{What is a vector field}$"></a>1.7.3$ \small  \mbox{What is a vector field}$</h2><p>The discussions in this problem holds for all manifolds $M$. But for simplicities sake, suppose $M=\mathbb{R}^{3}$ for this problem. Let $V$ be the space of all analytic functions from $M$ to $\mathbb{R}$ as usual.<br>We say $X: V \rightarrow V$ is a vector field on $X$ if $X(f g)=f X(g)+g X(f)$, i.e., the Leibniz rule again! Prove the following:</p><ol><li><p>Show that $X_{\boldsymbol{p}}: V \rightarrow \mathbb{R}$ such that $X_{\boldsymbol{p}}(f)=(X(f))(\boldsymbol{p})$ is a derivation at $\boldsymbol{p}$. (Hence $X$ is indeed a vector field, since it is the same as picking a tangent vector at each point.)</p></li><li><p>Note that each $f$ on $M$ induces a covector field $\mathrm{d} f$. Then at each point $\boldsymbol p$, the cotangent vector $\mathrm{d} f$ and the tangent vector $X$ would evaluate to some number. So $\mathrm{d} f(X)$ is a function $M \rightarrow \mathbb{R}$. Show that $\mathrm{d} f(X)=X(f)$, i.e., the two are the same. (Hint: just use definitions and calculate directly.)</p></li><li>If $X, Y: V \rightarrow V$ are vector fields, then note that $X \circ Y: V \rightarrow V$ might not be a vector field. (Leibniz rule might fail.) However, show that $X \circ Y-Y \circ X$ is always a vector field.</li><li>On a related note, show that if $A, B$ are skew-symmetric matrices, then $A B-B A$ is still skewsymmetric. (Skew-symmetric matrices actually corresponds to certain vector fields on the manifold of orthogonal matrices. So this is no coincidence.)</li></ol><hr><p>$(1)$ $X_{\boldsymbol{p}}(fg)=(X(fg))(\boldsymbol{p})=(fX(g)+gX(f))(\boldsymbol{p})=f(\boldsymbol{p})X(g)(\boldsymbol{p})+g(\boldsymbol{p})X(f)(\boldsymbol{p})$</p><p>$=f(\boldsymbol{p})X_{\boldsymbol{p}}(g)+g(\boldsymbol{p})X_{\boldsymbol{p}}(f)$ So it suits the definition of derivative at $\boldsymbol{p}$</p><p>$(2)$ $X_{\boldsymbol{p}}:V\rightarrow R$ So $X_{\boldsymbol{p}}\in V^{*}$ $X_{p}=\left[\begin{array}{c}<br>X_{\boldsymbol{p}}(X) &amp;<br>X_{p}(Y) &amp;<br>X_{p}(Z)<br>\end{array}\right]$ </p><p>$df(X)(\boldsymbol{p})=df_{\boldsymbol{p}<br>}(X_{\boldsymbol{p}})$ where  $df=\left[\begin{array}{c}<br>\dfrac{\partial f}{\partial x}(\boldsymbol{p})\\<br>\dfrac{\partial f}{\partial y}(\boldsymbol{p})\\<br>\dfrac{\partial f}{\partial z}(\boldsymbol{p})\\<br>\end{array}\right]$ combine them together then we have</p><p>From $\small (1.4)$  $(X(f))(\boldsymbol{p})=X_{p}(f)=\dfrac{\partial f}{\partial x}(\boldsymbol{p}) X_{\boldsymbol{p}}(X)+\dfrac{\partial f}{\partial y}(\boldsymbol{p}) X_{\boldsymbol{p}}(Y)+\dfrac{\partial f}{\partial z}(\boldsymbol{p}) X_{\boldsymbol{p}}(Z)$</p><p>$=\left[\begin{array}{c}<br>X_{\boldsymbol{p}}(X) &amp;<br>X_{p}(Y) &amp;<br>X_{p}(Z)<br>\end{array}\right]\left[\begin{array}{c}<br>\dfrac{\partial f}{\partial x}(\boldsymbol{p})\\<br>\dfrac{\partial f}{\partial y}(\boldsymbol{p})\\<br>\dfrac{\partial f}{\partial z}(\boldsymbol{p})\\<br>\end{array}\right]=df(X)$</p><p>$(3)$ Just unfold the fomula</p><script type="math/tex; mode=display">\begin{gathered}(X\circ Y-Y\circ X)(fg)=X\circ Y(fg)-Y\circ X(fg)=X\circ (fY(g)+gY(f))-Y\circ (fX(g)+gX(f))\\=\small f (X\circ Y)g+X(f)Y(g)+g (X\circ Y)f+X(g)Y(f)-(f (Y\circ X)g+Y(f)X(g)+g (Y\circ X)f+Y(g)X(f))\\=f(X\circ Y-Y\circ X)g+g(X\circ Y-Y\circ X)f\end{gathered}</script><p>So $X\circ Y-Y \circ X$ suits the Leibniz rule, which is a vector field. </p><p>$(4)$ Calculate directly we can prove $(AB-BA)^{T}=-(AB-BA)$</p><script type="math/tex; mode=display">\begin{aligned}(A B-B A)^{T} =(A B)^{T}-(B A)^{T}=(B^{T} A^{T}-A^{T} B^{T}) \\=(-B)(-A)-(-A)(-B) =BA-AB=-(A B-B A)\end{aligned}</script><p>For all the positive orthogonal matrices $\mathcal{Q}$  $\forall  Q\in \mathcal{Q},\det(Q)=1$. At one matrix, its tangent vector </p><p>$(Q+A)^{T}(Q+A)=I=(Q^{T}+A^{T})(Q+A)=I\Longrightarrow A=-A^{T},||A||\to 0$</p><p>are all Skew-symmetric matrices. According to $\small (3)$, $AB-BA$ is also a Skew-symmetric matrix</p><blockquote><p> $\Large \mathbf{If your life is tense, it could be a tensor. }$</p></blockquote><h1 id="large-textcolor-blue-mbox-Advanced-Algebra-small-mathbb-HW-mathrm-8-textcolor-blue-2022-5-9"><a href="#large-textcolor-blue-mbox-Advanced-Algebra-small-mathbb-HW-mathrm-8-textcolor-blue-2022-5-9" class="headerlink" title="$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbb{HW}\mathrm{8}}      _\textcolor{blue}{2022.5.9}$"></a>$\large\textcolor{blue}{\mbox{Advanced Algebra  } \small \mathbb{HW}\mathrm{8}}      _\textcolor{blue}{2022.5.9}$</h1><h2 id="1-8-1-small-mbox-Elementary-layer-operations-for-tensors"><a href="#1-8-1-small-mbox-Elementary-layer-operations-for-tensors" class="headerlink" title="1.8.1$ \small  \mbox{Elementary layer operations for tensors}$"></a>1.8.1$ \small  \mbox{Elementary layer operations for tensors}$</h2><p>Note that, for “2D” matrices we have row and column operations, and the two kinds of operations corresponds to the two dimensions of the array.</p><p>For simplicity, let $M$ be a $2 \times 2 \times 2$ “3D matrix”. Then we have “row layer operations”, “column layer operations”, “horizontal layer operations”. The three kinds corresponds to the three dimensions of the array.<br>We interpret this as a multilinear map $M: \mathbb{R}^{2} \times \mathbb{R}^{2} \times \mathbb{R}^{2} \rightarrow \mathbb{R}$. Let $\left(\left(\mathbb{R}^{2}\right)^{*}\right)^{\otimes 3}$ be the space of all multilinear maps from $\mathbb{R}^{2} \times \mathbb{R}^{2} \times \mathbb{R}^{2}$ to $\mathbb{R}$.</p><ol><li>Given $\alpha, \beta, \gamma \in\left(\mathbb{R}^{2}\right)^{*}$, what is the $(i, j, k)$-entry of the “3D matrix” $\alpha \otimes \beta \otimes \gamma$ in terms of the coordinates of $\alpha, \beta, \gamma$ ? Here $\alpha \otimes \beta \otimes \gamma$ is the multilinear map sending $(\boldsymbol{u}, \boldsymbol{v}, \boldsymbol{w})$ to the real number $\alpha(\boldsymbol{u}) \beta(\boldsymbol{v}) \gamma(\boldsymbol{w})$.</li><li>Let $E$ be an elementary matrix. Then we can send $\alpha \otimes \beta \otimes \gamma$ to $(\alpha E) \otimes \beta \otimes \gamma$. Why can this be extended to a linear map $M_{E}:\left(\left(\mathbb{R}^{2}\right)^{<em>}\right)^{\otimes 3} \rightarrow\left(\left(\mathbb{R}^{2}\right)^{</em>}\right)^{\otimes 3}$ ? (This gives a formula for the “elementary layer operations” on “3D matrices”, where the three kinds of layer operations corresponds to applying $E$ to the three arguments respectively.)</li><li>Show that elementary layer operations preserve rank. Here we say $M$ has rank $r$ if $r$ is the smallest possible integer such that $M$ can be written as the linear combination of $r$ “rank one” maps, i.e., maps of the kind $\alpha \otimes \beta \otimes \gamma$ for some $\alpha, \beta, \gamma \in\left(\mathbb{R}^{2}\right)^{*}$.</li><li>Show that, if some “2D” layer matrix of a “3D matrix” has rank r, then the $3 D$ matrix has rank at least $r$.</li><li>Let $M$ be made of two layers, $\left[\begin{array}{ll}1 &amp; 0 \ 0 &amp; 1\end{array}\right]$ and $\left[\begin{array}{ll}0 &amp; 1 \ 1 &amp; 0\end{array}\right]$. Find its rank.</li><li>(Read only) Despite some practical interests, finding the tensor rank in general is NOT easy. In fact, it is NP-complete just for 3-tensors over finite field. Furthermore, a tensor with all real entries might have different real rank and complex rank.</li></ol><hr><p>$(1)$ According to the symmetry of dot product $\langle\alpha,u\rangle=\langle u,\alpha\rangle$ we have equation $\alpha^Tu=u^T\alpha$ So</p><p>$\alpha^{T} u \beta^{T} v \gamma^{T} \omega=u^{T} \alpha \beta^{T} v \gamma^{T} \omega=u^{T}\left[\alpha \beta^{T} v \gamma_{1} \quad \partial \beta^{T} v \gamma_{2}\right] \omega$ Compare to $[u^TA_1v\quad u^TA_2v]\omega$ hence</p><p>$A_{1}=\gamma_{1}\left(\begin{array}{ll}\alpha_{1} \beta_{1} &amp; \alpha_{1} \beta_{2} \ \alpha_{2} \beta_{1} &amp; \alpha_{2} \beta_{2}\end{array}\right)=\gamma_1\alpha\beta^T,A_{2}=\gamma_{2}\left(\begin{array}{ll}\alpha_{1} \beta_{1} &amp; \alpha_{1} \beta_{2} \ \alpha_{2} \beta_{1} &amp; \alpha_{2} \beta_{2}\end{array}\right)=\gamma_2\alpha\beta^T$ . So $A_{ijk}=\gamma_i\alpha_j\beta_k$</p><p>$(2)$ $M_E$ sends tensor $M=[[A_1,A_2]]=[[\gamma_1\alpha \beta^T,\gamma_2\alpha \beta^T]]$ to $M’=[[\gamma_1\alpha E \beta^T,\gamma_2\alpha E\beta^T]]$</p><p>For $\alpha _1,\alpha_2$ in $(\mathbb{R}^2)^<em>$ as one part in $((\mathbb{R}^2)^</em>)^{\otimes3}$ </p><script type="math/tex; mode=display">M_{k\alpha_1+\mu\alpha_2}=[[\gamma_1(k\alpha_1+\mu\alpha_2) \beta^T,\gamma_2(k\alpha_1+\mu\alpha_2) \beta^T]]=kM_{\alpha _1}+\mu M_{\alpha _2}\in ((\mathbb{R}^2)^*)^{\otimes3}</script><p>So for $\alpha ,\beta$ is linear. and for $\gamma_1,\gamma_2$ in $(\mathbb{R}^2)^<em>$ as one part in $((\mathbb{R}^2)^</em>)^{\otimes3}$, set $\gamma_{11,12}$ as the component of $\gamma_1$</p><p>$\gamma_{21,22}$ as the component of $\gamma_2$, So </p><script type="math/tex; mode=display">M_{k\gamma_1+\mu\gamma_2}=[[(k\gamma_{11}+\mu\gamma_{21})\alpha\beta^T,(k\gamma_{12}+\mu\gamma_{22})\alpha \beta^T]]=kM_{\gamma _1}+\mu M_{\gamma _2}\in ((\mathbb{R}^2)^*)^{\otimes3}</script><p>So $M_E$ is a linear map, three operations at $\alpha,\beta,\gamma$ </p><p>$(3)$ Suppose $M=\displaystyle \sum_{i=1}^rM_{base(i)}$ if we operate elementary layer operations for $M$, the right hand side </p><p>is also in “rank one” maps, so $r’\leq r$. And if $r’&lt;r$, i.e., $M’=\displaystyle \sum_{i=1}^{r’}M_{base(i)}$ As elementary have its inverse</p><p>operate the inverse of elementary operation, and we have contradiction, so $r’=r$</p><p>$(4)$ According to $\mbox{SVD}$, the minimum number of decomposing a matrix into rank-$1$ matrixes equals to rank</p><p>So if $2D$ matrix needs at least $r$ rank-$1$ matrixes to make up, since every rank-$1$ maps in $\alpha \otimes \beta \otimes \gamma$</p><p>contains two rank-$1$ matrix, so the $3D$ matrix also needs at least $r$ rank-$1$ tensors to make up</p><p>$(5)$ For $A_1=\left[\begin{array}{ll}1 &amp; 0 \ 0 &amp; 1\end{array}\right]$ its rank is $2$, so $r(M)\geq 2$. Besides, construct two rank-$1$ tensors </p><script type="math/tex; mode=display">M_1=[[\dfrac{1}{2}\begin{bmatrix}1 & 1 \\ 1 & 1\end{bmatrix},\dfrac{1}{2}\begin{bmatrix}1 & 1 \\ 1 & 1\end{bmatrix}]],M_2=[[\dfrac{1}{2}\begin{bmatrix}1 & -1 \\ -1 & 1\end{bmatrix},-\dfrac{1}{2}\begin{bmatrix}1 & -1 \\ -1 & 1\end{bmatrix}]]</script><p>And $M=M_1+M_2$, so its rank is $2$</p><p><img src="https://pic.imgdb.cn/item/6278cb2909475431290238c1.jpg" alt=""></p><h2 id="1-8-2-small-mbox-i-j-k-rank-3-tensor"><a href="#1-8-2-small-mbox-i-j-k-rank-3-tensor" class="headerlink" title="1.8.2$ \small  \mbox{i+j+k rank-3 tensor}$"></a>1.8.2$ \small  \mbox{i+j+k rank-3 tensor}$</h2><p>Let $M$ be a $3 \times 3 \times 3$ “3D matrix” whose $(i, j, k)$-entry is $i+j+k$. We interpret this as a multilinear map $M: \mathbb{R}^{3} \times \mathbb{R}^{3} \times \mathbb{R}^{3} \rightarrow \mathbb{R}$.</p><ol><li>Let $\boldsymbol{v}=\left[\begin{array}{l}x \ y \ z\end{array}\right]$, then $M(\boldsymbol{v}, \boldsymbol{v}, \boldsymbol{v})$ is a polynomial in $x, y, z$. What is this polynomial?</li><li>Let $\sigma:\{1,2,3\} \rightarrow\{1,2,3\}$ be any bijection. Show that $M\left(\boldsymbol{v}_{1}, \boldsymbol{v}_{2}, \boldsymbol{v}_{3}\right)=M\left(\boldsymbol{v}_{\sigma(1)}, \boldsymbol{v}_{\sigma(2)}, \boldsymbol{v}_{\sigma(3)}\right)$. (Hint: brute force works. But alternatively, try find the $(i, j, k)$ entry of the multilinear map $M^{\sigma}$, a map that sends $\left(\boldsymbol{v}_{1}, \boldsymbol{v}_{2}, \boldsymbol{v}_{3}\right)$ to $M\left(\boldsymbol{v}_{\sigma(1)}, \boldsymbol{v}_{\sigma(2)}, \boldsymbol{v}_{\sigma(3)}\right)$.)</li><li>Show that the rank $r$ of $M$ is at least 2 and at most 3. (It is actually exactly three.)</li><li>(Read only) Any study of polynomial of degree $d$ on $n$ variables is equivalent to the study of some symmetric $d$ tensor on $\mathbb{R}^{n}$.</li></ol><hr><p>$(1)$ $M=[[\begin{bmatrix}3 &amp; 4 &amp; 5 \ 4 &amp; 5 &amp; 6\\5&amp; 6&amp;7\end{bmatrix},\begin{bmatrix}4 &amp; 5 &amp; 6 \ 5 &amp; 6 &amp; 7\\6&amp; 7&amp;8\end{bmatrix},\begin{bmatrix}5 &amp; 6 &amp; 7 \ 6 &amp; 7 &amp; 8\\7&amp; 8&amp;9\end{bmatrix}]]=[[A_1,A_2,A_3]]$ And $M(\boldsymbol v,\boldsymbol v,\boldsymbol v)$ where $\boldsymbol{v}=\begin{pmatrix}x\\y\\z\end{pmatrix}$</p><p>$=[\boldsymbol v^TA_1\boldsymbol v\quad \boldsymbol v^TA_2\boldsymbol v\quad \boldsymbol v^TA_3\boldsymbol v]\boldsymbol v=[\boldsymbol v^T\begin{bmatrix}3 &amp; 4 &amp; 5 \ 4 &amp; 5 &amp; 6\\5&amp; 6&amp;7\end{bmatrix}\boldsymbol v\quad \boldsymbol v^T\begin{bmatrix}4 &amp; 5 &amp; 6 \ 5 &amp; 6 &amp; 7\\6&amp; 7&amp;8\end{bmatrix}\boldsymbol v\quad \boldsymbol v^T\begin{bmatrix}5 &amp; 6 &amp; 7 \ 6 &amp; 7 &amp; 8\\7&amp; 8&amp;9\end{bmatrix}\boldsymbol v]\boldsymbol v$</p><p>Calculate it by $\mbox{Mathematica}$, the result is $p(x,y,z)=3 (x+y+z)^2 (x+2 y+3 z)$</p><p><img src="https://pic.imgdb.cn/item/6278d61109475431291e44d0.jpg" alt=""></p><p>$(2)$ let a linear map from $\mathbb{R}^{3} \times \mathbb{R}^{3} \times \mathbb{R}^{3}$ to $\mathbb{R}$ sends $\left(\boldsymbol{v}_{1}, \boldsymbol{v}_{2}, \boldsymbol{v}_{3}\right)$ to $M\left(\boldsymbol{v}_{\sigma(1)}, \boldsymbol{v}_{\sigma(2)}, \boldsymbol{v}_{\sigma(3)}\right)$</p><p>Obviously, it’s multi-linear since for $\boldsymbol{v}_i$ the evaluation result is linear no matter which position $\boldsymbol{v}_i$ is.</p><p>And this map have a tensor such $M’=[[A_1’,A_2’,A_3’]]$. Specialise $\boldsymbol{v_i}$ to get value of $A_{1}’,A_{2}’,A_{3}’$</p><p>Set $\boldsymbol{b}_1=\begin{pmatrix}1\\0\\0\end{pmatrix},\boldsymbol{b}_2=\begin{pmatrix}0\\1\\0\end{pmatrix},\boldsymbol{b}_3=\begin{pmatrix}0\\0\\1\end{pmatrix}$ let $(\boldsymbol{v_1},\boldsymbol{v_2},\boldsymbol{v_3})=(\boldsymbol{b_i},\boldsymbol{b_j},\boldsymbol{b_k})$ where $1\leq i,j,k\leq 3$</p><p>and they can be the same. Put one of condition into the map so </p><script type="math/tex; mode=display">A_{k(ij)}'=A_{\sigma^{-1}(i)(\sigma^{-1}(j)\sigma^{-1}(k))}=\sigma^{-1}(i)+\sigma^{-1}(j)+\sigma^{-1}(k)=i+j+k</script><p>So for $k=1,2,3$ $A_{k}’=A_k$, which implies that $M’=M$, so the equation is proved.</p><blockquote><p> <strong>A brute try</strong> (failed): </p><p> It is obvious that swaping $\boldsymbol{v}_{i},\boldsymbol{v}_{j}$ at most twice can make $\boldsymbol{v}_1,\boldsymbol{v}_2,\boldsymbol{v}_3$ $\Longrightarrow $ $\boldsymbol{v}_{\sigma(1)}, \boldsymbol{v}_{\sigma(2)}, \boldsymbol{v}_{\sigma(3)}$</p><p> If swap $\boldsymbol{v}_{1},\boldsymbol{v}_{2}$, the value $\boldsymbol v_1^TA_i\boldsymbol v_2=\boldsymbol v_2^TA_i\boldsymbol v_1,i=1,2,3$, since $A_i=A_i^T$ so the result stays the same. </p><p> And if we swap $\boldsymbol{v}_{2},\boldsymbol{v}_{3}$, $[\boldsymbol v_1^TA_1\boldsymbol v_2\quad \boldsymbol v_1^TA_2\boldsymbol v_2\quad \boldsymbol v_1^TA_3\boldsymbol v_2]\boldsymbol v_3=\boldsymbol v_1^TA_1\boldsymbol v_2v_{3x}+\boldsymbol v_1^TA_2\boldsymbol v_2v_{3y}+\boldsymbol v_1^TA_3\boldsymbol v_2v_{3z}$</p></blockquote><p>$(3)$ According to $1.8.1(4)$, since $\mbox{rank}(A_i)=2$, so $r\geq 2$. Then just construct a reasonable combination</p><p>I guess $\alpha=\begin{pmatrix}1\\1\-1\end{pmatrix},\beta=\begin{pmatrix}1\-1\\1\end{pmatrix},\gamma=\begin{pmatrix}-1\\1\\1\end{pmatrix}$ so the rank-$1$ matrix like</p><script type="math/tex; mode=display">\begin{bmatrix}a&b&c\\a&b&c\\-a&-b&-c\end{bmatrix},\begin{bmatrix}d&e&f\\-d&-e&-f\\d&e&f\end{bmatrix},\begin{bmatrix}-g&-h&-i\\g&h&i\\g&h&i\end{bmatrix},</script><p>And the linear combinations of these three matrixes are $\begin{bmatrix}3 &amp; 4 &amp; 5 \ 4 &amp; 5 &amp; 6\\5&amp; 6&amp;7\end{bmatrix},\begin{bmatrix}4 &amp; 5 &amp; 6 \ 5 &amp; 6 &amp; 7\\6&amp; 7&amp;8\end{bmatrix},\begin{bmatrix}5 &amp; 6 &amp; 7 \ 6 &amp; 7 &amp; 8\\7&amp; 8&amp;9\end{bmatrix}$</p><p>which transfers to three nine - dimensional equations, out of my hand ability, the coefficient matrix is</p><script type="math/tex; mode=display">A=\left(\begin{array}{ccccccccc} 1 & 0 & 0 & 1 & 0 & 0 & -1 & 0 & 0 \\  0 & 1 & 0 & 0 & 1 & 0 & 0 & -1 & 0 \\ 0 & 0 & 1 & 0 & 0 & 1 & 0 & 0 & -1 \\  0 & 1 & 0 & 0 & -1 & 0 & 0 & 1 & 0 \\ 0 & 0 & 1 & 0 & 0 & -1 & 0 & 0 & 1 \\ 1 & 0 & 0 & -1 & 0 & 0 & 1 & 0 & 0 \\ -1 & 0 & 0 & 1 & 0 & 0 & 1 & 0 & 0 \\ 0 & -1 & 0 & 0 & 1 & 0 & 0 & 1 & 0 \\ 0 & 0 & -1 & 0 & 0 & 1 & 0 & 0 & 1 \\\end{array}\right),A\vec{x}=\vec{b}_{i}=\begin{pmatrix}3\\4\\5\\4\\5\\6\\5\\6\\7\end{pmatrix},\begin{pmatrix}4\\5\\6\\5\\6\\7\\6\\7\\8\end{pmatrix},\begin{pmatrix}5\\6\\7\\6\\7\\8\\7\\8\\9\end{pmatrix}</script><p>And the accurate solution is</p><script type="math/tex; mode=display">\begin{gathered}\begin{bmatrix}3 & 4 & 5 \\ 4 & 5 & 6\\5& 6&7\end{bmatrix}=\begin{bmatrix}3.5&4.5&5.5\\3.5&4.5&5.5\\-3.5&-4.5&-5.5\end{bmatrix}+\begin{bmatrix}4&5&6\\-4&-5&-6\\4&5&6\end{bmatrix}+\begin{bmatrix}-4.5&-5.5&-6.5\\4.5&5.5&6.5\\4.5&5.5&6.5\end{bmatrix}\\\begin{bmatrix}4 & 5 & 6 \\ 5 & 6 & 7\\6& 7&8\end{bmatrix}=\begin{bmatrix}4.5&5.5&6.5\\4.5&5.5&6.5\\-4.5&-5.5&-6.5\end{bmatrix}+\begin{bmatrix}5&6&7\\-5&-6&-7\\5&6&7\end{bmatrix}+\begin{bmatrix}-5.5&-6.5&-7.5\\5.5&6.5&7.5\\5.5&6.5&7.5\end{bmatrix}\\\begin{bmatrix}5 & 6 & 7 \\ 6 & 7 & 8\\7& 8&9\end{bmatrix}=\begin{bmatrix}5.5&6.5&7.5\\5.5&6.5&7.5\\-5.5&-6.5&-7.5\end{bmatrix}+\begin{bmatrix}6&7&8\\-6&-7&-8\\6&7&8\end{bmatrix}+\begin{bmatrix}-6.5&-7.5&-8.5\\6.5&7.5&8.5\\6.5&7.5&8.5\end{bmatrix}\\\end{gathered}</script><p>So it can be decomposed into three rank-$1$ tensors. So $r\leq 3$</p>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>高等代数选讲</category>
      
    </categories>
    
    
    <tags>
      
      <tag>高等代数选讲</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python-Visualization-Process the Json file</title>
    <link href="/2022/03/03/%E7%BC%96%E7%A8%8B/python%20%E5%8F%AF%E8%A7%86%E5%8C%96%E6%B5%81%E7%A8%8B/"/>
    <url>/2022/03/03/%E7%BC%96%E7%A8%8B/python%20%E5%8F%AF%E8%A7%86%E5%8C%96%E6%B5%81%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<p>Python 编写工程项目时，对每份代码，编写流程基本都是</p><script type="math/tex; mode=display">\Large \textcolor{black}{调库}\normalsize \Longrightarrow \Large \textcolor{black}{全局变量}\normalsize \Longrightarrow \Large \textcolor{black}{装饰器}\normalsize \Longrightarrow \Large \textcolor{black}{子函数}\normalsize \Longrightarrow\Large \textcolor{black}{主函数}\normalsize</script><p>只要两者之间具有一定独立性，最好空开两行方便 $\mbox{Debug}$ 。（这个真的是教训啊！！<strong>一定要全局</strong>，编写过程中使用复用性更高的代码，如使用 $\mbox{len()}$ 获取迭代次数，避免数据换了后手动调浪费时间）</p><h2 id="装饰器的使用"><a href="#装饰器的使用" class="headerlink" title="装饰器的使用"></a>装饰器的使用</h2><p>装饰器是为了在输出结果时告知当前运行函数名称，运行时间，方便快速定位 $\mbox{Bug}$ 位置，一个经典装饰器的代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> functools<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">metric</span>(<span class="hljs-params">fn</span>):<br><span class="hljs-meta">    @functools.wraps(<span class="hljs-params">fn</span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kw</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;start executing %s&#x27;</span> % (fn.__name__))<br>        start_time = time.time()<br>        result = fn(*args, **kw)<br>        end_time = time.time()<br>        t = <span class="hljs-number">1000</span> * (end_time - start_time)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%s executed in %s ms&#x27;</span> % (fn.__name__, t))<br>        <span class="hljs-keyword">return</span> result<br>    <span class="hljs-keyword">return</span> wrapper<br></code></pre></td></tr></table></figure><p>该装饰器告知开始运行函数、结束运行函数以及运行时间，在每次 <code>def &#39;name_of_fuction&#39;</code> 前一行加入 <code>@metric</code> 便可以实现装饰器功能</p><h2 id="获取目录下所有文件"><a href="#获取目录下所有文件" class="headerlink" title="获取目录下所有文件"></a>获取目录下所有文件</h2><p>由于本次工作数据量庞大（成千上万个文件），从本地特定目录下读取该目录的所有文件，使用  $os$ 库中的 $listdir$ 函数获取目录下的文件名与目录拼接在一起，代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_list</span>(<span class="hljs-params">target</span>):<br>    dirs = os.listdir(target)//获取目录下的文件名称并存为列表<br>    file_list = []//初始化空列表<br>    <span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> dirs://遍历列表中的每一个文件名称<br>         file_list.append(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;target&#125;</span>/<span class="hljs-subst">&#123;file&#125;</span>&quot;</span>)//加到原来文件目录后面<br>    <span class="hljs-keyword">return</span> file_list//得到一个具有该目录下所有文件位置的列表<br></code></pre></td></tr></table></figure><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>使用 $\mbox{try}$ 和 $\mbox{except}$ 语法，前者后面语句出现错误则跳至 $\mbox{except}$ 处，最好联合输出报错信息 $\mbox{e}$ 以及错误所在文件搭配：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(e)<br>    //<span class="hljs-built_in">print</span>(file)<br></code></pre></td></tr></table></figure><p>在处理文件时容易发现“前端”的规范化有问题，此时 $\mbox{try-except}$ 的作用体现得更加显著，多次套用异常处理语句即可</p><h2 id="计数器功能"><a href="#计数器功能" class="headerlink" title="计数器功能"></a>计数器功能</h2><p>导入计数器所在库 <code>from collections import Counter</code>，单个计数器本质上就是单个字典，使用  <code>类名 = Counter()</code> 初始化，之后遇到什么就以字典的形式进行计数（<code>Counter()</code> 内部自动实现了遇到新 <code>key</code> 值计数为 $1$ ，遇到旧 <code>key</code> 值计数器加 $1$ ），由于存在多个、相互独立的列表，在实际运用中使用列表保存多个字典：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">listDics = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-built_in">len</span>(dirLanguage))://从 xlsx 中读取的二维列表(第几列第几个词)<br>    tempDict = Counter()//代表具有计数器功能的空字典<br>    listDics.append(tempDict)//形成字典列表<br><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> tqdm(file_list)://遍历并打开所有文件<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file,<span class="hljs-string">&quot;r&quot;</span>,encoding = <span class="hljs-string">&quot;utf-8&quot;</span>,errors = <span class="hljs-string">&quot;ignore&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        getTitle = json.load(f)[<span class="hljs-string">&quot;title&quot;</span>]//使用 json.load(f) 载入文件<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-built_in">len</span>(dirLanguage))://对二维列表的每一列<br>            <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> dirLanguage[i]://对应计数每一列<br>                listDict[i][word] += <span class="hljs-number">1</span>//使用字典的方式计数<br><br></code></pre></td></tr></table></figure><h2 id="mbox-json-文件收放自如"><a href="#mbox-json-文件收放自如" class="headerlink" title="$\mbox{json}$ 文件收放自如"></a>$\mbox{json}$ 文件收放自如</h2><p>从上个实例代码中可以看到，使用 <code>json.load(f)</code> 即可以实现读取对应 $\mbox{json}$ 文件的内容，即为 $\mbox{json}$ 文件的读取</p><p>与之相对的为 $\mbox{json}$ 文件的写入，使用 <code>json.dump(写入名称,打开的文件(如f),ensure_ascii = False, indent = 2)</code>，注意打开文件时类型为 $\mbox{w\small+}$ ，为覆盖类型，例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./result.json&quot;</span>,<span class="hljs-string">&quot;w+&quot;</span>,encoding = <span class="hljs-string">&quot;utf-8&quot;</span>,errors = <span class="hljs-string">&quot;ignore&quot;</span>) <span class="hljs-keyword">as</span> f:<br>json.dump(title_content,f,ensure_ascii = <span class="hljs-literal">False</span>, indent = <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><h2 id="可视化工作中的可视化（-mbox-tqdm-）"><a href="#可视化工作中的可视化（-mbox-tqdm-）" class="headerlink" title="可视化工作中的可视化（ $\mbox{tqdm}$ ）"></a>可视化工作中的可视化（ $\mbox{tqdm}$ ）</h2><p>导入进度条库 <code>from tqdm import tqdm</code> （in Arabic means <em>progress</em>, also in Spanish <em>te quiero demasiado</em> means <em>I love you so much. </em>），在迭代器处加入 $\mbox{tqdm}$ 就可以清晰地看到迭代所处位置，再也不用一直盯着闪烁的光标无脑等待了~~</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> tqdm(file_list):<br></code></pre></td></tr></table></figure><p>在 $\mbox{Python}$ 交互式系统中可以达到这样效果，输入时保证可以需要输入就不会自动运行：</p><p><img src="https://pic.imgdb.cn/item/6224c13c5baa1a80ab7af253.jpg" alt=""></p><h2 id="在大字符串中查找小字符串出现次数"><a href="#在大字符串中查找小字符串出现次数" class="headerlink" title="在大字符串中查找小字符串出现次数"></a>在大字符串中查找小字符串出现次数</h2><p>使用字符串变量内置函数 $str.\mbox{count}$，直接返回次数。造轮子的事情尽量少做：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">str</span>.count(find_str)<br></code></pre></td></tr></table></figure><h2 id="调试（工程能力的体现）"><a href="#调试（工程能力的体现）" class="headerlink" title="调试（工程能力的体现）"></a>调试（工程能力的体现）</h2><p>在编写代码中，尽管“前端”有可能背锅，但大部分的错误还是因为自己总像个小孩子一样“犯傻”，不过 $\mbox{Python}$ 毕竟还是“大人”使用的工具，要学会定位 $\mbox{Bug}$ 的能力：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> IPython <span class="hljs-keyword">import</span> embed<br></code></pre></td></tr></table></figure><p>$\mbox{embed}$ 函数有点像 $\mathbf{C}\large艹$ 中的断点调试，但是更好的一点是，在出现错误的地方打上 $\mbox{embed}$ 后程序会在指定的地方停止，同时保留了当前所有的存储变量，向外提供执行任意输入代码的接口，在 $\mbox{embed}$ 之后，$\mbox{print}$ 出当前的存储变量，或者手动输入（也可以多行复制）运行接下来的代码快速找到相应问题。虽然最后来说很多问题都比较弱智，但是就是这些弱智问题的 $\mbox{Debug}$ 很大程度影响了代码编写、维护以及（满足甲方需求）成功运行的总开发时长。</p>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Concrete Mathematics Chapter one note</title>
    <link href="/2022/02/25/%E6%95%B0%E5%AD%A6/%E5%85%B7%E4%BD%93%E6%95%B0%E5%AD%A6%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/02/25/%E6%95%B0%E5%AD%A6/%E5%85%B7%E4%BD%93%E6%95%B0%E5%AD%A6%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Chapter-1-Recurrent-problem"><a href="#Chapter-1-Recurrent-problem" class="headerlink" title="Chapter 1 Recurrent problem"></a>Chapter 1 Recurrent problem</h1><p>For <strong>Hanoi problem</strong>, consider the largest disk must be moved when the $n-1$ disks on it were moved. And once $T_{n-1}$ times are down, we must at least move the largest one once and do another $T_{n-1}$ times to make it. Hence:</p><script type="math/tex; mode=display">T_{n}\geq2T_{n-1}+1</script><p>Apparently we can give a structure to suit this $T_n$ , so recurrence $T_n=2T_{n-1}+1$,  then $T_n=2^n-1$</p><p>For <strong>Lines-in-the-plane problem</strong>, consider nth line can intersect $n-1$ common points, and these points divide this line into $n$ parts, each part gives one more region. Hence:</p><script type="math/tex; mode=display">L_n\leq L_{n-1}+n</script><p>Combined with boundary value, so  $L_n=\dfrac{n(n+1)}{2}+1\\$</p><p>For <strong>Zigs-in-the-plane problem</strong>, if extend the sharp side, we have $Z’_{n}=L_{2n}=2n^2+n+1$, but because of the sharps, the ideal situation is each sharp lose two regions. So $Z_n=Z’_{n}-2\cdot n=2n^2-n+1$</p><p>For <strong>Josephus problem</strong>, assume the order of the death is $2$. Consider $1,2,\dots ,2n$, after first round the circle leave $1,3,\cdots ,2n-1$, and each correspond to the n-people situation, hence:</p><script type="math/tex; mode=display">J_{2n}=2J_{n}-1</script><p>This equation gives that $J_{2^n}\equiv1$, when the number of people is the power of $2$, the first guy is lucky. And consider $1,2,\cdots ,2n,2n+1$, after first round it remains $3,5,\cdots ,2n+1$, each correspond to the n-people situation, hence:</p><script type="math/tex; mode=display">J_{2n+1}=2J_{n}+1</script><p>And define $m\triangleq \lfloor log_2 n\rfloor$ , so $l\triangleq n-2^m\in[0,\dfrac{n}{2})$, and after $l$ times the number is power of 2 and the first guy that is currently pointed is lucky. Hence:</p><script type="math/tex; mode=display">J_{n}=2l+1=2(n-2^{\lfloor log_2 n \rfloor})+1</script><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">long</span> <span class="hljs-type">long</span> <span class="hljs-title">BinarySolutionToJosephusTwo</span><span class="hljs-params">(<span class="hljs-type">long</span> <span class="hljs-type">long</span> a)</span> </span>&#123;<span class="hljs-comment">//time complexity O(logn)</span><br>    <span class="hljs-type">long</span> <span class="hljs-type">long</span> A = a;<br>    <span class="hljs-keyword">while</span> ((A &amp; (A - <span class="hljs-number">1</span>)) != <span class="hljs-number">0</span>)<span class="hljs-comment">//get the first 1</span><br>        A &amp;= (A - <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> ((a - A) &lt;&lt; <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>To generalize it, we assume that $f(j)=\alpha_j(1\leq j&lt;d)$ and </p><script type="math/tex; mode=display">f(dn+j)=cf(n)+\beta_j(0\leq j</script><p>Use base system, the result is:</p><script type="math/tex; mode=display">f((b_mb_{m-1}\cdots b_1b_0)_d)=(\alpha_{b_m}\beta_{b_{m-1}}\beta_{b_{m-2}}\cdots \beta_{b_1}\beta_{b_0})_c</script><p>Beautiful proof of <strong>AGM</strong>(Arithmetic-Geometric-Mean inequality), let $P(n)$ means when there are n numbers is true:</p><script type="math/tex; mode=display">P(2)\ is\ true ,P(n)\to P(n-1),P(n)\ and \ P(2)\to P(2n)</script><p><strong>repertoire method</strong>: Use undetermined function method to solve recurrent problem, for instance</p><script type="math/tex; mode=display">\begin{aligned}&R_{0}=\alpha \\&R_{n}=2R_{n-1}+\beta n+\gamma\end{aligned}</script><p>Set $R_{n}=A(n) \alpha+B(n) \beta+C(n) \gamma$, use some special situations to get $A(n),B(n),C(n)$</p><script type="math/tex; mode=display">\begin{cases}R_{n}=1\Longrightarrow \alpha=1,\gamma=-1,\beta=0\Longrightarrow A(n)-C(n)=1\\R_{n}=n\Longrightarrow \alpha=0,n=2\cdot (n-1)+\beta n+\gamma,\beta=-1,\gamma=2\Longrightarrow2C(n)-B(n)=n\\R_{n}=2^n\Longrightarrow \alpha=1,2^n=2\cdot 2^{n-1}+\beta n+\gamma\Longrightarrow\beta=\gamma=0\Longrightarrow A(n)=2^{n}\end{cases}</script><p>Solution $\begin{cases}A(n)=2^n\\B(n)=2^{n+1}-n-2\\C(n)=2^{n}-1\end{cases}$, then $R_{n}=(\alpha+2\beta+\gamma)2^{n}-\beta n-(2\beta+\gamma)$</p><p>$n$ planes divide the three dimensions space into $\large C_{n}^{0}+C_{n}^{1}+C_{n}^{2}+C_{n}^{3}$ pieces at most. </p><p>consider $T_{n}$ and $T_{n-1}$, the pieces that are added is $n-1$ lines that cut the new plane, so that </p><script type="math/tex; mode=display">T_{n}=T_{n-1}+\large C_{n-1}^{0}+C_{n-1}^{1}+C_{n-1}^{2}</script><p>So we can guess that when the super-plane is $d-1$ dimensions, then $n$ super-planes cut the $d$ dimensions space into $\displaystyle \sum_{k=0}^{d}\large C_{n}^{i}$ pieces at most. </p>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>具体数学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>具体数学</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
