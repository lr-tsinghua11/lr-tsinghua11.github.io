<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Hongyi Li&#39;s Machine learning course notes</title>
    <link href="/2023/03/16/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2023/03/16/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="lis-machine-learning">Li's Machine-Learning</h1><h2 id="model-bias-optimazition-issue">Model bias &amp; Optimazitionissue</h2><p>训练过程中，先对 <code>training data</code> 的 <code>loss</code>进行判定，如果<strong>大</strong>，则考虑两种情况</p><ul><li>模型不够弹性（Model bias）</li><li>优化器做得不够好（Optimization）</li></ul><p>搜索范围不够广还是优化器不能达到全局最优（SVM）？</p><p>如果发生下述情况，则说明优化器做得不够好 <spanclass="math display">\[\begin{array}{|c|c|c|c|c|c|}\hline &amp; \text { 1 layer } &amp; \text { 2 layer } &amp; \text { 3layer } &amp; \text { 4 layer } &amp; \text { 5 layer } \\\hline 2017-2020 &amp; 0.28 \mathrm{k} &amp; 0.18 \mathrm{k} &amp; 0.14\mathrm{k} &amp; 0.10 \mathrm{k} &amp; 0.34 \mathrm{k} \\\hline\end{array}\]</span></p><p>优化过程中 <code>Loss</code> 趋于不变，<spanclass="math inline">\(\nabla f\to 0\)</span>，可能在<code>Local minima</code> 或者<code>saddle point</code>，区别方法：Hesse matrix分别正定、既不正定也不负定 <span class="math display">\[L(\theta) \approxL\left(\theta^{\prime}\right)+\frac{1}{2}\left(\theta-\theta^{\prime}\right)^TH\left(\theta-\theta^{\prime}\right)\]</span></p><blockquote><p>在<strong>鞍点</strong>处往 <span class="math inline">\(\lambda&lt;0\)</span> 对应的特征向量方向 <spanclass="math inline">\(\vec{u}\)</span> 优化，<spanclass="math inline">\(H\vec{u}=\lambda \vec{u}\LongrightarrowL(\theta^{\prime})&lt;L(\theta)\)</span>，但实际中涉及二阶导和求解矩阵特征值运算，几乎不用。</p></blockquote><p>维度高代表参数空间有更多的路可以走，实验给出，Hesse matrix中特征值大于 <span class="math inline">\(0\)</span> 的比例大多数集中在<span class="math inline">\(0.5\)</span> 附近，即多数情况下是卡在<code>saddle point</code>。</p><p><img src="/img/李宏毅机器学习笔记/image-20230207205526588.png" alt="image-20230207205526588" style="zoom:33%;" /></p><h2 id="critical-point">Critical point</h2><h3 id="batch">Batch</h3><p>不用所有的训练资料计算梯度，随机混合分组，每组 Batch更新同一组参数，能够节约时间，虽然噪声影响大，但轮数多。（Batch大不一定计算梯度时间长，现代硬件有平行运算能力）</p><p>大的 Batch-size 往往得到比较差的模型，在 Training data 和 Test data上正确率都比较低，这是 Optimize 问题，因为不同的 Batch形成的噪声能更好地跨过 <code>saddle point</code>。小的 Batch-size 在Test data 上也表现好（一种解释是 Small batch 更容易进入“平原”）</p><p><img src="/img/李宏毅机器学习笔记/image-20230207204504569.png" alt="image-20230207204504569" style="zoom:20%;" /></p><h3 id="momentum">Momentum</h3><p>在原始梯度下降（Vanilla）中加入惯性，引入 <spanclass="math inline">\(m^{i}\)</span> 为每次改变中的质量，<spanclass="math inline">\(g^i\)</span> 为每次计算的梯度 <spanclass="math display">\[\begin{aligned}m^2&amp;=\lambda m^1-\eta g^1\\\theta^2&amp;=\theta^1+m^2\end{aligned}\]</span> 容易跨过鞍点</p><h2 id="learning_rate">Learning_rate</h2><blockquote><p>Adam means <strong>Adaptive momentum</strong>.</p></blockquote><h3 id="root-mean-squareadagrad">Root Mean Square(Adagrad)</h3><p>在一个等高线椭圆狭长的优化问题上优化</p><p><img src="/img/李宏毅机器学习笔记/image-20230207205820987.png" alt="image-20230207205820987" style="zoom:33%;" /></p><p>更新参数 <span class="math display">\[\theta_i^{t+1} \leftarrow \theta_i^{t}-\frac{\eta}{\sigma_i^t}g_i^{t}\]</span> 对每个参数 <spanclass="math inline">\(i\)</span>，使用前面梯度的方均根给参数 <spanclass="math inline">\(\sigma_i^t\)</span>，如下 <spanclass="math display">\[\theta_i^{t+1} \leftarrow \theta_i^{t}-\frac{\eta}{\sigma_i^t} g_i^{t}\quad \sigma_i^t=\sqrt{\frac{1}{t+1}\sum_{i=0}^t\left(g_{\dot{i}}^{t}\right)^2}\]</span> 即如果当前更新速度一直很慢的话可调大学习率，否则降低学习率</p><h3 id="rmsprop">RMSProp</h3><blockquote><p>Google 使用的优化器</p></blockquote><p>上述要求梯度基本一样，加入超参数 <spanclass="math inline">\(\alpha\)</span> 表征前者调整的比例 <spanclass="math display">\[\theta_i^{t+1} \leftarrow \theta_i^{t}-\frac{\eta}{\sigma_i^t} g_i^{t}\quad\sigma_i^t=\sqrt{\alpha\left(\sigma_i^{t-1}\right)^2+(1-\alpha)\left(g_i^{t}\right)^2}\]</span> <strong>Adam</strong>：RMSProp + Momentum</p><h3 id="learning-rate-scheduling">Learning Rate Scheduling</h3><p><img src="/img/李宏毅机器学习笔记/image-20230207211811638.png" alt="image-20230207211811638" style="zoom:33%;" /></p><p>随着训练进行，将学习率本身不断减小</p><p>Warm-up 黑科技，在训练初期逐渐增加<code>Learning_rate</code>，代表初期探索</p><h2 id="overfitting">Overfitting</h2><p>上述过程均检测正常，即 <code>training data</code> 中<code>loss</code> 较小，但 <code>testing data</code> 中<code>loss</code> 较大，一个极端的例子是</p><p>Training data: <span class="math inline">\(\left\{\left(x^1,\hat{y}^1\right),\left(x^2, \hat{y}^2\right), \ldots,\left(x^N,\hat{y}^N\right)\right\}\)</span> <span class="math display">\[f(x)=\left\{\begin{array}{cl}\hat{y}^i &amp; \exists x^i=x \\\text { random } &amp; \text { otherwise }\end{array} \quad\right.\]</span> model 越大，overfitting 的概率越大（另一种为mismatch，就算有更多的资料，训练集和测试集的分布不一样）</p><p><strong>解决办法：</strong></p><ul><li><p>Data augmentation，将图片水平翻转或者放大让训练集变大</p></li><li><p>Constrain，让模型限制在某些函数上</p></li><li><p>共用参数，限制参数 <span class="math display">\[\text{CNN}\in \text{Fully-Connected model}\]</span></p></li><li><p>N-fold Cross Validation，提高 private-data 准确率</p></li></ul><p>L2 正则化和 weight decay 是一样的，L2 正则就是权重衰减。</p>]]></content>
    
    
    <categories>
      
      <category>计算机科学</category>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Summary of autumn term in the second college</title>
    <link href="/2023/01/09/%E6%80%BB%E7%BB%93/%E5%A4%A7%E4%BA%8C%E4%B8%8A%E6%80%BB%E7%BB%93/"/>
    <url>/2023/01/09/%E6%80%BB%E7%BB%93/%E5%A4%A7%E4%BA%8C%E4%B8%8A%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="学业">学业</h2><p>还是照例谈谈这学期的学业情况，大二上学期一共上了 <spanclass="math inline">\(12\)</span> 门课程，共 <spanclass="math inline">\(31\)</span>学分（按课序号排序，不分先后），记了两门 <spanclass="math inline">\(PF\)</span>，一门多音，一门马原，实际只有 <spanclass="math inline">\(25\)</span> 学分。</p><p><strong>Matlab与科学计算</strong>，一门随便报的任选课，主要是想学一下Matlab，期末写了一个随机游走的模拟程序并对曲线进行模拟，曲线形状=为反比例函数，查找了很多资料提到平均自由场理论，但由于时间原因，没能深入了解。交了报告之后助教批改了，私聊之后助教说我大作业写得不错。这门课平常主要是对Matlab的各种功能加以介绍，开课老师是航院的，非常典型的工科院系了，说来惭愧，一学期只去听了第一节课，后面基本就是面向作业学习，不过还是学到Matlab 很多东西，之后也用 Matlab 处理实验报告，也算是有一定收获吧。</p><p><strong>多元文化中的音乐现象</strong>，听说是艺术课组中非常好的课了，任选要砸一志愿，而我当时砸的刘慧凝老师的沟通表达与基础，结果掉了，白给。秋季开学的时候跟lrf 一起手选，结果有半天的时间差吧，导致只有我手选上了，lrf比较遗憾没有选上。后来上课遇到 qqc 和lfh，之后课堂展示的时候就跟他们组了队，算是一种比较特殊的组队方式了，一般都是随机分配。我们以jazz为载体，结合疫情放开编了一个小话剧。线上播放提前录制的视频效果欠佳，还好有lzc 公子哥打了个圆场，总体印象应该不错。期间我跟 qqc由于对艺术一窍不通，就主要负责联系淘宝商家剪辑视频，给视频当中的画面加上微信发送信息。</p><p>前八周的时候罗老师讲卡农的时候还是比较有感触，加上忙的时候自己平常也喜欢听古典音乐集中精力，就以罗老师结尾“<ahref="http://lr-tsinghua11.github.io/2022/12/28/%E5%A4%9A%E5%85%83%E6%96%87%E5%8C%96%E4%B8%AD%E7%9A%84%E9%9F%B3%E4%B9%90%E7%8E%B0%E8%B1%A1%E6%8A%A5%E5%91%8A/">你眼中的卡农</a>”为题，写了一篇报告。由于上学期被诗词这种偏艺术创作的课程背刺，这学期疫情可以有两门课程记PF ，我就把这门课记了PF。结果前几天上树洞发现可以在网络学堂已批改作业里面查看分数，原来罗老师设置了不公布分数，其实在HTML 里面就是加了一句<code>style='display:none'</code>，内容还是可以在网页源代码里面看到，结果就看到自己拿了<span class="math inline">\(97\)</span>分，有点小遗憾吧。写报告的时候我已经记了PF，也许就是比较真诚的心里话打动了罗老师吧，后来她又调整为 <spanclass="math inline">\(93\)</span>分，不知道是计算了课堂展示，还是单纯的调分，反正 P 了一个 4.0……</p><p><strong>复变函数</strong>，物理系 lys老师开设的前八周课程，老师上课挺幽默的，最后几节课还给我们透露了期末考题方向，半期考试相当于就是这门课的期末考试，五个大题，<ahref="https://lr-tsinghua11.github.io/pdf/复变函数期末考试回忆版.pdf">回忆版</a>在此。考试的时候还是有一点小慌，毕竟题量小、分值大，稍不注意容易翻车。当时留数定理第二个题差点没有考虑到挖去两个点，不过总体还行。考完期末之后还可以提交小论文加分，听说之前疫情期间松神挂过将近三分之一的同学，还是比较恐怖。</p><p>这门课学到的知识倒是基本快忘了，毕竟计算居多，不过松神教会我们如何使用Mathematica 软件，这确实是工科专业必备软件了，djl 他们大一上费曼物理学(1)就要用这个数学专业软件，还是挺有趣的。关于松神还有一些人物轶事，可以看看这篇<ahref="https://news.ifeng.com/c/7fYQffQwnln">新闻</a>。他还教大学物理、分析力学、数理方程、基础物理学(3)，是个比较顶的老师，江湖有“四大松学"之说。他的研究方向为粒子物理和量子计算，算是理想中真正搞物理的大佬了。</p><p><strong>基础物理实验(2)</strong>，未央专属课程，老师跟基物实验 (1)一样，总之大家都是怨声载道的。有了上学期 <spanclass="math inline">\(\LaTeX\)</span> 经验，这学期找 gha 要了 typora的仿论文样式，写实验报告快了很多，加上这学期有一定的 Matlab知识，绘图什么的不在话下。前半学期最忙的时候可以当天做完实验当天交实验报告，报告均在<span class="math inline">\(90\)</span>分以上。塞曼效应那次实验遇到环境学院的lhgg，挺好说话的助教，在跟他交流了有关磁场和电流的变化特性之后，他提示我往磁化曲线方向去考虑，由此实验报告有了亮点，第一次在基础物理实验中取得<span class="math inline">\(95+\)</span> 的成绩。这门课也罕见地拿到了<span class="math inline">\(A\)</span> 的等级，也很欣慰。</p><p><strong>基础物理实验(3)</strong>，未央电的专属课程，当时看自己还有学分就顺便上了，这个实验主要是电磁学相关，老师是gxb。老师给分超好，次次 <spanclass="math inline">\(95+\)</span>，最后一次实验报告由于涉及计算机编程模拟同轴光子晶体，给了$100 $ 分，报告详细内容可以看<ahref="https://lr-tsinghua11.github.io/2022/12/15/%E5%90%8C%E8%BD%B4%E5%85%89%E5%AD%90%E6%99%B6%E4%BD%93%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/">这篇</a>，最后当然顺利拿到<spanclass="math inline">\(A\)</span>，这学期两门基物实验课双开，从第四周开始几乎每周都有实验，尤其是中午一点半的实验真的犯困，在巨大的压力之下还是顶住了，本科物理实验就此结束咧。</p><p><strong>二年级男生乒乓球</strong>，wx老师的的乒乓球课，由于自己从小学到乒乓球打到现在，对弧圈、左右旋、上下旋有一定概念，对我来说还算比较轻松。不过还是有些大佬，他们发球我需要一定时间才能破解。之后疫情转为线上授课了，之后的比赛就取消了，转为录制乒乓操视频。这学期要测试<span class="math inline">\(3\text{km}\)</span>以及立定跳远，成绩没有去年好了，主要是今年学业压力太重了。。</p><p><strong>量子力学(1)</strong>，cx老师的，主要是看到培养方案大三下这门课必修，就提前学习，反正如果半期考试考差了就退课，结果半期考试巨简单，考了<spanclass="math inline">\(99\)</span>，就还是继续撑下来。量子力学说实话国内没有讲得很好的教材，这门课用的曾谨言《量子力学教程》，书如作者其名，写得跟数学书有得一拼，用公理-引理-定理-例题书写逻辑，门槛很高，不过认真读下来还是有很多收获。</p><p>不过赵凯华的《量子物理》简直就是玄学，各种描述性的文字，我们学习量子力学又不是去调用量子力学API，而是学习背后的逻辑，整本书甚至都称不上量子力学的说明文档，连调用层级都是乱的，总之这本书骂声一片。赵凯华的《热学》那更是玄学，个人觉得热学的公理化不是很能让人信服，热学是更偏向唯象的一门学科，不过深入到统计部分后会好一些。扯远了，总之国内的教材一言难尽，还是多参考国外的教材吧。</p><p>前半期主要是涉及薛定谔方程以及相关算符的计算，半期考试难度上甚至达不到基物。后半期收获很多，本质上是物理学家绞尽脑汁去求解薛定谔方程，<strong>有氢原子能级、朗道规范、<spanclass="math inline">\(J-S\)</span>耦合</strong>，思想上有<strong>表象变换和微扰论</strong>两种很深受启发的处理技术，按照老师上课的说法，表象变换就是“换皮肤”，确实很形象，对应线代里面的相似型。微扰论本质上是物理学家常用技能了，江湖称“放小量”，跟机器学习用线性函数模拟任何函数有点类似。期末考试跟半期一样，<spanclass="math inline">\(7\)</span>个大题，开始前两个题没有思路，还好考试前听助教习题课说可能涉及上半学期知识，没想到两个题的最终落点都是在不确定性关系，还是顺利解答，期末<span class="math inline">\(J-S\)</span> 变换没理解题意，拿了 <spanclass="math inline">\(93\)</span> 分。</p><p>寒假期间向老师提交了关于束缚态量子数可数性质的证明，主要是结合离散数学(1)中的无穷基数，陈老师赞许了我的工作，并提出量子力学目前仍待完善的观点。的确，总感觉量子力学没有出现一种像分析力学那样对整个经典力学系统比较系统的描述，当然也有可能我学得不够深入，量子场论对这方面应该有更加抽象的叙述。原意是想申请<spanclass="math inline">\(A+\)</span>，但陈老师貌似没有正面回答这个问题。</p><p><strong>基础物理学(2)</strong>，csm老师的，讲授内容是光学和量子物理，第四周有个challenge-test，就报名参加了，当时跟初等概率论和奖学金评定三天连着考，还是比较麻。challenge-test还考察了上学期相对论的相关内容，当时对不确定关系还没有深入理解，脑子里只有<span class="math inline">\(\Delta p\cdot \Delta x\geq\dfrac{\hbar}{2}\)</span> 这一个公式。challenge-test 考过了，直接给<span class="math inline">\(A\)</span> 的成绩。半期的时候 zcy让我去开一个半期小班辅导，对自己的 reputation 有益，当时编写的<ahref="https://lr-tsinghua11.github.io/2022/10/29/Fundamental_Physics_2/">讲义</a>在这里，使用<span class="math inline">\(\text{Q-book}\)</span> <spanclass="math inline">\(\LaTeX\)</span> 框架，现场到了 <spanclass="math inline">\(20\)</span> 余人，加上线上有 <spanclass="math inline">\(50\)</span> 来人，还算是比较令人满意。</p><p>不得不吐槽一下基础物理学的上课逻辑：力学-光学-量子力学-电磁学-热学，请问这是物理学的发展逻辑吗？学量子力学的时候使用部分分析力学的知识暂且不提，涉及到粒子在电场磁场中咋办？例如氢原子磁矩如何解释？真的为教学质量担忧，学生其实最后就只学到了如何调用物理的API，跟高中学习导体棒切割磁场一样，学生根本不知道来龙去脉，物理学成为了公式学。。</p><p><strong>离散数学(1)</strong>，软院 lsx老师开的，内容是数理逻辑和集合论，前面数理逻辑学了一堆感觉翻来覆去还不如真值表快，期末考试唯一需要列真值表的题目结果没看到用字典序，后面集合论学了很多定义，有<strong>自反、反自反、对称、反对称、传递</strong>，以及满足一些条件下的逆序、偏序、全序等关系，还学了集合论的公理化系统，在量子力学中有关能级分离的证明中发挥了重要作用，期末考试寄了，客观题错太多题了，还希望sxjj 捞捞我[可怜]。</p><p>这门课 sxjj捞得厉害，期末考试客观题做得比较急，主观题反而做得好一些。客观题犯了很多低级错误，实在是不应该。下学期开始对计算机相关的专业课要走心了，不然容易酿成惨剧……</p><p><strong>数据结构</strong>，软院 dgg老师开的，学习了各种数据结构基础知识，有平常小作业、oj作业和期末考试，oj 最难写的就是 kd-tree，用完了所有次数（共 <spanclass="math inline">\(5\)</span>次）才过，耗费了好几天时间，平常小作业感觉无理取闹，没啥意思，但是总是犯些低级错误，每次要被扣许多分。</p><p>期末考试个跟考研中的数据结构题目差不多，这里有一份数据结构复习<ahref="https://lr-tsinghua11.github.io/2022/12/25/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%80%BB%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/">笔记</a>，主要还是理解各种<strong>逻辑结构、存储结构以及相应的数据操作</strong>。考完之后第二天跟大师对了一波，客观题问题不大，代码填空题没能很好理解题意，有几个空不对，后面大题就比较放水了，就是些归并排序、插入排序、最小生成树、拓扑排序比较基本的内容。</p><p><strong>初等概率论</strong>，统计学中心 dwl老师开设的前八周课，课程前期讲了一些很偏分析的内容，比如 <spanclass="math inline">\(\sigma-\)</span>代数、Boral 集合，后期就是一些经典的期望、期望、协方差、大数定律以及结合各种分布下的应用。考试有期中和期末，最难的还是概念判断，毕竟我们这种学工科的各种近似放到嗨起的比不过理科人的严谨，错了几个判断题。半期考得还行<span class="math inline">\(94\)</span>，期末不知道咋样，dwl老师说不透露，的确，如果提前让我们知道自己情况，课程替代对于其他同学不公平。期末自我感觉还行，没有完全不会的题，后半期课程替代原培养方案中“概率论”一门课，最后顺利过关。</p><p><strong>马克思主义原理</strong>，马原院长 zad老师的，任务量比较重，但挺适合我这种不怎么懂政治的。有慕课、小班讨论、线下上课、读书报告、期末论文。zad老师还是我们四川乐山人，在仕途上很不错了。他上课还给我们讲怎么写好读书报告和期末论文，多写一些人生经历和个人感悟，少一些空话套话。读书报告看了《共产党宣言》和《帝国主义论》，对马克思主义萌芽初期的历史和发展有一定了解。期末报告写了一下全球形势，自己感觉也没分析啥出来。。最后反正也<span class="math inline">\(P\)</span> 了。</p><h2 id="志愿">志愿</h2><p><strong>软院迎新</strong>，暑假的时候报名成为软院迎新志愿者，在新生报道现场负责给新生登记学籍档案，顺便认识认识软院学生会的一帮人。有肯德基早饭，忙了一上午，当天太阳还比较毒辣，还吃了好几个雪糕，看着各种活蹦乱跳的吉祥物，青涩的学弟学妹们，还是很高兴的。</p><p><strong>答疑坊</strong>，这是大学以来最走心的志愿，开学初期答疑坊招新面试通过，从第四周开始双周坐班，这个志愿充分体现“费曼学习法”的好处，来答疑的主要是微积分A(1)和线性代数的知识，把自己“学会”的知识重新给别人讲一遍之后的收获是不一样的、在答疑过程中，我经常对知识有更加新奇的认知。当时学这门课的时候毕竟也是抱着通过考试的想法，有些知识没有深入消化，尤其是线性代数，这门大一的公共基础课内容是真的丰富。答疑坊这个地方真的是高手云集，在志愿者群里面问问题基本都有人能求解。</p><p>期中的时候收到来自学姐、学妹、学弟的喜报，大四学姐微积分 C 半期80、大一学妹线性代数半期很不错、大一学弟微积分 A(1) 半期99、幸甚至哉。他们分享的喜悦让我在匆忙的期中周也很开心。</p><p>后半期我拓宽了疆域，开始接离散数学、数据结构等计算机方向订单。不得不说，在答疑坊这个地方，我能够即时地了解到各大院系培养方案的差别，比如电子系大杂烩离散数学，经管学院各种错误代码满天飞的数据结构，计算机系程序设计基础跟数据结构难度有的一拼的算法部分。成外几个学弟学妹也经常问我程设的问题，他们像极了当年的我，代码风格脏乱差，代码习惯还得从小培养。</p><p>期中给大一学妹讲杨 Sir线代的时候口碑还比较好，后半期她推荐给另一位外文系的学妹单独辅导线性代数。杨Sir的讲义一直很有品味，比中文涉及的知识面更广，让我在<strong>奇异值分解、厄米矩阵、高维空间数据点拟合</strong>有了更深一步的认识。每周末的授课让我的知识掌握能力和表述能力都有很好的提升，尤其是当把各种对矩阵的拆解串起来的时候，有醍醐灌顶的感觉，教学相长这四个字真不是乱说的。</p><p>我自己平常很难遇到异性，答疑坊这个圈子来问问题的很多都是女生，微信好友个数也随之增加，某种意义上好友男女比更加均衡。平常在解答女生问题的时候顺便克服面对女生的胆怯，也要为之后考虑咧。、</p><h2 id="科研">科研</h2><p>这学期 SRT 报龙明盛的课题，结果被拒绝了，主要是报的同学都太强了。不是129奖学金就是国家奖学金，我一个非软院血统的排不上号，不过也有可能有其他因素吧，进龙组还是比较难的。</p><p>然后听 zcy 的建议选个贵系的SRT，然后就报了关于因果推断的，这学期下来熟悉了一下知识图谱和 PC算法，做的主要内容是 AI forScience，还有个医学院的哥们儿，有很多的生物医学名词搞不太懂。不过这方向上的paper 发表在机器学习会议上，最重要的还是 AI的设计，说大点叫机器学习领域的落地，说小点叫医药蹭蹭 AI 的热度。</p><p>不过我们只有三个人，大家都太忙了，毕竟没有target，也不知道这个项目最后会以什么方式呈现结果。</p><h2 id="社工">社工</h2><p><strong>校科协</strong>这学期貌似没干啥。</p><p><strong>贵系科协</strong>组织了一次见面会，大家相互介绍了一下，高老板阐述了相关工作，之后开展了几次AI 学习小组，不过在预料之中，这个项目自然而然地烂尾了，讨论 AI最后变成讨论作业。</p><p><strong>软院科协</strong>负责 <ahref="https://ssast-readme.github.io/">ReadMe项目</a>，传了很多大一下学期记的电子版笔记，志愿工时真的丰厚，知识就是力量。这学期每隔几周就举办技术部例会这种形式还很好的，大家聊聊最近学习中遇到的问题，吐槽一下，顺便分享一些trick，学习到很多 mac terminal 相关插件，直接一个<code>brew install</code> 就装好了，至今也还很有用。</p><p>这种举办方式能让组员凝聚起来，大家唠唠嗑挺好的，毕竟大家课业都很繁重，这种方式既能放松心情，也能学习到更新的技术，一举两得。</p>]]></content>
    
    
    <categories>
      
      <category>总结</category>
      
      <category>大二上</category>
      
    </categories>
    
    
    <tags>
      
      <tag>大二上</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Summary of freshman year</title>
    <link href="/2022/12/29/%E6%80%BB%E7%BB%93/%E5%A4%A7%E4%B8%80%E5%AD%A6%E5%B9%B4%E6%80%BB%E7%BB%93/"/>
    <url>/2022/12/29/%E6%80%BB%E7%BB%93/%E5%A4%A7%E4%B8%80%E5%AD%A6%E5%B9%B4%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<p><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"theme":"#FADFA3","loop":true,"lang":"zh-cn//语言","screenshot":true,"hotkey":true,"preload":"auto","volume":0.9,"video":{"url":"https://lr-tsinghua11.github.io/video/亲爱的旅人啊.mp4","pic":"https://lr-tsinghua11.github.io/img/亲爱的旅人啊.jpg"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></p><p>之所以写这个大一学年总结，是因为看到很多学 CS的前辈们都喜欢在稍微放松的节点总结一下。之前高中的时候没有这个习惯，感觉时间过了就过了，忙完这件事情总有下一件事情要忙，权当写一个像样的大一总结吧，也希望看到这些的你有所启发。</p><h2 id="暑假">暑假</h2><p><strong>高考</strong>，也许上天还是看得起我的努力（如果之后有时间我可以详细叙述一下我高中的破防时光，不过现在觉得也是一笔财富），高考成绩误打误撞地考上了华子的（半个？）CS，有欣喜，也有忐忑，不知道在这条全新的道路上自己究竟会发展成什么样子。</p><p><strong>学车</strong>，高考完后几天在一个露天坝花了一上午的时间学会骑自行车（手动捂脸），接着暑假先是和绝大多数毕业生一样报名学车，在闷热的夏天里每天重复着同样的动作，个人觉得还没有在华子脱靶骑自行车好玩，学车就和几个在县城读书的高三毕业生一起学，之间也很少有交流，教练也经常刷短视频，不得不再次评价短视频推荐算法的厉害，反正感觉好多时间就在这种无聊透顶的驾驶中消逝。科一科二顺利一把过，但暑假后期由于开学比较早，科三没预约成功，就只有等着寒假再说。</p><p><strong>游泳</strong>，八月份联系上教育园区的游泳班，想的是毕竟在华子毕业游泳不过不行啊，就去学了个蛙泳，小学的时候我还有好几次去游泳馆被水呛到发烧的经历，心理上不是很能放松。跟一堆5、6岁的小孩一起学游泳，真的是搞不懂，明明我都知道阿基米德原理，结果自己的平均密度很容易变高，老是减少排水量，那些小朋友在水里面都开始到处耍了我还不得要领……反正前半期还学得比较难受，后面掌握到技巧后慢慢的就会了，后面几次就在1.4m的水池游来游去，反正至少淹不死了……游泳的话前面由于刚学会骑自行车比较兴奋，每天骑一个小时到郊区学游泳，后面发现晒黑了，就改乘公交车。</p><p><strong>编程，</strong>在母亲大人认识到的一位从业者的建议下，开始啃《C++primerplus》。虽然现在看来这种入门方式非常不友好，并且当时啥也不知道，拿着破windows 电脑（其实在后面我的<del>调教</del>下还蛮不错的），安装 Vs6.0，画风如下图。真的搞不懂，那个时候我自己的鲁棒性堪称极高，在这样的界面以及各种过时C语言规范折磨下，我还能把那本将近七百页的书看个八九不离十，做完大部分现在看起来几乎没什么意思的习题，虽然大部分忘了……然后我承认是看到python 语言各种天花乱坠的宣传，也搞了一点点 python，主要也就是熟悉python 语法。</p><p><strong>夏令营，</strong>严格来说不算是一个夏令营，就是一个线上的讲座吧，主讲人是华子宣传片《追光少年》里面的角色原型，研究立方卫星的，主要是讲他们实验室的工作，反正也听不懂就报了名。最终有两个作业，一个是弄一个单片机，一个是用matplotlib结合数据绘制卫星的轨迹图。当时觉得前面那个挺有趣的，就买了个单片机，配置了一堆硬件软件，最后把硬件语言烧在芯片上，大概跟zcy 的数字电路实验比较相似，只不过我们这个是超级低配版的。好在有 C语言基础，照着 PPT上的代码结合网上的参考资料，还把进阶内容也做了出来（呼吸闪光灯），感觉效果还行。</p><p>暑假大概就这样，当然免不了毕业典礼、宴席、经验分享以及杂七杂八之类的，主要大部分时间生活在县城，同学之间来往很少，就这样，在教练车的兜兜转转中，在阳光下聒噪的蝉鸣中，在跳来跳去的黑框框，暑假就这样过去了。</p><p>其实现在想来，那个暑假有点封闭，跟之后寒假生活亦或是今年的暑假相比，感觉自己懵懵懂懂，也没跟外界或者是其他人有交集。</p><h2 id="秋季">秋季</h2><p>初高中那时幻想大学的生活会很丰富，但是上了华子之后，还是真的感觉事多。学业上写沟微积分线性代数程设每门课都比较硬，每周都要花很多时间，尤其是那个时候乖到所有课都到教室，所有习题课都去听，所有作业都独立认真完成。</p><h3 id="学业">学业</h3><p>秋季学习一共上了 <span class="math inline">\(8\)</span> 门课程，共<span class="math inline">\(24\)</span> 学分。</p><p><strong>军事理论</strong>，考前认真复习了，主要是成外学长们有齐全的资料，感想提前写在参考资料上，感谢这些资料让我大学开局<span class="math inline">\(A-\)</span>。</p><p><strong>写作与沟通</strong>，主题是<strong>数字化生存</strong>，其实现在看起来这个主题还蛮适合的，至少我的博客是这样的。ZYY人美心善，是个宝藏老师，让这门课的痛苦减轻了不少。短文写了一个贴吧现象，自认为比较烂，长文总体框架选择得比较好，从媒介发展视角探讨了微信“拍一拍”流行的原因。虽然这些传媒学方面的知识之后应该是用不到了，但至少学到的文献查找以及一些写作技巧还是很有帮助的。</p><p><strong>微积分A(1)</strong>，WXF 的课对我来说真的nice，他从数的起源开始讲起，自然数、有理数、实数、良序关系、绝对值、指数对数、三角函数，一切被中学数学公式化（或者说功利化）的符号在几条公理的基础上就能建立起来。</p><p>最有印象的是 WXF第一次开放线下答疑，同学们“蜂拥而至”，当时好像是用阿基米德公理证明选择公理什么的，我们思考了好久都解不出来，WXF直接口述证明过程，赞叹不已。前几次作业，每次作业花上十个小时都不过分，有的open question 想不出来，还让我不得不去看实分析教材……</p><p>但是不足的是，从功利的角度，WXF上课对考试帮助不大，毕竟平常都深入数学的深刻本质去了，哪有时间讲怎么算对考试的那些题……好在当时维持了高中刷题的好习惯，提前做了一些往年题，保持考试手感，这门课至少没寄掉……按照WXF 的说法，期末解答出附加题的同学且总评 <span class="math inline">\(\in[90,100]\)</span> 的同学总评是 <spanclass="math inline">\(A+\)</span>，当时发下试卷看了一下附加题，好像是用一个积分中值第二定理再处理一下就能证明，就先做了附加题，最后拿到人生第一个<span class="math inline">\(A+\)</span> 。（手动狗头）</p><p><strong>线性代数</strong>，JY 姐姐的课，比较 nice，讲课 ppt非常数学，满篇都是公式，不像 WXF 还放点 Geogebra作的图，但思路确实比较清晰，至少对于我这种代数基础比较薄弱的很友好。还有JY 每次作业都有些补充题需要多动一些脑筋，而且他们作业都是手批，比 WXF的助教认真多了（ WXF 助教基本到期末才改平常的作业） ，可见如果是 JY的助教工作量是有多大。</p><p>比较有印象的一节课，她讲到正定二次型的时候，举了一个薯片形状为马鞍面抗压能力大的例子，还挺有趣的，JY姐姐难得在课堂上笑了一次。虽然有时候下雨的冬天坐在五教会犯困，甚至有次把笔记本落在教室了，还好一位日新的好心人帮忙送还，但是JY 的课也很推荐，至少学到了很多东西。</p><p><strong>程序设计基础</strong>，软院 LYS老师的大硬课，这门课来年春天的时候被评为优秀课堂。其实个人觉得这种课其实上课啥的都不重要，最重要的是动手实践。经常在LYS 老师课上写 JY 的线代作业，然后 LYS老师讲到他在美国读书什么什么的就认真听一下……</p><p>每周四都要上机，在东配楼，机房电脑上全是灰尘，随着课程的进行，后面和链表相关的题真的让人头疼，感觉用数组做呢，感觉过不去，用链表呢，链表要手写，太麻烦……然后当时助教让我当组长，结果就成了PPT 制作者 + PPT 报告者……虽然增加了工作量，不过也能锻炼自己。</p><p>然后临近期末就是头疼的大作业了，助教给了一个大约 800 行用 WIN32编写的框架，要求实现一个横版闯关游戏，那段时间是真的肝，而且当时一点模块化思想都没有，一个文件写到底，一旦调不出来直接塞到全局变量去，到后面加个按钮都非常炸裂。当时的启蒙书是毛星云的《逐梦旅程：Windows游戏编程之从零开始》，哎，没想到浅墨竟然就在我大作业交后两天辞别人世，我一直记得《逐梦旅程》中的一句话：</p><blockquote><p>谨以此书献给所有怀揣游戏开发梦想的人们，因为，你们不是一个人在战斗。</p></blockquote><p>愿浅墨在天堂实现他的梦想，逝者安息。</p><p>期末考试五个题，一堆<strong>码农题</strong>，写起来还挺难受的，当时不知道一些技巧，有个题要讨论八个方向，直接复制粘贴改数据八次……然后最后一个算法题，还以为自己没法做出来，但当时还有将近两个小时的时间（手动狗头），就拿出纸笔开始写思路，当时想测一下穷举法能过几个，然后写了一堆for，提交，结果就神奇般的过了，对，除了处理初始数据有个优化之外，其他啥都没优化，直接就给过了，然后三小时考试一个半小时提前交卷……LYS老师是图形所的，之后还会提到他。</p><p><strong>体育(1)</strong>，WJH老师，是一个和蔼的老头，经常口出一些顺口溜，<strong>“祖国好，清华好，无体育，不清华，全面发展我最好”</strong>，清华的<strong>3000米</strong>是真的难受，对于我这种初高中跑1km都难受得要死的体育差生简直是五雷轰顶。不过跟着清华阳光长跑的氛围，经常在紫荆操场上跑步，逐渐在耐力方面有所提升，长跑项目还是可以练的嘛，贵在坚持。反正最后体育成绩也算可以接受。</p><p><strong>思想道德与法律</strong>，ZXM老师，这门课任务量挺大的，分组小组展示。个人其实很讨厌这种小组活动，感觉跟生产队一样，分组也全看运气，如果分到摆烂组是真的难受。当时还选了一个组长，结果我实在看不下去，好多事情被我一个人包办了……</p><p>然后不得不说，有次上课一个同班好朋友拉我翘课去写微积分作业，结果那堂课就签到了……也没有怪罪好朋友的意思，当时我自己也没有定力，思修教室人很多很闷，特别难受，觉是睡过好几次了，课也没听进去几个字，思修群倒是特别热闹，好像老师也不怎么管，都让大家畅所欲言，唯一的收获是一堆表情包……就这样咯，本来对这种从小到大都不感冒的课程无所谓。</p><p><strong>英语听说讨论</strong>，Matthew的课，一个新聘请的外教老师，本来对华子的英语课抱有希望拯救我这垃圾英语，没想到还是失望了……前面几节课认真听讲，后面结果摆烂，上英语课的时候当天程设小作业就放出来了，于是在英语课堂上写代码，然后个人presentation 还行，结果又是 group presentation随机分组难受，一堆人摆烂，好多事情都是我做的，结果最后展示的时候组员忘词是真的无语了好吧……反正跟zcy 学长说的一样，华子英语课上是学不到东西的……</p><p><strong>未央工程导论</strong>，究极大屑课，跟贵系的<strong>信息技术科学概论</strong>有的一拼，未央十二个专业方向“百饼齐放”。而且这课还要签到，签到学号十分随机，时序数据预测很难。有次讲座是副校长，直接让半个未央的同学全来签到，还记得那次室友在群里一发，我们宿舍剩下三个人马上骑车飞奔到现场，真的是有惊无险。好在那堂课讲课还行，用一个动画展现了排队中的统筹策略，授课比较风趣。不过这门课是真的难受，还要写两篇报告，照着PPT 修修补补，总算弄完了这个烂摊子。</p><h3 id="srt">SRT</h3><p>未央工程导论中间有几堂课是导师引领相关研究方向，然后 SEY老师开始画大饼大法把我们一半的同学<del>骗</del>到 SRT项目中（包括我），项目题目叫<strong>二次曲线曲面函数求交库</strong>，是关于数学方面很底层的求交算法实现，前期对git 命令不是很熟悉，以及对整个 SRT项目抱有太多期待，投入了过量的时间……总之，顺着 GEMS 项目迁移了许多函数到GMT中，得到相应的测试，但感觉浪费了不少时间……不过，大一需要尝试，也算是一个经历吧……</p><h2 id="寒假">寒假</h2><p><strong>高中助教</strong>，年前回了趟成外当一个培训机构的助教，顺便和lsq在成外附近把好吃的又都吃了一遍，新开那家翘脚牛肉店味道不错，反正每顿饭都可以报销，就还算吃得痛快。还有一次吃了简阳羊肉汤，之前我家楼下有一家羊肉汤店，烟囱直上，出口基本就我们家窗户附近（我们家顶楼），每天中午都可以闻到非常浓郁的羊肉汤味道，可能开始觉得有点腥，后来闻惯了真觉得这是独特的家乡味道。确实吃着比较爽，还记得当时为了报销，把票分成了两次。</p><p><strong>“给我卷”</strong>，期间给 zcy说了目前的成绩，他特别兴奋，直接打来一个电话，我记得当时这个电话打完，我绕着成外不知道走了多少圈，他对我很是一番鼓励，还专门拉了一个群，跟罗哥一起提前卷卷下学期的课程。也算是那次真正认识了zcy吧，之前高一的时候跟他一起在东五楼学竞赛，现在他确实混得风生水起，本来刚刚开始大学生活比较迷茫，他算是让我少走了好多弯路。</p><p><strong>约饭</strong>，时期间还约了高中的英语老师在猫爱上鱼这家店吃烤鱼，她送了我一个笔记本，然后互相聊了聊近况，高中低迷期间她经常鼓励我，我还是很感激她。在四处逛教室的时候还见到了高二期间的高中班主任，我们在外面吃富顺豆花，他疯狂安利上海这座城市的好，他也感觉是个有趣的人，每天乐呵呵的。心态确实好，当年被各种竞赛教练“围攻”，还是安心教书，跟学生关系也挺不错的，对其他老师都没有怨言，我们也聊得开，高考前经常找他聊天，也很感激他。</p><p>说起来，高中过去小半年了，怀念的还是最纯真的那些老师，而不是各种以功利为导向、用奖金刺激、搞特殊化的竞赛老师。也有可能与竞赛上的失利有关吧，或者说是另一种形式上的PUA？总感觉竞赛这段岁月很不真实，很难想起那些年中存在温情的时候了，倒是留在普通班各位老师同学的鼓励让我觉得自己经历过高中的青春岁月。有次晚上考试监考还碰见了现任副校长的物理竞赛教练，他问我回来想干嘛，我直接回怼了一句“挣钱”，直接结束话题，后来他也就没来问我了。</p><p><strong>过年</strong>期间，当年还是要享受过年的气氛，虽然还是到处都有疫情，大年初一乐山大佛一日游，大年初六青城山一日游，还是感谢老爸，都是当天去当天回来，路上我基本都在睡觉，而我爸不仅跟我们走了全程（微信步数20000 步+），还开了往返的车。</p><p>中间几天就是到各种亲戚家串门，各种吃吃吃、耍耍耍，老屋里那个平板上的植物大战僵尸2从来都是过年的时候我推进进度，寒假期间貌似又通了两个地图，这种塔防游戏设计确实有意思，尤其是能量豆的合理使用，增加了非常多的不确定性。</p><p>之后就是 <strong>SRT</strong>那边推进度，主要问题还是有一大半的人摆烂，基本就三个人在做事情，推进过程中也耗费了不少时间。间有次去考科目三，结果两次都是最后靠边停车没到位，还是有点气，不过也没法。最后跟ly 一起从简阳坐飞机回到北京，开始大一下的生活。</p><h2 id="春季">春季</h2><h3 id="学业-1">学业</h3><p>春季学习一共上了 <span class="math inline">\(16\)</span> 门课程，共<span class="math inline">\(26\)</span> 学分（不算 PF 的）。</p><p><strong>微积分A(2)</strong>，一如既往地选择了wxf，前半学期听课出勤率挺高的，能有 50-60%吧，后半期大多时候就没怎么听了。前半期 wxf依然是一如既往地天马行空，讲了许多数学上比较抽象的概念，比如<strong>范数、凸集、双线性、梯度下降法、勒让德变换、Gamma函数</strong>等一系列知识，不完全统计的话涉及到<strong>高等代数、泛函分析、机器学习数学部分、数学物理方程</strong>等各种课程。</p><p>一如既往地，认为讲的这些和期中考试没有半毛钱关系，结果挺难的，印象中压轴题是平常一次作业题，结果没做出来，就没上90分，还挺亏的。后半期就基本没怎么听了，讲的都是些电磁学里面基本都会用到的东西，主要熟悉了一下数学意义上的缠绕数，没记错的话后半期几乎就没听过课。</p><p>作业的话每次都使用的 markdown格式，跟大师学的，各种数学方程式的排版技巧基本都掌握了，作业以及全套 pdf链接可以点击<ahref="https://lr-tsinghua11.github.io/2022/06/18/Math/%E5%BE%AE%E7%A7%AF%E5%88%86A2%E4%BD%9C%E4%B8%9A%E5%90%88%E9%9B%86%EF%BC%881-10%EF%BC%89/">此处</a>，也算是为之后的论文排版提供一定基础？这门课还开设了周末“高等习题课”，上来就讲了一堆实变函数的东西，根本听不懂，后来去了几次也就开摆了。期末的时候想到可以合影留恋就去听了一下，讲的常微分方程幂级数解法，也属于数学物理方程范畴吧，这部分内容听着还行，毕竟氢原子波函数就是靠这解出来的。</p><p>期末的时候在计算机开放实验室考的，最后总排班上第三（第一还是成外的巨神zjk ，信息集训队预科班恐怖如斯），加了些周天习题课的证据。又获得了一个<span class="math inline">\(A+\)</span>，这样的话对我来说 wxf在给分方面还行（再次狗头）。</p><p><strong>基础物理实验(1)</strong>，这是我上大学以来最无语的课了，实验内容跟玩具一样，只要会认字就能做完实验拿到实验数据，然后评分仅仅只看实验报告，简直没有比这更sb 的课了。然后就想着怎么卷报告呗， 好家伙在 windows 上 <spanclass="math inline">\(\LaTeX\)</span>就配置了一天，然后各种拼接模板，关键是编译花的时间太长了，一篇报告基本要花好几天。学了python 用来画图，结果时间上还是消耗得比较多，就应该用 excel水水，没必要事事都做得特别精细。而且无论报告写得多精致，基本就在 88-92之间徘徊，最后拿了 <spanclass="math inline">\(A-\)</span>，属于是大一唯一 <spanclass="math inline">\(A-\)</span>的理科了。以后吸取了教训，这种课就不应该花过多时间。</p><p><strong>大学化学(B)</strong>，让人不理解的课，但未央大半部分都要学这个，想想也就算了，之后还要学生物导论，是真的理综都被打牢了。选的cc 老师的课，期中巨水，可以带 A4纸，就在一个比较小的教室考，基本可以看周围同学的，反正也只占一次作业分。期中考完之后北京就爆发疫情了，本来可以查卷，结果试卷送不进来，到了期末的时候才能查卷。</p><p>我一般很少查卷的，那天可能期末周比较闲，就去何添楼查卷，结果助教就说了一句很可疑的话，查卷的时候不能询问正确答案，我就觉得很奇怪。然后就把半期试卷上的内容基本都背了下来，我还记得我坐在楼梯上打开电脑开始敲markdown，果不其然，期末就考了好几道一样的题，好在通过百度我已经提前得到了标准答案，最后还意外地拿了<span class="math inline">\(A\)</span>，比较对得起自己的努力。</p><p><strong>中国近代史纲要</strong>，选课经历海淀区最大赌场选上了sw，据说按照字数线性给分，快到截止日期的时候跟 yyj 到清华学堂 rush期末论文，在 zcy 的建议下写了觉醒年代的观后感，水了 1.4w字，期末考试的时候抄 ppt手都抄麻了，尤其是中间有个题，连着十几页貌似都是答案，抄到后面实在是抄不完了，就偷工减料了一些，问题不大。第一次在政治课上拿<span class="math inline">\(A\)</span>，最离谱的还是 sw经常在群聊以及朋友圈里转发各种公众号，然后每次点击去都是违规无法访问，也没什么，课水给分好的老师也不多了。。</p><p><strong>形式与政策</strong>，lzd后八周，赶上疫情，有几次线上，中途校长来上了一次课，开始听着还有意思，后面就比较无聊了。期末写了一篇有关乡村振兴的论文，3k字也还行，也拿了 <span class="math inline">\(A\)</span>。</p><p><strong>诗词格律与创作</strong>，最无语的一门课了，老师上课照着自己提前写好的word文档念，后面去的人越来越少，然后这个外校聘请的老师不知道清华的打分制度，我交了几首高中期间写的一些诗词，格律方面也都查过了。可能是不符合老师的口味吧，然后吃了一个<span class="math inline">\(B-\)</span>，是真的难受。最难绷的是本来有 PF机会的，结果问了助教，他说问题不大，然后就这样了。。开校的时候老的师可能也有点内疚吧，希望给我们申请成绩复议，结果人文学院的教务就一直通不过，我了解到有<span class="math inline">\(4\)</span> 位同学吃 3.0，我也有同学拿了4.0，不过也就这样咯，这位老师应该也只有这一次失误了，相信后面的同学也都会好些吧。</p><p><strong>体育(2)</strong>，zsl老师，他其实算是半个体育老师，搞数据分析的，自己说 python 和 R语言玩得贼溜，依据统计模型给运动员提供科学策略。的确，现代的体育项目都是在玩高科技，专业团队和运动员都是相辅相成的。zsl老师人特好，当时引体向上我们班好多男生都菜（包括我），他专门单独教我们怎么练习，然后有次模拟测试的时候我从单杠上摔下来了，虎口磨破了皮，他就把花名册给我让我代替原来的班长。之后疫情教职工不能进来，然后我就成了组织者，笑死，自己三步篮都悬还组织大家考试，反正考试应水尽水，数据也是我在统计，除了有位同学记了PF，其余基本都 4.0 吧，拿了 <spanclass="math inline">\(A\)</span>，百分制98，应该是担任临时班长加了些分。</p><p><strong>游泳测试</strong>，十二周左右吧，游 50m就合格，旁边站着若干个拿着竹竿准备物理意义上的捞人，蛙泳过去的，比较慢，我记得还被后面一位同学反超了，还被狠狠地踢了一脚，最后上岸的时候我大口地喘气，有惊无险地<span class="math inline">\(P\)</span> 过了。还记得测完试去东主楼听 rls将如何科学上网，整个教室窗帘紧闭，周围好几个贵系的老师看守，阴森恐怖，也教了怎么搭建博客，hexo那一套，也算见识了大佬。</p><p><strong>英语阅读写作(B)</strong>，zzp老师的，这门课是真的任务量大，每周都要写预习作业，然后写短文长文。那个老师长得还真像我爸，语气态度什么的都很温和，上课都很死气沉沉，感觉大家都很水。期末考试可以使用各种电子词典，最后混了个<spanclass="math inline">\(A-\)</span>，貌似啥也没学到，自己的英语水平实在是堪忧。</p><p><strong>科技与人文研讨课</strong>，属于是未央的专属课程了，两个学期一共<span class="math inline">\(1\)</span> 学分，期间写了 <spanclass="math inline">\(6\)</span>篇读书报告。主要是选择的文章可读性比较差，那些田野调查和事实相比不能说有理有据吧，只能说毫无关系。上学期和这学期一共汇报过两次，一次是菊儿胡同，吴良镛工匠的杰作，不过现在都成为商业街泯然于南锣鼓巷了……另一次则是有关大厂的田野调查，汇报完之后，班主任对这本书的各种细节利用事实狠狠地反驳了一番。的确，一个针对大厂的社会学研究听着就不像是反映真实情况的。当然薪资不想书中反映的那么少，只不过996的情况确实比较普遍。班主任说我们这个行业一般三种途径，国内大厂、外资企业和体制内，对应三种不同的生活方式，主要看个人的喜好。最后，他还给我们展示了他们组SRT 的成果，发了一篇 CCFA（实际是还没正式登刊），作者是他的博士生 xjz还有软院大一学生 hyx。他还向我们推荐了cs-Rank，也算是让我们提前了解一些目前科研的现状。由于我们班代表 ljf上学期展示得分最高，助教也认可我们读书报告的美观，拿了 <spanclass="math inline">\(A\)</span>。</p><p><strong>基础物理学(1)</strong>，wsy老师，内容涵盖力学和相对论，没啥难的，只不过每周都有作业，期中还考得不理想，一去查卷发现自己真的想当然了，期末就认真准备，心想还是混个<span class="math inline">\(A-\)</span>吧，没想到期末异常简单，好几道跟作业一模一样的题，最后 <spanclass="math inline">\(A\)</span>。有意思的是，期末做了 js 老师之前的<ahref="https://lr-tsinghua11.github.io/2022/06/20/General%20Physics%20finals(Jiang%20Shuo)/">两套往年题</a>，结果他们更水，可以带A4 纸，稳定的 <span class="math inline">\(2-3\)</span>道作业原题，还有加上这学期一共连着考了 <spanclass="math inline">\(3\)</span> 次的题。题目是关于 16年那次震惊世界的引力波探测实验，数据都不改是认真的嘛。。当然也跟当时的疫情有关，据说物理教学组的说法也是应水尽水。</p><p><strong>面向对象程序设计基础</strong>，yjh老师，软院图形学所长，知乎上评价蛮高的，也许是年轻的时候太刻苦了没注意身体，这门课一直是录播，就听着广播音。后来大家都没去了，课程作业也很无聊，给一个话题代码、测试、报告啥都自己写。我评价自己的作业质量是单调递减，结果还一直是100 分，是真的离谱。期间 yyj 问过我很多贵系的 oop作业，感觉他们内容非常丰富，主要是有oj，各种题目涵盖调<strong>试技巧、STL、数据结构、现代 C++体系</strong>，蛮有意思的，只不过他们期末考试貌似 oj 系统挂了。。</p><p>说回来，期末写了个大作业，写了个函数绘图器，我在 github 上找了一个用qt写的，我还征求了作者的同意，魔改了一波，现在看来中缀表达式处理得不是优雅，当时用的很慢的regex 正则表达式库，应该用栈和运算符优先级来转换的，或者 python 里面自带<code>eval()</code>，不过当时不太懂，还是年少无知。。最后提交到算法挑战平台上可以加分，最后拿了<span class="math inline">\(A+\)</span>。</p><p><strong>计算机系统研讨</strong>，很水的一门自带 PF的课程，作业有一些杂七杂八关于体系结构的 task，顺便练习 wsl各种操作，反正作业交了都是 <spanclass="math inline">\(P\)</span>，算是混了个科学课组的学分。</p><p><strong>初等数论</strong>，跟着室友一起报的，他之前学数竞，这些内容对他不算难，作业只占<spanclass="math inline">\(20\%\)</span>，半期的时候担心寄，就记了任选的PF。期末还算比较认真，考场上只有最后一个题的第二种情况没想出来，后来发现思路没跳回到前面。结果总评<span class="math inline">\(94\)</span>，得了一个 <spanclass="math inline">\(P\)</span>。虽然有点小遗憾，不过倒也没啥，毕竟也学到了很多知识，掌握了<strong>孙子定理、剩余系、原根、勒让德符号</strong>这些概念，在数论层面至少也算是入了门吧，之后学习散列表的时候发现还挺有用处的。</p><p><strong>高等代数选讲(英)</strong>，杨 SIr的课，课上得比较好，属于是基本旁听下来的一门课，主要是跟 yyj一起讨论，学到了很多代数方面上的知识。不过感觉数学的提升是永无止境的，现在就算再学一遍线性代数都有不一样的收获，之后有空我也多复习一下这方面的内容，尤其是关于张量那一块，据说研究上经常用得到，毕竟杨Sir 也说过万物都是 Tensor。</p><h3 id="srt-1">SRT</h3><p><strong>大学生研究训练项目(SRT)</strong>，期中周准备挑战杯答辩，熬夜赶进度，我去参观了其中一个信息赛道专场的全过程，挑战杯真的可以叫做PPT杯，内容各种天花乱坠，只有一个超声波定点传声有实物展示，挑战杯不让说院系也是有道理的，毕竟很难从一个6分钟汇报能区分各种项目的优劣。最后我们项目获得了信息赛道二等奖，还是对得起期中周之前好几天的熬夜付出。最后应该是挑战杯获奖的原因吧，这门课拿了<span class="math inline">\(A+\)</span>，虽然不知道评分写个 <spanclass="math inline">\(96\)</span> 是什么意思。。</p><h3 id="竞赛">竞赛</h3><p>期中周的时候去参加了一下求真书院举办的<strong>新生数理基础大赛</strong>，具体经历可以看<ahref="https://lr-tsinghua11.github.io/2022/04/10/Math%20Contest/">这里</a>，考试的时候有“无限量”的士力架，题目和食物都不错，体验感很好，亚赛风格。当天晚上就出了成绩，大师拿了第一92，我第二 88，笑死，比微积分半期还高。可以报销 400 元，不亏。</p><p>5月份跟大师他们组队参加<strong>清华大学人工智能大赛（Thuai）</strong>，大师一波操作，指出赛事方平台shit代码中的各种通讯问题，不得不佩服大师对代码的理解能力。比赛主要比拼的是“英雄”和策略的选择，大师码力一个顶仨，不过中期因为比较忙大家比较摆，DDL前其余队都隐匿实力，结果我们中招了，想了一个策略看着还行就提交上去了，结果被暴虐，混了个三等奖。</p><h3 id="社工">社工</h3><p>在室友的邀请下，进入<strong>校科协活动策划部</strong>，这学期的主要工作是筹办第四十届挑战杯学生课外科技作品展，担任工作人员，在展览区里待了一天，看到了很多有趣的玩意儿。比如贵系有个根据盲打显示单词的，估计是用的隐马尔科夫模型训练了一些样本，本质上跟拼音输入法也差不多。还有生命学院用VR眼睛可视化他们的生物大分子成果，挺逼真的。航院还是什么具体忘了，下载一个软件来控制无人机飞行，然后照了一张照片。现场也有Thuai的解说，整个展览吸引了很多同学，很棒的一次体验，说是工作人员，倒不如说也是参观人员。</p><p>总之，这学期在学业方面也算是学到了更多的东西，逐渐适应了大学生活，也许有一些成绩上的小遗憾，不过长远来看到也没啥。生活也需要留一点遗憾嘛，这学期圈子也扩展了一些，相比之下，还是心满意足了。</p><h2 id="小学期">小学期</h2><h3 id="学业-2">学业</h3><p>小学期一共上了 <span class="math inline">\(4\)</span> 门课程，共<span class="math inline">\(9\)</span>学分，一路上下来我自己也感到震惊。</p><p><strong>程序设计实训</strong>，这门课是培养方案里面的课程，软院的 xf老师上的，讲课确实挺不错的，跟之前的课形成鲜明对比，不过 PPT内容其实比较单一，基本就是照着 more effective C++讲的，感觉好多东西也不怎么用。当然也有可能是我 C++学得不够深入。。期间写 24点属实伤了一些脑筋，后来才发现可以用递归的方式写，当时硬刚了一个递推的写法，其余都是些Qt的练习。大作业是写一个视频剪辑软件，知道消息之后提早写了一个出来，后来发现与需求有点出入，不得不评价助教还是有点摆，md需求文档不是很清晰，文档最后一句话还缺少宾语。。在二教答辩，期间还出了一个bug，后来联系助教说没事，顺利拿下 <spanclass="math inline">\(A\)</span>。</p><p><strong>程序设计训练</strong>，这门课是贵系的 hwt 老师开的，在 zcy的建议下软院贵系双开，同时推进两个大作业，h 老师 Rust语言的设计理念讲得挺不错的，这儿有一份<ahref="https://lr-tsinghua11.github.io/2022/09/11/rust/">笔记</a>。Oj上的作业也蛮有意思的，还记得有一个二叉搜索树的题目，感觉贵系的风格就是你不会，总有人会。还好Copilot 基本都会（狗头），不会的就写注释”询问“它。不过 Rust编译器是真的智能，各种容易触发安全问题的代码片段全都提示出来，基本扫光所有error 和 warning 之后，代码能出的问题就只有运行逻辑问题了。Rust的生态圈也很友好，虽然赶不上python，不过应对需求应该也够了，况且其速度优势不再话下。后来也许是跟贵系另外一门爬虫小学期相比，Rust这门课的任务量实在是太大了，取消了两次小作业，的确，只有经历小学期的人才能体会到什么是真正的工程。这门课有个课程贡献加分，我就把课程笔记传了上去，之前帮助教过了一遍环境配置，加了一些分，也拿下了<span class="math inline">\(A\)</span>。</p><p><strong>量子计算研讨课</strong>，贵系 yms 教授开的，zcy让我跟他一起上，没想到这门课对全校学生开放。不过这门课的门槛是真的太高了，上来就从希尔伯特空间、量子力学五大公设的数学表述开始讲起，属实有些劝退，后来是jzf教授讲授的关于量子算法、量子电路相关部分。他自己也提到，许多做量子计算方向的博士生也难以掌握Shor算法，的确，非常前沿的课题是相当困难的，量子计算目前最难以跨越的还是物理实现，各种算法、理论已经满天飞，也许跟早年计算机模型的提出差不多吧，还是希望这棵令人无限遐想的科技树被点亮。</p><p>考核方式是论文调研，去年是读书报告。和 hsh、zcy组队，写了一篇关于量子纠错编码的综述论文，工作量比较大吧，答辩的时候 jsf教授只提了一个关于子空间编码的问题，hsh还在机场，刚好我可以回答，也算是比较幸运的。答辩结束的时候，jsf教授也很感慨，最初 70 多人，到最后只有 20多人参加答辩，的确这门课对于本科生来说难度过高。极为不友好。最后给了<spanclass="math inline">\(A-\)</span>，也算是比较中肯的评价了，毕竟本科生也很难在量子计算领域提出新的想法。</p><p><strong>毛泽东思想和中国特色社会主义概论(2)</strong>，自带 PF的实践课，主要是希望大家参与清华实践中。暑假 7月末去了趟武汉调研物流行业的情况，各种物流企业各有所长，顺丰主要针对中高端用户，中国邮政国营企业dddd，中通比较牛马，老总还非常得意地说解决许多就业问题，山农绿产品背后有供销社，也算是半个国营企业，京东非常神秘，还不让进工厂，害怕科技资料泄露吧，九州通专注于医疗产品，科技创新方面也是走在世界前列。前面几天都在繁忙地访谈记录整理，最后一天去了趟长江大桥附近，吹了一下江边的晚风，可惜没有白天登黄鹤楼，不过时间也不等人，还是踏上了高铁回到了家乡。这门课给分还有个小插曲，开始lzd 老师以为不是 PF 属性，结果我还吃了一个 <spanclass="math inline">\(B+\)</span>，后来还是改成了 <spanclass="math inline">\(P\)</span>。</p><h3 id="科研">科研</h3><p>参与班主任数据压缩相关工作，主要是参与一个江苏省太湖实验室举办的比赛，组队队员有之前提到的xjz、hyx、yyj，初赛当时有个编码一直没能破解，后来帮他们手写了 (51, 63)BCH编码的算法实现，大幅提高了压缩率，反正前三十名都进入决赛，最终以第三名的成绩进入决赛。</p><p>决赛是针对一个庞大的张量进行压缩，现在想来，我们当时一直走偏了方向，一直按照论文中比较传统的编码+压缩方式对数据进行压缩，最后直接细分到每种文件采用不同的方式进行压缩，后来发现应该基于预测的方式进行压缩，比如可以通过数据的一个子集来推断整个数据集，如果预测得当的话残差就很小，这样就能提高压缩比率。还记得中秋节在软院402绞尽脑汁，我们队反应过来的时候已经很晚了，只能说长一个教训。当然中途出现了<code>sizeof()</code> 和 <code>strlen()</code>不分的低级错误，我也犯了不少错，最后决赛没能入围答辩，还是得进一步提升自己的实力。</p><p>回想大一，大一上主要在适应，大一下在学业方面还是找到了方法，暑假三门硬课的磨炼也提升了我的能力，会<strong>永远热爱生活，热爱学习</strong>。</p>]]></content>
    
    
    <categories>
      
      <category>总结</category>
      
      <category>大一学年</category>
      
    </categories>
    
    
    <tags>
      
      <tag>大一学年</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Report of music phenomena in the multi-culture</title>
    <link href="/2022/12/28/%E7%94%9F%E6%B4%BB/%E5%A4%9A%E5%85%83%E6%96%87%E5%8C%96%E4%B8%AD%E7%9A%84%E9%9F%B3%E4%B9%90%E7%8E%B0%E8%B1%A1%E8%AF%BE%E7%A8%8B%E6%8A%A5%E5%91%8A/"/>
    <url>/2022/12/28/%E7%94%9F%E6%B4%BB/%E5%A4%9A%E5%85%83%E6%96%87%E5%8C%96%E4%B8%AD%E7%9A%84%E9%9F%B3%E4%B9%90%E7%8E%B0%E8%B1%A1%E8%AF%BE%E7%A8%8B%E6%8A%A5%E5%91%8A/</url>
    
    <content type="html"><![CDATA[<p><img src="/img/image-20221219171930079.png" alt="image-20221219171930079" style="zoom: 25%;" /></p><h1id="凡是过往皆为序章我眼中的卡农">凡是过往，皆为序章——我眼中的卡农</h1><blockquote><p>复制不是卡农的精髓，同构才是。 ——引言</p></blockquote><h2 id="present">Present</h2><p>聆听了罗薇老师对 <code>art music</code>的讲解，当熟悉的卡农曲调从艺教多功能厅中响起时，这首从小学到现在一直维持在歌单里的钢琴曲，让我不禁陷入了沉思……</p><p>罗老师讲到五线谱最开始是没有线的，这也体现了音乐的高度创作性，而卡农则是一首标准的模仿式音乐。最开始我以为卡农动听的原因是巴赫在韵律方面的灵感，没想到卡农本质上就是<code>Control+c/v</code>，仅仅是运用一些复制的技巧，就能够谱写出如此美妙的旋律。</p><p>卡农乐曲是一种能够让人沉浸在内心深处的音乐，在高三繁忙的学习之中，在大学繁忙的<code>pre</code> 和 <code>ddl</code> 的催促中，卡农钢琴曲的演奏让我感觉到一种远离外界喧嚣的安静，与自己的情感对话，从某种意义上来说，这首音乐改变了我的一生。</p><h2 id="past">Past</h2><p>小学、初中、高中、大学，每个阶段都有相应的流行乐曲，遍布于各大商场，但由于商业创作的因素，终究在时间的考验下淹没于尘埃之中，经久不衰的仍然是古典音乐。而我仔细思考，卡农这种本质上看似轻巧的复制手法，的确能给人带来心灵的震撼。</p><p>谁也不想复制他人绚丽的人生？我出生于四川小县城，在机缘巧合下来到了成都读高中，一路走来，有欢喜，有悲伤。在高中竞赛的收官之战前几天，竞赛教练把我叫出去说来自小地方的考生不容易脱颖而出云云，但我绝不向命运妥协。</p><p>我永远忘不了两年前国庆节的前一天，那天怀有希望的我收到了进入决赛的通知，但不到一个小时，组委会一句<code>excel</code>表统计错位便收回了名单，那种坠入深渊的感觉向我袭来。最终，我以一分之差结束了长达两年的竞赛生涯，刚刚经历了范进中举般狂喜的我最终灰溜溜地转回到高三班上。我在刷题期间内心始终无法平静，下午还被竞赛教练“威逼利诱”，这无疑点燃了我的情绪。</p><p>当前晚上我质疑过，破罐子破摔过，我曾冲进副校长办公室，愤怒地想要讨回公正，得到的仅仅是踢皮球的推卸回应。父母激动地来到川大的组委会与书记理论，得到的也是向上级反应的百般无赖。</p><p><strong>或许自己不能复刻出他人的经历，正如卡农也不是完完全全递归般的复制粘贴，而是应用了错位、镜像、混合等多种技巧。让音乐活起来的也不是等位的复制，而是同构。</strong></p><p>高三一年，在两年未曾学习高考的基础上，我稳扎稳打，最终在一年的努力之下通过高考来到了清华园，也与许多提前保送的竞赛生一样，为中学的求学之路画上了圆满的句号。</p><p>但这激荡的过去，也仅仅只是未来的序章。</p><h2 id="future">Future</h2><p>来到大学后，山外有山，人外有人，无论多难的考试都能考满分的“卷王”，无论任何方面都有更厉害、更耀眼的成果。也许是卡农无形之中带给我的启迪，我变得没那么焦躁，<strong>岂能完事顺心，但求无愧于心</strong>。</p><p>学习上我找到了自己的方法，追求平稳，社工上我结实了各种各样的朋友，他们都很真诚，我从他们身上学会了很多，志愿上凭借自身在高中积累的数理优势在校答疑坊找到了自身的价值……虽然把一个人映射于不同维度进行打分的方式让我有些忙乱，但就像音乐中的转调一样，灵活地掌控各种曲调也不失为一首美妙的乐章。</p><p>课后作为理科生的我在罗老师的推荐下阅读了<strong>《哥德尔、艾舍尔、巴赫（GEB）》</strong>，这本书丰富的交叉学科知识让我在音乐、绘画、数学、计算机科学等各种看似毫不相干的学科之间建立了联系，它们之间也有丰富的<strong>同构</strong>。</p><p>该书由于使用了许多英语句法上的巧妙，在翻译成中文时比较困难，但处于对中文博大精深的热爱，作者还亲自为中文译本作了序，而且取了一个中式化的名字——<strong>侯世达</strong>。他还对其中一则虚拟对话修改成了中文藏头对话，相当于用两种语言以致敬德国作曲家巴赫，可见作者对中文的喜爱。</p><p>总之，一则则小故事让我茅塞顿开，其中印象最深刻的便是作者对<strong>同构</strong>的理解，<strong>同构是科学之路上永恒不变的话题</strong>，作者宽广的学识的确让我佩服，他提到螃蟹卡农中的同构、绘画中的主体与衬底、中文的回文诗、第三次数学危机乃至群论等各种知识无不运用了同构的思想，这也让不懂音乐的我认识到各学科之间竟然是如此紧密地联系在一起。</p><p><img src="/img/birds.jpeg" alt="birds" style="zoom: 33%;" /></p><center><b> &amp;nbsp&amp;nbsp&amp;nbsp图</b> 艾舍尔画作</figcaption></center><p>就拿最近很火的人工智能 <code>charGPT</code>举例，许多人都称赞这个聊天机器人的智能，但也在各种狂轰滥炸之下暴露出各种花式问题，其实人工智能从根本上始终没有解决好<strong>同构</strong>这个问题，同构意味着自指，当前所谓的人工智能只能在庞大的数据集中摸清一些统计规律，他们缺乏对自我的认知，<strong>他们丧失了同构的本质——循环</strong>。</p><p>人类是在成千上万年地自我循环中逐渐启迪了自己，当第一只猿人抬头仰望漫天星空提出我是谁的问题时，人类的自我意识在循环往复地发问之中逐渐觉醒，在不断地往复迭代的过程中，最终才形成纷繁的现代社会。</p><p><strong>自我意识的缘由不是物质，而是循环。</strong>当 DNA双螺旋交织时，生命活了；当音符出现循环时，卡农活了；当主体和衬底交错时，艾舍尔的《鸟》活了；当集合包含自身时，高度公理化的集合论活了……</p><p>薛定谔在《生命是什么》这本著作中提到“生命以负熵为食”，也就是从混乱中找到顺序，也就是找到<strong>同构</strong>。但寻求同构是一件非常困难的事情，计算机总可以被理性化地研究，但是生命的指引者——大脑却难以被研究透彻，因为我们对复杂的大脑了解甚少。</p><p>在大数学家希尔伯特看来，对于数学“我们必将知道，我们一定知道”，代表那个年代人类对数学的信心，但是随着<strong>哥德尔同构的理论分析</strong>，我们不得不承认我们并不了解这一切，对于未知的真理，我们甚至能够“证明”这样的真理的“证明”我们无法做到。</p><p>或许这样的结果是让人揪心的，但这何尝不是一种开创？经典巴赫卡农最后一个音符的结束，也并不妨碍更多美妙悦耳的乐章，一个划时代的成果终究成为更多成果的基石。上个世纪那么多的计算机科学家们，他们即使掌握着最先进的计算机知识，也永远无法使用我现在正在敲字的个人笔记本电脑。</p><p>或许我们总想着复制别人的生活，我们总是抱怨这里不是那里也不是。但静下心来想想，其实复制不是卡农悦耳的秘诀，同构才是。我们不必迷恋人生的完美，应该迷恋人生的心境，成功只有一个——按照自己的方式，去度过人生。</p><p>𝑱𝒖𝒔𝒕 𝒍𝒊𝒔𝒕𝒆𝒏 𝒕𝒐 𝑪𝒂𝒏𝒐𝒏! 𝑨𝒔𝒔𝒆𝒎𝒃𝒍𝒊𝒏𝒈 𝒚𝒐𝒖𝒓 𝒍𝒊𝒇𝒆 𝒂𝒄𝒄𝒐𝒓𝒅𝒊𝒏𝒈 𝒕𝒐 𝒚𝒐𝒖𝒓 𝒐𝒘𝒏𝒉𝒆𝒂𝒓𝒕! 𝑨𝒍𝒍 𝒕𝒉𝒂𝒕 𝒉𝒂𝒔 𝒑𝒂𝒔𝒔𝒆𝒅 𝒊𝒔 𝒂 𝒑𝒓𝒆𝒂𝒎𝒃𝒍𝒆. 𝑨𝒍𝒍 𝒕𝒉𝒂𝒕 𝒕𝒉𝒆 𝒉𝒆𝒂𝒓𝒕 𝒅𝒆𝒔𝒊𝒓𝒆𝒔 𝒊𝒔𝒇𝒖𝒍𝒇𝒊𝒍𝒍𝒆𝒅.</p><p><strong>卡农奏响，寻心所向。凡是过往，皆为序章。用心酝酿，悉数以偿。</strong></p>]]></content>
    
    
    <categories>
      
      <category>生活</category>
      
      <category>多元文化中的音乐现象</category>
      
    </categories>
    
    
    <tags>
      
      <tag>多元文化中的音乐现象</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Data structure review</title>
    <link href="/2022/12/25/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/12/25/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="数据结构总复习笔记">数据结构总复习笔记</h1><h2 id="绪论">绪论</h2><p>数据结构三元素：<strong>逻辑结构、存储结构、数据在运算上的实现</strong>。</p><p>逻辑结构：<strong>集合、线性、树、图</strong></p><p>存储结构：<strong>顺序、链式、索引、散列</strong></p><blockquote><p>Note.逻辑结构为树但存储结构可以为顺序，例如使用数组存储一棵完全二叉树。</p></blockquote><h2 id="向量与列表">向量与列表</h2><h3 id="二分查找">二分查找</h3><p>性质1：折半查找判定树是平衡二叉树，其<strong>高度差要么为 <spanclass="math inline">\(0,1\)</span>，要么为 <spanclass="math inline">\(0,-1\)</span></strong>。</p><blockquote><p>Prof.当前序列为奇数个时，一定能保证两侧数量相同；当前序列为偶数个时，要么为<spanclass="math inline">\(\left\lceil\dfrac{l+r}{2}\right\rceil\)</span>，要么为<spanclass="math inline">\(\left\lfloor\dfrac{l+r}{2}\right\rfloor\)</span>，对应高度差为<span class="math inline">\(1\)</span> 和 <spanclass="math inline">\(-1\)</span>，递归调用时一般不会更改中位数的选取，从而高度差要么非负、要么非正。</p></blockquote><p>性质2：二分查找次数形成的树高为 <spanclass="math inline">\(\left\lceil\log _{2}(n+1)\right\rceil\)</span></p><blockquote><p>Prof. <span class="math inline">\(2^0+\dots+2^{h-1}\leqn\leq2^0+\dots+2^{h}\Longrightarrow h\in[\log _2(n+1)-1,\log_{2}(n+1)]\)</span></p></blockquote><h2 id="栈与队列">栈与队列</h2><p><strong>（括号）匹配操作</strong>需要借助栈。</p><h3 id="栈模拟队列">栈模拟队列</h3><p>使用两个栈模拟队列，记“大小栈”容量为 <spanclass="math inline">\(M,N(M&gt;N)\)</span>，能够模拟的队列最大容量为<span class="math inline">\(2N+1\)</span>。</p><blockquote><p>Prof. <span class="math inline">\(1,\cdots,N\)</span>入大栈，依次弹出进入小栈，大栈加入 <spanclass="math inline">\(N+1,\cdots,2N+1\)</span>，因为还可以保留一个。输出队列时，小栈先依次弹出为<span class="math inline">\(1,\cdots,N\)</span>，大栈弹出 <spanclass="math inline">\(2N+1,\cdots N+2\)</span> 进入小栈，剩下一个 <spanclass="math inline">\(N+1\)</span>，先弹出 <spanclass="math inline">\(N+1\)</span>，再弹出小栈中的元素，恰好形成一个队列。</p></blockquote><h3 id="表达式求值">表达式求值</h3><p>前后缀表达式求值仅需维护<strong>一个数字栈</strong>。</p><p>后缀表达式：<strong>从左往右</strong>依次数字入栈，遇到操作符将栈顶的两个元素计算后结果入栈。</p><p>前缀表达式：<strong>从右往左</strong>依次数字入栈，遇到操作符将栈顶的两个元素计算后结果入栈。</p><blockquote><p>Note. 如果有括号将内部计算均做完后左右括号出栈。</p></blockquote><p>性质1：将表达式转换为二叉🌲，前缀、中缀、后缀表达式依次对应二叉树的前序、中序、后序遍历。</p><blockquote><p>Note. 在构建时 <span class="math inline">\(\neg\neg P\)</span> 前序为<span class="math inline">\(\neg\neg P\)</span>，后序则为 <spanclass="math inline">\(P\neg\neg\)</span>。</p></blockquote><h2 id="树的结构">树的结构</h2><p>以下讨论皆规定根节点🌲高为 <spanclass="math inline">\(1\)</span>，<span class="math inline">\(V\)</span>为🌲的节点个数，度为 <span class="math inline">\(i\)</span> 的数目为<span class="math inline">\(n_i\)</span>，🌲的度 <spanclass="math inline">\(d\)</span> 定义为所有节点度的最大值，度为 <spanclass="math inline">\(d\)</span> 且有左右树之分的树称作 <spanclass="math inline">\(d\)</span> 叉🌲，满足 <spanclass="math display">\[\begin{equation}V=\sum_{i=0}^{d} n_i\end{equation}\]</span></p><h3 id="基本特性">基本特性</h3><p>对任何🌲 可以看成最小连通图，顶点的数目比度的总数多 <spanclass="math inline">\(1\)</span>，即 <span class="math display">\[\begin{equation}1+\sum_{i=1}^{d} in_i=V\end{equation}\]</span> 给定一棵树的部分 <spanclass="math inline">\(n_i\)</span>，使用公式 (1)(2)可以获取许多信息。</p><h3 id="二叉树">二叉树</h3><p>对一棵二叉树度为 <span class="math inline">\(2\)</span> 的点有 <spanclass="math inline">\(n_2\)</span> 个，叶节点（度为 <spanclass="math inline">\(0\)</span>）的点有 <spanclass="math inline">\(n_0\)</span>，则 <span class="math display">\[\begin{equation}n_0=n_2+1\end{equation}\]</span></p><blockquote><p>Prof. 二叉树代入公式(1) <span class="math inline">\(1+0\cdotn_0+1\cdot n_1+2\cdot n_2=n_0+n_1+n_2\)</span> 即证。</p></blockquote><p>具有 <span class="math inline">\(n\)</span>个节点的二叉树的最小深度为 <spanclass="math inline">\(\log_2(n+1)\)</span>。</p><p>二叉树遍历方式</p><ol type="1"><li><p>广度优先遍历（层次遍历，使用<strong>队列</strong>模拟，记所有层中数量最大的为<span class="math inline">\(F\)</span>，队列最大容量为 <spanclass="math inline">\(F\)</span> 中的节点数）</p></li><li><p>深度优先遍历</p><p><strong>先序遍历</strong><strong>根</strong>左右（可以看成绕🌲外围一圈，图的深度优先遍历来源）</p><p><img src="/img/数据结构总复习笔记/image-20221222142445872.png" alt="image-20221222142445872" width=400 /></p><p><strong>中序遍历</strong>左<strong>根</strong>右（可以看成顺次掉落，其为有序的，无论平衡与否）</p><p><img src="/img/数据结构总复习笔记/image-20221222143306555.png" alt="image-20221222143306555" width=400; /></p><p><strong>后序遍历</strong>左右<strong>根</strong>（可以看成从左往右依次剪葡萄）</p><p><img src="/img/数据结构总复习笔记/image-20221222143738244.png" alt="image-20221222143738244" width=400 /></p></li></ol><p>使用递推的方式遍历二叉树需要<strong>栈</strong></p><p>性质1：<strong>完全确定二叉树至少需要中序遍历以及另外一种遍历，先序遍历和后序遍历不能完全确定一棵二叉树，除非保证每个节点的度为偶数。</strong></p><blockquote><p>Prof.中序遍历为左根右，前序或者后序遍历能给出根节点，从而能够区分出左右子树节点集合，对左右子树递归操作，能构建完整树。而先序和后序当存在度为<span class="math inline">\(1\)</span>的节点时叶节点可左可右，当每个节点的度为偶数时保证可重建二叉树。</p></blockquote><p>性质2：<strong>若一棵二叉树的前序遍历和后序遍历相反，则该二叉树为链状。</strong></p><blockquote><p>Prof. 反证法，若有个节点有左右子树，则前序和后序遍历不互为逆序。</p></blockquote><p>据此可求出已知前序遍历和后序遍历（记作 <spanclass="math inline">\(A\)</span> 和 <spanclass="math inline">\(B\)</span>）条件下构建二叉树的方法：<spanclass="math inline">\(A\)</span> 的第一位和 <spanclass="math inline">\(B\)</span>的最后一位均为根节点，去掉这两位，判断剩下 <spanclass="math inline">\(A\)</span> 首位和 <spanclass="math inline">\(B\)</span>的末尾是否相同，若相同，则该位与根节点形成<strong>“链表”</strong>，依此类推，若不同，则分别为左右子树的根节点，以两者的位置分别确定每棵子树的集合。剩下子树同样按照上述流程，同理，<strong>只要存在逆序字符串，该字符串对应的拓扑结构一定为链状</strong>。</p><p>性质3：<strong>若一个🍃为二叉树中序遍历最后一个节点，则该节点也为前序遍历最后一个节点，反之不成立。</strong></p><blockquote><p>Prof.中序遍历为左根右，最后一个节点为🍃，则该叶子一定在右子树，依次递推下去，该叶子一定为若干个右子树最后的叶子，在前序遍历时一定作为最后一个节点。反之，若🍃节点为前序遍历最后一个节点，其可以为左子树的🍃，此时中序遍历最后一个节点可以为根节点，即反过来不成立。在🍃时成立中序最后<span class="math inline">\(\Longrightarrow\)</span> 前序最后。</p></blockquote><p><strong>子集树：</strong><span class="math inline">\(n\)</span>个元素集合的子集可以看成是一颗<strong>叶子节点数为 <spanclass="math inline">\(2^{n}\)</span>的满二叉树</strong>，左和右分别代表选择或者不选。</p><p><strong>二叉排序树</strong>：左子树所有元素值小于根节点，右子树所有元素值大于根节点。（二叉树<strong>不要求平衡</strong>）</p><p>性质4：<strong>二叉排序树插入节点的复杂度为 <spanclass="math inline">\(O(n)\)</span>。</strong></p><blockquote><p>Prof. 最坏情况退化成链表，复杂度为 <spanclass="math inline">\(O(n)\)</span>。</p></blockquote><p>性质5：<strong>若排列组合随机，二叉树高度为 <spanclass="math inline">\(O(\log n)\)</span>；若形状随机，高度则为 <spanclass="math inline">\(O(\sqrt{n})\)</span>。</strong></p><blockquote><p>Prof.前者证明参考算法导论二叉搜索树最后一节，后者证明参考论文，过于复杂，</p></blockquote><h3 id="完全二叉树">完全二叉树</h3><p><strong>定义：除了最后一层外，其他各层全是满的，并且最后一层的节点尽可能往左靠</strong>。</p><p>性质6：<strong>总点数为 <span class="math inline">\(n\)</span>的完全二叉树的非叶子节点如下</strong> <span class="math display">\[\begin{equation}完全二叉🌲,\sum _{叶子节点}1=\lceil \dfrac{n}{2}\rceil\end{equation}\]</span></p><blockquote><p>Prof. 完全二叉树只有最后一层度为 <spanclass="math inline">\(1\)</span> 的点为 <spanclass="math inline">\(0,1\)</span>，即 <spanclass="math inline">\(n_1=0,1\)</span>，代入 <spanclass="math inline">\(n_0=n_2+1,n=n_0+n_1+n_2\)</span>，解得 <spanclass="math inline">\(n_0=\dfrac{n}{2},\dfrac{n+1}{2}=\lceil\dfrac{n}{2}\rceil\)</span>。</p></blockquote><p>性质7：<strong>🍃节点数为 <span class="math inline">\(n\)</span>的完全二叉树节点总数为 <span class="math inline">\(2n-1,2n\)</span>，共<span class="math inline">\(2\)</span> 种。</strong></p><blockquote><p>Prof. 注意完全二叉树度为 <span class="math inline">\(1\)</span>的节点个数为 <spanclass="math inline">\(n_1=0,1\)</span>，有两种情况。</p></blockquote><p>完全二叉树的🍃可能在最后一层，可能在倒数第二层，对应两种情况。例如一棵高度为<span class="math inline">\(h\)</span> 的完全二叉树第 <spanclass="math inline">\(i\)</span> 层有 <spanclass="math inline">\(x\)</span>个叶子，计算完全二叉树的节点数需要考虑该层为倒数第二层或者倒数第一层。</p><p>性质8：<strong>完全二叉树从 <span class="math inline">\(1\)</span>开始顺次标号，则标为 <span class="math inline">\(n\)</span>的节点左右节点为 <span class="math inline">\(2n\)</span> 和 <spanclass="math inline">\(2n+1\)</span>。</strong></p><blockquote><p>Note. 一般的二叉树没有这样的性质，其放在数组中有许多元素为空。</p></blockquote><h3 id="平衡二叉树">平衡二叉树</h3><p><strong>定义：<span class="math inline">\(\forall\节点,|h_{l}-h_{r}|\leq 1\)</span>，即任意节点左右子树的高度差不大于<span class="math inline">\(1\)</span>。</strong></p><p>性质9：令数列 <span class="math inline">\(\text{Fib}(n)\)</span> 满足<spanclass="math inline">\(\text{Fib(1)}=\text{Fib(2)}=1,\text{Fib(n+2)}=\text{Fib(n+1)}+\text{Fib(n)}\)</span>，<strong>则总高度为<span class="math inline">\(h\)</span> 的平衡二叉树节点数量满足</strong><span class="math display">\[\begin{equation}V_h \in\left[\operatorname{Fib}(h+2)-1,2^h-1\right]\end{equation}\]</span></p><blockquote><p>Prof. 对树高为 <span class="math inline">\(h\)</span>平衡二叉树，构造左右子树分别为 <span class="math inline">\(h-1\)</span>和 <span class="math inline">\(h-2\)</span>对应的最少平衡二叉树，满足平衡二叉树条件，且任意少一个节点要么让树高小于<spanclass="math inline">\(h\)</span>，要么不平衡，该构造为充分必要的，从而<spanclass="math inline">\(V_{\min}(h)=V_{\min}(h-1)+V_{\min}(h-2)+1\)</span>，则左边得证。右边为满二叉树情形<span class="math inline">\(2^0+2^1+\cdots+2^{h-1}=2^h-1\)</span>。</p></blockquote><h3 id="真二叉树">真二叉树</h3><p>定义：<strong>所有节点的度为 <span class="math inline">\(0\)</span>或 <span class="math inline">\(2\)</span>的二叉树，如哈夫曼树。</strong></p><h2 id="树的应用">树的应用</h2><h3 id="森林转换">森林转换</h3><p>有序树定义为<strong>兄弟节点有次序的树</strong>。</p><p><strong>有序树转换为二叉树</strong>：先将每棵多叉树转换为二叉树，每个节点而言，<strong>“左孩子右兄弟”</strong>，即初始左孩子仍为其左孩子，初始（右侧）兄弟转换为右孩子。</p><p><strong>二叉树转换为有序树</strong>：作为上述过程的逆过程，将右孩子变为兄弟即可。</p><p>性质1：<strong>一棵森林中树的数目等于总节点数减去总边数。</strong></p><p>性质2：<strong>有序树的遍历仅有前序和后序，分别等于转换后二叉树的前序和中序。</strong></p><blockquote><p>Prof. 构造基本有序树 <span class="math inline">\(\begin{gathered}b\\newline/\quad \backslash\\a\quad\ \c\end{gathered}\)</span>，其转换为二叉树 <spanclass="math inline">\(\begin{gathered}b\ \\/\quad \newlinea\longrightarrowc\end{gathered}\)</span>，满足前者前序序列等于后者前序序列 <spanclass="math inline">\(bac\)</span>，前者后序序列等于后者中序序列 <spanclass="math inline">\(acb\)</span>。</p></blockquote><p>性质3：<strong>给定有序树的前序和后序遍历能完全确定该有序树。</strong></p><blockquote><p>Prof. 由性质2和重构二叉树的性质即证。</p></blockquote><p><strong>森林转换为二叉树：</strong>先将每棵多叉树转换为二叉树，然后将所有二叉树根看成兄弟（假定有隐藏根节点），转换为一棵二叉树。</p><p><img src="/img/数据结构总复习笔记/image-20221221162312328.png" alt="image-20221221162312328" style="zoom: 20%;" /></p><p>性质4：<strong>原森林中叶节点数量等于二叉树中无左孩子节点数量。</strong></p><blockquote><p>Prof.原森林叶节点可能有兄弟导致在二叉树中有右孩子，但由于其没有孩子，其在二叉树中一定没有左孩子，两者一一映射，数量相同。</p></blockquote><p>性质5：<strong>一棵树非🍃节点有 <spanclass="math inline">\(m\)</span> 个，其转换为二叉树后无右孩子的节点有<span class="math inline">\(m+1\)</span> 个。</strong></p><blockquote><p>Prof. <span class="math inline">\(m\)</span>也为有孩子的节点数量，每个有孩子的节点，其有唯一的最右孩子，该孩子转换为二叉树之后无右孩子，其余孩子由于有右边的兄弟则有右孩子。还要加上根节点，其无兄弟，转换后无右孩子。</p></blockquote><p><strong>二叉树转换为森林</strong>：左孩子不变，把右孩子转换为自己的兄弟，然后从根节点开始，最长右孩子序列每个元素对应森林中每棵🌲的根。</p><h3 id="哈夫曼树">哈夫曼树</h3><p><strong>哈夫曼树（</strong>也叫<strong>最优编码树）</strong>：每个🍃带权，使得带权路径长度最小的二叉树，构建方法：森林<span class="math inline">\(F\)</span> 初始化为 <spanclass="math inline">\(n\)</span> 个权值的节点，重复下述操作直到 <spanclass="math inline">\(F\)</span> 仅含一棵二叉🌲：</p><ol type="1"><li>在 <span class="math inline">\(F\)</span>中选取两棵根节点的权值最小的树作为左右子树构造一个新的二叉树，且置新的二叉树的根节点的权值为左右子树上根节点的权值之和；</li><li>在 <span class="math inline">\(F\)</span>中删除这两棵树，同时将新得到的二叉树加入 <spanclass="math inline">\(F\)</span> 中。</li></ol><p>对二叉🌲，每个🍃标定“路线”（例如：<spanclass="math inline">\(\{0110,10,1110,1111,110,00,0111,010\}\)</span>），保证不是前缀码，为最优编码。</p><p><strong>最小带权路径长度（WPL）</strong>：构建的哈夫曼树对每个🍃节点以及路径长度加权求和，满足等于使用二进制编码字符串的最小长度。</p><p>性质6： <strong><span class="math inline">\(n\)</span>个节点的哈夫曼树对应 <span class="math inline">\(\dfrac{n+1}{2}\)</span>个叶子节点。</strong></p><blockquote><p>Prof. 由 <span class="math inline">\(n_0+n_2=n,n_0=n_2+1\)</span>即得。</p></blockquote><p>性质7：<strong>出现次数最多和最少的字符哈夫曼编码中位数一定为最短和最长。</strong></p><blockquote><p>Prof. 使用反证法易证。</p></blockquote><p><strong>多叉树的带权最短路径</strong>：要求严格 <spanclass="math inline">\(m\)</span> 叉树，通过 <spanclass="math inline">\(mn_{m}+1=n_0+n_{m}=n\)</span> 补若干个 <spanclass="math inline">\(0\)</span> （即不影响权的情况下适当增加 <spanclass="math inline">\(n\)</span>）使得上述方程有整数解，之后仿造哈夫曼编码的方式，每次选择<span class="math inline">\(m\)</span> 棵树进行合并。</p><h3 id="avl-树">AVL 树</h3><p>保证搜索树平衡，防止其退化为链式树。</p><p><strong>选择 <span class="math inline">\(g, p, v\)</span></strong>：<span class="math inline">\(g\)</span>为<strong>最小失衡子树根节点</strong> ，<spanclass="math inline">\(p\)</span> 和 <spanclass="math inline">\(v\)</span> 分别为 <spanclass="math inline">\(g\)</span> 和 <spanclass="math inline">\(p\)</span> 孩子中的<strong>较高者</strong>。</p><p><strong>调整：</strong>从左往右依次为 <spanclass="math inline">\(\text{zig-zig,zag-zag,zag-zig,zig-zag}\)</span>四种旋转方式。</p><p><img src="/img/数据结构总复习笔记/image-20221223160212730.png" alt="image-20221223160212730" style="zoom: 20%;" /></p><p>例如顺次加入 <span class="math inline">\(7, 6, 4, 10, 8, 11\)</span>六个节点，形成的 AVL 树如下</p><p><img src="/img/数据结构总复习笔记/image-20221226210942607.png" alt="image-20221226210942607" style="zoom: 20%;" /></p><p>性质8：AVL🌲插入结点之后若不平衡，则调整之后与插入之前的🌲高相同。</p><blockquote><p>Prof.如果添加之后发生旋转，一定能让多出的一层通过旋转减少，AVL🌲仅有不旋转的时候“增高”。</p></blockquote><p><strong>删除：</strong>如果删除的节点 <spanclass="math inline">\(P\)</span> 在根节点上，用 <spanclass="math inline">\(P\)</span> 的中序直接前驱 <spanclass="math inline">\(O\)</span> 替代，进而替代删除 <spanclass="math inline">\(O\)</span>，由此进行递归删除</p><p><img src="/img/数据结构总复习笔记/image-20221223160646898.png" alt="image-20221223160646898" style="zoom:25%;" /></p><h2 id="高级搜索树">高级搜索树</h2><h3 id="b-树">B 树</h3><p><span class="math inline">\(m\)</span> 阶B🌲又称 <spanclass="math inline">\(\left(\left\lceil\dfrac{m}{2}\right\rceil,m\right)\)</span>🌲，代表其分支数的取值范围，满足以下几种约束</p><ol type="1"><li><p>🍃的深度相同，根节点度数 <spanclass="math inline">\(\in[2,m]\)</span>；</p></li><li><p>非根节点度数 <span class="math inline">\(\in \left[\left\lceil\dfrac{m}{2}\right\rceil,m\right]\)</span>；</p></li><li><p>非🍃节点度数比关键码多 <spanclass="math inline">\(1\)</span>。</p></li></ol><p><img src="/img/数据结构总复习笔记/image-20221221215435138.png" alt="image-20221221215435138" style="zoom: 25%;" /></p><p>性质1：<strong>B🌲下层与上层分支数之差等于本层关键码数</strong>，令<span class="math inline">\(L_{h}\)</span> 为第 <spanclass="math inline">\(h\)</span> 层下层分支数，<spanclass="math inline">\(L_{h-1}\)</span> 为第 <spanclass="math inline">\(h\)</span> 层上层分支数，<spanclass="math inline">\(N_{h}\)</span> 为第 <spanclass="math inline">\(h\)</span> 层关键码数，则有 <spanclass="math display">\[\begin{equation}L_{h-1}+N_h=L_h\end{equation}\]</span></p><blockquote><p>Prof. 对上一层的每个分支，假设关键码有 <spanclass="math inline">\(n_i\)</span> 个，其下一层假设有 <spanclass="math inline">\(l_i\)</span> 个分支，由约束(2)，可知 <spanclass="math inline">\(1+n_i=l_i\)</span>，对上层每个分支求和即得。</p></blockquote><p>该性质可以结合边界条件 <span class="math inline">\(L_{-1}=1\)</span>得 <span class="math display">\[\begin{equation}L_h=1+\sum_{i=1}^h N_i\end{equation}\]</span> 性质2：<span class="math inline">\(m\)</span> 阶 B🌲总高度满足<span class="math display">\[\begin{equation}\log _m(N+1) \leq h \leq \log_{\left\lceil\frac{m}{2}\right\rceil}\left\lfloor\frac{N+1}{2}\right\rfloor+1\end{equation}\]</span></p><blockquote><p>Prof. 由约束(2)(3)可知度数满足条件 <spanclass="math inline">\(d_{i}\in\left[\lceil\dfrac{m}{2}\rceil,m\right]\)</span>，🌲最矮的情况对应每个节点都填满<span class="math inline">\(m-1\)</span> 个值，有 <spanclass="math inline">\((m-1)\cdot(1+m+\cdots+m^{h-1})=m^{h}-1=N\)</span>，左边得证；🌲最高的情况对应根节点度数为<span class="math inline">\(2\)</span>，每个节点填满 <spanclass="math inline">\(\lceil \dfrac{m}{2}\rceil-1\)</span> 个值，第<span class="math inline">\(i\)</span> 层有 <spanclass="math inline">\(2\cdot \left( \left\lceil\dfrac{m}{2}\right\rceil\right)^{i}\)</span> 组，<spanclass="math inline">\(1+\left(\lceil\dfrac{m}{2}\rceil-1\right)\cdot2\cdot\left[ \left( \left\lceil\dfrac{m}{2}\right\rceil\right)+\cdots+ \left( \left\lceil\dfrac{m}{2}\right\rceil\right)^{h-1}\right]=1+2\left[\left( \left\lceil\dfrac{m}{2}\right\rceil\right)^{h-1}-1\right]=N\)</span>，右边得证。</p></blockquote><p>另一种写法为，给定总高度 <spanclass="math inline">\(h\)</span>，<span class="math inline">\(m\)</span>阶 B🌲总节点数的取值范围为 <span class="math display">\[\begin{equation}\left[2 \cdot\left(\left\lceil\frac{m}{2}\right\rceil\right)^{h-1}-1,m^h-1\right]\end{equation}\]</span></p><blockquote><p>Note. B🌲总节点数和关键码数不同，后者可能不考虑叶子节点，对应 <spanclass="math inline">\(h\)</span> 减 <spanclass="math inline">\(1\)</span>。</p></blockquote><p><strong>插入节点</strong>：</p><p><strong>①</strong>根据性质查找插入的位置，如果<code>overflow</code>，就在中间关键码处<code>split</code>（这就是每节点的分支数大于<span class="math inline">\(m/2\)</span>的原因），即：把中间关键码放到它的父亲节点中，并把它原本的左右键值看成它的左右孩子。（<strong>找medieum 之后上溢</strong>）</p><p><strong>②</strong> 如果父亲节点此时也<code>overflow</code>，就不断分裂上溢。</p><p><strong>③</strong> 如果一直 <code>split</code>到根节点，就为根节点创造一个新的<code>root</code>。（允许根节点最少只有两个分支，仅有这种方法能长高，<strong>有爸求爸，没爸造爸</strong>）</p><p><strong>删除节点</strong>：</p><p><strong>①</strong>找到要删的节点，如果不是叶子，交换其与后继的位置，转换为删除其后继，直到删除节点为叶子。</p><p><strong>②</strong> 删除叶子之后如果<code>underflow</code>，先看左右兄弟是否能“借”它一个节点。如果可以，就通过<strong>三角债</strong>的方式从父节点处<code>rotate</code>。</p><p><strong>③</strong>如果不可以，也就是说它和它的兄弟都恰好到下确界，就把它和它的右兄弟以及它们的父亲合并成一个孩子节点。这会导致父亲节点数-1.如果这样，父亲需要重复上述操作。如果已经到了根节点，就意味着树的高度减<span class="math inline">\(1\)</span>。（对树高的改变，和<code>Insert</code>一样，是很少出现的）</p><p>性质3：<strong>如果某个非🍃节点中所有关键码都存在直接后继，则这些后继都是🍃。</strong></p><blockquote><p>Prof. 观察下面这棵B-树，第一层的关键码的直接后继需要迭代两层才能找到，仅有倒数第二层的关键码存在直接后继，后继均为🍃。</p><p><img src="/img/数据结构总复习笔记/image-20221229234821971.png" alt="image-20221229234821971" style="zoom:25%;" /></p></blockquote><h3 id="kd-树">KD 树</h3><p>对于搜索范围 <span class="math inline">\(R\)</span>的每条边，每个节点的 <span class="math inline">\(4\)</span>个孙子中不超过 <span class="math inline">\(2\)</span>个会与它相交，这意味着递归，如下图 (c) 中粗线最多只能交出 <spanclass="math inline">\(2\)</span> 条线，则 <span class="math display">\[Q(n) = 2 + 2Q(n/4), Q(1) = O(1) \Longrightarrow Q(n) = O(\sqrt{n})\]</span><img src="/img/数据结构总复习笔记/image-20221223162515054.png" alt="image-20221223162515054" style="zoom: 25%;" /></p><h2 id="卡特兰数">卡特兰数</h2><p>定义：<span class="math inline">\(n\)</span>个节点可构造的不同二叉树数目，显然其满足递推式 <spanclass="math display">\[\begin{equation}H_n=\sum_{i=0}^{n-1} H_i H_{n-i-1} \quad(n \geq 2)\end{equation}\]</span></p><blockquote><p>Prof. <span class="math inline">\(n\)</span> 个节点的二叉树根节点有<span class="math inline">\(1\)</span> 个，左右分别为 <spanclass="math inline">\(i\)</span> 个和 <spanclass="math inline">\(n-i-1\)</span> 个节点，两者相乘并求和为 <spanclass="math inline">\(H_n\)</span>。</p></blockquote><p>性质1：<spanclass="math inline">\(H_n=\dfrac{(2n)!}{n!(n+1)!}=\dfrac{\begin{pmatrix}2n\\n\end{pmatrix}}{n+1}=1,1,2,5,14,42\cdots\\\!\)</span>其渐进于<spanclass="math inline">\(\sim\dfrac{4^n}{\sqrt{\pi}n^{3/2}}\)</span></p><blockquote><p>Prof. 令生成函数 <spanclass="math inline">\(H(x)=\displaystyle\sum_{n \geq 0} H_nx^n\)</span>，由边界条件 <spanclass="math inline">\(H(0)=H(1)=1\)</span>，由递推式<spanclass="math inline">\(H(x)=1+\displaystyle\sum_{n\geq1}\sum_{i=0}^{n-1}H_{i}H_{n-i-1}x^n=1+x\sum_{n\geq1}\sum_{i=0}^{n-1}H_ix^{i}H_{n-i-1}x^{n-i-1}\)</span>，更换求和顺序，先对<span class="math inline">\(i\)</span> 求和有 <spanclass="math inline">\(\displaystyle\sum_{n\geq1}\sum_{i=0}^{n-1}H_ix^{i}H_{n-i-1}x^{n-i-1}=\sum_{i=0}^{+\infty}H_ix^i\sum_{j=0}^{+\infty}H_{j}x^{j}=H(x)^2\)</span>，则该函数满足方程<span class="math inline">\(H(x)=1+xH(x)^2,H(0)=1\)</span>，取极限下<span class="math inline">\(H(x)=\dfrac{1-\sqrt{1-4x}}{2x}\)</span>，由二项式定理 <spanclass="math inline">\(H(x)=\dfrac{1-\left(1+\displaystyle\sum_{n=1}^{+\infty}\begin{pmatrix}1/2\\n\end{pmatrix}(-4x)^{n}\right)}{2x},\begin{pmatrix}1/2\\n\end{pmatrix}=(-1)^{n-1}\dfrac{(2n-3)!!}{2^nn!}=\dfrac{(-1)^{n-1}(2n-2)!}{2^{2n-1}n!(n-1)!}\)</span>代入得<spanclass="math inline">\(H(x)=\dfrac{\displaystyle\sum_{n=1}^{+\infty}\dfrac{2(2n-2)!}{n!(n-1)!}x^n}{2x}=\displaystyle\sum_{n=1}^{\infty}\dfrac{(2n-2)!}{n!(n-1)!}x^{n-1}=\sum_{n=0}^{\infty}\dfrac{(2n)!}{n!(n+1)!}x^{n}\)</span>，得证。</p></blockquote><p>性质2：<strong><span class="math inline">\(n\)</span>个元素的栈混洗个数有 <span class="math inline">\(H_n\)</span>个。</strong></p><blockquote><p>Prof. 考虑最后一个出栈元素，设其为 <spanclass="math inline">\(k\)</span>，其必须满足前面 <spanclass="math inline">\(k-1\)</span> 个元素入栈且出栈以及原序列中后面<span class="math inline">\(n-k\)</span>个元素入栈且出栈，当两个过程全部完成 <spanclass="math inline">\(k\)</span> 最后出栈，求和得<spanclass="math inline">\(\displaystyle \sum h(k-1)\cdoth(n-k)\)</span>，不重不漏且满足递推式。</p></blockquote><p>性质3：<strong>给定长度为 <span class="math inline">\(n\)</span>的前序遍历，中序遍历数量为 <spanclass="math inline">\(H_n\)</span>。</strong></p><blockquote><p>Prof. 由性质1给出 <span class="math inline">\(H_n\)</span>种二叉树的形态，按照这些形态“输入”前序遍历获得完整的二叉树，每棵二叉树的中序遍历均不同，因为如果相同，由前序遍历和中序遍历完全确定一棵二叉树从而矛盾，故在前序遍历确定的情况下，每个二叉树形态与每个中序遍历一一对应。</p></blockquote><p>性质4：<strong>一个凸 <span class="math inline">\(n+2\)</span>边形，用直线连接若干对顶点使之分成多个三角形，要求每条直线不能相交，共有<span class="math inline">\(H_n\)</span> 种划分方案。</strong></p><blockquote><p>Prof. 任意选取其中一条边以及连接中间第 <spanclass="math inline">\(k\)</span> 和 <spanclass="math inline">\(k+1\)</span> 个顶点，满足递推关系。</p></blockquote><p>性质5：<strong>律师每天从 <span class="math inline">\(A\)</span> 到<span class="math inline">\(B\)</span> 走 <spanclass="math inline">\(2n\)</span>个街区上班，要求不能穿越（但可以碰到）从家到办公室的对角线（只能经过<font color='green'>绿色点</font>），一共有<span class="math inline">\(H_n\)</span> 条可能路线。</strong></p><p><img src="/img/数据结构总复习笔记/image-20221227192655173.png" alt="image-20221227192655173" style="zoom:25%;" /></p><blockquote><p>Prof. 每一次向上走看作入栈，向左走看作出栈，则等价于 <spanclass="math inline">\(n\)</span> 元素的栈混洗个数。</p></blockquote><h2 id="堆">堆</h2><h3 id="堆排序">堆排序</h3><p><strong>Floyd堆合并算法</strong>，将所有<strong>非叶子节点下滤</strong>，由公式(5)，筛选次数为 <spanclass="math inline">\(\sim\dfrac{n}{2}\)</span>。</p><p>性质1：<strong>建堆时比较次数为 <spanclass="math inline">\(O(n)\)</span></strong></p><blockquote><p>Prof. 设高度为 <span class="math inline">\(h\)</span>（ <spanclass="math inline">\(1\)</span> 个节点高度为 <spanclass="math inline">\(0\)</span>）相较之前的逐个插入法 <spanclass="math display">\[\sum _{i=0}^{h}i2^i\Longrightarrow\sum _{i=0}^{h}(h-i)2^i\\(h-1)2^{h+1}+2=O(n\log n)\Longrightarrow2^{h+1}-h-2=n-\log _2(n+1)=O(n)\]</span></p></blockquote><p>性质2：代码实现上<strong>从序列末尾开始向前遍历</strong>，比如从倒数第二层的最后一个节点开始上滤，但同层节点的下滤次序对算法的正确性和效率都没有影响，其互不相干。</p><p>性质3：<strong>合并</strong>两个一般堆与建堆的时间复杂度相同，时间为<span class="math inline">\(O(n)\)</span>。</p><blockquote><p>Prof. 两个一般堆的合并使用 Floyd 算法目前为最快的 <spanclass="math inline">\(O(n)\)</span>，使用左式堆可以降到 <spanclass="math inline">\(O(\log n)\)</span>。</p></blockquote><blockquote><p>程序中的堆是自己生成自己回收，栈是操作系统来分配。</p></blockquote><p>性质4：<strong>堆排序时间复杂度为 <span class="math inline">\(O(n\logn)\)</span>，其中建堆次数共 <span class="math inline">\(n\)</span>次</strong></p><blockquote><p>Prof. 建堆时间 <spanclass="math inline">\(O(n)\)</span>，之后每次移去最值并下滤，操作时间为<span class="math inline">\(O(n\cdot \log n)\)</span>。初始 <spanclass="math inline">\(1\)</span> 次，之后仅用下滤并取极值 <spanclass="math inline">\(n-1\)</span> 次，共 <spanclass="math inline">\(n\)</span> 次。</p></blockquote><h2 id="图">图</h2><h3 id="基本性质">基本性质</h3><p><strong>无向图</strong>中描述<strong>两顶点</strong>之间的关系可以用<code>(v1, v2)</code> 来表示。</p><p><strong>有向图</strong>中描述<strong>两顶点</strong>的单向关系用<code>&lt;v1,v2&gt;</code> 来表示。</p><p><strong>简单路径</strong>：经过的点互相不重复的路径。（回路<strong>不是</strong>简单路径）</p><p><strong>连通分量</strong>：<strong>无向图</strong>中，若 <spanclass="math inline">\(v_i\)</span> 到 <spanclass="math inline">\(v_j\)</span> 有路径，则称 <spanclass="math inline">\(v_i\)</span> 和 <spanclass="math inline">\(v_j\)</span>是连通的，<strong>无向图极大连通子图的集合为连通分量。</strong></p><p><strong>强连通分量</strong>：<strong>有向图</strong>中，若从 <spanclass="math inline">\(v_i\)</span> 到 <spanclass="math inline">\(v_j\)</span> 以及从 <spanclass="math inline">\(v_j\)</span> 到 <spanclass="math inline">\(v_i\)</span> 有路径，则称 <spanclass="math inline">\(v_i\)</span> 和 <spanclass="math inline">\(v_j\)</span>是连通的，<strong>有向图极大强连通子图的集合为强连通分量</strong>。</p><p><strong>平面图</strong>：可以画在平面上且不同的边互不交叠的图，判定<spanclass="math inline">\(V-E+F=C+1\)</span>，分别对应顶点、边、面、连通数目，满足<span class="math inline">\(e \leq 3 \times v-6=O(v) \ll v^2\)</span>。</p><p>有 <span class="math inline">\(e\)</span>条边的无向图，在邻接表中共有 <span class="math inline">\(n+e\cdot2=n+2e\)</span> 个节点（注意对称性）。</p><p>邻接表的空间复杂度为 <spanclass="math inline">\(O(n+e)\)</span>，邻接矩阵的空间复杂度为 <spanclass="math inline">\(O(n^2)\)</span></p><p>性质1：<strong>无向图的邻接矩阵为对称矩阵 <spanclass="math inline">\(A=A^{T}\)</span>，点为 <spanclass="math inline">\(i\)</span> 的度为 <spanclass="math inline">\(\displaystyle \sum_{j=1}^n A[i, j]=\sum_{i=1}^nA[i, j]\)</span>。</strong></p><blockquote><p>Prof. 对无向图中的一个点而言，其入度等于出度，</p></blockquote><p>性质2：<strong><span class="math inline">\(n\)</span>节点的连通无向图至少有 <span class="math inline">\(n-1\)</span>条边（邻接矩阵有 <span class="math inline">\(2(n-1)\)</span>个元素），连通有向图至少有 <span class="math inline">\(n\)</span>条边。</strong></p><blockquote><p>Prof. 对无向图而言，<span class="math inline">\(n-2\)</span>条边无法连接所有顶点，顺次连接 <span class="math inline">\(n\)</span>个点最少只需要 <span class="math inline">\(n-1\)</span>条边；对有向图形成一个大环为最少的边数。</p></blockquote><p>性质3：<strong>要保证在任意连接方式下都能连通 <spanclass="math inline">\(n\)</span> 个点，至少需要 <spanclass="math inline">\(\dfrac{n(n-1)}{2}+1\)</span> 个点。</strong></p><blockquote><p>Prof. 最坏情况为 <span class="math inline">\(n-1\)</span>个点构成完全图，最后连接剩下 <span class="math inline">\(1\)</span>个点。</p></blockquote><p>性质4：<strong>深度优先搜索生成的序列与图是否有向密切相关。</strong></p><blockquote><p>E.g. 对边集 <span class="math inline">\(E={&lt;v_0,v_1&gt;,&lt;v_0,v_2&gt;, &lt;v_0,v_3&gt;, &lt;v_1,v_3&gt;}\)</span> 从 <spanclass="math inline">\(v_0\)</span> 开始的深度优先搜索一共有 <spanclass="math inline">\(5\)</span> 种，其中 <spanclass="math inline">\(v_0\rightarrow v_3\rightarrow v_2\rightarrowv_1\)</span> 容易遗漏。</p></blockquote><h3 id="拓扑排序">拓扑排序</h3><p><strong>步骤：每次选择入度为 <span class="math inline">\(0\)</span>的点入队，剪去出队元素的所有边，重复操作，出队序列为拓扑序列。</strong>（拓扑排序得到的序列不唯一）</p><p>性质5：<strong>如果一个有向图的邻接矩阵对角线以下的元素非 <spanclass="math inline">\(0\)</span>，则该图存在拓扑排序。</strong></p><blockquote><p>Prof. 说明任意边 <span class="math inline">\(v_{i}\longrightarrowv_j\)</span> 中 <span class="math inline">\(i&lt;j\)</span>，若存在环<span class="math inline">\(v_i,v_j,v_k\)</span>，则满足 <spanclass="math inline">\(i&lt;j,j&lt;k,k&lt;i\)</span>矛盾，从而该有向图无环，存在拓扑排序。</p></blockquote><h3 id="最小生成树算法">最小生成树算法</h3><p>图的深度优先搜索能给出图的一棵<strong>支撑树</strong>，对应二叉树的<strong>先序遍历</strong>。</p><p><img src="/img/数据结构总复习笔记/image-20221228204231261.png" alt="image-20221228204231261" style="zoom:15%;" /></p><p><strong>生成树：</strong>连通图 <spanclass="math inline">\(G\)</span> 的某个子图是一颗包含 <spanclass="math inline">\(G\)</span> 所有顶点的树。</p><p><strong>Cayley 公式</strong>：<span class="math inline">\(n\)</span>个顶点的完全图的生成树总数为 <spanclass="math inline">\(n^{n-2}\)</span>。</p><blockquote><p>Prof. 设结果为 <spanclass="math inline">\(T(n)\)</span>，考虑生成树序列的个数<strong>算两次</strong>，第一种计算方式为每棵树的排列为<span class="math inline">\(T(n)\cdot n!\)</span>，第二种方式为考虑第<span class="math inline">\(k\)</span> 次加入的边，当前有 <spanclass="math inline">\((n-k+1)\)</span>棵树，边的一端任选，另一端不能为前者所在的树，每次有 <spanclass="math inline">\(n\cdot (n-k+1-1)=n(n-k)\)</span> 种选法，求积为<span class="math inline">\(\displaystyle\prod_{k=1}^{n-1}n(n-k)=n^{n-1}\cdot (n-1)!\)</span>，两者相等 <spanclass="math inline">\(T(n)n!=n^{n-1}\cdot (n-1)!\LongrightarrowT(n)=n^{n-2}\)</span>。</p></blockquote><p>性质1：<span class="math inline">\(n\)</span> 个顶点、<spanclass="math inline">\(n\)</span> 条边的连通图至少有 <spanclass="math inline">\(3\)</span> 棵生成树。</p><blockquote><p>Prof. 连通图一定有 <span class="math inline">\(n-1\)</span>条边的生成树，多一条边一定能通过其共同祖先形成环，该环至少有 <spanclass="math inline">\(3\)</span> 条边，任一去掉一条边均为生成树，至少<span class="math inline">\(3\)</span> 棵生成树，</p></blockquote><p><strong>最小生成树（MST）：</strong>所有生成树中权值之和最小的树，最小生成树有两种算法。</p><h4 id="kruskal-算法">Kruskal 算法</h4><p>算法流程：<strong>按权值递增顺序依次选取 <spanclass="math inline">\(n-1\)</span>条边，始终保证不构成回路。</strong></p><p>设图的边数量为 <span class="math inline">\(e\)</span>，前者需要排序<span class="math inline">\(O(e\log e)=O(e\log v)\)</span>，判断是否属于同一个树的时间为 <span class="math inline">\(O((v+e)\cdot\alpha(v))\)</span>，其中 <span class="math inline">\(\alpha(v)\)</span>为阿克曼函数，对目前规模数据 <span class="math inline">\(\alpha(v)\leq4\)</span>，从而总的复杂度为 <span class="math inline">\(O(e\logv)\)</span> ，适用于稀疏图。</p><h4 id="prim-算法">Prim 算法</h4><p>算法流程：<strong>重复加入当前节点与剩余节点距离最近的边，即一棵树以极短跨边生长。</strong></p><p>使用<strong>优先级队列</strong>取出最小边以及加入当前可跨边进行下滤和上滤操作，判定边是否使用可以使用一组布尔变量<span class="math inline">\(O(1)\)</span> 时间内判定，则消耗时间 <spanclass="math inline">\(O(e+(v+e)\log v)=O(e\log v)\)</span>。</p><p>可以看出，两种算法在渐进时间复杂度上是相同的。</p><blockquote><p>Note. 上述两种算法更改选择方式可以得到“最大生成树”。</p></blockquote><p>带权连通图的任意一个环中包含的边的权值均不相同时，其MST是唯一的（充分条件）</p><h3 id="最短路径算法">最短路径算法</h3><h4 id="dijkstra-算法">Dijkstra 算法</h4><p>求解<strong>权值非负单源最短路径</strong>问题。</p><p>算法流程：<strong>每次考虑当前点集的最短路径对应点的邻边，对所有点集的最短路径更新最短路径以及前驱，层层遍历，得到所有最短路径。</strong></p><p>算法共三组与顶点一一对应的数组，<strong>空间复杂度</strong>为 <spanclass="math inline">\(O(v)\)</span>。</p><p><strong>时间复杂度</strong>，时间主要消耗在寻找当前点集的最短路径，次数为<span class="math inline">\(O(1+\cdots+(v-1)+e)\)</span>，由于 <spanclass="math inline">\(O(e)=O(v^2)\)</span>，则不加优化为 <spanclass="math inline">\(O(v^2)\)</span>。</p><p>使用优先级队列在每次加入当前遇到的顶点时上滤，取出最小值之后下滤，每次操作<span class="math inline">\(O(\log v)\)</span>，共计 <spanclass="math inline">\(O(v+e)\)</span> 次操作，故可以优化为 <spanclass="math inline">\(O((v+e)\logv)\)</span>，可以看出<strong>对稀疏图较好</strong>，对稠密图反而不好。</p><h4 id="bellman-ford-算法">Bellman-Ford 算法</h4><p>求解<strong>权值任意单源最短路径</strong>问题</p><p>算法流程：<strong>设源点为 <spanclass="math inline">\(u\)</span>，构造 <spanclass="math inline">\(\text{dist}^{k}[v]\)</span> 代表源点最多经过 <spanclass="math inline">\(k\)</span> 次到 <spanclass="math inline">\(v\)</span>点的最短路径，记遍历当前有效点的邻边求最小值更新 <spanclass="math inline">\(\text{dist}\)</span> 数组为一次操作，重复操作<span class="math inline">\(v\)</span> 次。</strong></p><blockquote><p>Prof. 正确性，如果没有负环，每条最短路径最多只需要 <spanclass="math inline">\(n-1\)</span> 次便能确定，前 <spanclass="math inline">\(n-1\)</span>次计算最短路径，最后一次如果还有更新，则代表有负环，不存在最短路径。</p></blockquote><p>算法时间复杂度为 <span class="math inline">\(O(ve)\)</span>，共进行<span class="math inline">\(v\)</span>次循环，每次循坏最大可能遍历所有边。</p><h4 id="floyd-warshall-算法">Floyd-Warshall 算法</h4><p>求解<strong>权值任意多源最短路径</strong>：标定 <spanclass="math inline">\(\text{dist}[u][v]\)</span> 为从 <spanclass="math inline">\(u\)</span> 到 <spanclass="math inline">\(v\)</span> 的最短路径，对所有边进行初始化，对<span class="math inline">\(k:0\to v\)</span>，遍历 <spanclass="math inline">\(u\)</span> 和 <spanclass="math inline">\(v\)</span>，通过 <spanclass="math inline">\(\text{dist}[u][k]\)</span> 和 <spanclass="math inline">\(\text{dist}[u][k]\)</span> 对 <spanclass="math inline">\(\text{dist}[u][v]\)</span> 松弛。</p><p>时间复杂度 <span class="math inline">\(O(v^3)\)</span>，空间复杂度为<span class="math inline">\(O(v^2)\)</span>。</p><h2 id="散列">散列</h2><p>评判一个散列函数的四个维度</p><ol type="1"><li>确定：同一关键码总是被映射到同一地址</li><li>快速：计算时间复杂度为 <spanclass="math inline">\(O(1)\)</span></li><li>满射：尽可能充分地覆盖整个散列空间</li><li>均匀：映射到各位置的概率尽量接近，避免聚集</li></ol><h3 id="散列函数">散列函数</h3><ol type="1"><li>直接寻址法，直接取关键字的某个线性映射</li><li>MAD ( <strong>Multiply-Add-Divide</strong> )法，防止相邻关键码依然相邻</li></ol><p><span class="math display">\[\text{Hash}(\text {key})=(\mathbf{a} \times \mathbf{k e y}+\mathbf{b})\% \mathbf{M}\]</span></p><ol start="2" type="1"><li><p>数字分析法，例如手机后四位</p></li><li><p>平方取中法，例如f(1234)=<del>15</del>227<del>56</del>=227</p></li><li><p>折叠法，取若干位数相同的部分求和</p></li><li><p>伪随机数法，<spanclass="math inline">\(\text{Rand(A)}\)</span></p></li></ol><h3 id="散列冲突解决方法">散列冲突解决方法</h3><ol type="1"><li><p>多槽位法，预先几个槽</p></li><li><p>独立链法，链表</p></li><li><p>公共溢出法，冲突元素放置在单独一个地方</p></li><li><p>线性试探法，冲突之后顺次放置，第 <spanclass="math inline">\(k\)</span> 次试探地址 <spanclass="math inline">\(\left(\text{hash}(\text{key})+{k}\right) \%M\)</span>，使用 <strong>lazyRemoval</strong> 防止删除之后断链</p></li><li><p>平方试探法，第 <span class="math inline">\(k\)</span> 次试探地址<span class="math inline">\(\left(\text{hash}(\text{key})+{k^2}\right)\%M\)</span>，能够更快地跳出聚集区</p></li><li><p>双向平方试探法，第 <span class="math inline">\(k\)</span>次试探地址 <spanclass="math inline">\(\left(\text{hash}(\text{key})+{(-1)^{k-1}\left\lceil\dfrac{k}{2}\right\rceil^2}\right)\% M\)</span>。</p></li></ol><p>性质1：若表长为素数 <span class="math inline">\(p\equiv3\pmod{4}\)</span> ，使用双向平方试探法前 <spanclass="math inline">\(\text{p}\)</span> 次试探能遍历所有桶。</p><blockquote><p>Prof. 反证若两次试探 <span class="math inline">\(k_1,k_2\)</span>同时属于偶数、奇数集合 <spanclass="math inline">\(\{2,4,\cdots,p-1\},\{1,3,\cdots,p\}\)</span>中的某个，则<span class="math inline">\(k_1^2\equivk_2^2\pmod{p},(k_1+k_2)(k_1-k_2)\equiv 0\pmod{p}\)</span><spanclass="math inline">\(\Longleftrightarrow p\mid k_1+k_2,k_1-k_2\)</span>，后者均不能满足（之和为偶数）。则必须属于不同集合，此时<span class="math inline">\(k_1^2+k_2^2\equiv0\pmod{p}\)</span>，而二平方和问题只能为 <spanclass="math inline">\(4k+1\)</span> 型素数或者 <spanclass="math inline">\(2\)</span>，这是因为 <spanclass="math inline">\(2\nmid x\Longrightarrow x\equiv1\pmod{4}\)</span>。则对任何情况均无解，不存在冲突，能够在 <spanclass="math inline">\(p\)</span> 次试探中遍历所有桶。</p><p>Note. 当 <span class="math inline">\(M=2^s,s\in \mathbb{Z}\)</span>，第 <span class="math inline">\(k\)</span> 次试探地址为 <spanclass="math inline">\(\left(\text{hash}(\text{key})+\dfrac{k(k+1)}{2}\right)\% M\)</span> 时也能遍历所有桶。</p></blockquote><p><strong>线性探测失败和成功问题</strong>：成功查找次数等于线性探测加入<span class="math inline">\(\text{Hash}\)</span> 值时移动次数加 <spanclass="math inline">\(1\)</span> 的累加。</p><p>性质2：在线性探测策略下，当插入节点的数量小于总数量时，对给定的节点序列，无论插入顺序如何，最后平均成功查找次数相同。</p><blockquote><p>Prof.</p></blockquote><p><strong>组合索引：</strong>多个指标时“拼接”在一起计算哈希值。</p><h2 id="串">串</h2><h3 id="kmp-算法">KMP 算法</h3><p>改进前：<span class="math inline">\(\text{Next}(P, j)=\{0 \leq t&lt;j\mid P[0, t)=P[j-t, j)\}\)</span></p><p>改进后：<span class="math inline">\(\text{Next}(P, j)=\{0 \leq t&lt;j\mid P[0, t)=P[j-t, j)\wedge P(t) \neq P(j)\}\)</span></p><p>算法复杂度为 <spanclass="math inline">\(O(m+n)\)</span>，在最坏情况下依然是该复杂度。</p><h2 id="排序">排序</h2><p>直接插入排序需要挪位置。</p><p>性质1：共 <span class="math inline">\(4\)</span>种不稳定排序，<strong>“快些选堆”</strong>（快速排序、希尔排序、选择排序、堆排序）</p><blockquote><p>Prof.快速排序轴点的选择影响相同值元素的先后顺序；希尔排序由于间隔的存在，相同值元素可能在不同间隔序列中打乱；选择排序将<span class="math inline">\(\text{rank(i)}\)</span> 的元素与第 <spanclass="math inline">\(i\)</span>个元素交换，交换的元素可能与后面某元素相同，顺序打乱；堆排序在不同分支的维护堆操作顺序可能发生改变。</p></blockquote><h3 id="基数排序">基数排序</h3><p>算法：关键码由多个字段组成，可按照优先级从低到高进行桶排序，<strong>低位字段优先</strong>策略<span class="math display">\[\begin{array}{|c|c|c|c|c|c|c|c|}\hline \text { 输入序列 } &amp; 441 &amp; 276 &amp; 320 &amp; 214 &amp;698 &amp; 280 &amp; 112 \\\hline \text { 以个位排序 } &amp; 32{0} &amp; 28{0} &amp; 44{1} &amp;11{2} &amp; 21{4} &amp; 27{6} &amp; 69{8} \\\hline \text { 以十位排序 } &amp; 1{1}2 &amp; 2{1}4 &amp; 3{2}0 &amp;4{4}1 &amp; 2{7}6 &amp; 2{8}0 &amp; 6{9}8 \\\hline \text { 以百位排序 } &amp; {1}12 &amp; {2}14 &amp; {2}76 &amp;{2}80 &amp; {3}20 &amp; {4}41 &amp; {6}98 \\\hline\end{array}\]</span></p><blockquote><p>Prof. 正确性由数学归纳法给出，假设 <spanclass="math inline">\(i-1\)</span> 趟后前 <spanclass="math inline">\(i-1\)</span> 次序的数字排好序，第 <spanclass="math inline">\(i\)</span> 趟如果第 <spanclass="math inline">\(i\)</span>优先级不同，则按照该优先级排序，如果相同，前面工作保证排好序，则总能排好序。</p></blockquote><p><strong>复杂度</strong>： 各字段取值范围 <spanclass="math inline">\(\left[0, M_i\right), i&lt;=t\)</span>，令 <spanclass="math inline">\(M=\max \left(M_i\right)\)</span> <spanclass="math display">\[O\left(n+M_1\right)+O\left(n+M_2\right)+\cdots+O\left(n+M_t\right)=O\left(t\cdot(n+M)\right)\]</span></p><blockquote><p>Note. 基数排序需要的操作次数为定值，桶排序可以看成是基数为 <spanclass="math inline">\(1\)</span> 的基数排序。</p></blockquote><h3 id="快速排序">快速排序</h3><p>性质2：<strong>快速排序的平均时间复杂度为 <spanclass="math inline">\(O(1.386\cdot n\log n)\)</span></strong> <spanclass="math display">\[T(n)=(n-1)+\frac{1}{n} \cdot\sum_{k=0}^{n-1}[T(k)+T(n-k-1)]=(n-1)+\frac{2}{n} \cdot \sum_{k=0}^{n-1}T(k)\]</span> <span class="math inline">\(\begin{cases} n \cdot T(n)-(n-1)\cdot T(n-1)=2 \cdot(n-1)+2 \times T(n-1) \\n \cdot T(n)-(n+1) \cdotT(n-1)=2 \cdot(n-1)\end{cases}\Longrightarrow\dfrac{T(n)}{n+1}-\dfrac{T(n-1)}{n}=\dfrac{4}{n+1}-\dfrac{2}{n}\)</span></p><p>解得 <span class="math inline">\(T(n)=(n+1)\cdot\left(2 \displaystyle\cdot \sum_{k=1}^{n+1} \frac{1}{k}+\frac{2}{n+1}-4\right)\approx 2\ln2\cdot n\log n\)</span></p>]]></content>
    
    
    <categories>
      
      <category>计算机科学</category>
      
      <category>数据结构</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数据结构</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Last report for Lab of Physics</title>
    <link href="/2022/12/15/%E7%89%A9%E7%90%86/%E5%90%8C%E8%BD%B4%E5%85%89%E5%AD%90%E6%99%B6%E4%BD%93%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/"/>
    <url>/2022/12/15/%E7%89%A9%E7%90%86/%E5%90%8C%E8%BD%B4%E5%85%89%E5%AD%90%E6%99%B6%E4%BD%93%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</url>
    
    <content type="html"><![CDATA[<h1 id="同轴光子晶体实验报告">同轴光子晶体实验报告</h1><center><div style="height:2mm;"></div><div style="font-family:华文楷体;font-size:14pt;">learning_rate 未央软-11 2022.12.12<div style="height:2mm;"></div></center><div><div style="width:54px;float:left; font-family:方正公文黑体;"><b>摘要: </b></div><div style="overflow:hidden; font-family:华文楷体;">本实验使用信号发生器和示波器测试电路传输效率和相位，推导同轴电缆的特征阻抗、传播常数、衰减系数参数，理解相速度和群速度的概念。使用同一种特征阻抗的同轴电缆交替连接组成同轴光子晶体，测量并计算传输效率、等效折射率、群速度等物理量。在同轴晶体中引入缺陷后，观察透射峰并同时测试特性。使用MATLAB 编程计算上述物理量的理论值。实验结果与理论吻合度较好。<div style="height:4mm;"></div></div><div><div style="width:64px;float:left; font-family:方正公文黑体;"><b>关键词: </b></div><div style="overflow:hidden;line-height:16pt">同轴光子晶体; 能带理论; 色散关系; 衰减关系; "超光速"现象</div></div><br></div><center><div style="height:2mm;"></div><div style="font-family:黑体;font-size:14pt;">目录<div style="height:2mm;"></div></center><h2 id="实验仪器">实验仪器</h2><p>信号发生器、示波器、测试电缆（约 <spanclass="math inline">\(1\text{m}\)</span> 长）、同轴电缆（约 <spanclass="math inline">\(5\text{m}\)</span> 长）、三通接头、<spanclass="math inline">\(50\Omega\)</span> 电阻。</p><h2 id="实验原理">实验原理</h2><h3 id="同轴电缆电学参数">同轴电缆电学参数</h3><p>对于两种特征阻抗的同轴电览交替连接构成的同轴光子晶体，当两种电缆的特征阻抗之比<span class="math inline">\(Z_{0 H} / Z_{0 L}\)</span>越大、连接的电缆的数量越多，电磁带隙特性以及快慢光效应越明显。</p><p>常用同轴电缆的特征阻抗为 <span class="math inline">\(75\Omega\)</span> 和 <span class="math inline">\(50 \Omega\)</span>。使用这两种电缆的话阻抗比偏小，且两种电缆内外导体间介质的介电常数 <spanclass="math inline">\(\varepsilon_r\)</span>通不同，对应的半波长以及电缆长度也不同。</p><p>本实验<strong>只使用一种特征阻抗的同轴电缆</strong>。通过并联两根电缆的方法获得另一特征阻抗以及更高的阻抗比。</p><p><img src="/img/同轴光子晶体实验报告/image-20221208210228754.png" alt="image-20221208210228754" style="zoom: 50%;" /></p><center><figcaption><b>图1</b> 单根同轴电缆的等效电路模型</figcaption></center><p>同轴电缆的等效电路如图 <span class="math inline">\(5\)</span>所示，其中 <span class="math inline">\(R,L,G\)</span>分别为单位长度同轴电缆的电阻、电感、电容，且结合电磁学知识可知 <spanclass="math display">\[\begin{equation}\begin{cases}C &amp; =\dfrac{2 \pi \varepsilon_0 \varepsilon_r}{\ln (b / a)} \\L &amp; =\dfrac{\mu_0 \mu_r}{2 \pi} \ln \dfrac{b}{a}\end{cases}\end{equation}\]</span> 其中 <span class="math inline">\(a,b\)</span>为同轴电缆的内外径，<spanclass="math inline">\(\epsilon_r,\mu_r\)</span>分别为同轴电缆内外的相对介电常数以及相对磁导率，沿同轴电缆方向共有两个方向叠加，对应通解为<span class="math display">\[\begin{equation}\begin{aligned}&amp; v=v^{+}(x)+v^{-}(x)=V_0^{+} e^{-\gamma x}+V_0^{-} e^{\gamma x} \\&amp; i=i^{+}(x)+i^{-}(x)=\frac{1}{Z_0}\left(V_0^{+} e^{-\gammax}-V_0^{-} e^{\gamma x}\right)\end{aligned}\end{equation}\]</span> 对应电压波，其中 <spanclass="math inline">\(\gamma=\alpha+j\beta\)</span> 为电缆的传播常数，其表达式如下 <span class="math display">\[\begin{equation}\alpha+j \beta=\sqrt{(R+j \omega L)\left(G+j \omega C\right)}\end{equation}\]</span> 且定义<strong>特征阻抗</strong> <span class="math display">\[\begin{equation}Z_0=\sqrt{\dfrac{R+j \omega L}{G+j \omega C}}\end{equation}\]</span> 本实验中，电缆的损耗很小，有 <spanclass="math inline">\(R\ll\omega L,G\ll\omega C\)</span>，做近似有 <spanclass="math display">\[\begin{equation}\left\{\begin{array}{l}Z_0=\sqrt{\dfrac{L}{C}}=\dfrac{\ln (b / a)}{2 \pi} \sqrt{\dfrac{\mu_0\mu_r}{\epsilon_0 \epsilon_r}} \\\beta=\omega \sqrt{L C}=\omega \sqrt{\epsilon_0 \mu_0 \epsilon_r \mu_r}\end{array}\right.\end{equation}\]</span></p><h3 id="透射与反射">透射与反射</h3><p>对于半无限长的同轴电缆，信号从同轴电缆始端输入后，只有沿 <spanclass="math inline">\(+\)</span>方向传输的行波。实际同轴电缆都是有限长的，此时需考虑同轴电缆末端对信号的影响。</p><p>两根特征阻抗分别为 <span class="math inline">\(Z_0\)</span> 和 <spanclass="math inline">\(Z_1\)</span>的同轴电缆连接在一起，两根同轴电缆之间的连接线很短，远小于信号波长和传输线长度。输入信号通过阻抗为<span class="math inline">\(Z_0\)</span> 的同轴电缆到达连接处的电压为<span class="math inline">\(V_i\)</span>，透射信号在连接处的电压为 <spanclass="math inline">\(V_t\)</span> ，反射信号在连接处的电压为 <spanclass="math inline">\(V_r\)</span> ，满足如下方程 <spanclass="math display">\[\begin{equation}\left\{\begin{array}{l}V_i+V_r=V_t \\V_i / Z_0=V_r / Z_0+V_t / Z_1\end{array}\right.\end{equation}\]</span></p><h3 id="测量同轴光子晶体特性">测量同轴光子晶体特性</h3><p>由群速度公式 <span class="math display">\[\begin{equation}v_g=\dfrac{c} {n+\omega \dfrac{d n}{d \omega}}\end{equation}\]</span></p><p>可测得某一频率下示波器 <span class="math inline">\(\mathrm{Ch}2\)</span> 相对于 <span class="math inline">\(\mathrm{Ch} 1\)</span>的相位差 <spanclass="math inline">\(\varphi\)</span>，投输入待测电路的信号为 <spanclass="math inline">\(\cos \omega t\)</span>，初始相位为 0。输出信号为<span class="math inline">\(\cos (\omega t+\varphi)\)</span>，相位变化为<span class="math inline">\(\varphi\)</span> <spanclass="math display">\[\begin{equation}\cos (\omega t+\varphi)=\cos \omega\left(t-t_p\right) \Rightarrow\varphi=-\omega t_p\end{equation}\]</span> 将同轴光子晶体效为一根折射率为 <spanclass="math inline">\(n\)</span> 的均匀同轴电线，则延时 <spanclass="math inline">\(t_p\)</span> 与等效折射率 <spanclass="math inline">\(n\)</span> 的关系为 <span class="math display">\[\begin{equation}t_p=\dfrac{Ln}{c}\end{equation}\]</span> 公式 (10)(11) 联立计算得到 <span class="math display">\[\begin{equation}n=-\frac{\varphi c}{\omega L}=-\frac{\varphi c}{2 \pi f L}\end{equation}\]</span></p><h2 id="电学参数理论计算mathbfa部分">电学参数理论计算<spanclass="math inline">\((\,\mathbf{A}\,\)</span>部分<spanclass="math inline">\()\)</span></h2><h3 id="衰减系数和幅度">衰减系数和幅度</h3><p>由电压幅度值<strong>每米减少</strong> <spanclass="math inline">\(\mathbf{0.571\%}\ll1\)</span>，从而由衰减幅度公式<span class="math display">\[\begin{equation}V(x)=V_0 e^{-\alpha x}\end{equation}\]</span> 取近似 <span class="math inline">\(V_0e^{-\alpha x}\approxV_0(1-\alpha x)\)</span>，故 <span class="math inline">\(\alpha \approx0.00571\)</span>，或者严格计算有 <span class="math display">\[\alpha =-\ln(1-0.571\%)=\textcolor{blue}{0.0057264}\color{blue}\text{m}^{-1}\]</span> 代入公式 (1) 计算 <spanclass="math inline">\(10\text{m},20\text{m},30\text{m}\)</span>处的幅度列表如下（保留三位小数）</p><table><thead><tr class="header"><th>距离/m</th><th>0</th><th>10</th><th>20</th><th>30</th></tr></thead><tbody><tr class="odd"><td>幅度/V</td><td>1.000</td><td>0.944</td><td>0.892</td><td>0.842</td></tr></tbody></table><center><figcaption><b>表1</b> 信号幅度随距离的变化</figcaption></center><h3 id="电缆并联">电缆并联</h3><p>由图 1 可知，记每一小段 <span class="math inline">\(\Delta x\)</span>对应的复阻抗为 <span class="math inline">\(\Delta Z\)</span>，总复阻抗为<span class="math inline">\(N\DeltaZ\)</span>，则始末并联和每一小段处并联是等效的 <spanclass="math display">\[\sum_{i}\dfrac{\Delta Z\cdot \Delta Z}{\Delta Z+\DeltaZ}=\dfrac{1}{2}\sum_{i}\Delta Z=\dfrac{\displaystyle \sum_{i}\DeltaZ\cdot \displaystyle \sum_{i}\Delta Z}{\displaystyle \sum_{i}\DeltaZ+\displaystyle \sum_{i}\Delta Z}\]</span> 由并联性质 <span class="math display">\[R^{\prime}=\textcolor{blue}{\dfrac{R}{2}},L^{\prime}=\textcolor{blue}{\dfrac{L}{2}},G^{\prime}=\textcolor{blue}{2G},C^{\prime}=\textcolor{blue}{2C}\]</span> 代入公式 (5)(6) 得 <span class="math display">\[\begin{equation}Z_0^{\prime}=\textcolor{blue}{\frac{1}{2} Z_0},\alpha^{\prime}=\textcolor{blue}{\alpha},\beta^{\prime}=\textcolor{blue}{\beta}\end{equation}\]</span>一种更简便的想法是电压相同时，电流变成原来的两倍，从而<strong>复阻抗折半</strong>，而每个电缆上的电流衰减幅度以及相位变化与原来相同，总比例也不变，从而传播系数不变。</p><h3 id="高低阻抗交替连接">高低阻抗交替连接</h3><p>由上问可知，高特征阻抗使用单根电缆，低特征阻抗使用并联电缆，且有<span class="math display">\[\begin{equation}\frac{Z_{0 H}}{Z_{0 L}}=\textcolor{blue}{2}\end{equation}\]</span> 可以通过<strong>多次并联</strong>的方法得到更高的阻抗比。</p><h3 id="频率计算">频率计算</h3><p>由电磁波公式 <span class="math display">\[\begin{equation}f=\frac{v}{\lambda}=\frac{c}{\sqrt{\epsilon_r \mu_r} \lambda}\end{equation}\]</span> 代入计算得 <span class="math display">\[f_0=\frac{c}{\sqrt{\epsilon_r \mu_r} \lambda} \approx \frac{299792458\mathrm{~m} / s}{\sqrt{2.354} \cdot 10\mathrm{~m}}=\textcolor{blue}{19.540\mathrm{~}\mathrm{MHz}},\dfrac{1}{2}f_0=\textcolor{blue}{9.770\mathrm{~}\mathrm{MHz}}\]</span></p><h2 id="间接测量色散关系mathbfb部分">间接测量色散关系<spanclass="math inline">\((\,\mathbf{B}\,\)</span>部分<spanclass="math inline">\()\)</span></h2><h3 id="正常光子晶体">正常光子晶体</h3><h4 id="测量数据">测量数据</h4><p>以 <span class="math inline">\(1 \mathrm{MHz}\)</span> 为间隔，在<span class="math inline">\(1 \mathrm{MHz}\)</span> 至 <spanclass="math inline">\(20 \mathrm{MHz}\)</span>范围内改变频率，观察示波器 <span class="math inline">\(\mathrm{Ch}1\)</span> 和 <span class="math inline">\(\mathrm{Ch} 2\)</span>的峰峰值及其变化情况，测试电路图如下</p><p><img src="/img/同轴光子晶体实验报告/image-20221210120748918.png" alt="image-20221210120748918" style="zoom: 33%;" /></p><center><figcaption><b>图2</b> 同轴光子晶体测试电路</figcaption></center><p>测量数据整理如下</p><table><thead><tr class="header"><th>f (MHz)</th><th>V1pp (V)</th><th>V2pp (V)</th><th>φ (°)</th></tr></thead><tbody><tr class="odd"><td>1</td><td>10.250</td><td>9.220</td><td>-72.10</td></tr><tr class="even"><td>2</td><td>10.260</td><td>9.380</td><td>-139.80</td></tr><tr class="odd"><td>3</td><td>10.270</td><td>8.750</td><td>147.70</td></tr><tr class="even"><td>4</td><td>10.280</td><td>8.730</td><td>80.80</td></tr><tr class="odd"><td>5</td><td>10.270</td><td>8.250</td><td>2.70</td></tr><tr class="even"><td>6</td><td>10.320</td><td>7.590</td><td>-66.40</td></tr><tr class="odd"><td>7</td><td>10.480</td><td>5.890</td><td>-166.90</td></tr><tr class="even"><td>8</td><td>10.510</td><td>2.320</td><td>138.10</td></tr><tr class="odd"><td>9</td><td>10.570</td><td>1.450</td><td>112.60</td></tr><tr class="even"><td>10</td><td>10.640</td><td>1.360</td><td>92.10</td></tr><tr class="odd"><td>11</td><td>10.750</td><td>1.850</td><td>68.20</td></tr><tr class="even"><td>12</td><td>10.860</td><td>4.160</td><td>27.00</td></tr><tr class="odd"><td>13</td><td>10.980</td><td>8.000</td><td>-63.80</td></tr><tr class="even"><td>14</td><td>11.110</td><td>8.160</td><td>-145.60</td></tr><tr class="odd"><td>15</td><td>11.280</td><td>8.770</td><td>140.40</td></tr><tr class="even"><td>16</td><td>11.450</td><td>8.700</td><td>71.10</td></tr><tr class="odd"><td>17</td><td>11.630</td><td>9.190</td><td>2.40</td></tr><tr class="even"><td>18</td><td>11.810</td><td>8.670</td><td>-67.30</td></tr><tr class="odd"><td>19</td><td>12.060</td><td>9.340</td><td>-131.90</td></tr><tr class="even"><td>20</td><td>12.310</td><td>9.030</td><td>155.50</td></tr></tbody></table><center><figcaption><b>表2</b> 正常光子晶体Ch1 和 Ch2 峰峰值和相位差随频率变化</figcaption></center><h4 id="传输效率和等效折射率">传输效率和等效折射率</h4><p>同轴晶体未接入、阻抗匹配状态下 <spanclass="math inline">\(50\Omega\)</span> 电阻上消耗的功率为 <spanclass="math inline">\(𝑃_1\)</span>，接入同轴光子晶体、阻抗匹配状态下<span class="math inline">\(50\Omega\)</span> 电阻上消耗的有功功率为<span class="math inline">\(P_2\)</span>，故计算公式如下 <spanclass="math display">\[\begin{equation}P_i=\frac{V_i^2}{R_0} \quad i=1,2\end{equation}\]</span> 则传输效率 <span class="math display">\[\begin{equation}\eta=\frac{P_2}{P_1}=\left(\frac{V_2}{V_1}\right)^2\end{equation}\]</span> 代入公式 (18)(12)计算效率以及折射率，其中相位差相对小频率来说需要减去 <spanclass="math inline">\(360^{\circ}\)</span>的整数倍，保证相位差是单调递减的，计算以及列表如下</p><table><thead><tr class="header"><th style="text-align: center;">f (MHz)</th><th style="text-align: center;">φ' (°)</th><th style="text-align: center;">η</th><th style="text-align: center;">n</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">1</td><td style="text-align: center;">-72.10</td><td style="text-align: center;">80.91%</td><td style="text-align: center;">1.71548</td></tr><tr class="even"><td style="text-align: center;">2</td><td style="text-align: center;">-139.80</td><td style="text-align: center;">83.58%</td><td style="text-align: center;">1.66313</td></tr><tr class="odd"><td style="text-align: center;">3</td><td style="text-align: center;">-212.30</td><td style="text-align: center;">72.59%</td><td style="text-align: center;">1.68375</td></tr><tr class="even"><td style="text-align: center;">4</td><td style="text-align: center;">-279.20</td><td style="text-align: center;">72.12%</td><td style="text-align: center;">1.66076</td></tr><tr class="odd"><td style="text-align: center;">5</td><td style="text-align: center;">-357.30</td><td style="text-align: center;">64.53%</td><td style="text-align: center;">1.70025</td></tr><tr class="even"><td style="text-align: center;">6</td><td style="text-align: center;">-426.40</td><td style="text-align: center;">54.09%</td><td style="text-align: center;">1.69089</td></tr><tr class="odd"><td style="text-align: center;">7</td><td style="text-align: center;">-526.90</td><td style="text-align: center;">31.59%</td><td style="text-align: center;">1.79094</td></tr><tr class="even"><td style="text-align: center;">8</td><td style="text-align: center;">-581.90</td><td style="text-align: center;">4.87%</td><td style="text-align: center;">1.73065</td></tr><tr class="odd"><td style="text-align: center;">9</td><td style="text-align: center;">-607.40</td><td style="text-align: center;">1.88%</td><td style="text-align: center;">1.60577</td></tr><tr class="even"><td style="text-align: center;">10</td><td style="text-align: center;">-627.90</td><td style="text-align: center;">1.63%</td><td style="text-align: center;">1.49397</td></tr><tr class="odd"><td style="text-align: center;">11</td><td style="text-align: center;">-651.80</td><td style="text-align: center;">2.96%</td><td style="text-align: center;">1.40985</td></tr><tr class="even"><td style="text-align: center;">12</td><td style="text-align: center;">-693.00</td><td style="text-align: center;">14.67%</td><td style="text-align: center;">1.37405</td></tr><tr class="odd"><td style="text-align: center;">13</td><td style="text-align: center;">-783.80</td><td style="text-align: center;">53.09%</td><td style="text-align: center;">1.43454</td></tr><tr class="even"><td style="text-align: center;">14</td><td style="text-align: center;">-865.60</td><td style="text-align: center;">53.95%</td><td style="text-align: center;">1.47109</td></tr><tr class="odd"><td style="text-align: center;">15</td><td style="text-align: center;">-939.60</td><td style="text-align: center;">60.45%</td><td style="text-align: center;">1.49040</td></tr><tr class="even"><td style="text-align: center;">16</td><td style="text-align: center;">-1008.90</td><td style="text-align: center;">57.73%</td><td style="text-align: center;">1.50030</td></tr><tr class="odd"><td style="text-align: center;">17</td><td style="text-align: center;">-1077.60</td><td style="text-align: center;">62.44%</td><td style="text-align: center;">1.50820</td></tr><tr class="even"><td style="text-align: center;">18</td><td style="text-align: center;">-1147.30</td><td style="text-align: center;">53.89%</td><td style="text-align: center;">1.51654</td></tr><tr class="odd"><td style="text-align: center;">19</td><td style="text-align: center;">-1211.90</td><td style="text-align: center;">59.98%</td><td style="text-align: center;">1.51762</td></tr><tr class="even"><td style="text-align: center;">20</td><td style="text-align: center;">-1284.50</td><td style="text-align: center;">53.81%</td><td style="text-align: center;">1.52811</td></tr></tbody></table><center><figcaption><b>表3</b> 正常光子晶体传输效率与等效折射率计算表格</figcaption></center><p>其效率和频率关系如下</p><p><img src="/img/同轴光子晶体实验报告/eta-f.svg" alt="eta-f" style="zoom:67%;" /></p><center><figcaption><b>图3</b> 正常光子晶体传输效率与频率关系曲线</figcaption></center><p>等效折射率与频率的变化如下</p><p><img src="/img/同轴光子晶体实验报告/n-f.svg" alt="n-f" style="zoom:67%;" /></p><center><figcaption><b>图4</b> 正常光子晶体等效折射率与频率关系曲线</figcaption></center><p>由图表可得 <spanclass="math inline">\(f=\textcolor{blue}{1,2,3,4,5,13,14,15,16,17,18,19,20\mathrm{MHz}}\)</span> 为通带, <spanclass="math inline">\(f=\textcolor{blue}{8,9,10,11\mathrm{MHz}}\)</span> 为带隙，在 <spanclass="math inline">\(f=\textcolor{blue}{7,8,9,10,11 M H Z}\)</span>出现反常色散。</p><h4 id="群速度">群速度</h4><p>代入公式 (9) ，其中离散化处理 <spanclass="math inline">\(\dfrac{dn}{d\omega}\approx\dfrac{n_{k+1}-n_k}{\omega_{k+1}-\omega_{k}},k=1,\cdots,19\)</span>，列表如下（取<span class="math inline">\(\dfrac{v_g}{c}\)</span> 为纵坐标）</p><table><thead><tr class="header"><th>f (MHz)</th><th>ωdn/dω</th><th>vg/c</th></tr></thead><tbody><tr class="odd"><td>1</td><td>-0.05234</td><td>0.60127</td></tr><tr class="even"><td>2</td><td>0.04124</td><td>0.58673</td></tr><tr class="odd"><td>3</td><td>-0.06900</td><td>0.61929</td></tr><tr class="even"><td>4</td><td>0.15799</td><td>0.54983</td></tr><tr class="odd"><td>5</td><td>-0.04679</td><td>0.60479</td></tr><tr class="even"><td>6</td><td>0.60026</td><td>0.43646</td></tr><tr class="odd"><td>7</td><td>-0.42203</td><td>0.73051</td></tr><tr class="even"><td>8</td><td>-0.99904</td><td>1.36686</td></tr><tr class="odd"><td>9</td><td>-1.00621</td><td>1.66789</td></tr><tr class="even"><td>10</td><td>-0.84119</td><td>1.53193</td></tr><tr class="odd"><td>11</td><td>-0.39378</td><td>0.98418</td></tr><tr class="even"><td>12</td><td>0.72587</td><td>0.47621</td></tr><tr class="odd"><td>13</td><td>0.47518</td><td>0.52364</td></tr><tr class="even"><td>14</td><td>0.27029</td><td>0.57426</td></tr><tr class="odd"><td>15</td><td>0.14856</td><td>0.61015</td></tr><tr class="even"><td>16</td><td>0.12638</td><td>0.61475</td></tr><tr class="odd"><td>17</td><td>0.14183</td><td>0.60605</td></tr><tr class="even"><td>18</td><td>0.01941</td><td>0.65106</td></tr><tr class="odd"><td>19</td><td>0.19927</td><td>0.58245</td></tr><tr class="even"><td>20</td><td>N/A</td><td>N/A</td></tr></tbody></table><center><figcaption><b>表4</b> 正常光子晶体群速度计算表格</figcaption></center><p>将群速度和频率作图如下</p><p><img src="/img/同轴光子晶体实验报告/vg_c-f.svg" alt="vg:c-f" style="zoom:67%;" /></p><center><figcaption><b>图5</b> 正常光子晶体群速度与频率关系曲线</figcaption></center><p>可以在处于反常色散频率时群速度可能超光速（对应 <spanclass="math inline">\(f=8 ,9 ,10\text{MHz}\)</span>）。</p><h3 id="缺陷光子晶体">缺陷光子晶体</h3><h4 id="测量数据-1">测量数据</h4><p>在同轴光子晶体中增加一根同轴电缆，形成有缺陷的同轴电缆，按照<strong>4.1</strong> 节内容测量数据结果如下</p><table><thead><tr class="header"><th>f (MHz)</th><th>V1pp (V)</th><th>V2pp (V)</th><th>φ (°)</th></tr></thead><tbody><tr class="odd"><td>1</td><td>10.250</td><td>9.280</td><td>-81.60</td></tr><tr class="even"><td>2</td><td>10.260</td><td>9.210</td><td>-163.30</td></tr><tr class="odd"><td>3</td><td>10.270</td><td>7.860</td><td>119.80</td></tr><tr class="even"><td>4</td><td>10.280</td><td>8.570</td><td>44.90</td></tr><tr class="odd"><td>5</td><td>10.260</td><td>8.540</td><td>-45.00</td></tr><tr class="even"><td>6</td><td>10.310</td><td>6.110</td><td>-148.40</td></tr><tr class="odd"><td>7</td><td>10.380</td><td>2.660</td><td>150.00</td></tr><tr class="even"><td>8</td><td>10.430</td><td>1.980</td><td>118.80</td></tr><tr class="odd"><td>9</td><td>10.490</td><td>2.950</td><td>84.30</td></tr><tr class="even"><td>10</td><td>10.560</td><td>4.990</td><td>-34.40</td></tr><tr class="odd"><td>11</td><td>10.670</td><td>2.340</td><td>-90.10</td></tr><tr class="even"><td>12</td><td>10.790</td><td>2.340</td><td>-122.70</td></tr><tr class="odd"><td>13</td><td>10.910</td><td>4.550</td><td>-172.50</td></tr><tr class="even"><td>14</td><td>11.030</td><td>7.790</td><td>96.50</td></tr><tr class="odd"><td>15</td><td>11.190</td><td>8.470</td><td>4.30</td></tr><tr class="even"><td>16</td><td>11.370</td><td>7.760</td><td>-76.20</td></tr><tr class="odd"><td>17</td><td>11.530</td><td>8.570</td><td>-151.80</td></tr><tr class="even"><td>18</td><td>11.720</td><td>8.490</td><td>126.90</td></tr><tr class="odd"><td>19</td><td>11.960</td><td>8.930</td><td>51.80</td></tr><tr class="even"><td>20</td><td>12.220</td><td>8.670</td><td>-27.30</td></tr></tbody></table><center><figcaption><b>表5</b> 缺陷光子晶体Ch1 和 Ch2 峰峰值和相位差随频率变化</figcaption></center><h4 id="传输效率和等效折射率-1">传输效率和等效折射率</h4><p>同理代入公式 (16)(12) 列表如下</p><table><thead><tr class="header"><th>f (MHz)</th><th>φ' (°)</th><th>η</th><th>n</th></tr></thead><tbody><tr class="odd"><td>1</td><td>-81.60</td><td>81.97%</td><td>1.94151</td></tr><tr class="even"><td>2</td><td>-163.30</td><td>80.58%</td><td>1.94270</td></tr><tr class="odd"><td>3</td><td>-240.20</td><td>58.57%</td><td>1.90503</td></tr><tr class="even"><td>4</td><td>-315.10</td><td>69.50%</td><td>1.87430</td></tr><tr class="odd"><td>5</td><td>-405.00</td><td>69.28%</td><td>1.92724</td></tr><tr class="even"><td>6</td><td>-508.40</td><td>35.12%</td><td>2.01606</td></tr><tr class="odd"><td>7</td><td>-570.00</td><td>6.57%</td><td>1.93743</td></tr><tr class="even"><td>8</td><td>-601.20</td><td>3.60%</td><td>1.78805</td></tr><tr class="odd"><td>9</td><td>-635.70</td><td>7.91%</td><td>1.68058</td></tr><tr class="even"><td>10</td><td>-754.40</td><td>22.33%</td><td>1.79495</td></tr><tr class="odd"><td>11</td><td>-810.10</td><td>4.81%</td><td>1.75225</td></tr><tr class="even"><td>12</td><td>-842.70</td><td>4.70%</td><td>1.67087</td></tr><tr class="odd"><td>13</td><td>-892.50</td><td>17.39%</td><td>1.63348</td></tr><tr class="even"><td>14</td><td>-983.50</td><td>49.88%</td><td>1.67146</td></tr><tr class="odd"><td>15</td><td>-1075.70</td><td>57.29%</td><td>1.70628</td></tr><tr class="even"><td>16</td><td>-1156.20</td><td>46.58%</td><td>1.71935</td></tr><tr class="odd"><td>17</td><td>-1231.80</td><td>55.25%</td><td>1.72402</td></tr><tr class="even"><td>18</td><td>-1313.10</td><td>52.48%</td><td>1.73570</td></tr><tr class="odd"><td>19</td><td>-1388.20</td><td>55.75%</td><td>1.73840</td></tr><tr class="even"><td>20</td><td>-1467.30</td><td>50.34%</td><td>1.74558</td></tr></tbody></table><center><figcaption><b>表6</b> 缺陷光子晶体传输效率与等效折射率计算表格</figcaption></center><p>其效率和频率关系如下，其中透射峰使用 <spanclass="math inline">\(\textcolor{red}{\swarrow}\)</span>标出，两侧由于多项式拟合的边界效应其峰可以排除</p><p><img src="/img/同轴光子晶体实验报告/eta-f-2.svg" alt="eta-f-2" style="zoom:67%;" /></p><center><figcaption><b>图6</b> 缺陷光子晶体传输效率与频率关系曲线</figcaption></center><p><img src="/img/同轴光子晶体实验报告/n-f-2.svg" alt="n-f-2" style="zoom:67%;" /></p><center><figcaption><b>图7</b> 缺陷光子晶体等效折射率与频率关系曲线</figcaption></center><p>计算<strong>表 6</strong>和<strong>表3</strong>计算的传输效率之比，列表如下</p><table><thead><tr class="header"><th>f (MHz)</th><th>η1</th><th>η2</th><th>η2/η1</th></tr></thead><tbody><tr class="odd"><td>1</td><td>80.91%</td><td>81.97%</td><td>1.013</td></tr><tr class="even"><td>2</td><td>83.58%</td><td>80.58%</td><td>0.964</td></tr><tr class="odd"><td>3</td><td>72.59%</td><td>58.57%</td><td>0.807</td></tr><tr class="even"><td>4</td><td>72.12%</td><td>69.50%</td><td>0.964</td></tr><tr class="odd"><td>5</td><td>64.53%</td><td>69.28%</td><td>1.074</td></tr><tr class="even"><td>6</td><td>54.09%</td><td>35.12%</td><td>0.649</td></tr><tr class="odd"><td>7</td><td>31.59%</td><td>6.57%</td><td>0.208</td></tr><tr class="even"><td>8</td><td>4.87%</td><td>3.60%</td><td>0.740</td></tr><tr class="odd"><td>9</td><td>1.88%</td><td>7.91%</td><td>4.202</td></tr><tr class="even"><td>10</td><td>1.63%</td><td>22.33%</td><td>13.667</td></tr><tr class="odd"><td>11</td><td>2.96%</td><td>4.81%</td><td>1.624</td></tr><tr class="even"><td>12</td><td>14.67%</td><td>4.70%</td><td>0.321</td></tr><tr class="odd"><td>13</td><td>53.09%</td><td>17.39%</td><td>0.328</td></tr><tr class="even"><td>14</td><td>53.95%</td><td>49.88%</td><td>0.925</td></tr><tr class="odd"><td>15</td><td>60.45%</td><td>57.29%</td><td>0.948</td></tr><tr class="even"><td>16</td><td>57.73%</td><td>46.58%</td><td>0.807</td></tr><tr class="odd"><td>17</td><td>62.44%</td><td>55.25%</td><td>0.885</td></tr><tr class="even"><td>18</td><td>53.89%</td><td>52.48%</td><td>0.974</td></tr><tr class="odd"><td>19</td><td>59.98%</td><td>55.75%</td><td>0.929</td></tr><tr class="even"><td>20</td><td>53.81%</td><td>50.34%</td><td>0.935</td></tr></tbody></table><center><figcaption><b>表7</b> 缺陷光子晶体传输效率与正常光子晶体传输效率之比</figcaption></center><p>将两者的传输效率之比绘图如下</p><p><img src="/img/同轴光子晶体实验报告/eta2_eta1-f.svg" alt="eta2:eta1-f" style="zoom:67%;" /></p><center><figcaption><b>图8</b> 两种光子晶体传输效率之比随频率的变化曲线</figcaption></center><p>可以看出在 <span class="math inline">\(f=9,10,11\text{MHz}\)</span>处的效率提升非常显著，其余基本在 <span class="math inline">\(1\)</span>附近波动。</p><h4 id="群速度-1">群速度</h4><p>同理离散化代入公式 (9) 计算群速度，列表如下</p><table><thead><tr class="header"><th>f (MHz)</th><th>ωdn/dω</th><th>vg/c</th></tr></thead><tbody><tr class="odd"><td>1</td><td>0.00119</td><td>0.51475</td></tr><tr class="even"><td>2</td><td>-0.07534</td><td>0.53552</td></tr><tr class="odd"><td>3</td><td>-0.09220</td><td>0.55162</td></tr><tr class="even"><td>4</td><td>0.21176</td><td>0.47937</td></tr><tr class="odd"><td>5</td><td>0.44414</td><td>0.42170</td></tr><tr class="even"><td>6</td><td>-0.47178</td><td>0.64755</td></tr><tr class="odd"><td>7</td><td>-1.04570</td><td>1.12142</td></tr><tr class="even"><td>8</td><td>-0.85972</td><td>1.07721</td></tr><tr class="odd"><td>9</td><td>1.02929</td><td>0.36902</td></tr><tr class="even"><td>10</td><td>-0.42698</td><td>0.73101</td></tr><tr class="odd"><td>11</td><td>-0.89521</td><td>1.16681</td></tr><tr class="even"><td>12</td><td>-0.44859</td><td>0.81815</td></tr><tr class="odd"><td>13</td><td>0.49371</td><td>0.47010</td></tr><tr class="even"><td>14</td><td>0.48744</td><td>0.46320</td></tr><tr class="odd"><td>15</td><td>0.19600</td><td>0.52569</td></tr><tr class="even"><td>16</td><td>0.07474</td><td>0.55739</td></tr><tr class="odd"><td>17</td><td>0.19867</td><td>0.52011</td></tr><tr class="even"><td>18</td><td>0.04846</td><td>0.56049</td></tr><tr class="odd"><td>19</td><td>0.13645</td><td>0.53338</td></tr><tr class="even"><td>20</td><td>N/A</td><td>N/A</td></tr></tbody></table><center><figcaption><b>表8</b> 缺陷光子晶体群速度计算表格</figcaption></center><p>其群速度和频率的曲线绘制如下</p><p><img src="/img/同轴光子晶体实验报告/vg_c-f-2.svg" alt="vg:c-f-2" style="zoom:67%;" /></p><center><figcaption><b>图9</b> 正常光子晶体和缺陷光子晶体群速度对比曲线</figcaption></center><p>由图像可知，在 <span class="math inline">\(f=9\text{MHz}\)</span>处出现强正常色散，该处的 <span class="math inline">\(v_g\)</span>显著小于 <span class="math inline">\(c\)</span>，为慢光速现象。</p><h2 id="色散关系直接测量mathbfc部分">色散关系直接测量<spanclass="math inline">\((\,\mathbf{C}\,\)</span>部分<spanclass="math inline">\()\)</span></h2><h3 id="特征频率">特征频率</h3><p>在 50 kHz 至 150 kHz范围内改变信号发生器频率，观察脉冲信号的波形、幅度和延时变化情况。从上到下分别为<span class="math inline">\(114、130、160 \text{ kHz}\)</span>时的波形，前两者为幅度最小的两个频率，后者为频率之间信号幅度最大且延时最长的频率。</p><p><img src="/img/同轴光子晶体实验报告/image-20221210211706993.png" alt="image-20221210211706993" style="zoom: 40%;" /></p><center><figcaption><b>图10</b> 频率为 114kHz 脉冲信号波形</figcaption></center><p><img src="/img/同轴光子晶体实验报告/image-20221210212548917.png" alt="image-20221210212548917" style="zoom:40%;" /></p><center><figcaption><b>图11</b> 频率为 130kHz 脉冲信号波形</figcaption></center><p><img src="/img/同轴光子晶体实验报告/image-20221210212612934.png" alt="image-20221210212612934" style="zoom:40%;" /></p><center><figcaption><b>图12</b> 频率为 160kHz 脉冲信号波形</figcaption></center><h3 id="群速度计算">群速度计算</h3><p>对图片截图计算中心波腹的延迟像素与示波器背景单位格点像素比例，例如对第一张图两者像素为333 和 543，故其延迟时间为 <span class="math display">\[t_1=\frac{333 \mathrm{~pix}}{543 \mathrm{~pix}} \cdot 500\mathrm{~ns}=306.6\text{~ns}\]</span> 同理对三幅图片处理列表如下，其中由于设置 <spanclass="math inline">\(100T\)</span>脉冲波形，高频正弦波信号的频率为原始频率的 <spanclass="math inline">\(100\)</span> 倍，使用 <spanclass="math inline">\(\text{MHz}\)</span> 单位方便统一</p><table><thead><tr class="header"><th>f (MHz)</th><th>基准像素</th><th>波腹像素</th><th>Δt/ns</th></tr></thead><tbody><tr class="odd"><td>11.4</td><td>543</td><td>333</td><td>306.6</td></tr><tr class="even"><td>13.0</td><td>493</td><td>99</td><td>100.4</td></tr><tr class="odd"><td>16.0</td><td>498</td><td>164</td><td>164.7</td></tr></tbody></table><center><figcaption><b>表9</b> 像素法延时长度计算</figcaption></center><p>由群速度代表波包的运动，<spanclass="math inline">\(v_{g}=\dfrac{l}{\Delta t}\)</span>，计算 <spanclass="math inline">\(\dfrac{v_g}{c}=\dfrac{l}{c\Delta t}\)</span>列表如下</p><table><thead><tr class="header"><th>f (MHz)</th><th>vg/c</th></tr></thead><tbody><tr class="odd"><td>11.4</td><td>0.3807</td></tr><tr class="even"><td>13.0</td><td>1.1628</td></tr><tr class="odd"><td>16.0</td><td>0.7090</td></tr></tbody></table><center><figcaption><b>表10</b> 群速度直接测量结果</figcaption></center><p>将该结果标注在<strong>图5</strong>中如下，其中 <spanclass="math inline">\(\textcolor{red}{\bullet}\)</span> 代表测量点</p><p><img src="/img/同轴光子晶体实验报告/vg_c-f-2-scatter.svg" alt="vg:c-f-2-scatter" style="zoom:67%;" /></p><center><figcaption><b>图13</b> 利用脉冲直接测量和间接测量群速度比对</figcaption></center><p>可以发现，除中间点外，测量结果基本符合预期。</p><h2 id="传输特性理论计算mathbfd.1-d.4部分">传输特性理论计算<spanclass="math inline">\((\,\mathbf{D.1-D.4}\,\)</span>部分<spanclass="math inline">\()\)</span></h2><h3 id="叠加电压求解">叠加电压求解</h3><p>由公式 (6) 的两个方程反解得 <span class="math display">\[\begin{equation}\begin{cases}V_0^{+} =\dfrac{1}{2}\left(v_2+Z_0 i_2\right) e^{\gamma l} \\V_0^{-} =\dfrac{1}{2}\left(v_2-Z_0 i_2\right) e^{-\gamma l}\end{cases}\end{equation}\]</span></p><h3 id="传递矩阵计算">传递矩阵计算</h3><p>取 <span class="math inline">\(x=0\)</span> 的点对应 <spanclass="math inline">\(v_1,i_1\)</span> <span class="math display">\[\begin{equation}\begin{cases}v_1=v^{+}(0)+v^{-}(0)=V_0^{+}+V_0^{-} \\i_1=i^{+}(0)+i^{-}(0)=\dfrac{1}{Z_0}\left(V_0^{+}-V_0^{-}\right)\end{cases}\end{equation}\]</span> 代入公式 (17) 得 <span class="math display">\[\begin{equation}\begin{aligned}v_1 &amp; =\frac{1}{2}\left(v_2+Z_0 i_2\right) e^{\gammal}+\frac{1}{2}\left(v_2-Z_0 i_2\right) e^{-\gamma l} \\i_1 &amp; =\frac{1}{Z_0}\left(\frac{1}{2}\left(v_2+Z_0 i_2\right)e^{\gamma l}-\frac{1}{2}\left(v_2-Z_0 i_2\right) e^{-\gamma l}\right)\end{aligned}\end{equation}\]</span> 写成矩阵的形式如下 <span class="math display">\[\begin{equation}\left[\begin{array}{l}v_1 \\i_1\end{array}\right]=\left[\begin{array}{cl}\cosh (\gamma l) &amp; Z_0 \sinh (\gamma l) \\\dfrac{1}{Z_0} \sinh (\gamma l) &amp; \cosh (\gamma l)\end{array}\right] \cdot\left[\begin{array}{l}v_2 \\i_2\end{array}\right]\end{equation}\]</span> 则其中 <span class="math inline">\(\left[\begin{array}{cl}\cosh (\gamma l) &amp; Z_0 \sinh (\gamma l) \\ \dfrac{1}{Z_0} \sinh(\gamma l) &amp; \cosh (\gamma l) \end{array}\right]\)</span>为传递矩阵。</p><h3 id="传递矩阵性质">传递矩阵性质</h3><p>将两个同轴电缆串联连接如下</p><p><img src="/img/同轴光子晶体实验报告/image-20221211111629563.png" alt="image-20221211111629563" style="zoom: 33%;" /></p><center><figcaption><b>图14</b> 同轴光子晶体的其中两段级联同轴电缆</figcaption></center><p>由上节传递矩阵的性质 <span class="math display">\[\begin{equation}\left[\begin{array}{l}v_1 \\i_1\end{array}\right]=A_1\left[\begin{array}{l}v_2 \\i_2\end{array}\right],\left[\begin{array}{l}v_2 \\i_2\end{array}\right]=A_2\left[\begin{array}{l}v_3 \\i_3\end{array}\right]\end{equation}\]</span> 后者代入前者可得 <span class="math display">\[\begin{equation}\left[\begin{array}{l}v_1 \\i_1\end{array}\right]=A_1 A_2\left[\begin{array}{l}v_3 \\i_3\end{array}\right]\end{equation}\]</span> 故总的传递矩阵为 <span class="math inline">\(A=A_1A_2\)</span>，从而通过传递矩阵相乘的方法可以得到若干个同轴光子晶体连接形成的等效传递矩阵。</p><h3 id="负载电压表达式">负载电压表达式</h3><p>令总传递矩阵 <span class="math inline">\(A_T=\left[\begin{array}{cc}A&amp; B \\ C &amp; D\end{array}\right]\)</span>，信号源电动势 <spanclass="math inline">\(e\)</span> 与内阻 <spanclass="math inline">\(Z_0\)</span>，联立方程 <spanclass="math display">\[\begin{equation}\left\{\begin{array}{l}{\left[\begin{array}{l}v_1 \\i_1\end{array}\right]=\left[\begin{array}{cc}A &amp; B \\ C &amp;D\end{array}\right]\cdot\left[\begin{array}{l}v_L \\i_L\end{array}\right]} \\v_L=i_L \cdot Z_0 \\e=v_1+i_1 \cdot Z_0\end{array}\right.\end{equation}\]</span> 解得负载电压的表达式 <span class="math display">\[\begin{equation}V_L=\frac{e}{A+\dfrac{1}{Z_0} B+Z_0 C+D}\end{equation}\]</span></p><h2 id="编程计算mathbfd.5部分">编程计算<spanclass="math inline">\((\,\mathbf{D.5}\,\)</span>部分<spanclass="math inline">\()\)</span></h2><p>使用 matlab 对给定数据进行模拟，已知单根同轴电缆的特征阻抗 <spanclass="math inline">\(Z_0=50 \Omega\)</span>，介质参数 <spanclass="math inline">\(\varepsilon_r=2.354 、 \mu_r \approx1\)</span>，衰减系数 <span class="math inline">\(\alpha=\)</span> <spanclass="math inline">\(1.810 \times 10^{-6} \sqrt{f}m^{-1}\)</span>，其中 <span class="math inline">\(f\)</span> 的单位为<span class="math inline">\(\mathrm{Hz}\)</span>。</p><p>由连接图可知，令 <span class="math inline">\(A_1\)</span>为原始同轴电缆，<span class="math inline">\(A_2\)</span>为并联之后的同轴电缆，其总传递矩阵如下 <span class="math display">\[\begin{equation}A_T=A_2 A_1 A_2 A_1 A_2 A_1 A_2\end{equation}\]</span></p><h3 id="程序设计">程序设计</h3><p>将转移矩阵对应的元素设计在函数中，例如第一个元素获取函数<code>A1()</code> 如下</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">[a]</span> = <span class="hljs-title">A1</span><span class="hljs-params">(f)</span></span><br>    A1=[<span class="hljs-built_in">cosh</span>(ga(f)*<span class="hljs-number">5</span>) <span class="hljs-number">50</span>*<span class="hljs-built_in">sinh</span>(ga(f)*<span class="hljs-number">5</span>);<span class="hljs-number">1</span>/<span class="hljs-number">50</span>*<span class="hljs-built_in">sinh</span>(ga(f)*<span class="hljs-number">5</span>) <span class="hljs-built_in">cosh</span>(ga(f)*<span class="hljs-number">5</span>)];<br>    A2=[<span class="hljs-built_in">cosh</span>(ga(f)*<span class="hljs-number">5</span>) <span class="hljs-number">25</span>*<span class="hljs-built_in">sinh</span>(ga(f)*<span class="hljs-number">5</span>);<span class="hljs-number">1</span>/<span class="hljs-number">25</span>*<span class="hljs-built_in">sinh</span>(ga(f)*<span class="hljs-number">5</span>) <span class="hljs-built_in">cosh</span>(ga(f)*<span class="hljs-number">5</span>)];<br>    <span class="hljs-comment">% A=A2*A1*A2*A1*A2*A1*A2; % 缺陷光子晶体</span><br>    A=A2*A2*A2*A1*A2*A1*A2;   <span class="hljs-comment">% 正常光子晶体</span><br>    a=A(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>) ;<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>主函数针对<strong>传输效率、等效折射率、群速度</strong>计算，纵坐标标注不同结果</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs matlab">f = <span class="hljs-number">0</span>:<span class="hljs-number">0.1</span>:<span class="hljs-number">80</span>;<br>x = f;<br>angs = f;<br><span class="hljs-comment">% 计算效率</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span>=<span class="hljs-number">1</span>:<span class="hljs-number">801</span><br>    x(<span class="hljs-built_in">i</span>) = eta(f(<span class="hljs-built_in">i</span>) * <span class="hljs-number">1e6</span>);<br><span class="hljs-keyword">end</span><br><span class="hljs-comment">% 计算相位差以及使用 unwrap() 函数</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span>=<span class="hljs-number">1</span>:<span class="hljs-number">801</span><br>   angs(<span class="hljs-built_in">i</span>) = ang(f(<span class="hljs-built_in">i</span>)*<span class="hljs-number">1e6</span>);<br><span class="hljs-keyword">end</span><br>angs = <span class="hljs-built_in">unwrap</span>(angs);<br><span class="hljs-comment">% 计算等效等效折射率</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span>=<span class="hljs-number">1</span>:<span class="hljs-number">801</span><br>   x(<span class="hljs-built_in">i</span>) = n(f(<span class="hljs-built_in">i</span>)*<span class="hljs-number">1e6</span>, angs(<span class="hljs-built_in">i</span>));<br><span class="hljs-keyword">end</span><br><span class="hljs-comment">% 计算群速度</span><br>vg = x(<span class="hljs-number">1</span>:<span class="hljs-number">800</span>);<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span>=<span class="hljs-number">1</span>:<span class="hljs-number">800</span><br>   vg(<span class="hljs-built_in">i</span>) = <span class="hljs-number">1</span> / (x(<span class="hljs-built_in">i</span>) + f(<span class="hljs-built_in">i</span>)/<span class="hljs-number">0.1</span>*(x(<span class="hljs-built_in">i</span>+<span class="hljs-number">1</span>)-x(<span class="hljs-built_in">i</span>)));<br><span class="hljs-keyword">end</span><br><span class="hljs-comment">% 对不同情况绘制图像，选定不同的 y 轴标注</span><br><span class="hljs-comment">% plot(f, x);</span><br><span class="hljs-built_in">plot</span>(f(<span class="hljs-number">1</span>:<span class="hljs-number">800</span>), vg);<br>xlabel(<span class="hljs-string">&#x27;$f/MHz$&#x27;</span>, <span class="hljs-string">&#x27;interpreter&#x27;</span>, <span class="hljs-string">&#x27;latex&#x27;</span>, <span class="hljs-string">&#x27;FontSize&#x27;</span>, <span class="hljs-number">15</span>);<br><span class="hljs-comment">% ylabel(&#x27;$\eta$&#x27;, &#x27;interpreter&#x27;, &#x27;latex&#x27;, &#x27;FontSize&#x27;, 20);</span><br><span class="hljs-comment">% ylabel(&#x27;$n$&#x27;, &#x27;interpreter&#x27;, &#x27;latex&#x27;, &#x27;FontSize&#x27;, 20);</span><br>ylabel(<span class="hljs-string">&#x27;$\frac&#123;v_g&#125;&#123;c&#125;$&#x27;</span>, <span class="hljs-string">&#x27;interpreter&#x27;</span>, <span class="hljs-string">&#x27;latex&#x27;</span>, <span class="hljs-string">&#x27;FontSize&#x27;</span>, <span class="hljs-number">20</span>);<br></code></pre></td></tr></table></figure><p>其中使用 <code>unwrap()</code>函数对相位差有跃变的情况加以处理，自动增加 <spanclass="math inline">\(n\pi\)</span>。</p><h3 id="正常光子晶体-1">正常光子晶体</h3><p>取定 <span class="math inline">\(\textcolor{blue}{f\in[0,8]\text{~MHz}}\)</span> 步长为 <spanclass="math inline">\(\textcolor{blue}{0.1\text{~MHZ}}\)</span>进行程序模拟，绘制图像如下</p><h4 id="传输效率">传输效率</h4><p><img src="/img/同轴光子晶体实验报告/eta-f-theory.svg" alt="eta-f-theory" style="zoom:67%;" /></p><center><figcaption><b>图15</b> 正常光子晶体效率与频率关系曲线（程序模拟）</figcaption></center><p>从左往右依次为<strong>通带、带隙、通带</strong>交替产生，并且随着频率地增加，多次反射和透射产生的损耗增加，从而引起效率<strong>极值点下降</strong>。</p><h4 id="等效折射率">等效折射率</h4><p><img src="/img/同轴光子晶体实验报告/n-f-theory.svg" alt="n-f-theory" style="zoom:67%;" /></p><center><figcaption><b>图16</b> 正常光子晶体等效折射率与频率关系曲线（程序模拟）</figcaption></center><p>可以看出在频率逐渐增大的过程中存在多个反常色散区域，这与反常色散曲线吻合。</p><h4 id="群速度-2">群速度</h4><p><img src="/img/同轴光子晶体实验报告/vg-f-theory.svg" alt="vg-f-theory" style="zoom:67%;" /></p><center><figcaption><b>图17</b> 正常光子晶体群速度与频率关系曲线（程序模拟）</figcaption></center><p>可以看出在反常色散区域群速度超过光速 <spanclass="math inline">\(c\)</span>，与预期吻合。</p><h3 id="缺陷光子晶体-1">缺陷光子晶体</h3><p>假定增加的电缆位于左侧，其总传递矩阵更改为 <spanclass="math display">\[\begin{equation}A_T^{\prime}=A_2 A_2 A_2 A_1 A_2 A_1 A_2\end{equation}\]</span></p><h4 id="传输效率-1">传输效率</h4><p>仅仅更改矩阵，其余代码不变，传输效率关系图如下</p><p><img src="/img/同轴光子晶体实验报告/eta-f-theory-2.svg" alt="eta-f-theory-2" style="zoom:67%;" /></p><center><figcaption><b>图18</b> 缺陷光子晶体效率与频率关系曲线（程序模拟）</figcaption></center><p>与<strong>图6</strong>对比，在每个通带和带隙之间增加了若干个透射峰（确切来说有 <spanclass="math inline">\(4\)</span> 个），与实测结论完全相符。</p><h4 id="等效折射率-1">等效折射率</h4><p><img src="/img/同轴光子晶体实验报告/n-f-theory-2.svg" alt="n-f-theory-2" style="zoom:67%;" /></p><center><figcaption><b>图19</b> 缺陷光子晶体等效折射率与频率关系曲线（程序模拟）</figcaption></center><h4 id="群速度-3">群速度</h4><p><img src="/img/同轴光子晶体实验报告/vg-f-theory-2.svg" alt="vg-f-theory-2" style="zoom:67%;" /></p><center><figcaption><b>图20</b> 缺陷光子晶体群速度与频率关系曲线（程序模拟）</figcaption></center><p>有缺陷的情形均与实际情况吻合，同时符合能带理论。</p><h2 id="原始数据">原始数据</h2><p><img src="/img/同轴光子晶体实验报告/image-20221212001029570.png" alt="image-20221212001029570" style="zoom: 25%;" /></p><center><figcaption><b>图21</b> 原始数据截图1</figcaption></center><p><img src="/img/同轴光子晶体实验报告/image-20221212003217593.png" alt="image-20221212003217593" style="zoom:25%;" /></p><center><figcaption><b>图22</b> 原始数据截图2</figcaption></center>]]></content>
    
    
    <categories>
      
      <category>物理</category>
      
      <category>实验报告</category>
      
    </categories>
    
    
    <tags>
      
      <tag>实验报告</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Fundamental Physics 2</title>
    <link href="/2022/10/29/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%A1%80%E7%89%A9%E7%90%86%E5%AD%A62%E5%B0%8F%E7%8F%AD%E8%BE%85%E5%AF%BC%E8%AE%B2%E4%B9%89/"/>
    <url>/2022/10/29/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%A1%80%E7%89%A9%E7%90%86%E5%AD%A62%E5%B0%8F%E7%8F%AD%E8%BE%85%E5%AF%BC%E8%AE%B2%E4%B9%89/</url>
    
    <content type="html"><![CDATA[<p>访问 <span class="math inline">\(\LaTeX\)</span> 源代码<ahref="https://github.com/lr-tsinghua11/Fundamental_Physics_2">仓库</a>，如果觉得有帮助，麻烦点个Star ，以下为<strong>讲义 PDF 文件</strong>：</p><p><ahref="https://lr-tsinghua11.github.io/pdf/基础物理学2半期小班辅导讲义——学生版.pdf">基础物理学2半期小班辅导讲义——学生版</a></p><p><ahref="https://lr-tsinghua11.github.io/pdf/基础物理学2半期小班辅导讲义——教师版.pdf">基础物理学2半期小班辅导讲义——教师版</a></p><p>授课过程中对学生版笔记进行相关批注，点击此处可以下载<strong>批注版</strong>：</p><p><ahref="https://lr-tsinghua11.github.io/pdf/基础物理学2半期小班辅导讲义——批注版.pdf">基础物理学2半期小班辅导讲义——批注版</a></p>]]></content>
    
    
    <categories>
      
      <category>物理</category>
      
      <category>基础物理学 2</category>
      
    </categories>
    
    
    <tags>
      
      <tag>基础物理学 2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Rust Notes</title>
    <link href="/2022/09/11/%E7%BC%96%E7%A8%8B/Rust%20%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/09/11/%E7%BC%96%E7%A8%8B/Rust%20%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="lecture-1">Lecture 1</h1><h2 id="语言特性">语言特性</h2><p><strong>高效：</strong>Python 解释器，java 虚拟机，而 rust<strong>没有运行时</strong>，在 bare metal（裸机）上运行。</p><p>安卓基于 java，苹果 swift，有相应的垃圾回收机制，易卡顿，而 rust没有垃圾收集机制。</p><p><strong>可靠：</strong>用<strong>类型系统和所有权模型</strong>来确保内存安全性和线程安全性，在编译时消除各种潜在的问题。</p><p><strong>好用：</strong>文档丰富，编译器（提供更改方法）。</p><h2 id="rust-语言应用">Rust 语言应用</h2><ul><li><p>Servo 浏览器引擎，Redox 操作系统，Linux操作系统驱动和模块的支持</p></li><li><p>清华大学：操作系统教学 rCore，性能所 MadFS 文件系统，IO 500遥遥领先</p></li><li><p>Cargo 能够大规模添加依赖（第三方库），不需要像 C++花时间去寻找并下载源码</p></li></ul><h2 id="rust-基础语法">rust 基础语法</h2><p>C++ cin cout 读取失败时，将流转换为非法，而 rust则会显式地处理异常</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust">io::<span class="hljs-title function_ invoke__">stdin</span>()<br>  .<span class="hljs-title function_ invoke__">read_line</span>(&amp;<span class="hljs-keyword">mut</span> guess)<br>  .<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">&quot;Failed to read line&quot;</span>);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;You guessed: &#123;guess&#125;&quot;</span>);<br></code></pre></td></tr></table></figure><p>猜数获取数字以及猜测语句</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// (1..=100) 代表 1-100 左闭右闭</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">secret_number</span> = rand::<span class="hljs-title function_ invoke__">thread_rng</span>().<span class="hljs-title function_ invoke__">gen_range</span>(<span class="hljs-number">1</span>..=<span class="hljs-number">100</span>);<br><span class="hljs-comment">// trim()前后处理空格，parse() 解析（转换类型）</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">guess</span>: <span class="hljs-type">u32</span> = guess.<span class="hljs-title function_ invoke__">trim</span>().<span class="hljs-title function_ invoke__">parse</span>().<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">&quot;Please type a number!&quot;</span>);<br></code></pre></td></tr></table></figure><p>变量绑定</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">17</span>; <span class="hljs-comment">// 变量绑定，且隐式推断类型</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span>: <span class="hljs-type">i16</span> = <span class="hljs-number">17</span>; <span class="hljs-comment">// 显式绑定类型</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;<br>x += <span class="hljs-number">1</span>; <span class="hljs-comment">// error: re-assignment of immutable variable x</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">y</span> = <span class="hljs-number">5</span>;<br>y += <span class="hljs-number">1</span>; <span class="hljs-comment">// OK!</span><br></code></pre></td></tr></table></figure><p>变量类型</p><ul><li>布尔 bool：两个值 true/false。</li><li>字符 char：用单引号，例如 'R'、' 计', 是 Unicode 的。</li><li>数值：分为整数和浮点数，有不同的大小和符号属性。<ul><li>i8、i16、i32、i64、isize</li><li>u8、u16、u32、u64、usize</li><li>f32、f64</li></ul></li><li>其中 isize 和 usize是指针大小的整数，因此它们的大小与机器架构相关。</li><li>字面值 (literals) 写为 10i8、10u16、10.0f32、10usize 等。</li><li>字面值如果不指定类型，则默认整数为 i32，浮点数为 f64。</li><li>数组 (arrays)、切片 (slices)、str 字符串 (strings)、元组(tuples)。</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 数组</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">arr1</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]; <span class="hljs-comment">// (array of 3 elements)</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">arr2</span> = [<span class="hljs-number">2</span>; <span class="hljs-number">32</span>]; <span class="hljs-comment">// (array of 32 `2`s)</span><br><span class="hljs-comment">// 切片</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">arr</span> = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">total_slice</span> = &amp;arr; <span class="hljs-comment">// Slice all of `arr`</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">total_slice</span> = &amp;arr[..]; <span class="hljs-comment">// Same, but more explicit</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">partial_slice</span> = &amp;arr[<span class="hljs-number">2</span>..<span class="hljs-number">5</span>]; <span class="hljs-comment">// [2, 3, 4]</span><br><span class="hljs-comment">// 字符 String 和 &amp;str，可以分别当做 C++ 中的 string 和 const char*</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">s</span>: &amp;<span class="hljs-type">str</span> = <span class="hljs-string">&quot;galaxy&quot;</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">s2</span>: <span class="hljs-type">String</span> = <span class="hljs-string">&quot;galaxy&quot;</span>.<span class="hljs-title function_ invoke__">to_string</span>();<br><span class="hljs-keyword">let</span> <span class="hljs-variable">s3</span>: <span class="hljs-type">String</span> = String::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">&quot;galaxy&quot;</span>);<br><span class="hljs-keyword">let</span> <span class="hljs-variable">s4</span>: &amp;<span class="hljs-type">str</span> = &amp;s3;<br><span class="hljs-comment">// 向量</span><br><span class="hljs-comment">// Explicit typing</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">v0</span>: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt; = Vec::<span class="hljs-title function_ invoke__">new</span>();<br><span class="hljs-comment">// v1 and v2 are equal</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">v1</span> = Vec::<span class="hljs-title function_ invoke__">new</span>();<br>v1.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">1</span>);<br>v1.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">2</span>);<br>v1.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">3</span>);<br><span class="hljs-keyword">let</span> <span class="hljs-variable">v2</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-comment">// v3 and v4 are equal</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">v3</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">0</span>; <span class="hljs-number">4</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">v4</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>];<br><span class="hljs-comment">// 输出向量中的所有元素</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Task 10: The array is &#123;:?&#125;&quot;</span>, v2);<br></code></pre></td></tr></table></figure><p>类型转换</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 使用 as 进行类型转换 (cast)</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span>: <span class="hljs-type">i32</span> = <span class="hljs-number">100</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">y</span>: <span class="hljs-type">u32</span> = x <span class="hljs-keyword">as</span> <span class="hljs-type">u32</span>;<br><span class="hljs-comment">// 一般来说只能在可以安全转换的类型之间进行转换操作</span><br></code></pre></td></tr></table></figure><p>引用</p><ul><li>在类型前面写 &amp; 表示引用类型： &amp;i32。</li><li>用 &amp; 来取引用（和 C++ 类似）。</li><li>用 * 来解引用（和 C++ 类似）。</li><li>rust 中引用和一般意义的指针是不一样的。</li></ul><p>条件语句</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">0</span> &#123;<br><span class="hljs-number">10</span><br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span> &#123;<br><span class="hljs-number">0</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Not greater than zero!&quot;</span>);<br>-<span class="hljs-number">10</span><br>&#125;<br></code></pre></td></tr></table></figure><p>循环语句，三种循环 <spanclass="math inline">\(\begin{cases}\text{while}\\\text{loop = while true} \\\text{for}\end{cases}\)</span></p><p>迭代器</p><ul><li>n..m 创建一个从 n 到 m 半闭半开区间的迭代器。</li><li>n..=m 创建一个从 n 到 m 闭区间的迭代器。</li><li>很多数据结构可以当做迭代器来使用，比如数组、切片，还有向量 Vec等等。</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">xs</span> = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-comment">// Loop through elements in a slice of `xs`.</span><br><span class="hljs-keyword">for</span> <span class="hljs-variable">x</span> <span class="hljs-keyword">in</span> &amp;xs &#123;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, x);<br>&#125;<br></code></pre></td></tr></table></figure><p>匹配语句，其中 <code>_</code> 匹配所有情况</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 单变量版本</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">match</span> x &#123;<br>  <span class="hljs-number">1</span> =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;one fish&quot;</span>), <span class="hljs-comment">// &lt;- comma required</span><br>  <span class="hljs-number">2</span> =&gt; &#123;<br>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;two fish&quot;</span>);<br>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;two fish&quot;</span>);<br>  &#125;, <span class="hljs-comment">// &lt;- comma optional when using braces</span><br>  _ =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;no fish for you&quot;</span>), <span class="hljs-comment">// &quot;otherwise&quot; case</span><br>&#125;<br><span class="hljs-comment">// 元组版本</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">y</span> = -<span class="hljs-number">3</span>;<br><span class="hljs-title function_ invoke__">match</span> (x, y) &#123;<br>  (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;one&quot;</span>),<br>  (<span class="hljs-number">2</span>, j) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;two, &#123;&#125;&quot;</span>, j),<br>  (_, <span class="hljs-number">3</span>) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;three&quot;</span>),<br>  (i, j) <span class="hljs-keyword">if</span> i &gt; <span class="hljs-number">5</span> &amp;&amp; j &lt; <span class="hljs-number">0</span> =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;On guard!&quot;</span>),<br>  (_, _) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;:&lt;&quot;</span>),<br>&#125;<br></code></pre></td></tr></table></figure><p>模式绑定</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> (a, b) = (<span class="hljs-string">&quot;foo&quot;</span>, <span class="hljs-number">12</span>);<br></code></pre></td></tr></table></figure><p>函数</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 函数头</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">foo</span>(x: T, y: U, z: V) <span class="hljs-punctuation">-&gt;</span> T &#123;<br><span class="hljs-comment">// ...</span><br>&#125;<br><span class="hljs-comment">// T 类型参数 x ，U 类型参数 y ，V 类型参数 z，返回 T 类型</span><br><span class="hljs-comment">// Rust 必须显式定义函数的参数和返回值的类型。</span><br><span class="hljs-comment">// 实际上编译器是可以推断函数的参数和返回值的类型的，但是 Rust 的设计者认为显式指定更好</span><br><br><span class="hljs-comment">// 函数返回</span><br><span class="hljs-comment">// 函数最后一个表达式是其返回值，可以使用 return 提前返回</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">square</span>(n: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> &#123;<br>n * n<br>&#125;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">squareish</span>(n: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> &#123;<br><span class="hljs-keyword">if</span> n &lt; <span class="hljs-number">5</span> &#123; <span class="hljs-keyword">return</span> n; &#125;<br>n * n<br>&#125;<br></code></pre></td></tr></table></figure><p>print! 和 println!</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-string">&quot;foo&quot;</span>;<br><span class="hljs-built_in">print!</span>(<span class="hljs-string">&quot;&#123;&#125;, &#123;&#125;, &#123;&#125;&quot;</span>, x, <span class="hljs-number">3</span>, <span class="hljs-literal">true</span>);<br><span class="hljs-comment">// =&gt; foo, 3, true</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;, &#123;:?&#125;&quot;</span>, x, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<br><span class="hljs-comment">// =&gt; &quot;foo&quot;, [1, 2, 3]</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">y</span> = <span class="hljs-number">1</span>;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;0&#125;, &#123;y&#125;, &#123;0&#125;&quot;</span>, x);<br><span class="hljs-comment">// =&gt; foo, 1, foo</span><br><br></code></pre></td></tr></table></figure><p>format!</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">fmted</span> = <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;&#123;&#125;, &#123;:x&#125;, &#123;:?&#125;&quot;</span>, <span class="hljs-number">12</span>, <span class="hljs-number">155</span>, <span class="hljs-title function_ invoke__">Some</span>(<span class="hljs-string">&quot;Hello&quot;</span>));<br><span class="hljs-comment">// fmted == &quot;12, 9b, Some(&quot;Hello&quot;)&quot;</span><br></code></pre></td></tr></table></figure><p>panic! 处理错误的方式，并不优雅</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span> &#123;<br><span class="hljs-built_in">panic!</span>(<span class="hljs-string">&quot;Kaboom!&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>assert! 和 assert_eq!</p><ul><li>如果条件 condition 不成立， assert!(condition)会导致<strong>恐慌</strong>。</li><li>如果 left != right， assert_eq!(left, right)会导致<strong>恐慌</strong>。</li></ul><p>unreachable!用于表达不会达到的分支，如果达到就会导致<strong>恐慌</strong></p><p>unimplemented! 标注没有实现的功能，panic!("not yet implemented")的简写</p><h1 id="lecture-2">lecture 2</h1><p>Rust 语言最 core 的语法，语言 = 核心语法 + 标准库</p><h2 id="所有权">所有权</h2><ul><li><p>资源管理的需求：内存使用的安全和性能</p><p>内存资源：<spanclass="math inline">\(\begin{cases}全局对象：事先分配的内存空间段，启动时分配，结束时回收\\局部对象：分配在栈上，进入函数时分配，退出函数时回收\\动态对象：分配在堆上，需要时分配，不需要时回收\end{cases}\)</span></p></li><li><p>对于小型程序，<code>new</code> 之后不 <code>delete</code>无所谓，程序结束之后会自动删除；但是对于大型 24h网络服务端程序，容易出现问题，总有分配内存失败的时候</p></li><li><p>内存管理方式，<strong>用户指定和垃圾回收</strong>，前者要求编写者的严谨，后者分为小回收和大回收，</p><p>安卓手机卡的原因：处于大回收状态，逻辑不明确，性能差</p></li><li><p>C艹 将构造和分配集成在一起：</p><ul><li><p>拷贝构造：在语义上实现一个对象变两个对象（二进制串的拷贝）。</p></li><li><p>移动构造：在语义上实现将一个对象的资源转移给另一个对象。</p></li></ul></li><li><p>空指针、悬垂指针（指针所指对象被释放，但指针没有做修改）、双重释放（两个对象的指针指向同一块内存空间，两个对象均释放）等问题导致运行时错误。</p></li></ul><p>计算机技术本质上是实现一个 <code>Trade-off</code></p><ul><li><p>Rust 中的每个值都有所有者 (owner)。</p></li><li><p>同一时刻<strong>只有一个</strong>所有者。</p></li><li><p>当所有者失效，值也将被丢弃。</p></li></ul><p>这是</p><p>一份数据只有一个所有者，如果超出作用域，其绑定数据自动释放</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">foo</span>() &#123;<br>  <span class="hljs-comment">// Creates a Vec object.</span><br>  <span class="hljs-comment">// Gives ownership of the Vec object to v1.</span><br>  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">v1</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>  v1.<span class="hljs-title function_ invoke__">pop</span>();<br>  v1.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-number">4</span>);<br>  <span class="hljs-comment">// At the end of the scope, v1 goes out of scope.</span><br>  <span class="hljs-comment">// v1 still owns the Vec object, so it can be cleaned up.</span><br>&#125;<br></code></pre></td></tr></table></figure><p>以下代码在编译过程中出错，所有权的转移</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs rust">  <span class="hljs-keyword">let</span> <span class="hljs-variable">v1</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>  <span class="hljs-comment">// Ownership of the Vec object moves to v2.</span><br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">v2</span> = v1;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, v1[<span class="hljs-number">2</span>]); <span class="hljs-comment">// error: use of moved value `v1`</span><br>----------------------Compile Error-----------------------<br>error[E0382]: borrow of moved value: `v1`<br>  |<br><span class="hljs-number">2</span> |     <span class="hljs-keyword">let</span> <span class="hljs-variable">v1</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>  |         -- <span class="hljs-keyword">move</span> occurs because `v1` has <span class="hljs-keyword">type</span> `<span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;`, which does not implement the `<span class="hljs-built_in">Copy</span>` <span class="hljs-keyword">trait</span><br><span class="hljs-number">3</span> |     <span class="hljs-comment">// Ownership of the Vec object moves to v2.</span><br><span class="hljs-number">4</span> |     <span class="hljs-keyword">let</span> <span class="hljs-variable">v2</span> = v1;<br>  |              -- value moved here<br><span class="hljs-number">5</span> |     <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, v1[<span class="hljs-number">2</span>]); <span class="hljs-comment">// error: use of moved value `v1`</span><br>  |                    ^^ value borrowed here after <span class="hljs-keyword">move</span><br></code></pre></td></tr></table></figure><p>在函数调用的时候，如果传入参数过多，还要将所有权还回去，比较麻烦</p><p>使用<strong>借用</strong>，所有权本身没有变化，相当于是借用一下数据</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">v</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-comment">// v_ref is a reference to v.</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">v_ref</span> = &amp;v;<br><span class="hljs-comment">// Moving ownership to v_new would invalidate v_ref.</span><br><span class="hljs-comment">// error: cannot move out of `v` because it is borrowed</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">v_new</span> = v;<br><span class="hljs-comment">// Cancel the effect of NLL (non-lexical lifetime)</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;&quot;</span>, v_ref);<br></code></pre></td></tr></table></figure><p>rust语言是一门<strong>面向编译器语言</strong>，可以认为写不出运行有问题的代码</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 借用与函数</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">length</span>(vec_ref: &amp;<span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> &#123;<br>  <span class="hljs-comment">// vec_ref is auto-dereferenced when you call methods on it.</span><br>  vec_ref.<span class="hljs-title function_ invoke__">len</span>()<br>&#125;<br><span class="hljs-comment">// 可变借用</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">push</span>(vec_ref: &amp;<span class="hljs-keyword">mut</span> <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;, x: <span class="hljs-type">i32</span>) &#123;<br>vec_ref.<span class="hljs-title function_ invoke__">push</span>(x);<br>&#125;<br><span class="hljs-comment">// Copy (特型)</span><br><span class="hljs-comment">// i32、f64、char、bool 可以拷贝</span><br><span class="hljs-comment">// 生命周期检查</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">y</span>: &amp;<span class="hljs-type">i32</span>;<br>&#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;<br>  y = &amp;x; <span class="hljs-comment">// error: `x` does not live long enough</span><br>&#125;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, *y);<br></code></pre></td></tr></table></figure><p>向量的三种迭代方式，不可变借用 <code>&amp;V</code>、可变借用<code>&amp;mut V</code>、所有权 <code>V</code></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">vs</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>];<br><span class="hljs-comment">// Borrow immutably</span><br><span class="hljs-keyword">for</span> <span class="hljs-variable">v</span> <span class="hljs-keyword">in</span> &amp;vs &#123; <span class="hljs-comment">// Can also write `for v in vs.iter()`</span><br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;I&#x27;m borrowing &#123;&#125;.&quot;</span>, v);<br>&#125;<br><span class="hljs-comment">// Borrow mutably</span><br><span class="hljs-keyword">for</span> <span class="hljs-variable">v</span> <span class="hljs-keyword">in</span> &amp;<span class="hljs-keyword">mut</span> vs &#123; <span class="hljs-comment">// Can also write `for v in vs.iter_mut()`</span><br>  *v = *v + <span class="hljs-number">1</span>;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;I&#x27;m mutably borrowing &#123;&#125;.&quot;</span>, v);<br>&#125;<br><span class="hljs-comment">// Take ownership of the whole vector</span><br><span class="hljs-keyword">for</span> <span class="hljs-variable">v</span> <span class="hljs-keyword">in</span> vs &#123; <span class="hljs-comment">// Can also write `for v in vs.into_iter()`</span><br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;I now own &#123;&#125;! AHAHAHAHA!&quot;</span>, v);<br>&#125;<br></code></pre></td></tr></table></figure><p>切片是一种特殊的引用，代表序列中的一个指定片段</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">slice</span> = &amp;a[<span class="hljs-number">1</span>..<span class="hljs-number">3</span>];<br></code></pre></td></tr></table></figure><h2 id="结构化数据">结构化数据</h2><p>有两种 struct 和 enum，mod 相当于 C艹 中的 namespace</p><p>结构体用 CamelCase 命名方式，里面的域用 snake_case 命名方式。</p><p>语法糖，对别的方法进行一种实现，写起来简便</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Foo</span> &#123; a: <span class="hljs-type">i32</span>, b: <span class="hljs-type">i32</span>, c: <span class="hljs-type">i32</span>, d: <span class="hljs-type">i32</span>, e: <span class="hljs-type">i32</span> &#125;<br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">x</span> = Foo &#123; a: <span class="hljs-number">1</span>, b: <span class="hljs-number">1</span>, c: <span class="hljs-number">2</span>, d: <span class="hljs-number">2</span>, e: <span class="hljs-number">3</span> &#125;;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">x2</span> = Foo &#123; e: <span class="hljs-number">4</span>, .. x &#125;;<br><span class="hljs-comment">// Useful to update multiple fields of the same struct:</span><br>x = Foo &#123; a: <span class="hljs-number">2</span>, b: <span class="hljs-number">2</span>, e: <span class="hljs-number">2</span>, .. x &#125;;<br></code></pre></td></tr></table></figure><p>Rust的枚举要强很多，是<strong>和类型</strong>，用来表示多选一的数据（<strong>代数数据类型</strong>，如笛卡尔坐标系）</p><p>变体 <spanclass="math inline">\(无数据、有命名的数据域(结构体)、无命名的数据域(元组变体)\)</span>，如</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Resultish</span> &#123;<br>  <span class="hljs-literal">Ok</span>,<br>  Warning &#123; code: <span class="hljs-type">i32</span>, message: <span class="hljs-type">String</span> &#125;,<br>  <span class="hljs-title function_ invoke__">Err</span>(<span class="hljs-type">String</span>)<br>&#125;<br><span class="hljs-comment">// 使用 Resultish::each 来访问并匹配数据</span><br><span class="hljs-keyword">match</span> <span class="hljs-title function_ invoke__">make_request</span>() &#123;<br>  Resultish::<span class="hljs-literal">Ok</span> =&gt;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Success!&quot;</span>),<br>  Resultish::Warning &#123; code, message &#125; =&gt;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Warning: &#123;&#125;!&quot;</span>, message),<br>  Resultish::<span class="hljs-title function_ invoke__">Err</span>(s) =&gt;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Failed with error: &#123;&#125;&quot;</span>, s),<br>&#125;<br></code></pre></td></tr></table></figure><p>枚举类型还可以递归</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">List</span> &#123;<br>Nil,<br><span class="hljs-title function_ invoke__">Cons</span>(<span class="hljs-type">i32</span>, List),<br>&#125;<br><span class="hljs-comment">// 但上述枚举类型会报错，会趋于无穷大，使用 Box 加以限制</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">boxed_five</span> = Box::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">5</span>);<br><span class="hljs-keyword">enum</span> <span class="hljs-title class_">List</span> &#123;<br>  Nil,<br>  <span class="hljs-title function_ invoke__">Cons</span>(<span class="hljs-type">i32</span>, <span class="hljs-type">Box</span>&lt;List&gt;), <span class="hljs-comment">// OK!</span><br>&#125;<br></code></pre></td></tr></table></figure><p>方法与所有权</p><p>方法的第一个参数（名字为self）决定这个方法需要的所有权种类，分类更加细致：</p><ul><li>&amp;self：方法借用对象的值。 一般情况下尽量使用这种方式，类似于 C++中的常成员函数。</li><li>&amp;mut self：方法可变地借用对象的值。在方法需要修改对象时使用，类似于 C++ 中的普通成员函数。</li><li>self：方法获得对象的所有权。方法会消耗掉对象，同时可以返回其他的值。</li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">impl</span> <span class="hljs-title class_">Point</span> &#123;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">distance</span>(&amp;<span class="hljs-keyword">self</span>, other: Point) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">f32</span> &#123;<br>    <span class="hljs-keyword">let</span> (dx, dy) = (<span class="hljs-keyword">self</span>.x - other.x, <span class="hljs-keyword">self</span>.y - other.y);<br>    ((dx.<span class="hljs-title function_ invoke__">pow</span>(<span class="hljs-number">2</span>) + dy.<span class="hljs-title function_ invoke__">pow</span>(<span class="hljs-number">2</span>)) <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>).<span class="hljs-title function_ invoke__">sqrt</span>()<br>  &#125;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">translate</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, x: <span class="hljs-type">i32</span>, y: <span class="hljs-type">i32</span>) &#123;<br>    <span class="hljs-keyword">self</span>.x += x;<br>    <span class="hljs-keyword">self</span>.y += y;<br>  &#125;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">mirror_y</span>(<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> Point &#123;<br>    Point &#123; x: -<span class="hljs-keyword">self</span>.x, y: <span class="hljs-keyword">self</span>.y &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>一般会创建一个名为 new 的关联函数起到构造函数的作用。</p><p>Rust 没有内置的构造函数语法，也不会自动构造。</p></li><li><p>方法、关联函数不能重载、方法不能继承</p></li></ul><h2 id="模式匹配">模式匹配</h2><p>对结构体进行解构</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> &#123;<br>  x: <span class="hljs-type">i32</span>,<br>  y: <span class="hljs-type">i32</span>,<br>&#125;<br><span class="hljs-keyword">match</span> p &#123;<br>  Point &#123; x, y &#125; =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;(&#123;&#125;, &#123;&#125;)&quot;</span>, x, y)<br>&#125;<br></code></pre></td></tr></table></figure><p>使用引用的方式匹配</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">17</span>;<br><span class="hljs-comment">// 打印数值或者修改值</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">x</span> = <span class="hljs-number">17</span>;<br><span class="hljs-keyword">match</span> x &#123;<br>  <span class="hljs-keyword">ref</span> r <span class="hljs-keyword">if</span> x == <span class="hljs-number">5</span> =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, r),<br>  <span class="hljs-keyword">ref</span> <span class="hljs-keyword">mut</span> r =&gt; *r = <span class="hljs-number">5</span><br>&#125;<br></code></pre></td></tr></table></figure><p>内部绑定（使用 <code>@</code> ）</p><p>模式匹配的穷尽性，否则会报错（使用 <code>_</code> 表示其他情况）</p><p><code>for</code> 循环的模式匹配</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">v</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-title function_ invoke__">for</span> (i, x) <span class="hljs-keyword">in</span> v.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">enumerate</span>() &#123;<br>  <span class="hljs-built_in">print!</span>(<span class="hljs-string">&quot;v[&#123;i&#125;] = &#123;x&#125; &quot;</span>);<br>&#125;<br><span class="hljs-comment">// v[0] = 1 v[1] = 2 v[2] = 3 </span><br></code></pre></td></tr></table></figure><h1 id="lecture-3标准库">lecture 3（标准库）</h1><h2 id="编码">编码</h2><p>C艹 语言 11 比 98 增加 unordered_map</p><p>C 里面的 string 为 <code>\0</code> 操作，即使是访问字符串长度也需要<span class="math inline">\(O(n)\)</span> 的空间</p><p>而 C艹 使用 <code>std::string</code>更加方法，对负数进行补码操作，便于加法</p><ul><li>Rust 的字符串处理机制比较复杂。<ul><li>主要是用 UTF-8 编码的 Unicode 字符序列。</li><li>不是空字符 '\0' 结尾的 C 风格字符串，可以包含空字符。</li></ul></li><li>主要有两大类： &amp;str 和 String。</li></ul><p>字符的标识，与信息论有关：</p><p>模拟电路（信号是连续变化的，模拟类型更多，但不抗干扰，教室里的钟表）</p><p>数字电路（低电位和高电位，0V 和 5V，能抗干扰，数字手表）</p><p>ASCII 码 0 是 48，A 是 65，a 是 97</p><ul><li><p>编码：字符在计算机内部的表示方式</p></li><li><p>早期： ASCII 码，以英文字符为主， 7 位二进制</p></li><li><p>中文： GB 2312-1980《信息交换用汉字编码字符集》， 6,763个汉字，两个字节</p><ul><li>GB 18030-2005《信息技术中文编码字符集》， 70,244个汉字，两个字节或四个字节</li></ul></li><li><p>Unicode：试图把全世界的文字都纳入进来，收集了 144,697个字符，四个字节</p><ul><li>常用 UTF-8 的形式来表示，<strong>变长</strong>一到四个字节，rust便使用这种编码</li></ul></li><li><p>会出现乱码问题</p></li></ul><h3 align="center">Unicode 中文乱码速查表</h3><table><colgroup><col style="width: 3%" /><col style="width: 26%" /><col style="width: 32%" /><col style="width: 36%" /></colgroup><thead><tr class="header"><th>xxxxxx</th><th>示例</th><th>特点</th><th>产生原因</th></tr></thead><tbody><tr class="odd"><td>古文码</td><td>鐢辨湀瑕佸ソ濂藉涔犲ぉ澶╁悜涓?</td><td>大都为不认识的古文，并加杂日韩文</td><td>以 GBK 方式读取 UTF-8 编码的中文</td></tr><tr class="even"><td>口字码</td><td>����Ҫ�¨2�ѧϰ������</td><td>大部分字符为小方块</td><td>以 UTF-8 的方式读取 GBK 编码的中文</td></tr><tr class="odd"><td>符号码</td><td>ç”±æœˆè|å￥½å￥½å-|ä1 å¤©å¤©å‘ä¸Š</td><td>大部分字符为各种符号</td><td>以 ISO8859-1 方式读取 UTF-8 编码的中文</td></tr><tr class="even"><td>拼音码</td><td>óéÔÂòaoÃoÃÑ§Ï°ììììÏòéÏ</td><td>大部分字符为头顶带有各种类似声调符号的字母</td><td>以 ISO8859-1 方式读取 GBK 编码的中文</td></tr><tr class="odd"><td>问句码</td><td>由月要好好学习天天向??</td><td>字符串长度为偶数时正确，长度为奇数时最后的字符变为问号</td><td>以 GBK 方式读取 UTF-8 编码的中文，然后又用 UTF-8 的格式再次读取</td></tr><tr class="even"><td>锟拷码</td><td>锟斤拷锟斤拷要锟矫猴拷学习锟斤拷锟斤拷锟斤拷</td><td>全中文字符，且大部分字符为“锟斤拷”这几个字符</td><td>以 UTF-8 方式读取 GBK 编码的中文，然后又用 GBK 的格式再次读取</td></tr><tr class="odd"><td>烫烫烫</td><td>烫烫烫烫烫烫烫烫烫烫烫烫烫烫烫烫烫烫</td><td>字符显示为“烫烫烫”这几个字符</td><td>VC Debug 模式下，栈内存未初始化</td></tr><tr class="even"><td>屯屯屯</td><td>屯屯屯屯屯屯屯屯屯屯屯屯屯屯屯屯屯屯</td><td>字符显示为“屯屯屯”这几个字符</td><td>VC Debug 模式下，堆内存未初始化</td></tr></tbody></table><h2 id="str-和-string">&amp;str 和 String</h2><p>&amp;str</p><ul><li>&amp;str 是字符串切片，是切片的一种。</li><li>形如 "string literals" 的字符串字面值是 &amp;str 类型的1。</li><li>&amp;str 是静态分配空间的，且固定大小。</li><li>不能用方括号来做形如 some_str[i] 的索引，因为每个 Unicode字符可能有多个字节。</li><li>正确的做法是在 chars() 中迭代：<ul><li><code>for c in "1234".chars() &#123; ... &#125;</code></li></ul></li></ul><p>String</p><ul><li>String 是分配在堆上的，可以动态增长。<ul><li>和 Vec 类似，实际上就是在 Vec&lt;u8&gt; 外面包了一层。</li></ul></li><li>也不能用下标来索引。<ul><li>可以通过 s.nth(i) 来访问某个字符。</li></ul></li><li>通过取引用的方式可以获得 &amp;str。</li></ul><h2 id="option-枚举类型">Option 枚举类型</h2><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Option</span>&lt;T&gt; &#123;<br>  <span class="hljs-literal">None</span>,<br>  <span class="hljs-title function_ invoke__">Some</span>(T),<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>Option<T> 是一个枚举类型，同时也是泛型类型。</li><li>为某种已有类型提供了<strong>表示没有或者空值的概念</strong>。</li><li>在 Rust 中，在需要返回空值时，推荐使用 Option<T>。<ul><li>而不是返回诸如 NaN、 -1、 null 等特殊的值。</li></ul></li><li>类型 T 可以是任何类型，没有限制。</li></ul><p>一个处理除数为 0 的情况：</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">divide</span>(numerator: <span class="hljs-type">f64</span>, denominator: <span class="hljs-type">f64</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;<span class="hljs-type">f64</span>&gt; &#123;<br><span class="hljs-keyword">if</span> denominator == <span class="hljs-number">0.0</span> &#123;<br>    <span class="hljs-literal">None</span><br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-title function_ invoke__">Some</span>(numerator / denominator)<br>  &#125;<br>&#125;<br><span class="hljs-comment">// The return value of the function is an option</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">result</span> = <span class="hljs-title function_ invoke__">divide</span>(<span class="hljs-number">2.0</span>, <span class="hljs-number">3.0</span>);<br><span class="hljs-comment">// Pattern match to retrieve the value</span><br><span class="hljs-keyword">match</span> result &#123;<br>  <span class="hljs-comment">// The division was valid</span><br>  <span class="hljs-title function_ invoke__">Some</span>(x) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Result: &#123;x&#125;&quot;</span>),<br>  <span class="hljs-comment">// The division was invalid</span><br>  <span class="hljs-literal">None</span> =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Cannot divide by 0&quot;</span>),<br>&#125;<br></code></pre></td></tr></table></figure><p>典型用途：</p><p>初始值（求列表最大值）、函数定义域不是全集、表示简单的错误情况（未定义）、结构体的可选域或者可拿走的域、可选的函数参数、空指针</p><h2 id="错误处理">错误处理</h2><ul><li>对于不可恢复的错误，使用恐慌 panic!。<ul><li>数组越界、栈越界、算术运算溢出……</li></ul></li><li>对于可恢复的错误，使用 Result。<ul><li>文件操作、网络操作、字符串解析……</li></ul></li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Result</span>&lt;T, E&gt; &#123;<br>  <span class="hljs-title function_ invoke__">Ok</span>(T),<br>  <span class="hljs-title function_ invoke__">Err</span>(E)<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>Result 与 Option 类似，除了正常结果外，还可以表示错误状态。</li><li>也定义了 unwrap 和 expect 等方法。</li><li>可以通过 ok 或 err 等方法转换成 Option。<ul><li>把 Ok 或者 Err 的值作为 Some，另一种变成 None。</li></ul></li><li>也可以进行类似 Option 的操作。<ul><li>and、 or……</li></ul></li></ul><p>其处理原则，对返回值为 Result 的函数，一定要显式地处理（否则编译器报<code>warning</code> ）</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">use</span> std::io::Error;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Result</span>&lt;T&gt; = <span class="hljs-type">Result</span>&lt;T, Error&gt;;<br></code></pre></td></tr></table></figure><h3 id="操作符">?操作符</h3><p>配合 Result 类型</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">read_username_from_file</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">String</span>, io::Error&gt; &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">username</span> = String::<span class="hljs-title function_ invoke__">new</span>();<br>  File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">&quot;hello.txt&quot;</span>)?.<span class="hljs-title function_ invoke__">read_to_string</span>(&amp;<span class="hljs-keyword">mut</span> username)?;<br>  <span class="hljs-title function_ invoke__">Ok</span>(username)<br>&#125;<br></code></pre></td></tr></table></figure><p>配合 Opition 类型</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">last_char_of_first_line</span>(text: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;<span class="hljs-type">char</span>&gt; &#123;<br>  text.<span class="hljs-title function_ invoke__">lines</span>().<span class="hljs-title function_ invoke__">next</span>()?.<span class="hljs-title function_ invoke__">chars</span>().<span class="hljs-title function_ invoke__">last</span>()<br>&#125;<br></code></pre></td></tr></table></figure><p>相当于可以提前传播错误，对上述两种类型对于 <code>Err</code> 和<code>None</code> 就可以提前返回</p><p><strong>究竟是恐慌还是不恐慌？</strong>就看能否给调用代码恢复的机会。</p><p><strong>unwrap/expect的场合：</strong>作为原型代码中的错误处理占位符</p><h2 id="容器">容器</h2><p><strong>Vec&lt;T&gt;</strong>：连续空间、可增长的序列，末尾可以高效增删、会发生增长和收缩</p><p><strong>VecDeque&lt;T&gt;</strong>：双端向量，两端可以高效增删，用环状缓冲区</p><p><strong>LinkedList&lt;T&gt;</strong>：双向链表，不能随机索引</p><p><strong>HashMap&lt;K, V&gt; / BTreeMap&lt;K,V&gt;</strong>：字典（映射）类型，一般使用 <strong>HashMap&lt;K,V&gt;</strong>，需要满足 K: Hash + Eq，需要有序的时候用<strong>BTreeMap&lt;K, V&gt;</strong> ，需要满足 K: Ord</p><p>两者访问复杂度分别为 <span class="math inline">\(O(1)\)</span> 和<span class="math inline">\(O(\log n)\)</span> ，哈希表的使用举例</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">use</span> std::collections::HashMap;<br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">scores</span> = HashMap::<span class="hljs-title function_ invoke__">new</span>();<br><span class="hljs-comment">// 添加元素</span><br>scores.<span class="hljs-title function_ invoke__">insert</span>(String::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">&quot;Blue&quot;</span>), <span class="hljs-number">10</span>);<br>scores.<span class="hljs-title function_ invoke__">insert</span>(String::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">&quot;Yellow&quot;</span>), <span class="hljs-number">50</span>);<br><span class="hljs-comment">// 访问字典</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">team_name</span> = String::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">&quot;Blue&quot;</span>);<br><span class="hljs-keyword">let</span> <span class="hljs-variable">score</span> = scores.<span class="hljs-title function_ invoke__">get</span>(&amp;team_name);<br><span class="hljs-comment">// 遍历元素</span><br><span class="hljs-title function_ invoke__">for</span> (key, value) <span class="hljs-keyword">in</span> &amp;scores &#123;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;: &#123;&#125;&quot;</span>, key, value);<br>&#125;<br><span class="hljs-comment">// 用于统计字母出现次数</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">count</span>: BTreeMap&lt;<span class="hljs-type">char</span>, <span class="hljs-type">usize</span>&gt; = BTreeMap::<span class="hljs-title function_ invoke__">new</span>();<br><span class="hljs-keyword">for</span> <span class="hljs-variable">ch</span> <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;abcbcddef&quot;</span>.<span class="hljs-title function_ invoke__">chars</span>() &#123;<br>  <span class="hljs-comment">// &#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 2, &#x27;c&#x27;: 2, &#x27;d&#x27;: 2, &#x27;e&#x27;: 1, &#x27;f&#x27;: 1&#125;</span><br>  count.<span class="hljs-title function_ invoke__">entry</span>(ch).<span class="hljs-title function_ invoke__">and_modify</span>(|e| *e += <span class="hljs-number">1</span>).<span class="hljs-title function_ invoke__">or_insert</span>(<span class="hljs-number">1</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>collect() 的使用</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 将数据从列表转化为 BTreeSet</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">data</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">set</span>: BTreeSet = data.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">collect</span>();<br><span class="hljs-comment">// 将数据中每个数乘以原来的两倍</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">input</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">result</span>: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt; = input.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">map</span>(|x| x * <span class="hljs-number">2</span>).<span class="hljs-title function_ invoke__">collect</span>();<br><span class="hljs-comment">// 使用 zip() 将两个数据叠加</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">b</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">result</span>: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt; = a.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">zip</span>(b.<span class="hljs-title function_ invoke__">iter</span>()).<span class="hljs-title function_ invoke__">map</span>(|(x, y)| x + y).<span class="hljs-title function_ invoke__">collect</span>();<br></code></pre></td></tr></table></figure><p>early，向量 lazy</p><p>B树外存，二叉树内存</p><h2 id="迭代器">迭代器</h2><p>对<strong>序列</strong>的一种抽象</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">trait</span> <span class="hljs-title class_">Iterator</span> &#123;<br>  <span class="hljs-keyword">type</span> <span class="hljs-title class_">Item</span>;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">next</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;<span class="hljs-keyword">Self</span>::Item&gt;;<br>  <span class="hljs-comment">// More fields omitted</span><br>&#125;<br></code></pre></td></tr></table></figure><p>大数据方法 map revuse</p><h2 id="自动测试">自动测试</h2><p>软件工程：<strong>回归测试</strong>（列出对所有的情况，每次开发判断能否通过）</p><p><strong>评测系统</strong>是独立于程序的系统，用于测试；<strong>单元测试</strong>嵌入程序当中，在内部进行测试</p><p>cargo 提供了相应测试 test，在函数前面加上 <code>#[test]</code>以标注这是一个测试函数</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-meta">#[test]</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">it_works</span>() &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">result</span> = <span class="hljs-number">2</span> + <span class="hljs-number">2</span>;<br>  <span class="hljs-built_in">assert_eq!</span>(result, <span class="hljs-number">4</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>习惯每写一个函数，就在文件后面实现对它的单元测试，也可以调换过来，测试驱动编程</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">vector_length</span>(data: &amp;<span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> &#123;<br>  vector_length.<span class="hljs-title function_ invoke__">len</span>()<br>&#125;<br><span class="hljs-meta">#[test]</span><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">test_vector_length</span>() &#123;<br>  <span class="hljs-built_in">assert_eq!</span>(<span class="hljs-title function_ invoke__">vector_length</span>(&amp;<span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]), <span class="hljs-number">3</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>持续集成，CICD，每次 push 一次就会自动跑脚本，判断测试是否失败</p><h1 id="tutorial">Tutorial</h1><h2 id="习题评讲">习题评讲</h2><ul><li><p>使用元组实现相当于解包压包</p></li><li><p>使用 <code>a.inter().map(|x| x * 2).collect()</code> 等价于</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">ret</span> - <span class="hljs-built_in">vec!</span>[];<br><span class="hljs-keyword">for</span> <span class="hljs-variable">x</span> <span class="hljs-keyword">in</span> &amp;a&#123;<br>  rec.<span class="hljs-title function_ invoke__">push</span>(x * <span class="hljs-number">2</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>随机数的选取，如果不希望抽重，使用随机种子打乱然后顺序取</p></li><li><p><code>json</code>是传输数据格式中非常重要的格式：字符串、字典、数字，标准中没有注释，最后没有逗号。</p></li><li><p>general 的工作一定有人写，合并命令行参数第三方库<code>merge</code></p></li><li><p>f64 没有实现偏序关系 Ord ，这是因为 NaN 不满足全序关系，从而 NaN与所有数比较都是 false</p></li></ul><h2 id="oj-相关知识">OJ 相关知识</h2><p>请求和响应，前端属于客户端，不涉及跨主机访问</p><h3 id="http-请求">HTTP 请求</h3><p>例子：https://www/baidu.com/</p><p>GET:</p><p>HOST: www.baidu.com</p><p>Content-Type: html</p><h3 id="http-响应">HTTP 响应</h3><p>一个例子：</p><p>HTTP 200 OK</p><p>Content-Type: application</p><h3 id="json-序列化与反序列化">json 序列化与反序列化</h3><p>#[derive: deserialize]</p><p>result 转成 json 文件</p><h3 id="互斥锁">互斥锁</h3><p>yse std::sync::{Arc, Mutex};</p><p>保证数据只能被一个线程加以修改，但要防止死锁（情况如下）</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">lock_a</span> = A.<span class="hljs-title function_ invoke__">luck</span>().<span class="hljs-title function_ invoke__">unwrap</span>();<br><span class="hljs-keyword">let</span> <span class="hljs-variable">lock_b</span> = B.<span class="hljs-title function_ invoke__">luck</span>().<span class="hljs-title function_ invoke__">unwrap</span>();<br></code></pre></td></tr></table></figure><p>在上锁的时候，所有错误不要出现恐慌</p><h3 id="不同提交隔离">不同提交隔离</h3><p>一个小段子：C艹中的 <deque>中分配内存出错时，没有出现内存错误的异常</p><h1 id="lecture-4">Lecture 4</h1><h2 id="泛型">泛型</h2><p>C 语言中没有泛型，如 <code>quicksort() bisearch()</code>没有对数据类型进行泛化，而是交给程序员进行处理（手动传入<code>compare()</code> 函数）</p><p>Rust 中第一个泛型，将类型作为参数，变成泛型枚举类型</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Result</span>&lt;T, E&gt; &#123;<br>  <span class="hljs-title function_ invoke__">Ok</span>(T),<br>  <span class="hljs-title function_ invoke__">Err</span>(E),<br>&#125;<br></code></pre></td></tr></table></figure><p>python 不需要泛型，其有底层 <code>Object</code>类型，并且是动态语言</p><p>对上述泛型枚举类型，在实现相应方法的时候其函数返回值也是<code>&lt;T, E&gt;</code>，其也可以使用参数作为传入</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">foo</span>&lt;T, U&gt;(x: T, y: U)&#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="特型trait">特型(trait)</h2><p>一定程度上对应<strong>面向对象编程的多态性</strong>，对于下一段美观打印、同时比较多个参数结构体实现代码：</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> &#123; <br>  x: <span class="hljs-type">i32</span>, <br>  y: <span class="hljs-type">i32</span>, <br>&#125;<br><span class="hljs-keyword">impl</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">format</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> &#123;<br><span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;(&#123;&#125;, &#123;&#125;)&quot;</span>, <span class="hljs-keyword">self</span>.x, <span class="hljs-keyword">self</span>.y)<br>&#125;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">equals</span>(&amp;<span class="hljs-keyword">self</span>, other: Point) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">bool</span> &#123;<br><span class="hljs-keyword">self</span>.x == other.x &amp;&amp; <span class="hljs-keyword">self</span>.y == other.y<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>可以抽象出共同特点(trait)，相当于 C艹 中的虚函数</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// write trait</span><br><span class="hljs-keyword">trait</span> <span class="hljs-title class_">PrettyPrint</span> &#123;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">format</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span>;<br>&#125;<br><span class="hljs-comment">// write actual function</span><br><span class="hljs-keyword">impl</span> <span class="hljs-title class_">PrettyPoint</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Point</span> &#123;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">format</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> &#123;<br>    <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;(&#123;&#125;, &#123;&#125;)&quot;</span>, <span class="hljs-keyword">self</span>.x, <span class="hljs-keyword">self</span>.y)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>C++ 中标准库由快速排序和插入排序混合版实现</p><p>python java 使用 Tim-Sort 归并排序</p><p>C++ 背上了很大的历史包袱，每次遇到问题都需要加入新的概念</p><p>特型约束的泛型类型示例</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Result</span>&lt;T, E&gt; &#123;<br><span class="hljs-title function_ invoke__">Ok</span>(T),<br><span class="hljs-title function_ invoke__">Err</span>(E), <br>&#125;<br><span class="hljs-keyword">trait</span> <span class="hljs-title class_">PrettyPrint</span> &#123;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">format</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span>; <br>&#125;<br><span class="hljs-keyword">impl</span>&lt;T: PrettyPrint, E: PrettyPrint&gt; PrettyPrint <span class="hljs-keyword">for</span> <span class="hljs-title class_">Result</span>&lt;T, E&gt; &#123;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">format</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> &#123;<br>    <span class="hljs-keyword">match</span> *<span class="hljs-keyword">self</span> &#123;<br>      <span class="hljs-title function_ invoke__">Ok</span>(t) =&gt; <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;Ok(&#123;&#125;)&quot;</span>, t.<span class="hljs-title function_ invoke__">format</span>()),<br>      <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;Err(&#123;&#125;)&quot;</span>, e.<span class="hljs-title function_ invoke__">format</span>()), <br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>特型可以拿到其“子特型”的方法</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">trait</span> <span class="hljs-title class_">Parent</span> &#123;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">foo</span>(&amp;<span class="hljs-keyword">self</span>) &#123;<br>    <span class="hljs-comment">// ...</span><br>  &#125;<br>&#125;<br><span class="hljs-keyword">trait</span> <span class="hljs-title class_">Child</span>: Parent &#123;<br>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">bar</span>(&amp;<span class="hljs-keyword">self</span>) &#123;<br>    <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">foo</span>();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>#[derive(Debug)]</code>能够让对应的数据结构获得相应实现，不用重新编写，共有以下自动<strong>核心特性</strong></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-built_in">Clone</span>, <span class="hljs-built_in">Copy</span>, <span class="hljs-built_in">Debug</span>, <span class="hljs-built_in">Default</span>, <span class="hljs-built_in">Eq</span><br>Hash, <span class="hljs-built_in">Ord</span>, PatialEq, <span class="hljs-built_in">PartialOrd</span><br></code></pre></td></tr></table></figure><p>特型的自动获得需要满足其所有成员都能自动获得指定的特型，如 Eq不能在包含 f32 的结构体类型上自动获得，因为 f32 不是 Eq 的（浮点数中的NAN与任意数比较都是错误的，<strong>不满足全序关系中的自反性</strong>）</p><p><strong>Debug</strong> 特型用于输出调试信息，如</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-meta">#[derive(Debug)]</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> &#123; x: <span class="hljs-type">i32</span>, y: <span class="hljs-type">i32</span>, &#125;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">origin</span> = Point &#123; x: <span class="hljs-number">0</span>, y: <span class="hljs-number">0</span> &#125;;<br><span class="hljs-comment">// println!(&quot;The origin is: &#123;:?&#125;&quot;, origin);</span><br></code></pre></td></tr></table></figure><p><strong>Default</strong> 特型用于定义一个默认值，如 0 或者 ""</p><p><strong>Eq 和 PartialEq</strong>等价关系和部分等价关系，都有对称性和传递性，前者还有自反性</p><p><strong>Hash</strong> 表示可哈希的类型，H类型是抽象的哈希状态，可以计算哈希值，而如果同时出现了 Eq特型，需要满足以下重要性质</p><p>x == y -&gt; hash(x) == hash(y)</p><p><strong>PartialOrd 和 Ord</strong>表示偏序和全序，都有反对称性和传递性，前者还要满足完全性（对所有的 a 和b，有 a &lt;= b 或者 b &lt;= a 成立），后者可以按照字典序排序</p><p><strong>关联类型的需求</strong>：例如，图的表示：邻接矩阵/链表</p><p><strong>Sized 和 ?Sized</strong>前者表示在编译时固定大小，后者大小是动态的（如 [T],str），一般跟指针相关的泛型才会出现后者（如 Box<T>）</p><p>特型甚至可以为所有类型写，如 i32，但不推荐。为了写一个特型实现的 impl代码段，要么拥有该特性，要么拥有该类型。</p><p><strong>Drop</strong> 表示可以销毁的特型，但一般情况下不需要手动实现Drop</p><h2 id="特型对象">特型对象</h2><p>考虑以下特型和实现</p><p><strong>静态</strong>分发：在编译的时候给定了相应特性的函数</p><p><strong>动态</strong>分发：在运行的时候决定相应特性的函数，但只有运行之后才能使用，其他情况只能当成一个特型来使用，编译器不知道对应的类型信息（已经被抹去）</p><p><strong>对象安全性</strong>，需要满足一定条件，关联函数要求除接收方之外，其他地方都不能出现Self 类型（否则获取到对应的类型），不能以 Sized为超特型，接收方是引用或者指针形式的类型（Self, Box&lt;Self&gt;）</p><blockquote><p>课件上问题：不可变的引用是可以 Clone 的。</p></blockquote><h2 id="生命周期">生命周期</h2><p>考虑以下情况：</p><ol type="1"><li>获取了一项资源。</li><li>乙方通过引用借用了甲方的这项资源。</li><li>甲方对这项资源使用完毕，对它进行释放。</li><li>乙方还保留着对这项资源的引用，并开始使用它。</li><li>乙方挂了……</li></ol><p>如何保证第 3 步和第 4步的顺序关系？一般情况下，引用具有隐式的生命周期，不需要额外关注，但也可以<strong>显式</strong>地指定生命周期</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">bar</span>&lt;<span class="hljs-symbol">&#x27;a</span>&gt;(x: &amp;<span class="hljs-symbol">&#x27;a</span> <span class="hljs-type">i32</span>) &#123;<br><span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><p><code>fn borrow_x_or_y&lt;'a&gt;(x: &amp;'a str, y: &amp;'a str) -&gt; &amp;'a str;</code>保证引用 x 和 y的生命周期至少会和返回的引用生命周期一样长，若只需要前者和返回值的生命周期一样长，则可以分开为'a 与 'b<code>fn borrow_p&lt;'a, 'b&gt;(p: &amp;'a str, q: &amp;'b str) -&gt; &amp;'a str;</code>，如以下编译期间会报错</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Pizza</span>(<span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;);<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">PizzaSlice</span>&lt;<span class="hljs-symbol">&#x27;a</span>&gt; &#123;<br>  pizza: &amp;<span class="hljs-symbol">&#x27;a</span> Pizza, <span class="hljs-comment">// &lt;- references in structs must</span><br>  index: <span class="hljs-type">u32</span>, <span class="hljs-comment">// ALWAYS have explicit lifetimes</span><br>&#125;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">s2</span>; &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">p2</span> = <span class="hljs-title function_ invoke__">Pizza</span>(<span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);<br>  s2 = PizzaSlice &#123; pizza: &amp;p2, index: <span class="hljs-number">2</span> &#125;;<br>  <span class="hljs-comment">// no good - why?</span><br>&#125;<br><span class="hljs-title function_ invoke__">drop</span>(s2); <span class="hljs-comment">// to undo NLL</span><br></code></pre></td></tr></table></figure><p>如果结构体或者枚举类型的成员是引用，那么就需要显式地指定生命周期</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Foo</span>&lt;<span class="hljs-symbol">&#x27;a</span>, <span class="hljs-symbol">&#x27;b</span>&gt; &#123;<br>  v: &amp;<span class="hljs-symbol">&#x27;a</span> <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">i32</span>&gt;,<br>s: &amp;<span class="hljs-symbol">&#x27;b</span> <span class="hljs-type">str</span>, <br>&#125;<br></code></pre></td></tr></table></figure><h1 id="lecture-5">Lecture 5</h1><blockquote><p><strong>所有权</strong>是 rust语言<strong>资源管理</strong>的灵魂，<strong>特型</strong>是 rust语言<strong>灵活运用</strong>的灵魂。</p></blockquote><blockquote><p><strong>共享不修改，修改不共享——rust 设计哲学</strong></p></blockquote><h2 id="项目管理">项目管理</h2><h3 id="模块系统">模块系统</h3><ul><li>包 (packages)：Cargo 的一项功能，可以让用户构建、测试、分享箱。</li><li>箱(crates)：也叫单元包，是由<strong>模块构成的一棵树</strong>，能够产生一个库或者可执行文件。</li><li>模块 (modules)：与 use配合，<strong>控制路径</strong>的组织结构、作用域和访问权限。</li><li>路径(paths)：命名项目的方式，这里的项目可以指结构体、函数、模块等。</li></ul><p>在模块中加上 <code>pub</code> 关键字便可以让其他用户访问，模块相当于C艹 中的 namespace，模块之间可以嵌套，如下</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">mod</span> english &#123;<br>  <span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> greetings &#123; <span class="hljs-comment">/* ... */</span> &#125;<br>  <span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> farewells &#123; <span class="hljs-comment">/* ... */</span> &#125;<br>&#125;<br><span class="hljs-keyword">mod</span> chinese &#123;<br>  <span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> greetings &#123; <span class="hljs-comment">/* ... */</span> &#125;<br>  <span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> farewells &#123; <span class="hljs-comment">/* ... */</span> &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>可以把模块写成单独的文件 <code>lib.rs</code>，用于整合所有的模块</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// lib.rs</span><br><span class="hljs-keyword">mod</span> english;<br><span class="hljs-comment">// english.rs</span><br><span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> greetings &#123; <span class="hljs-comment">/*...*/</span> &#125;<br></code></pre></td></tr></table></figure><p>也可以用目录来组织模块，把模块当做目录名使用</p><p>还可以在 Cargo 中使用自己编写的箱</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust">[dependencies]<br>myfoo = &#123; git = <span class="hljs-string">&quot;https://github.com/me/foo-rs&quot;</span> &#125;<br>mybar = &#123; path = <span class="hljs-string">&quot;../rust-bar&quot;</span> &#125;<br></code></pre></td></tr></table></figure><h3 id="cargo-相关">Cargo 相关</h3><p><strong>单元测试</strong>直接附着在源代码中，<code>#[test]</code>，<strong>集成测试</strong>放在<code>tests/*.rs</code> 中，<strong>基准测试程序</strong>放在<code>benches/*.rs</code>（类似作坊中的基准模块）</p><p><code>feature</code> 是在构建时做选择性的开关（与 <code>bug</code>不同）</p><p>使用 rust 语言，Cargo 编写脚本</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust">[package]<br>build = <span class="hljs-string">&quot;build.rs&quot;</span><br></code></pre></td></tr></table></figure><p>可以将自己写的软件包发布到 crate.io ，原子性的库。</p><h2 id="语法补充">语法补充</h2><h3 id="属性">属性</h3><p>#! [no_std] 禁用标准库，#[derive(Debug)] 自动获得特型</p><p>#[inline(always)] 提示编译器内联优化，#[cfg(target_os = "linux")]定义条件编译。</p><p>inter procedure o</p><h3 id="操作符-1">操作符</h3><p>运算类 &gt; 操作类 &gt; 位运算类 &gt; 逻辑类，其背后的原因是 a + b ==c 应该被理解为 (a + b) ==c，后者是源于逻辑二元运算存在<strong>短路情况</strong></p><p>使用特型来重载操作符，定义在 std::ops 下，有如下重载操作符：Neg, Not,Deref, DerefMut | Mul, Div, Mod | Add, Sub...</p><h3 id="类型转换">类型转换</h3><p>使用 <strong>From 和 Into实现自定义类型转换</strong>，前者实现之后后者会自动实现，例如实现<strong>对数转换</strong></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">impl</span> <span class="hljs-title class_">Into</span>&lt;<span class="hljs-type">f64</span>&gt; <span class="hljs-keyword">for</span> <span class="hljs-title class_">Log2</span> &#123;<br>    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">into</span>(<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">f64</span> &#123;<br>        <span class="hljs-comment">// return log_2 of the value</span><br>        <span class="hljs-keyword">self</span>.<span class="hljs-number">0</span>.<span class="hljs-title function_ invoke__">ln</span>() / std::f64::consts::LN_2<br>    &#125;<br>&#125;<br><span class="hljs-comment">// 调用取得对数</span><br>    <span class="hljs-keyword">let</span> <span class="hljs-variable">log2_4</span>: <span class="hljs-type">f64</span> = <span class="hljs-title function_ invoke__">Log2</span>(<span class="hljs-number">4.0</span>).<span class="hljs-title function_ invoke__">into</span>();<br>    <span class="hljs-keyword">let</span> <span class="hljs-variable">log2_8</span>: <span class="hljs-type">f64</span> = <span class="hljs-title function_ invoke__">Log2</span>(<span class="hljs-number">8.0</span>).<span class="hljs-title function_ invoke__">into</span>();<br></code></pre></td></tr></table></figure><h3 id="命名规范">命名规范</h3><h4 id="标识符">标识符</h4><ul><li><p>CamelCase：类型、特型</p></li><li><p>snake_case：箱、模块、函数、方法、变量</p></li><li><p>SCREAMING_SNAKE_CASE：常量和静态变量</p></li><li><p>T（单个大写字母）：类型参数</p></li><li><p>'a（撇 + 短的小写名字）：生命周期参数</p></li></ul><h4 id="构造函数和转换函数">构造函数和转换函数</h4><ul><li><p>new, new_with_stuff：构造函数</p></li><li><p>from_foo：转换构造函数</p></li><li><p>as_foo：低开销非消耗性转换</p></li><li><p>to_foo：高开销非消耗性转换</p></li><li><p>into_foo：消耗性转换</p></li></ul><h2 id="智能指针">智能指针</h2><h3 id="boxt">Box&lt;T&gt;</h3><p>用于在堆上分配空间存放数据，其拥有 T 类型的对象，其指针是唯一的，类似C艹 中的 <code>std::unique_ptr</code>，是动态分配</p><h3 id="stdrcrct">std::rc::Rc&lt;T&gt;</h3><p>是 <strong>Referenced counted</strong> 的缩写，代表指针的别名个数</p><p>共享所有权的指针类型，相当于 C艹 中的<code>std::shared_ptr</code>，并且其一直符合 rust的借用规则，当且仅当引用计数为 1 时才能修改</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">shared</span> = Rc::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">6</span>);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;&quot;</span>, Rc::<span class="hljs-title function_ invoke__">get_mut</span>(&amp;<span class="hljs-keyword">mut</span> shared)); <span class="hljs-comment">// ==&gt; Some(6)</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">cloned</span> = shared.<span class="hljs-title function_ invoke__">clone</span>(); <span class="hljs-comment">// ==&gt; Another reference</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;&quot;</span>, Rc::<span class="hljs-title function_ invoke__">get_mut</span>(&amp;<span class="hljs-keyword">mut</span> shared)); <span class="hljs-comment">// ==&gt; None</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;&quot;</span>, Rc::<span class="hljs-title function_ invoke__">get_mut</span>(&amp;<span class="hljs-keyword">mut</span> cloned)); <span class="hljs-comment">// ==&gt; None</span><br></code></pre></td></tr></table></figure><p>gc垃圾回收机制，如果有各种变量相互引用形成<strong>一种环</strong>，就不能释放，导致空间的浪费：</p><ul><li><p>A 有一个 B 的 Rc，B 也有一个 A 的 Rc，两者的引用计数都是1。</p></li><li><p>由于构成了环，两个对象都不会被释放，从而引起内存泄露。</p></li></ul><p>可以使用<strong>弱引用</strong>来避免（与 C艹 中的<code>weak_ptr</code> 类似） ，Rc::downgrade() 降级成 Weak。</p><blockquote><p>对于图 (V,E)，对顶点拥有<strong>所有权</strong>，但是对于边来说，不能拥有对顶点的所有权，可以使用<strong>弱引用</strong>来实现</p></blockquote><p>但这样会引入双重计数，增加开销。</p><h3 id="stdcellcellt">std::cell::Cell&lt;T&gt;</h3><p>为 Copy 类型提供内部可变性的格子类型，用 get() 从 Cell 中取值，用set() 更新 Cell 的值。</p><h3 id="stdcellrefcellt">std::cell::RefCell&lt;T&gt;</h3><p>可为任意类型提供内部可变性，当 borrow() 一个 RefCell&lt;T&gt;时，得到的是 Ref&lt;T&gt;，而不是 &amp;T。</p><h3 id="const-t-和-mut-t">const T 和 *mut T</h3><p>相当于 C 语言的裸指针。</p><h2 id="常用库">常用库</h2><ul><li>正则表达式: reges</li><li>日志: log （源于航海，各种级别分开，error, warning）</li><li>日期: chrono</li><li>HTTP 客户端: reqwest</li><li>增强错误处理: thiserror , anyhow</li><li>数据库: rusqlite, r2d2</li></ul><h2 id="数据库">数据库</h2><h3 id="分类">分类</h3><p><strong>数据库</strong>是以一定方式存储在一起、能够给多个用户共享、具有尽可能小的冗余度、与应用程序彼此独立的数据集合。</p><ul><li>关系数据库：<strong>创建在关系模型基础上的数据库</strong>，给予集合代数<ul><li>Oracle 国外数据库，早些年中国各大银行使用，现在国产化</li><li>ProsgreSQL<ul><li>MySQL</li><li>SQLite</li></ul></li></ul></li></ul><p><img src="https://pic.imgdb.cn/item/6310b37c16f2c2beb17decd6.jpg" style="zoom:50%;" /></p><ul><li>非关系型数据库<ul><li>文档数据库（json 转换为二进制文件），如 MongoDB</li><li>键值数据库（类似 HashMap），如 LevelDB</li></ul></li></ul><h3 id="操作">操作</h3><p>数据查询：<strong>选择、投影、连接、并、交、差</strong></p><p>Excel 表中 vlookup 函数用于合并数据，指定键值</p><p>数据操作：<strong>新增、删除、修改、查询</strong></p><h3 id="sql-简介">SQL 简介</h3><p>常用命令：</p><ul><li>创建表格 CREATE TABLE</li><li>查询数据 SELECT</li><li>插入数据 INSERT</li><li>更新数据 UPDATE</li><li>删除数据 DELETE</li><li>删除表格 DROP TABLE</li></ul><p>DBA IT 认证，Oracle 数据管理库职业</p><h3 id="在-rust-中使用-sql">在 rust 中使用 SQL</h3><p>软件包 rusqlite</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;()&gt; &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">conn</span> = Connection::<span class="hljs-title function_ invoke__">open_in_memory</span>()?;<br>  conn.<span class="hljs-title function_ invoke__">execute</span>(<br>    <span class="hljs-string">&quot;CREATE TABLE person (</span><br><span class="hljs-string">    id INTEGER PRIMARY KEY,</span><br><span class="hljs-string">    name TEXT NOT NULL,</span><br><span class="hljs-string">    data BLOB</span><br><span class="hljs-string">    )&quot;</span>,<br>    (), <span class="hljs-comment">// empty list of parameters.</span><br>  )?;<br>&#125;<br></code></pre></td></tr></table></figure><p>还可以与 Web 框架联合使用</p><p>创建数据库连接池，将连接池作为 Data&lt;T&gt; 传给请求处理代码</p><h1 id="lecture-6">Lecture 6</h1><blockquote><p>当今许多设备都是多核的，并发是现代语言必须具备的特性，</p></blockquote><h2 id="闭包">闭包</h2><h3 id="概念与类型推导">概念与类型推导</h3><p>闭包的概念和匿名函数、lambda 函数相似，其可以绑定在变量上：</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">square</span> = |x: <span class="hljs-type">i32</span>| <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> &#123; x * x &#125;;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, <span class="hljs-title function_ invoke__">square</span>(<span class="hljs-number">3</span>));<br><span class="hljs-comment">// =&gt; 9</span><br></code></pre></td></tr></table></figure><p>类型可以推导，参数类型和返回值类型都可以不显示地给出</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">square_v4</span> = |x: <span class="hljs-type">u32</span>| &#123; (x * x) <span class="hljs-keyword">as</span> <span class="hljs-type">i32</span> &#125;;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">square</span> = |x| &#123; x * x &#125;;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, <span class="hljs-title function_ invoke__">square</span>(-<span class="hljs-number">2.4</span>));<br><span class="hljs-comment">// =&gt; 5.76</span><br></code></pre></td></tr></table></figure><h3 id="捕捉">捕捉</h3><p>闭包还可以包含其所在的环境（可以调用外面的参数，称为<strong>捕捉</strong>）</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">magic_num</span> = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">magic_johnson</span> = <span class="hljs-number">32</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">plus_magic</span> = |x: <span class="hljs-type">i32</span>| x + magic_num;<br></code></pre></td></tr></table></figure><p>闭包绑定后如果尝试借用，如果在上述代码后面加入以下代码，借用编译器则会报错</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">more_magic</span> = &amp;<span class="hljs-keyword">mut</span> magic_num; <span class="hljs-comment">// Err!</span><br></code></pre></td></tr></table></figure><h3 id="移动闭包">移动闭包</h3><p>可以使用 <code>&#123;...&#125;</code>让闭包超过作用域来恢复，调用函数和被调用函数 Caller, Callee，也可以使用<code>move</code>关键字强制闭包获得环境变量的所有权，为<strong>移动闭包</strong></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">make_closure</span>(x: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> <span class="hljs-title function_ invoke__">Fn</span>(<span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span>&gt; &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">f</span> = <span class="hljs-keyword">move</span> |y| x + y;<br>  Box::<span class="hljs-title function_ invoke__">new</span>(f)<br>&#125;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">f</span> = <span class="hljs-title function_ invoke__">make_closure</span>(<span class="hljs-number">2</span>);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, <span class="hljs-title function_ invoke__">f</span>(<span class="hljs-number">3</span>));<br><span class="hljs-comment">// =&gt; 5</span><br></code></pre></td></tr></table></figure><h3 id="特型闭包">特型闭包</h3><p>闭包与所有权，只能调用一次，满足 rust借用规则。与所有权相似，闭包也具有闭包特型，<code>Fn, FnMut, FnOnce</code>分别代表借用、可变借用、所有权</p><p>如何正确地返回闭包？如下，使用动态的生命周期以及移动语义解决</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">box_up_your_closure_and_move_out</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> <span class="hljs-title function_ invoke__">Fn</span>(<span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span>&gt; &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-variable">local</span> = <span class="hljs-number">2</span>;<br>  Box::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-keyword">move</span> |x| x * local)<br>&#125;<br></code></pre></td></tr></table></figure><p>Lambda 函数本质上是 C++/Rust在调用处创建一个未知名字的类/结构体，然后传入环境的相关值，最后调用一个未知名字的函数。</p><h2 id="并发">并发</h2><h3 id="线程进程并发并行概念">线程进程、并发并行概念</h3><p>二进制可执行文件在执行之后，成为进程，在 CPU中存放：<strong>寄存器，堆，栈，操作系统指令</strong>。</p><p><strong>Program Point</strong> 指向进程下一个指令（在X86 中称为PC）</p><p>线程是<strong>轻量级</strong>，有 CPU存放的寄存器、堆、栈、操作系统指令单元，但内存是相互共享的，但不引入通信的开销（网络、进程通信）</p><p>并发是程序同时有多个正在运行的线程，而并行是指多个处理单元，要求更高，真正意义的同时处理。</p><h3 id="并发执行">并发执行</h3><p>考虑下面代码，假设两个线程，一个执行 <code>foo()</code>，一个执行<code>bar()</code></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">x</span> = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">foo</span>() &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">y</span> = &amp;<span class="hljs-keyword">mut</span> x; *y = <span class="hljs-number">1</span>;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, *y); <span class="hljs-comment">// foo expects 1</span><br>&#125;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">bar</span>() &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">z</span> = &amp;<span class="hljs-keyword">mut</span> x; *z = <span class="hljs-number">2</span>;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, *z); <span class="hljs-comment">// bar expects 2</span><br>&#125;<br></code></pre></td></tr></table></figure><p>这两个线程的执行顺序不是每次都能保证的，如果将两个函数当做两台 ATM机，则会发生严重的后果。</p><p>并发编程的难点：<strong>数据共享</strong>、<strong>数据竞争</strong>、<strong>同步</strong>（保证所有线程都有正确的世界观，共享缓冲区）、<strong>死锁</strong></p><p>死锁发生有四个条件：<strong>互斥、持有资源、非抢占、等待成环</strong></p><p>一个形象的例子：</p><p><em>N</em>个哲学家坐在一张圆桌周围，交替地进行吃饭和思考。每个哲学家需要一双筷子用来吃饭，但是一共只有<em>N</em> 根筷子，每两个哲学家之间有一根。</p><p>哲学家的行为用算法描述如下：</p><ul><li>拿起他左侧的那根筷子（获取一个资源的锁）。</li><li>拿起他右侧的那根筷子（获取一个资源的锁）。</li><li>吃饭（使用资源）。</li><li>将两根筷子放回原处（释放资源的锁）。</li></ul><p>对所有哲学家来说，依据算法，所有人都拿到左侧的筷子，而此时桌上没有筷子，从而所有人卡在第二步</p><h2 id="线程">线程</h2><p>Rust 标准库提供了线程<code>std::thread</code>，每个线程有自己的栈和状态，使用闭包来指定线程的行为</p><h3 id="线程句柄">线程句柄</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">use</span> std::thread;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">handle</span> = thread::<span class="hljs-title function_ invoke__">spawn</span>(|| &#123;<br>  <span class="hljs-string">&quot;Hello, world!&quot;</span><br>&#125;);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;:?&#125;&quot;</span>, handle.<span class="hljs-title function_ invoke__">join</span>());<br></code></pre></td></tr></table></figure><p><imgsrc="https://lr-tsinghua11.github.io/img/video_editor/blackboard.png" /></p><p><code>join()</code>会阻塞当前线程的执行，直到句柄对应的线程终止，其返回 <code>Ok</code>或者 <code>Err</code></p><p><code>thread::park()</code> 可以暂停自己的执行，之后可以通过现成的<code>unpark()</code> 来继续执行</p><h3 id="线程与所有权">线程与所有权</h3><p>线程的创建也要满足所有权的规则（包括闭包和所有权的规则），例如使用<code>move</code> 来创建移动闭包，获得所有权</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">use</span> std::thread;<br><span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">10</span> &#123;<br>  thread::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">move</span> || &#123;<br>  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;I&#x27;m #&#123;&#125;!&quot;</span>, i);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="共享线程状态">共享线程状态</h2><p>Rust 类型系统包含要求满足并发承诺的特型</p><ul><li><p>Send 表示可以在线程间安全转移</p></li><li><p>Sync 表示可以在线程间（通过引用）安全共享</p></li></ul><p>Send 类型可以将它的所有权在线程间转移，如果一种类型没有实现Send，那么它只能留在原来的线程里。</p><p>Sync 类型在多个线程使用时不会引发内存安全问题，基本所有类型都是 Sync的。以下为一个共享线程状态示例</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">use</span> std::thread;<br><span class="hljs-keyword">use</span> std::time::Duration;<br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">data</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>  <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">3</span> &#123;<br>    thread::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">move</span> || &#123;<br>      data[i] += <span class="hljs-number">1</span>;<br>    &#125;);<br>  &#125;<br>  thread::<span class="hljs-title function_ invoke__">sleep</span>(Duration::<span class="hljs-title function_ invoke__">from_millis</span>(<span class="hljs-number">50</span>));<br>&#125;<br></code></pre></td></tr></table></figure><p>此时 data 有多个所有者，使用 <code>Arc&lt;T&gt;</code>，代表原子性的引用计数指针（AtomicReference-Counted），但如果只是在初始化加入 Arc，编译也不通过。</p><p>Arc 也不具有内部可变性，需要添加<strong>互斥锁</strong>（MutualExclusion），保证它包含的值只有一个线程能够访问；如果一个线程锁定了互斥锁，但是发生了恐慌，此时该互斥锁进入中毒状态，该锁不会被释放</p><p>高并发任务、超算比赛主要资源共享，Open Np，消息传递 npi</p><h2 id="通道">通道</h2><p>通道（channels）可以用来<strong>同步线程之间的状态</strong>，用于在线程之间传递消息，也可以用来提醒其他现成关于数据就绪、事件已经发行的情况</p><p><code>std::sync::mpsc</code> 实现多生产者、单消费者的通信功能</p><p><strong>同步：</strong>不同进程之间是需要等待的，<strong>异步：</strong>发送的东西放入（相当于无限大的）缓冲区，相互之间不需要等待</p><p>使用 <code>channel&lt;T&gt;()</code> 函数创建一对连接的<code>(Sender&lt;T&gt;, Receiver&lt;T&gt;)</code></p><p><code>go</code> 语言有 <code>GC</code> 机制，导致编程开销大</p><p>对哲学家筷子问题，可以使用最后一个哲学家用相反方向拿筷子或者传递令牌规定拿筷子的哲学家。</p>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>Rust</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Rust</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Intersection Math knowledge</title>
    <link href="/2022/07/14/%E7%A0%94%E7%A9%B6/%E6%B1%82%E4%BA%A4%E9%97%AE%E9%A2%98%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86/"/>
    <url>/2022/07/14/%E7%A0%94%E7%A9%B6/%E6%B1%82%E4%BA%A4%E9%97%AE%E9%A2%98%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h1 id="特殊曲线曲面">特殊曲线曲面</h1><h2 id="bernstein-多项式">$Bernstein $ 多项式</h2><p>定义 <spanclass="math inline">\(B_n(t)=\dfrac{n!}{i!(n-i)!}(1-t)^{n-i}t^{i}\ \ \ \\ i=0\cdots n\)</span></p><p>性质 ① 非负：<span class="math inline">\(B_{i,n}(t)\geq 0,\ \ 1\leqt\leq 1\)</span>；② 归一：<spanclass="math inline">\(\displaystyle\sum_{i=0}^n{B_{i,n}(t)}=(1-t+t)^{n}=1\)</span>（二项式定理）</p><p>③ 对称性：<spanclass="math inline">\(B_{i,n}(t)=B_{n-i,n}(1-t)\)</span>； ④ 递归：<spanclass="math inline">\(B_{i,n}(t)=(1-t)B_{i,n-1}(t)+tB_{i-1,n-1}(t)\)</span>；</p><p>⑤ 升阶：<spanclass="math inline">\(B_{i,n}(t)=(1-\dfrac{i}{n+1})B_{i,n+1}(t)+\dfrac{i+1}{n+1}B_{i+1,n+1}(t)\)</span>；</p><p>⑥ 线性精度：<span class="math inline">\(t=\displaystyle\sum_{i=0}^n\dfrac{i}{n}B_{i,n}(t)\)</span>，表明单项式 <spanclass="math inline">\(t\)</span> 可以表示为 <spanclass="math inline">\(n\)</span> 次 <spanclass="math inline">\(Bernstein\)</span> 多项式的加权组合</p><p>⑦ 求导：<spanclass="math inline">\(\dfrac{dB_{i,n}(t)}{dt}=n(B_{i-1,n-1}(t)-B_{i,n-1}(t))\)</span>；</p><p>对于一般多项式 <spanclass="math inline">\(f(t)=a_nt^n+a_{n-1}t^{n-1}+\cdotsa_1t+a_0\)</span> 可以看作 <spanclass="math inline">\(\{t^n,t^{n-1},\cdots,1\}\)</span> 的线性组合</p><p>若换成基向量 <span class="math inline">\(\{B_{i,n}(t)\},0\leq i\leqn\)</span> 称为 <span class="math inline">\(Bernstein\)</span>基，注意：用 <span class="math inline">\(Bernstein\)</span>基做展开不唯一</p><p><spanclass="math inline">\(f(t)+g(t)=\begin{cases}m=n,f+g=\displaystyle\sum_{i=0}^m(f_i^m+g_i^m)B_{i,m}(t)\\m\neqn,f+g=\displaystyle\sum_{i=0}^m(\largef_i^m+\normalsize\sum_{j=\max\{0,i-m+n\}}^{\min\{n,i\}}\frac{\begin{pmatrix}n\\j\end{pmatrix}\begin{pmatrix}m-n\\i-j\end{pmatrix}}{\begin{pmatrix}m\\i\end{pmatrix}}g_j^{n})B_{i,m}(t)\end{cases}\)</span></p><p>意义：以 <span class="math inline">\(Berstein\)</span>基作展开虽然更复杂，但是保证了数值稳定性</p><h2 id="bacuteezier-曲线"><spanclass="math inline">\(B\acute{e}zier\)</span> 曲线</h2><p>以 <span class="math inline">\(Berstein\)</span>基函数为参数函数，给定"控制顶点" <spanclass="math inline">\(\{\vec{b_0},\vec{b_1}\cdots\vec{b_n}\}\)</span>，则空间曲线方程 <span class="math display">\[\vec{r}(t)=\displaystyle\sum_{i=0}^{n}\vec{b_i}B_{i,n}(t),t\in[0,1]\]</span> 性质：① 几何不变性：对 <spanclass="math inline">\(\vec{b_i}\)</span> 平移旋转，<spanclass="math inline">\(\vec{r}(t)\)</span> 的形状保持不变；</p><p>​ <span class="math inline">\(\Large\ \)</span>② 对称性：<spanclass="math inline">\(\displaystyle\sum_{i=0}^n\vec{b_i}B_{i,n}(t)=\sum_{i=0}^n\vec{b_{n-i}}B_{i,n}(1-t)\)</span>（反向拟合曲线）</p><p>​ ② <spanclass="math inline">\(\dot{\vec{r}(t)}=n\displaystyle\sum_{i=0}^{n-1}(\vec{b}_{i+1}-\vec{b}_{i})B_{i,n-1}(t)\)</span>，也为<span class="math inline">\(B\acute{e}zier\)</span>曲线（向量相应改变）</p><p>​ ③ <span class="math inline">\(\vec{r}(t)\)</span> 为包围 <spanclass="math inline">\(\{\vec{b_i}\}^n\)</span>的最小凸区域（曲线凸包，<span class="math inline">\(\largeconvex\)</span>），进而对于直线和 <spanclass="math inline">\(B\acute{e}zier\)</span> 曲线求交问题有：</p><p><strong>变差缩减</strong>：直线与 <spanclass="math inline">\(B\acute{e}zier\)</span> 曲线的交点 <spanclass="math inline">\(\leq\)</span>直线与凸包边界的交点（凸包应用：求交算法，光顺检测）</p><p>​ ④不是所有的向量组都有 <spanclass="math inline">\(B\acute{e}zier\)</span> 曲线，有 <spanclass="math inline">\(\dot{r(0)}=n(\vec{b_1}-\vec{b_0}),\dot{r(1)}=n(\vec{b_n}-\vec{b_{n-1}})\)</span>如果初始绕原点转</p><p>动后不能在一圈之内得到末态方向，由于凸包的性质则不能构成 <spanclass="math inline">\(B\acute{e}zier\)</span> 曲线</p><h2 id="bacuteezier-曲面"><spanclass="math inline">\(B\acute{e}zier\)</span> 曲面</h2><p>定义 <spanclass="math inline">\(\vec{r}(u,v)=\displaystyle\sum_{i=0}^m\sum_{j=0}^n\vec{b_{ij}}B_{i,m}(u)B_{i,n}(v)\\ u,v\in[0,1]\)</span>，与 <spanclass="math inline">\(B\acute{e}zier\)</span>曲线性质相似：几何不变、端点边界、凸包</p><h2 id="b-样条曲线面"><spanclass="math inline">\(B-\)</span>样条曲线/面</h2><p>给定节点向量 <span class="math inline">\(T=(t_0,t_1,t_2\cdotst_n)\)</span> 其中 <span class="math inline">\(t_0\leq t_1\leq t_2\cdotst_n\)</span>，对区间划分，定义 <spanclass="math inline">\(DB-\)</span>样条基函数 <spanclass="math inline">\(N_{i,k}(t)\)</span></p><p><span class="math inline">\(N_{i,1}(t)=\begin{cases}1,t_i\leq t\leqt_{i+1}\\0,\mbox{otherwise}\end{cases}\)</span> ，显然在节点处不连续，当<span class="math inline">\(k&gt;1,i=0,1\cdots n\)</span>时，有递推式</p><p><spanclass="math inline">\(N_{i,k}(t)=\dfrac{t-t_i}{t_{i+k-1}-t_i}N_{i,k-1}(t)+\dfrac{t_{i+k}-t}{t_{i+k}-t_{i+1}}N_{i+1,k-1}(t)\)</span>，代入计算有</p><p><spanclass="math inline">\(N_{0,2}=(\dfrac{t-t_0}{t_1-t_0})N_{0,1}(t)+(\dfrac{t_2-t}{t_2-t_1})N_{1,1}(t)\)</span>，为锯齿状，在节点处连续，导数不连续</p><p><spanclass="math inline">\(N_{0,3}(t)=\dfrac{(t-t_0)^2}{(t_2-t_0)(t_1-t_0)}N_{0,1}(t)+((\dfrac{t-t_0}{t_2-t_0})(\dfrac{t_2-t}{t_2-t_1})+(\dfrac{t-t_1}{t_2-t_1})(\dfrac{t_3-t}{t_3-t_1}))N_{1,1}\)</span>，拱形状</p><p>在节点处导数连续，但二阶导不连续，一般地有 <spanclass="math inline">\(N_{i,k}(t)\)</span> 在节点处 <spanclass="math inline">\((k-2)\)</span> 阶导连续，<spanclass="math inline">\((k-1)\)</span> 阶导不连续</p><p>性质：① 正值：<span class="math inline">\(N_{i,k}(t)&gt;0,t\in(t_i,t_{i+k})\)</span>；</p><p><span class="math inline">\(\Large\ \)</span> ② 局部支撑（<spanclass="math inline">\(\mbox{support}\)</span>）：<spanclass="math inline">\(N_{i,k}(t)=0,t\leq t_i\ or \ t\geqt_{i+k}\)</span>；</p><p><span class="math inline">\(\Large\ \)</span> ③ 单位分割：<spanclass="math inline">\(\displaystyle\sum_{i=0}^{n}N_{i,k}(t)=1,t\in[t_0,t_n]\)</span>；</p><p><span class="math inline">\(\Large\ \)</span> ④ 连续性：<spanclass="math inline">\(N_{i,k}(t)\)</span> 在单节点处是 <spanclass="math inline">\(C^{k-2}\)</span> 阶连续的</p><p>有 <span class="math inline">\(\mbox{de\ Boor}\)</span>算法（求值与剖分）得到 <span class="math inline">\(B-\)</span>样条曲线<span class="math display">\[r(t)=\sum_{i=0}^{n+j}\boldsymbol{p}_i^jN_{i,k-j}(t),\ \boldsymbolp_i^j=(1-\alpha_i^j)\boldsymbol p_{i-1}^{j-1}+\alpha_i^j\boldsymbolp_{i}^{j-1},\alpha_i^j=\dfrac{\bar{t}-t_i}{t_{i+k-j}-t_i},\boldsymbolp_j^0=\boldsymbol p_j\]</span> <span class="math inline">\(B\)</span> 样条曲线是一种特殊的<span class="math inline">\(B\acute{e}zier\)</span> 曲线，具体来说端点为<span class="math inline">\(k\)</span> 重节点</p><p><span class="math inline">\(B-\)</span>样条曲面定义为 <spanclass="math inline">\(\vec{r}(u,v)=\displaystyle\sum_{i=0}^{m}\sum_{j=0}^{n}\vec{P_{i,j}}N_{i,k}(u)N_{j,k}(v)\)</span></p><h2 id="nurbs-曲线"><span class="math inline">\(NURBS\)</span> 曲线</h2><p><span class="math inline">\(NURBS\)</span> 曲线非均匀有理 <spanclass="math inline">\(B-\)</span>样条，定义： <spanclass="math display">\[\displaystyle\vec{r}(t)=\dfrac{\displaystyle\sum_{i=0}^n\omega_i\vec{p_i}N_{i,k}(t)}{\displaystyle\sum_{i=0}^n\omega_iN_{i,k}(t)},\mbox{where}\  \begin{cases}N_{i,1}(t)=\begin{cases}1,t_i\leqt\leqt_{i+1}\\0,\mbox{otherwise}\end{cases}\\N_{i,k}(t)=\dfrac{t-t_i}{t_{i+k-1}-t_i}N_{i,k-1}(t)+\dfrac{t_{i+k}-t}{t_{i+k}-t_{i+1}}N_{i+1,k-1}(t)\end{cases}\]</span> 圆锥曲线等二次曲线都可以写成 <spanclass="math inline">\(NURB\)</span> 曲线的形式</p><p>例：<span class="math inline">\(\dfrac{1}{4}\)</span> 椭圆：<spanclass="math inline">\(\begin{cases}x=a\cos \theta\\y=b\sin\theta\end{cases}\ ,\theta\in[0,\dfrac{\pi}{2}]\)</span>，若令 <spanclass="math inline">\(t=\tan \dfrac{\theta}{2}\)</span>，有 <spanclass="math inline">\(\begin{cases}x=a\cdot\cfrac{1-t^2}{1+t^2}\\y=b\cdot \dfrac{2t}{1+t^2}\end{cases},\t\in[0,1]\)</span> <span class="math display">\[\vec{r}(t)=(a\cdot\dfrac{1-t^2}{1+t^2},b\cdot\dfrac{2t}{1+t^2})=\dfrac{\omega_0(1-t)^2\vec{b_0}+2\omega_1t(1-t)\vec{b_1}+\omega_2t^2\vec{b_2}}{\omega_0(1-t)^2+2\omega_1t(1-t)+\omega_2t^2}\]</span> 代入对应系数相等解得 <spanclass="math inline">\(\omega_2=2\omega_0=2\omega_1,\vec{b_0}=(a,0),\vec{b_1}=(a,b),\vec{b_2}=(0,b)\)</span></p><p>定义 <span class="math inline">\(NURBS\)</span> 曲面 <spanclass="math inline">\(\displaystyle\vec{r}(t)=\dfrac{\displaystyle\sum_{i=0}^m\sum_{j=0}^n\omega_{ij}\vec{p_i}N_{i,k}(u)N_{j,k}(v)}{\displaystyle\sum_{i=0}^m\sum_{j=0}^n\omega_{ij}N_{i,k}(u)N_{j,k}(v)}\)</span>，在当今建模主流应用曲面</p><p>其中当 <span class="math inline">\(u=u_0\)</span> 时为 <spanclass="math inline">\(NURBS\)</span> 二次曲面，例如圆环面（ <spanclass="math inline">\(\mbox{Torus}\)</span> ），旋转面</p><p>当今学术界提出实现 <span class="math inline">\(C^2\)</span>连续的样条</p><h1 id="曲线和曲面的表示">曲线和曲面的表示</h1><h2 id="平面曲线奇异点性质">平面曲线奇异点性质</h2><p>对隐式曲线<spanclass="math inline">\(f(x,y)=0\)</span>，奇异点判据<spanclass="math inline">\(\dfrac{\partial f}{\partial x}\big |_{x=x_0}=0\and\ \dfrac{\partial f}{\partial y}\big|_{y=y_0}=0\)</span>，奇异点为<spanclass="math inline">\((x_0,y_0)\)</span></p><p>①二次曲线<spanclass="math inline">\(a_{11}x^2+2a_{12}xy+a_{22}y^2+2a_{13}x+2a_{23}y+a_{33}=0\)</span>存在奇异点；</p><p>②退化为两条相交直线，或者退化为单个点；</p><p>③<span class="math display">\[ \left| \matrix{  a_{11} &amp; a_{12}&amp; a_{13}\\a_{21} &amp; a_{22} &amp; a_{23}\\a_{31} &amp; a_{32}&amp; a_{33}\\} \right|=0 \]</span></p><p>条件①②③等价</p><h2 id="空间曲面">空间曲面</h2><p>①<span class="math inline">\(f(x,y,z)=0\)</span> 的法向量为 <spanclass="math inline">\(n=(\dfrac{\partial f}{\partial x},\dfrac{\partialf}{\partial y},\dfrac{\partial f}{\partialz})\)</span>，其切平面点法式方程为 <span class="math display">\[\dfrac{\partial f}{\partial x}\big|_{x=x_0}(x-x_0)+\dfrac{\partialf}{\partial y}\big |_{y=y_0}(y-y_0)+\dfrac{\partial f}{\partial z}\big|_{z=z_0}(z-z_0)=0\]</span> 空间曲面奇异点存在的充要条件： <spanclass="math inline">\(\dfrac{\partial f}{\partial x}\big|_{x=x_0}=\dfrac{\partial f}{\partial y}\big |_{y=y_0}=\dfrac{\partialf}{\partial z}\big |_{z=z_0}=0\)</span></p><p>对一般二次曲面<spanclass="math inline">\(Ax^2+By^2+Cz^2+Dxy+Eyz+Fxz+Gx+Hy+Iz+J=0\)</span></p><p>一般情况下是：椭球面、双曲面、抛物面，有圆锥面，相交双平面等均有奇异点</p><p>例1: <span class="math inline">\(z^2=x^2+y^2\)</span>在<spanclass="math inline">\((0,0,0)\)</span>处法向量为 <spanclass="math inline">\(n=(0,0,0)\)</span>，不可导，无切平面方程</p><p>例2: <span class="math inline">\(z=xy\)</span> 换参数 <spanclass="math inline">\(x=u+v,y=u-v\)</span>，得到<spanclass="math inline">\(z=u^2-v^2\)</span>为双曲面方程</p><p>隐函数定理：<spanclass="math inline">\(f(x,y,z)=0\)</span>，只要<spanclass="math inline">\(\dfrac{\partial f}{\partial z}\ne 0\)</span></p><p>②空间曲面参数表示 <spanclass="math inline">\(x=x(t),y=y(t),z=z(t)\)</span>，切线矢量<spanclass="math inline">\(r=(\dfrac{dx}{dt},\dfrac{dy}{dt},\dfrac{dz}{dt})\)</span></p><p>对球坐标下 <span class="math inline">\(x=r\cdot cos\alpha \cdotsin\theta\ \ \ y=r\cdot sin\alpha \cdot sin\theta\ \ \ z=r\cdotcos\theta\)</span> <span class="math inline">\(ds^2=r^2sin\thetadrd\theta d\alpha\)</span></p><h2 id="空间曲线">空间曲线</h2><p>①使用两个空间曲面相交 <span class="math inline">\(f(x,y,z)=0\ and \g(x,y,z)=0\)</span>，其在某点处的切线向量与两个空间曲面的法向量均垂直</p><p><span class="math inline">\(n_1=(\dfrac{\partial f}{\partial x}\big|_{x=x_0},\dfrac{\partial f}{\partial y}\big |_{y=y_0},\dfrac{\partialf}{\partial z}\big |_{z=z_0})\ \ \ n_2=(\dfrac{\partial g}{\partialx}\big |_{x=x_0},\dfrac{\partial g}{\partial y}\big|_{y=y_0},\dfrac{\partial g}{\partial z}\big |_{z=z_0})\)</span>，从而<span class="math inline">\(l=n_1\times n_2\)</span></p><p>②弧长微元$ds=|r(t+dt)-r(t)| <spanclass="math inline">\(，空间曲线有奇异点的条件\)</span>=0<spanclass="math inline">\(，例：\)</span>y<sup>2=x</sup>3<spanclass="math inline">\(有\)</span>x$轴上下两段</p><p>参数方程 <span class="math inline">\(x=t^3,y=t^2\)</span>，在<spanclass="math inline">\(t=0\)</span> 处 <spanclass="math inline">\(\dfrac{dr}{dt}=(0,0)\)</span>，则称<spanclass="math inline">\((0,0)\)</span>为奇异点（又称Cusp点），计算其弧长积分为<span class="math display">\[s(t_1,t_2)=\int_{t_1}^{t_2}\sqrt{4t^2+9t^4}dt=\int_{t_1}^{t_2}\sqrt{1+\frac{9}{4}t^2}d(t^2)=\frac{2}{3}(1+\frac{9}{4}t^2)^{\frac{3}{2}}\big|_{t_1}^{t_2}\]</span> 在 <span class="math inline">\(t=0\)</span>处积分处不连续，需要分段</p><h1 id="曲线的微分几何">曲线的微分几何</h1><h2 id="位矢弧长参数-_vecr-vecrs">位矢（弧长参数）<spanclass="math inline">\(\ \ _{\vec{r}\ =\ \vec{r}(s)}\)</span></h2><p>对 <span class="math inline">\(\vec{r}=\vec{r}(t)\)</span> ，中 <spanclass="math inline">\(t\)</span> 为任意参数，如果令 <spanclass="math inline">\(t=s\)</span> ，则代入弧长微元 <spanclass="math inline">\(ds=|\dot{r}(t)|dt\)</span> 有<spanclass="math inline">\(|\dot{\vec{r}(s)}|=1\)</span></p><p>写成点乘形式有 <span class="math inline">\(\dot{\vec{r}(s)}\cdot\dot{\vec{r}(s)}=0\)</span>，两边求导有 <spanclass="math inline">\(\ddot{\vec{r}(s)}\cdot\dot{\vec{r}(s)}=0\)</span></p><p>即若用弧长作为参数，则位矢对弧长的一阶导和位矢对弧长的二阶导相互正交</p><p><strong>例</strong>：对于圆周运动，使用弧长参数 <spanclass="math inline">\(s=R\cdot \omega t\)</span> <spanclass="math display">\[\begin{equation}\left\{        \begin{array}{}        x=R\cdot cos(\omega t)&amp; \\        y=R\cdot sin(\omega t)&amp; \\        \end{array}\right.\end{equation}\]</span> 得 <span class="math inline">\(\vec{r}(s)=(R\cdotcos(\dfrac{s}{R}),R\cdot sin(\dfrac{s}{R}))\)</span>，有<spanclass="math inline">\(\dot{\vec{r}(s)}=(-sin(\dfrac{s}{R}),cos(\dfrac{s}{R}))\)</span></p><p><span class="math inline">\(\ddot{\vec{r}(s)}=(-\dfrac{1}{R}\cdotcos(\dfrac{s}{R}),-\dfrac{1}{R}\cdotsin(\dfrac{s}{R}))\)</span>，后两者相互正交，且 <spanclass="math inline">\(|\ddot{\vec{r}(s)}|=\dfrac{1}{R}\)</span></p><p>另一种理解方式：位矢对弧长的导数相当于是一个正则化的速度矢量，该速度矢量的大小不</p><p>变，其变化一定沿其法向，两者相互正交</p><p>曲率的计算方式：有 <spanclass="math inline">\(\rho=\dfrac{ds}{d\theta}=\dfrac{\dot{\vec{r}}(s+ds)-\dot{\vec{r}}(s)}{\ddot{\vec{r}(s)}\cdotd\theta}\)</span>，由分子两矢量与其差构成等腰三角形</p><p><span class="math inline">\(ds\to 0\)</span> 时，<spanclass="math inline">\(\dot{\vec{r}}(s+ds)-\dot{\vec{r}}(s)=|\dot{\vec{r}(s)}|\cdotd\theta=1\cdot d\theta\)</span>，从而消去有 <spanclass="math inline">\(\rho=\dfrac{1}{|\ddot{\vec{r}(s)}|}\)</span>，即<span class="math inline">\(|\ddot{\vec{r}(s)}|=\kappa\)</span></p><p>定义，单位主法向量 <spanclass="math inline">\(\vec{n}(s)=\dfrac{\ddot{\vec{r}(s)}}{|\ddot{\vec{r}(s)}|}\)</span>，单位切向量<span class="math inline">\(\vec{t}=\dot{\vec{r}(s)}\)</span></p><p>对任意一点处， <span class="math inline">\(\vec{n}\)</span> 和 <spanclass="math inline">\(\vec{t}\)</span>两者张成的平面就是密切平面，若为平面曲线，则密切平面不变</p><p>对于空间曲线，密切平面就随着点的运动变化而变化</p><p>定义副法向量 $= $，有 <spanclass="math inline">\((\vec{t},\vec{n},\vec{b})\)</span> 为以 <spanclass="math inline">\(P\)</span> 点为原点的一组坐标架，有 <spanclass="math inline">\(\vec{b}=\dot{\vec{r}(s)}\times\dfrac{\ddot{\vec{r}(s)}}{\kappa}\)</span></p><p>考虑 $(s) $ 的变化有 <span class="math inline">\(\vec{n} \cdot\vec{n}=1\)</span>，求导有 <span class="math inline">\(\dot{\vec{n}(s)}\\bot\  \ddot{\vec{n}(s)}\)</span>，从而令 <spanclass="math inline">\(\dot{\vec{n}(s)}=\mu\vec{t}+\tau\vec{b}\)</span>，则<span class="math inline">\(\vec{b}\)</span> 变化</p><p><spanclass="math inline">\(\dot{\vec{b}(s)}=\dfrac{d}{ds}(\vec{t}\times\vec{n})=\ddot{\vec{r}(s)}\times\dfrac{\ddot{\vec{r}(s)}}{|\ddot{\vec{r}(s)}|}+\vec{t}\times\dfrac{d\vec{n}}{ds}=0+\vec{t}\times(\mu\vec{t}+\tau\vec{b})=-\tau\vec{n}\)</span>（右手螺旋）</p><p>定义 <span class="math inline">\(\tau\)</span>为曲线的挠率，几何意义：<span class="math inline">\(\vec{b}\)</span>为密切平面中单位切向量和单位法向量的叉乘，即为密切</p><p>平面的法向量，<span class="math inline">\(\dot{\vec{b}(s)}\)</span>代表密切平面法向量方向的变化，即曲线局部摆脱密切平面的趋势，若挠</p><p>率处处为0，则该曲线为平面曲线</p><p>计算挠率的方法：对 <spanclass="math inline">\(\dot{\vec{b}(s)}=-\tau\cdot\vec{n}(s)\)</span>，两边点乘 <spanclass="math inline">\(\vec{n}(s)\)</span> 计算得<spanclass="math inline">\(\tau=-\vec{n}(s)\cdot\dot{\vec{b}(s)}=\)</span></p><p><span class="math inline">\(-\dfrac{\ddot{\vec{r}(s)}}{\kappa}\cdot(\dfrac{\dot{\vec{r}(s)}\times\ddot{\vec{r}(s)}}{\kappa})&#39;=\dfrac{(\dot{\vec{r}},\ddot{\vec{r}},\dddot{\vec{r}})}{\ddot{\vec{r}\cdot}\ddot{\vec{r}}}\)</span>，其中 <spanclass="math inline">\((a,b,c)\)</span>表示混合积（平行六面体有向体积）</p><p><strong>例</strong>：等距螺线 <spanclass="math inline">\(\vec{r}(t)=(acos(t),asin(t),bt)\)</span>，弧长参数：<spanclass="math inline">\(\vec{r}(s)=(acos(\dfrac{s}{c}),asin(\dfrac{s}{c}),\dfrac{bs}{c})\)</span></p><p>代入公式有曲率半径 <spanclass="math inline">\(\rho=\dfrac{1}{|\ddot{\vec{r}}(s)|}=\dfrac{c^2}{a}\)</span>，计算挠率<span class="math inline">\(\tau=\dfrac{b}{c^2}\)</span></p><h2 id="位矢一般参数-_vecr-vecrt">位矢（一般参数）<spanclass="math inline">\(\ \ _{\vec{r}\ =\ \vec{r}(t)}\)</span></h2><p>要求 <span class="math inline">\(s=s(t)\)</span>是单调的，对一般参数求导有</p><p><spanclass="math inline">\(\dot{\vec{r}(t)}=\dfrac{d\vec{r}}{ds}\dfrac{ds}{dt}\)</span>，令速率<span class="math inline">\(v=|\dfrac{ds}{dt}|\)</span>，有 <spanclass="math inline">\(\dot{\vec{r}(t)}=\dfrac{d\vec{r}}{ds}|v|\)</span>，为一阶导公式</p><p><spanclass="math inline">\(\ddot{\vec{r}(t)}=\dfrac{d}{dt}(\dot{\vec{r}(s)}\cdot|v|)=\ddot{\vec{r}(s)}|v|^2+\dot{\vec{r}(s)}\dfrac{d|v|}{dt}=\dfrac{|v|^2}{\rho}\vec{n}+\dfrac{d|v|}{dt}\vec{t}\)</span></p><p>称 <span class="math inline">\(\kappa\)</span> 变号的点为拐点，<spanclass="math inline">\(ds\)</span> 是不依赖参数的</p><h2 id="fernet-serret-公式">Fernet-Serret 公式</h2><p>将上述产生的坐标架 <spanclass="math inline">\((\vec{t},\vec{n},\vec{b})\)</span>对弧长参数的导数写成矩阵形式： <span class="math display">\[\begin{pmatrix}\boldsymbol t&#39;\\\boldsymbol n&#39;\\\boldsymbol b&#39;\end{pmatrix}=\begin{pmatrix}0&amp;\kappa&amp;0\\-\kappa&amp;0&amp;\tau\\0&amp;-\tau&amp;0\end{pmatrix}\begin{pmatrix}\boldsymbol t\\\boldsymbol n\\\boldsymbol b\end{pmatrix}\]</span> 则 <span class="math inline">\(\kappa=\kappa(s)\)</span> 和<span class="math inline">\(\tau=\tau(s)\)</span>称为曲线的内在方程。</p><p>若两者以及初始条件 <spanclass="math inline">\(\vec{r}(0),\dot{\vec{r}(0)},\ddot{\vec{r}(0)},\ddot{\vec{r}(0)}\)</span>均已知，则该空间曲线可以确定</p><h1 id="曲面的微分几何">曲面的微分几何</h1><h2 id="切平面和法向量">切平面和法向量</h2><p>对某些变换后的一组参数坐标满足其中一个参数为定值时形成的曲线簇和另一组曲线簇相互正交</p><p>如 <spanclass="math inline">\((x,y),(r,\theta),(s,t)_{(x=s+t,y=s-t)},(r,\theta,\phi)\)</span>等等</p><p>定义曲面 <span class="math inline">\(S\)</span>的方程满足其每一个点的位矢 <spanclass="math inline">\(\vec{r}=\vec{r}(u,v)\)</span>，考虑参数空间中的一条空间曲线</p><p><span class="math inline">\(u=u(t),v=v(t)\)</span> 在该参数空间条件下<span class="math inline">\(\vec{r}=\vec{r}(u(t),v(t))\)</span>也为空间曲线，其切向量全微分为</p><p><span class="math inline">\(\dot{\vec{r}(t)}=\dfrac{\partial\vec{r}}{\partial u}\dot{u}+\dfrac{\partial \vec{r}}{\partialv}\dot{v}\)</span>，其法向量为两者的叉乘 <spanclass="math inline">\(\vec{N}=\dfrac{\dfrac{\partial r}{\partialu}\times \dfrac{\partial r}{\partial v}}{|\dfrac{\partial r}{\partialu}\times \dfrac{\partial r}{\partial v}|}\)</span></p><p>当 <span class="math inline">\(\dfrac{\partial r}{\partial u}\times\dfrac{\partial r}{\partial v}=0\)</span>时对应的点为奇异点，如圆锥面的顶点，椭圆圆锥的顶点</p><h2 id="曲面的第一基本齐式度量">曲面的第一基本齐式（度量）</h2><p><spanclass="math inline">\(ds=|\dfrac{d\vec{r}}{dt}|dt=|\dfrac{\partial\vec{r}}{\partial u}\cdot \dfrac{du}{dt}+\dfrac{\partial\vec{r}}{\partial v}\cdot\dfrac{dv}{dt}|=\sqrt{Edu^2+2Fdudv+Gdv^2}\)</span></p><p>其中定义 <span class="math inline">\(E=\dfrac{\partial\vec{r}}{\partial u}\cdot \dfrac{\partial \vec{r}}{\partialu}\)</span>，<span class="math inline">\(F=\dfrac{\partial\vec{r}}{\partial u}\cdot \dfrac{\partial \vec{r}}{\partialv}\)</span>，<span class="math inline">\(G=\dfrac{\partial\vec{r}}{\partial v}\cdot \dfrac{\partial \vec{r}}{\partialv}\)</span>，三者为第一基本齐式系数</p><p>有第一基本齐式 <spanclass="math inline">\(I=Edu^2+2Fdudv+Gdv^2=\dfrac{1}{E}(Edu+Fdv)^2+\dfrac{EG-F^2}{E}dv^2\)</span></p><p><strong>例</strong>：对球面 <spanclass="math inline">\(\vec{r}=(Rsin\theta cos\phi,Rsin\thetasin\phi,Rcos\theta)\)</span> 计算有 <spanclass="math inline">\(I=Rd\theta^2+R^2sin^2\theta d\phi^2\)</span></p><p>对 <spanclass="math inline">\(\vec{r}=\vec{r}(u(t),v(t))\)</span>，计算两个切矢之间的夹角有<span class="math inline">\(cos\omega=\dfrac{\dfrac{\partial\vec{r}}{\partial u}\cdot \dfrac{\partial \vec{r}}{\partialv}}{|\dfrac{\partial \vec{r}}{\partial u}||\dfrac{\partial\vec{r}}{\partial v}|}=\dfrac{F}{\sqrt{EG}}\)</span></p><p>从而有面积微元 <span class="math inline">\(\delta A=sinw\cdot\sqrt{EG}\delta u\delta v=\sqrt{EG-F^2}\delta u \delta v\)</span></p><p>应用：①计算面积；②计算弧长</p><p><strong>例</strong>：对柱面 <spanclass="math inline">\(x^2+y^2=R^2\)</span> 使用柱坐标有 <spanclass="math inline">\((Rcos\theta,Rsin\theta,z)\)</span>，有 <spanclass="math inline">\((\theta,z)\)</span> 相当于 <spanclass="math inline">\((u,v)\)</span>，</p><p>求导有 <span class="math inline">\(\dfrac{\partial\vec{r}}{\partial\theta}=(-Rsin\theta,Rcos\theta,0),\dfrac{\partial \vec{r}}{\partialz}=(0,0,1)\)</span>，则 <spanclass="math inline">\(E=R^2,F=0,G=1\)</span>，代入有</p><p><span class="math inline">\(I=R^2d\theta^2+dz\)</span></p><p><strong>例</strong>：求双曲抛物面 <spanclass="math inline">\(\vec{r}=(u,v,uv)\)</span> 当 <spanclass="math inline">\(u,v\)</span> 取正半轴以及 <spanclass="math inline">\(u^2+v^2\leq1\)</span> 围成的区域面积</p><p><span class="math inline">\(\dfrac{\partial \vec{r}}{\partialu}=(1,0,v)\)</span>，<span class="math inline">\(\dfrac{\partial\vec{r}}{\partial v}=(0,1,u)\)</span>，则有 <spanclass="math inline">\(E=1+v^2,F=uv,G=1+u^2\)</span>，代入面积微元</p><p><spanclass="math inline">\(dA=\sqrt{(1+v^2)(1+u^2)-u^2v^2}dudv=\sqrt{1+v^2+u^2}dudv\)</span>，换成极坐标积分有</p><p><spanclass="math inline">\(S=\displaystyle\int_0^{\frac{\pi}{2}}d\theta\int_0^1\sqrt{1+r^2}rdr=\dfrac{\pi}{6}(2\sqrt{2}-1)\)</span></p><h2 id="曲面的第二基本齐式曲率">曲面的第二基本齐式（曲率）</h2><p>量化曲面的曲率考虑曲面 <span class="math inline">\(S\)</span>上通过点 <span class="math inline">\(P\)</span> 的一条曲线 <spanclass="math inline">\(C\)</span> 在 <spanclass="math inline">\(P\)</span> 处的单位法向量关系有： <spanclass="math display">\[\vec{k}=\dfrac{d\vec{t}}{ds}=\kappa\vec{n}=\vec{k}_n+\vec{k}_g\]</span> 其中，<span class="math inline">\(\vec{k}_n\)</span>为法曲率向量为曲率向量在曲面法向的投影，称为法曲率向量；<spanclass="math inline">\(\vec{k}_g\)</span>为曲率向量在曲面切平面的投影，称为测地曲率向量（当 <spanclass="math inline">\(\vec{k_n}=0\)</span>时曲线在该点朝“前”走，若该曲线处处法向量都等于测地曲率向量，则该曲线为测地线，代表连接起点和终点最短的曲线），对于 <span class="math inline">\(\vec{\kappa_n}\)</span> 的计算有<span class="math display">\[\because \boldsymbol N\cdot \boldsymbol t=0\\therefore\dfrac{d\boldsymbol t}{ds}\cdot \boldsymbolN+\dfrac{d\boldsymbol N}{ds}\cdot \boldsymbol t=0,\ \vec{\boldsymbol\kappa_n}=\dfrac{d\boldsymbol t}{ds}\cdot \boldsymbolN=-\dfrac{d\boldsymbol N}{ds}\cdot t=-\dfrac{d\boldsymbol r}{ds}\cdot\dfrac{d\boldsymbol N}{ds}=-\dfrac{d\boldsymbol r\cdot d\boldsymbolN}{d\boldsymbol r\cdot d\boldsymbol r}\]</span> 令 <span class="math inline">\(L=-\dfrac{\partial r}{\partialu}\cdot \dfrac{\partial N}{\partial u},M=-\dfrac{1}{2}(\dfrac{\partialr}{\partial u}\cdot \dfrac{\partial N}{\partial v}+\dfrac{\partialr}{\partial v}\cdot \dfrac{\partial N}{\partial u})=-\dfrac{\partialr}{\partial u}\cdot \dfrac{\partial N}{\partial v}=\dfrac{\partialr}{\partial v}\cdot \dfrac{\partial N}{\partial u},N=-\dfrac{\partialr}{\partial v}\cdot \dfrac{\partial N}{\partial v}\)</span></p><p><span class="math inline">\(\dfrac{\partial r}{\partial u}\cdotN=0,\dfrac{\partial r}{\partial v}\cdot N=0\)</span> ，均对 <spanclass="math inline">\(u,v\)</span> 求导代入有 <spanclass="math inline">\(L=\dfrac{\partial^2 r}{\partial u^2}\cdotN,M=\dfrac{\partial ^2 r}{\partial u\partial v}\cdotN,N=\dfrac{\partial^2 r}{\partial v^2}\cdot N\)</span> 有 <spanclass="math display">\[\kappa_n=-\dfrac{d\boldsymbol r\cdot d\boldsymbol N}{d\boldsymbol r\cdotd\boldsymbol r}=\dfrac{Ldu^2+2Mdudv+Ndv^2}{Edu^2+2Fdudv+Gdv^2}\]</span> 称分子 <spanclass="math inline">\(H=Ldu^2+2Mdudv+Ndv^2\)</span>为第二基本齐式，若定义 <spanclass="math inline">\(\lambda=\dfrac{dv}{du}\)</span> 为曲线 <spanclass="math inline">\(C\)</span> 在 <spanclass="math inline">\(P\)</span> 点处的切线方向</p><p>则对给定参数 <span class="math inline">\((u,v)\)</span> 下，$_n===f()$，有 <spanclass="math inline">\(\kappa_{max},\kappa_{min}\)</span></p><p>即曲面上给定点 <span class="math inline">\(P\)</span>处的法曲率只依赖于切向 <span class="math inline">\(\lambda\)</span>，进而得到 <span class="math inline">\(Meusnier\)</span> 定理：曲面<span class="math inline">\(S\)</span> 上过点 <spanclass="math inline">\(P\)</span>且具有相同切向的所有曲线具有相同的法曲率</p><p>定义高斯曲率 <spanclass="math inline">\(K=\kappa_{min}\kappa_{max}\)</span>，平均曲率<spanclass="math inline">\(H=\dfrac{\kappa_{min}+\kappa_{max}}{2}\)</span></p><p>主曲率为 <span class="math inline">\(f(\lambda)\)</span>取得最大值最小值时对应的切线方向，<spanclass="math inline">\(Euler\)</span> 定理：选取 <spanclass="math inline">\(xy\)</span> 轴为 <spanclass="math inline">\(\kappa_{max},\kappa_{min}\)</span> 对应方向，设<span class="math inline">\(\vec{t}\)</span> 与 <spanclass="math inline">\(x\)</span> 轴方向夹角为 <spanclass="math inline">\(\theta\)</span> ，有法曲率 <spanclass="math inline">\(\large\kappa_n\small{(\vec{t})}=\large\kappa_{max}\cos^2\theta+\large\kappa_{min}\sin ^2\theta\)</span> ，当 <spanclass="math inline">\(\large\kappa_{max}=2\large\kappa_{min}\)</span>时图像如下</p><p><img src="https://pic.imgdb.cn/item/62d0258ff54cd3f9371814f6.jpg" style="zoom:33%;" /></p>]]></content>
    
    
    <categories>
      
      <category>研究</category>
      
      <category>求交问题</category>
      
    </categories>
    
    
    <tags>
      
      <tag>求交问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Shor&#39;s Algorithm</title>
    <link href="/2022/07/06/%E7%A0%94%E7%A9%B6/Shor%20%E7%AE%97%E6%B3%95%E5%88%9D%E6%8E%A2/"/>
    <url>/2022/07/06/%E7%A0%94%E7%A9%B6/Shor%20%E7%AE%97%E6%B3%95%E5%88%9D%E6%8E%A2/</url>
    
    <content type="html"><![CDATA[<p>传统部分成功率的数学证明参考 B 站视频 <ahref="https://www.bilibili.com/video/BV1Ua411L7a9?spm_id_from=333.337.search-card.all.click&amp;vd_source=d9afebd071d024f27b0f4860d8972d67">Shor算法| 如何用量子计算机分解质因数？</a></p><h2id="构造素因子的传统方法初等数论">构造素因子的传统方法（初等数论）</h2><p>1: 找一个整数 <span class="math inline">\(1&lt;a&lt;N\)</span> ，计算<span class="math inline">\(\operatorname{gcd}(a, N)\)</span></p><p>2: 若 <span class="math inline">\(\operatorname{gcd}(a,N)&gt;1\)</span> ，则已经找到了 <span class="math inline">\(N\)</span>的一个非平凡因子</p><p>3: 若 <span class="math inline">\(\operatorname{gcd}(a, N)=1\)</span>，则用<strong>量子算法</strong>找到最小的满足 <spanclass="math inline">\(a^{r} \equiv 1(\bmod N)\)</span> 的正整数 <spanclass="math inline">\(r\)</span> （也称作 <spanclass="math inline">\(a\)</span> 模 <spanclass="math inline">\(N\)</span> 的阶， <spanclass="math inline">\(\left.r=\operatorname{ord}_{N}(a)\right)\)</span></p><p>4: 若 <span class="math inline">\(2 \nmid r\)</span> ，或 <spanclass="math inline">\(a^{\frac{r}{2}} \equiv-1(\bmod N)\)</span>，则返回第一步重新找一个 <span class="math inline">\(a\)</span></p><p>5: 若 <span class="math inline">\(2 \mid r\)</span> ，且 <spanclass="math inline">\(a^{\frac{r}{2}} \not \equiv-1(\bmod N)\)</span>，则有 <span class="math inline">\(N\mid\left(a^{\frac{r}{2}}+1\right)\left(a^{\frac{r}{2}}-1\right)\)</span>，可以证明，通过求出 <spanclass="math inline">\(\operatorname{gcd}\left(a^{\frac{r}{2}}+1,N\right)\)</span> 或 <spanclass="math inline">\(\operatorname{gcd}\left(a^{\frac{r}{2}}-1,N\right)\)</span> 一定可以找到 <span class="math inline">\(N\)</span>的一个非平凡因子</p><h2 id="r为偶的成功率算法成功率">r为偶的成功率（算法成功率）</h2><p>这里 <span class="math inline">\(a\)</span> 为 <spanclass="math inline">\(a=1,2, \cdots ,N-1\)</span> 中的随机数，令 <spanclass="math inline">\(r=\text{ord}_{N}(a)\)</span> <spanclass="math inline">\(,P(\mbox{success})\)</span><spanclass="math inline">\(=P\left(2 \mid r \wedge a^{\frac{r}{2}} \not\equiv-1(\bmod N)\right)\)</span></p><p>分解 <span class="math inline">\(N\)</span> 有 <spanclass="math inline">\(N=p_{1}^{\alpha_{1}} p_{2}^{\alpha_{2}} \cdotsp_{m}^{\alpha_{m}}\)</span> 由有限阿贝尔群的基本定理：</p><blockquote><p><strong>模 <span class="math inline">\(\mathrm{N}\)</span> 乘法群<span class="math inline">\((\mathbb{Z} / N\mathbb{Z})^{\times}\)</span>可分解为若干循环群的直积。</strong>例如对下列表格，实际为中国剩余（孙子）定理的解</p><p><span class="math inline">\(5\)</span> 和 <spanclass="math inline">\(7\)</span> 分别在模 <spanclass="math inline">\(7\)</span> 和模 <spanclass="math inline">\(5\)</span> 意义下的数论倒数为 <spanclass="math inline">\(3\)</span> 和 <spanclass="math inline">\(3\)</span>，所以对元素 <spanclass="math inline">\(a\in( \mathbb{Z} / 5 \mathbb{Z})^{\times},b\in(\mathbb{Z} / 7 \mathbb{Z})^{\times}\)</span></p><p>其直积的计算为 <span class="math inline">\(a\cdot 3\cdot 7+b\cdot3\cdot 5=3(7a+5b)\)</span>，如 <spanclass="math inline">\(a=4,b=6,3(28+30)=174=34\pmod{35}\)</span></p></blockquote><p><span class="math display">\[\begin{aligned}&amp;\begin{array}{r|cccccc}(\mathbb{Z} / 5 \mathbb{Z})^{\times}\large {\backslash}\normalsize(\mathbb{Z} / 7 \mathbb{Z})^{\times} &amp; 1 &amp; 2 &amp; 3 &amp; 4&amp; 5 &amp; 6 \\\hline1 &amp; 1 &amp; 16 &amp; 31 &amp; 11 &amp; 26 &amp; 6 \\2&amp; 22 &amp; 2 &amp; 17 &amp; 32 &amp; 12 &amp; 27 \\3&amp; 8 &amp; 23 &amp; 3 &amp; 18 &amp; 33 &amp; 13 \\4&amp; 29 &amp; 9 &amp; 24 &amp; 4 &amp; 19 &amp; 34\end{array}\end{aligned}\]</span></p><p><span class="math inline">\((\mathbb{Z} / N \mathbb{Z})^{\times}\cong\left(\mathbb{Z} / p_{1}^{\alpha_{1}} \mathbb{Z}\right)^{\times}\times\left(\mathbb{Z} / p_{2}^{\alpha_{2}} \mathbb{Z}\right)^{\times}\times \cdots \times\left(\mathbb{Z} / p_{m}^{\alpha_{m}}\mathbb{Z}\right)\)</span> ，<spanclass="math inline">\(\left(\mathbb{Z} / p_{i}^{\alpha_{i}}\mathbb{Z}\right)^{\times} \congC_{\varphi(p^{\alpha})}\left(p_{i}&gt;2\right)\)</span> <spanclass="math display">\[\begin{aligned}&amp;a=1 \ldots N-1, r=\operatorname{ord}_{N}(a) \\&amp;P(\text { success })=P\left(2 \mid r \wedge a^{\frac{r}{2}} \not\equiv-1 \quad(\bmod N)\right) \\&amp;N=p_{1}^{\alpha_{1}} p_{2}^{\alpha_{2}} \cdots p_{m}^{\alpha_{m}}\end{aligned}\]</span> 定义 <span class="math inline">\(r=\operatorname{ord}_{N}(a),r_{i}=\operatorname{ord}_{p_{i}^{\alpha_{i}}}(a)\)</span> ，有 <spanclass="math inline">\(r=\operatorname{lcm}\left(r_{1}, r_{2}, \ldots,r_{m}\right) ， 2 \nmid r \Longleftrightarrow \forall i, 2 \nmidr_{i}\)</span> 定义 <span class="math inline">\(v_{2}(n)=\max_{k}\left\{2^{k} \mid n\right\}\)</span> 表示 <spanclass="math inline">\(n\)</span> 中因子 <spanclass="math inline">\(2\)</span> 的次数， <span class="math display">\[\begin{aligned}a^{\frac{r}{2}} \equiv-1 \quad(\bmod N) &amp; \Longleftrightarrow\forall i, a^{\frac{r}{2}} \equiv-1 \quad\left(\bmodp_{i}^{\alpha_{i}}\right) \\&amp; \Longleftrightarrow \forall i, 2 \nmid r / r_{i} \\&amp; \Longleftrightarrow \forall i, j,v_{2}\left(r_{i}\right)=v_{2}\left(r_{j}\right)\end{aligned}\]</span> 对于随机的 <span class="math inline">\(a\)</span> ，不能通过<span class="math inline">\(a\)</span> 找到 <spanclass="math inline">\(N\)</span> 的非平凡因子当且仅当 <spanclass="math inline">\(\forall i, j,v_{2}\left(r_{i}\right)=v_{2}\left(r_{j}\right)\)</span></p><p><span class="math display">\[P\left(v_{2}\left(r_{i}\right)=t\right)=\begin{cases}\dfrac{1}{2^{v_{2}(\varphi(n))}} &amp; t=0 \\\dfrac{1}{2^{v_{2}(\varphi(n))-t+1}} &amp; 1 \leq t \leqv_{2}(\varphi(n))\end{cases}\]</span> 对于与 <span class="math inline">\(N\)</span> 互质的所有 <spanclass="math inline">\(a\)</span> ，失败概率 <spanclass="math display">\[P(\text { fail })=P\left(2 \nmid r \vee a^{\frac{r}{2}} \equiv-1\quad(\bmod N)\right)=\sum_{t} \prod_{i}P\left(v_{2}\left(r_{i}\right)=t\right)\]</span> 当 <span class="math inline">\(N=p^{k}, 2 p^{k},(k \geq1)\)</span> 时， <span class="math inline">\(P(\)</span><spanclass="math inline">\(\mbox{fail}\)</span><spanclass="math inline">\()=1\)</span> ，否则 <spanclass="math inline">\(P(\)</span><spanclass="math inline">\(\mbox{fail}\)</span><span class="math inline">\()\leq \dfrac{1}{2}\)</span></p><p>这些情况也可以设计量子电路在更小的时间复杂度内得到判定，从而成功概率<span class="math inline">\(&gt;\dfrac{1}{2}\)</span></p><h2 id="将求阶算法转换为相位估计法">将求阶算法转换为相位估计法</h2><p>对于酉变换 <spanclass="math inline">\(U:|y\rangle\mapsto|xy\pmod{N}\rangle\)</span>，已知<span class="math inline">\(r\)</span> 为 <spanclass="math inline">\(x\)</span> 模 <spanclass="math inline">\(N\)</span> 的阶，即满足 <spanclass="math inline">\(x^{t}\equiv 1\pmod{N}\)</span> 的最小正整数 <spanclass="math inline">\(t\)</span></p><p>任取 <span class="math inline">\(0\leq s\leqr-1\)</span>，则可以构造性地给出 <span class="math inline">\(U\)</span>变换的一个特征向量 <span class="math display">\[|u_s\rangle=\large \dfrac{1}{\sqrt{r}}\sum_{k=0}^{r-1}e^{-\frac{2\piisk}{r}}|x^{k}\bmod{N}\rangle\]</span> 计算可知 <spanclass="math inline">\(U|u_s\rangle=\dfrac{1}{\sqrt{r}}\displaystyle\sum_{k=0}^{r-1}e^{-\frac{2\piisk}{r}}|x^{k+1}\bmod{N}\rangle=\dfrac{1}{\sqrt{r}}e^{\frac{2\piis}{r}}\sum_{k=0}^{r-1}e^{-\frac{2\piis(k+1)}{r}}|x^{k+1}\bmod{N}\rangle\)</span> 由 <spanclass="math inline">\(x^{r}=1\)</span></p><p>则 <spanclass="math inline">\(\{x,x^2,\cdots,x^{r-1},x^{r}\}=\{1,x,x^2,\cdots,x^{r-1}\}\)</span>则 <span class="math inline">\(\boxed{U|u_s\rangle=e^{\frac{2\piis}{r}}|u_s\rangle}\)</span>，故 <spanclass="math inline">\(e^{\frac{2\pi is}{r}}\)</span> 为 <spanclass="math inline">\(U\)</span> 的特征值</p><p>从而制备酉变换 <span class="math inline">\(U\)</span>，只要确定 <spanclass="math inline">\(\epsilon\)</span> 精度内的相位 <spanclass="math inline">\(\small\Delta \normalsize \varphi =\dfrac{2\pis}{r}\)</span>（误差分析给出比特数 <span class="math inline">\(t=n+\left\lceil \log\left(2+\dfrac{1}{2\epsilon}\right)\right\rceil\)</span>）</p><p>便在一定精度内得到 <span class="math inline">\(s=\dfrac{ \small\Delta\normalsize \varphir}{2\pi}\)</span>，由连分式算法，任意有理数连分式经过有限步可以终止，从而<span class="math inline">\(s\)</span> 可求</p><h2 id="相位估计法">相位估计法</h2><p>在给定精度得到相应需要 <span class="math inline">\(t\)</span>比特后，搭建如下量子电路： <imgsrc="https://pic.imgdb.cn/item/62c59c765be16ec74a874b1b.jpg" /></p><p>通俗来说，上面 <span class="math inline">\(t\)</span>比特给出一系列“平铺”的量子纠缠态，具体写成数学表达式有 <spanclass="math display">\[\begin{aligned}\frac{1}{2^{t / 2}}\left(|0\rangle+e^{2 \pi i 2^{t-1}\varphi}|1\rangle\right)\left(|0\rangle+e^{2 \pi i 2^{t-2}\varphi}|1\rangle\right) &amp; \ldots\left(|0\rangle+e^{2 \pi i 2^{0}\varphi}|1\rangle\right) \\&amp;=\frac{1}{2^{t / 2}} \sum_{k=0}^{2^{t}-1} e^{2 \pi i \varphik}|k\rangle .\end{aligned}\]</span>这里求和式的结果可以观察为二进制展开得到，用逆快速傅里叶变换便可以 <spanclass="math inline">\(t\)</span> 位（概率为 $1-$）精度的 <spanclass="math inline">\(\varphi\)</span></p><p><strong>只要设计上符合各精度要求，便可以逼近得到实例酉变换的相位<spanclass="math inline">\(\varphi\)</span>，进而用连分数算法逼近出一个随机数<span class="math inline">\(a\)</span> 模 <spanclass="math inline">\(N\)</span> 意义下的阶 <spanclass="math inline">\(s\)</span>，该 <spanclass="math inline">\(s\)</span> 为偶数的概率也是可观的（ <spanclass="math inline">\(&gt;\dfrac{1}{2}\)</span>），实在不行的话多尝试几个随机数 <spanclass="math inline">\(a\)</span>，只要找到一个阶数为偶数的 <spanclass="math inline">\(a\)</span>，便可以使用欧几里得算法得到 <spanclass="math inline">\(N\)</span> 的一个非平凡素因子。</strong></p><p>至此，从理论上大数分解在量子计算机中可以有效（多项式时间复杂度）求出，具体复杂度上界为<span class="math display">\[O(N^2\log N\log \log N)\]</span> 远超经典计算机（目前为 <span class="math inline">\(O(2^{(\logN)^c}),c=\dfrac{1}{2}\ \mbox{or } c=\dfrac{1}{3}\)</span>后者基于一个数论猜想），达到指数加速</p><h2 id="总结">总结</h2><p>根据当今密码学的应用，如果这个算法被真正实现于硬件（需要解决纯化、噪声等一系列问题）并证明有效，</p><p>当前的 <span class="math inline">\(\mbox{RSA}\)</span>公钥体系，以及基于椭圆曲线的加密体系都可以在 <spanclass="math inline">\(\mbox{Shor}\)</span>算法的框架进一步优化下得到有效破解</p><p>可以说，大部分互联网所谓的安全加密体系都会被崩塌，美国甚至成立了<strong>后量子密码协议</strong>，专门用于对抗量子算法对当前算法的威胁，不过至少当前经典密码学中的格密码学未被量子算法所破解，许多加密协议可以通过引入格密码学的方式更加安全。</p><p>我之所以费尽心思写这篇 <spanclass="math inline">\(\mbox{Shor}\)</span>算法，是因为我好久没有过被这种数理构思所折服的感觉了，上次应该是高一推导分析力学最终得到最小作用量原理<span class="math inline">\(\delta S=0\)</span>的时候，希望探索世界总能带给我震撼……</p><p>不知道几十年后的发展怎么样，个人还是有所期待和充满信心吧，这些算法基本都是<span class="math inline">\(25\)</span>年前提出的，不知道这些算法最后会对人类有害，还是有利，个人还是希望生产力的解放带来全球的福祉吧。</p>]]></content>
    
    
    <categories>
      
      <category>研究</category>
      
      <category>量子计算</category>
      
    </categories>
    
    
    <tags>
      
      <tag>量子计算</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>General Physics finals(Jiang Shuo)</title>
    <link href="/2022/06/20/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%89%A91%E6%9C%9F%E6%9C%AB%E8%AF%95%E5%8D%B7%E8%A7%A3%E7%AD%94/"/>
    <url>/2022/06/20/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%89%A91%E6%9C%9F%E6%9C%AB%E8%AF%95%E5%8D%B7%E8%A7%A3%E7%AD%94/</url>
    
    <content type="html"><![CDATA[<p><span class="math inline">\(\mathbf{PDF}\)</span> 文件下载请点击这里<ahref="https://lr-tsinghua11.github.io/pdf/蒋硕2021春期末试题解答.pdf">蒋硕2021春期末试题解答</a><ahref="https://lr-tsinghua11.github.io/pdf/蒋硕2020秋期末试题解答.pdf">蒋硕2020秋期末试题解答</a></p><h1 id="gpⅰ-final-exam-202114">GPⅠ Final Exam (2021/1/4)</h1><center><font size = 4.5><font face="楷体">author learning_rate 未央软-11</center><p>(In questions asking for the expression of certain relation, you needto express them in terms of given and physical constants. Of course, youcan combine them to write simple formula, but do explicitly list outyour regrouping. For example: <span class="math inline">\(a=A / m, A=v c/ b\)</span>,V,c,b,m are the constants or terms provided.题目中所要你求的关系表达式，需要用给定量和物理常数表达。当然你可以组合定义以简便表达，但一定明确给出你的重组)</p><h2 id="mbox-points"><span class="math inline">\(1_{(16 \mbox{points})}\)</span></h2><p>(16 points) The device below can be used to measure the density andviscosity of a liquid using a so-called hydrometer. The hydrometer isshown in the figure below:The hydrometer has total mass <spanclass="math inline">\(=m\)</span>; Its bottom is heavier so that it canstably float in liquid (it can move up-down, but will not rockside-ways). The long neck part has uniform cross area <spanclass="math inline">\(A\)</span>. The equilibrium position of thehydrometer in a liquid is taken as <spanclass="math inline">\(x=0\)</span>. Now if the hydrometer is displacedfrom its equilibrium by <span class="math inline">\(x\)</span> as shownin the figure (the <span class="math inline">\(x\)</span> is alwayswithin the neck region), it will start to oscillate. From measuring thisoscillation frequency and amplitude decay, we can deduce the density andviscosity of the liquid.</p><p><img src="https://pic.imgdb.cn/item/62af07c3094754312995b5a8.jpg" style="zoom:20%;" /></p><p><span class="math inline">\((1)\)</span> (5 points) Neglect anyfriction caused by the viscosity of the liquid, A) write out theequation of motion for <span class="math inline">\(x\)</span> of thehydrometer. B) Express its natural frequency <spanclass="math inline">\(\omega_{0}\)</span> in terms of <spanclass="math inline">\(\rho\)</span> the density of liquid; hydrometermass <span class="math inline">\(m ; g\)</span> gravitation constantetc.</p><p><span class="math inline">\((2)\)</span> (3 points) If the liquid isviscous, it will introduce a resistance force <spanclass="math inline">\(\dfrac{F_{\text {friction }}}{m}=-\gamma \dot{x} ;\gamma\)</span> is called damping or viscous coefficient; If we wouldlike to have the hydrometer be back to the stable equilibrium as quickas possible, what is the <span class="math inline">\(\gamma\)</span> interm of the <span class="math inline">\(\omega_{0}\)</span> ?</p><p><span class="math inline">\((3)\)</span> (8 points) In application ofmeasurement of the density <span class="math inline">\(\rho\)</span> andviscosity <span class="math inline">\(\gamma\)</span> of the liquid, theliquid should not be too viscous so that the hydrometer can oscillate.We can directly measure the displacement x (for example let the top ofthe hydrometer be the cathode of a capacitor, while another fixed plate(the dashed line of in the figure) be the anode, and we can measure thevoltage difference between them which is proportional to <spanclass="math inline">\(x\)</span> ). The measured result is shown in thefigure below:</p><p><img src="https://pic.imgdb.cn/item/62af0bb309475431299a9bcf.jpg" style="zoom:50%;" /></p><p>​ The time between the <span class="math inline">\(1^{\text {st}}\)</span> peak and <span class="math inline">\(9^{\text {th}}\)</span> peak is <span class="math inline">\(4\)</span> seconds; andthe <span class="math inline">\(9^{\text {th }}\)</span> peak is about<span class="math inline">\(e^{-1}\)</span> of the first peak. Frommeasurement, please calculate the following values:</p><p>​ a) Period <span class="math inline">\(T\)</span> of the dampedoscillation; b) angular frequency <spanclass="math inline">\(\omega\)</span>; c) The value of natural frequency<span class="math inline">\(\omega_{0}\)</span> and the viscosity <spanclass="math inline">\(\gamma\)</span> ?; d) Quality factor Q for thisoscillator.[(a), b) are 1 point each; (c) 4 points; (d) 2 points]</p><hr /><p><span class="math inline">\((1)\)</span> Initial state equilibrium<span class="math inline">\(mg=\rho Vg\)</span>, when it moves <spanclass="math inline">\(x\)</span>, according to Newton's second law <spanclass="math display">\[\rho (V-xA)g-mg=m\ddot{x}=-xAg\]</span> So <span class="math inline">\(\ddot{x}=-\dfrac{\rhoAg}{m}x=-\omega_0^2x\)</span>, then <spanclass="math inline">\(\omega_0=\sqrt{\dfrac{\rho Ag}{m}}\)</span></p><p><span class="math inline">\((2)\)</span> Compare to <spanclass="math inline">\(\small (1)\)</span>, add <spanclass="math inline">\(F_{\mbox{friction}}=-m\gamma\dot{x}\)</span>,according to Newton's seconde law <span class="math display">\[\rho (V-xA)g-mg-m\gamma\dot{x}=m\ddot{x}=-xAg-m\gamma\dot{x}\Longrightarrow \ddot{x}+\gamma\dot{x}+\dfrac{\rho Ag}{m}x=0\]</span> its eigenvalues are <spanclass="math inline">\(\lambda_{1,2}=\dfrac{-\gamma\pm\sqrt{\gamma^2-4\omega_0^2}}{2}\)</span>.If <span class="math inline">\(\gamma^2-4\omega_0^2= 0\)</span>, thehydrometer will be back as quick as possible. <spanclass="math display">\[\gamma= 2\omega_0\]</span> <span class="math inline">\((3)\)</span> a) <spanclass="math inline">\(4=(9-1)\cdot T\Longrightarrow T=0.5s\)</span> b)<span class="math inline">\(T=\dfrac{2\pi}{\omega}\Longrightarrow\omega=4\pi \mbox{ rad/s}\)</span></p><ol start="3" type="a"><li>Obviously <span class="math inline">\(\gamma&lt;2\omega_0\)</span>,so <spanclass="math inline">\(x(t)=x_0e^{-\frac{\gamma}{2}t}\cos(\sqrt{\omega^2_0-\dfrac{1}{4}\gamma^2}t+\varphi)\)</span><span class="math inline">\(,e^{-\frac{\gamma}{2}\cdot4}=e^{-1}\Longrightarrow \gamma=0.5\mbox{ s}^{-1}\)</span></li></ol><p>solve <spanclass="math inline">\(\sqrt{\omega_0^2-\dfrac{1}{4}\gamma^2}=\omega\)</span>then <spanclass="math inline">\(\omega_0=\sqrt{\omega_0^2+\dfrac{1}{4}\gamma^2}=12.56886\mbox{ rad/s}\)</span></p><ol start="4" type="a"><li><span class="math inline">\(Q=2\pi\dfrac{E}{\Delta E}=2\pi\dfrac{A_0^2}{A_0^2(1-(e^{-\frac{\gamma}{2}T})^2)}\approx\dfrac{2\pi}{\gamma T}=\dfrac{\omega}{\gamma}=25.13771\)</span></li></ol><h2 id="mbox-points-1"><span class="math inline">\(2_{(12 \mbox{points})}\)</span></h2><p>Central Field. Below you need to Calculate lowest orbit energy,angular momentum, radius and speed of an electron at the ground orbit inhydrogen (H) atom, using Bohr's orbit model and de Broglie matter wavehypothesis. Bohr proposed electron like a particle moves around nucleiin a circular orbit subject to Coulomb force. It has orbit radius <spanclass="math inline">\(R\)</span> (called Bohr radius), energy <spanclass="math inline">\(E\)</span>, angular momentum <spanclass="math inline">\(L\)</span> and speed <spanclass="math inline">\(v\)</span> to be determined. Using de Brogliematter wave, the longest wavelength can stably exist on the orbit mustsatisfy: <span class="math inline">\(\lambda=2 \pi R\)</span> (If youunderstand the standing wave picture behind this formula, that's great;If not, just treat it as a given condition), and you may know his famousrelation between momentum and wavelength: <spanclass="math inline">\(p=\)</span> <spanclass="math inline">\(\dfrac{h}{\lambda}, h=6.63 \times10^{-34}\)</span> (SI unit). The Coulomb potential energy in hydrogenatom between electron and proton is: <spanclass="math inline">\(U=-\dfrac{\mathrm{A}}{r}\  \mathrm{A}\)</span> isa natural constant <span class="math inline">\(A=2.3 \times10^{-28}\)</span> (SI unit). Mass of electron is <spanclass="math inline">\(m_{e}=9.11 \times 10^{-31} \mathrm{~kg}\)</span>(the reduced mass can be treated equal to this since proton is 1800 timemassive). Using the provided information, calculate the</p><ol type="A"><li>Angular momentum <span class="math inline">\(L\)</span> in terms of<span class="math inline">\(h\)</span>.</li><li>Bohr Radius <span class="math inline">\(R\)</span> in units of <spanclass="math inline">\(Å\left(1 Å=10^{-10}\mathrm{~m}\right)\)</span></li><li>Energy <span class="math inline">\(\mathrm{E}\)</span> in <spanclass="math inline">\(\mathrm{eV} 1 \mathrm{eV}=1.6 \times 10^{-19}\mathrm{~J}\)</span></li><li>Orbital speed <span class="math inline">\(V=\alpha C, C\)</span> isspeed of light, express <span class="math inline">\(\alpha\)</span> interms of physical constants (h, <span class="math inline">\(m_{e},\mathrm{C}\)</span> and Bohr radius <spanclass="math inline">\(\mathrm{R}\)</span> ) and find its value (3 pointseach for A) to D))</li></ol><hr /><ol type="A"><li><p><span class="math inline">\(\lambda=2\piR=\dfrac{h}{p}\LongrightarrowL=pR=\dfrac{h}{2\pi}=\hbar\)</span></p></li><li><p><spanclass="math inline">\(F=-\dfrac{dU}{dr}=-\dfrac{A}{r^2}\)</span>, <spanclass="math inline">\(\dfrac{A}{R^2}=m\dfrac{v^2}{R}\Longrightarrow\begin{cases}mv^2R=A\\mvR=\dfrac{h}{2\pi}\end{cases}\LongrightarrowR=\dfrac{h^2}{4\pi^2mA}=0.531Å\)</span></p></li><li><p><spanclass="math inline">\(E=\dfrac{1}{2}mv^2-\dfrac{A}{R}=-\dfrac{A}{2R}=-\dfrac{2\pi^2mA^2}{h^2}=-13.52\mbox{ eV}\)</span></p></li><li><p><span class="math inline">\(\alpha =\dfrac{V}{C}=\dfrac{2\piA}{hC}=7.26\times10^{-3}\approx\dfrac{1}{137}\)</span></p></li></ol><h2 id="mbox-points-2"><span class="math inline">\(3_{(14 \mbox{points})}\)</span></h2><p>Interference: LIGO (Laser Interferometer Gravitation-WaveObservatory) is using interference to observe the expansion-contractionif space due to gravitation wave.</p><p><img src="https://pic.imgdb.cn/item/62af13e00947543129a538cf.jpg" style="zoom:50%;" /></p><p>As shown in the figure: It is basically a big MichelsonInterferometer, two arm length <spanclass="math inline">\(L_{0}\)</span> is 4000 meter <spanclass="math inline">\((4 \mathrm{~km}\)</span> ) each. Two extra mirrorsinside will make light being reflected backwardforward <spanclass="math inline">\(N=300\)</span> times, effectively prolong thelength of each arm. The light from each arm finally meets at the beamsplitter and creates interference pattern. When gravitation wave(indicated by the curve on top) passes, one arm length will belengthened and the other be compressed. This effect is expressed by astrain coefficient <span class="math inline">\(\delta\)</span>, itexpresses the length difference in the two arms by: <spanclass="math inline">\(\Delta L=\delta L_{0}\)</span> When there is nogravitation wave, the two arms are with equal length, and due tohalfwavelength difference effect, light from two paths cancels eachother and the interference is dark; when the gravitation wave creates adifference in arm length, the interference intensity will change, andfrom such change <span class="math inline">\(\delta\)</span> can bemeasured.</p><p><img src="https://pic.imgdb.cn/item/62af14680947543129a5e57d.jpg" style="zoom:80%;" /></p><p>The measured results are shown above. Vertical is the calculated<span class="math inline">\(\delta\)</span> from intensity change,horizontal is time. Two groups of data on the left and right are fromtwo observatories located at different places (Hanford at WashingtonState and Livingston at Louisiana). The top row is the measurement; themiddle is theoretical simulation and the bottom is noise level.</p><ol type="1"><li>From data, what is the order of magnitude of <spanclass="math inline">\(\delta\)</span> ? How big is the length difference<span class="math inline">\(\Delta L\)</span> ? (2 points)</li><li>At such order of magnitude <spanclass="math inline">\(\delta\)</span>, what is the phase differencebetween the light that passes the two arms of the interferometer thenreaches the detector? The center wavelength of laser in use is <spanclass="math inline">\(\lambda=1064 \mathrm{~nm}\)</span> (3 points)</li><li>At such phase difference, what is the change of light intensity fromzero? Needed parameter: The total intensity of the laser is <spanclass="math inline">\(I_{0}=1000 \mathrm{~W}\)</span> (5 points)</li><li>For such small intensity change, and the signal is really not toomuch above the noise, why the result is not due to someseismic-environmental changes (such as seismic activity, localtemperature fluctuation, or even just student drop a wrench on the floor<span class="math inline">\(\cdots)\)</span> ? ( 4 points)</li></ol><hr /><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(10^{-21}\sim 10^{-22}\)</span> , <spanclass="math inline">\(\Delta L_{\mbox{max}}=4\times 10^{-18}\mbox{m}\)</span></p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\Delta\varphi =\dfrac{2\pi}{\lambda}\Delta L\cdot2N=1.42\times10^{-8}\mbox{ rad}\)</span></p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\tilde{A_1}=A_0\cos (\omega t),\tilde{A_2}=A_0\cos(\omega t+\pi +\Delta \varphi )\)</span> and the total intensity is<spanclass="math inline">\(I_0=\overline{\tilde{A_1^2}}+\overline{\tilde{A_2^2}}=\dfrac{A_0^2}{2}+\dfrac{A_0^2}{2}=A_0^2\)</span></p><p>the final amplitude is <spanclass="math inline">\(\tilde{A}=\tilde{A_1}+\tilde{A_2}=A_0(\cos (\omegat)-\cos(\omega t+\Delta \varphi ) )=2A_0\sin(\dfrac{\Delta\varphi}{2})\sin (\omega t+\dfrac{\Delta \varphi}{2})\)</span></p><p>So the intensity is <spanclass="math inline">\(I=\overline{\tilde{A^2}}=4A_0^2\sin^2(\dfrac{\Delta \varphi }{2})\cdot \dfrac{1}{2}\approx2A_0^2(\dfrac{\Delta \varphi}{2})^2=\dfrac{1}{2}I_0(\Delta \varphi)^2=1.00\times 10^{-13}\mbox{ W}\)</span></p><p><span class="math inline">\((4)\)</span> Two different experienmentsin different places show the same trend of the wave.</p><h2 id="mbox-points-3"><span class="math inline">\(4_{(10 \mbox{points})}\)</span></h2><p>(10 points) For a give wedge-shaped thin film (the top and bottomsurfaces are flat planes, intersect and has very small angle <spanclass="math inline">\(\alpha\)</span> ) shown in the figure:</p><p><img src="https://pic.imgdb.cn/item/62af19d70947543129acfbc8.jpg" style="zoom:50%;" /></p><p>At the beginning it is air <span class="math inline">\((n=1)\)</span>between the top-bottom surface, the incoming light with vacuumwavelength <span class="math inline">\(500 \mathrm{~nm}\)</span>illuminates the top at normal angle. 1) Give a simple description orsketch of the interference fringe at the top surface of the thin film(no calculation needed). (2 points) 2) Now we start to fill some gas<span class="math inline">\((n&gt;1)\)</span> into the space between thetop-bottom surfaces, will the fringe moves towards or away from theintersection? (2 points) 3) If the spacing between the fringes (thedistance between the adjacent maxima or minima) changes from original(air case) <span class="math inline">\(1 \mathrm{~mm}\)</span> to <spanclass="math inline">\(0.8 \mathrm{~mm}\)</span> (unknown gas), what isthe index of refraction <span class="math inline">\(n\)</span> of theunknown gas? (6 points)</p><hr /><p><span class="math inline">\((1)\)</span> uniform interferencefringe</p><p><span class="math inline">\((2)\)</span> towards</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\Delta x\cdot 2\alpha =\lambda\Longrightarrow\Delta x=\dfrac{\lambda }{2\alpha }\)</span> and after filling the gas<span class="math inline">\(\lambda^{\prime }=\dfrac{\lambda}{n}\)</span> <span class="math inline">\(\Delta x^{\prime}=\dfrac{\lambda }{2\alpha n}\)</span> So <spanclass="math inline">\(n=\dfrac{\Delta x}{\Deltax^{\prime}}=1.25\)</span></p><h2 id="mbox-points-4"><span class="math inline">\(5_{(12 \mbox{points})}\)</span></h2><p>As shown in the figure:</p><p><img src="https://pic.imgdb.cn/item/62af1c4d0947543129b039fc.jpg" style="zoom:30%;" /></p><p>A rod with proper length <span class="math inline">\(L_{0}\)</span>is moving with constant high velocity <spanclass="math inline">\(v\)</span> along <spanclass="math inline">\(x\)</span> direction in lab frame (frame S). Thehead of it <span class="math inline">\(\mathrm{H}\)</span> will hit astiff wall and be stopped, and at meantime the stop signal (the curlycurve in figure) will transmit from <spanclass="math inline">\(\mathrm{H}\)</span> through the rod with speed oflight <span class="math inline">\(c\)</span> (the position of wall is at<span class="math inline">\(x=0\)</span> ). When the stop signal reachesthe tail of the rod <span class="math inline">\(T\)</span>, only then itstops moving. There are also marks on the ground in lab with spacing<span class="math inline">\(\Delta d=1\)</span> unit length. When thetail of the rod stops, it will reach certain marks <spanclass="math inline">\(n\)</span>. (fig.b) 1) (4 points) <spanclass="math inline">\(\ln \mathrm{S}\)</span> view, calculate the valueof <span class="math inline">\(\mathrm{n}\)</span>, in terms of <spanclass="math inline">\(L_{0}, \beta\)</span> 2) (4 points) In the rodview (call it frame <span class="math inline">\(S^{\prime}\)</span> ) inwhich the tail of rod <span class="math inline">\(T\)</span> isstationary. please draw the figure in <spanclass="math inline">\(\mathrm{S}^{\prime}\)</span>, corresponding to thefigure a) above. In the figure, please specify the length of the rod;the spacing of the mark <span class="math inline">\(\Deltad^{\prime}\)</span>, which parts are moving and their speed.</p><ol start="3" type="1"><li>(4 points) In frame S', calculate the stop marks <spanclass="math inline">\(n^{\prime}\)</span>, in terms of <spanclass="math inline">\(L_{0}, \beta\)</span>.</li></ol><hr /><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(\Delta t=\dfrac{\DeltaL&#39;}{v+c}=\dfrac{L_0\sqrt{1-\beta ^2}}{v+c}\)</span> and the value of<span class="math inline">\(n\)</span> equals to <spanclass="math inline">\(c\Delta t=L_0\sqrt{\dfrac{1-\beta}{1+\beta}}\)</span></p><p><span class="math inline">\((2)\)</span><img src="https://pic.imgdb.cn/item/62af20ee0947543129b689e3.jpg" style="zoom:20%;" />its length is <span class="math inline">\(L\)</span>, <spanclass="math inline">\(\Delta d^{\prime}=\sqrt{1-\beta ^2}\)</span></p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\Delta x=L_0-\dfrac{L_0}{c}\cdot v=(1-\beta)L_0\)</span> and the value is <spanclass="math inline">\(n^{\prime}=\dfrac{\Delta x}{\Deltad^{\prime}}=L_0\sqrt{\dfrac{1-\beta }NaN}\)</span></p><h2 id="mbox-points-5"><span class="math inline">\(6_{(18 \mbox{points})}\)</span></h2><p>In the ground frame, <span class="math inline">\(A(x=y=0)\)</span>fires a bullet at <span class="math inline">\(t=0\)</span> towards astationary target ball at <span class="math inline">\((x, y)=(4ls,3ls)\)</span> (no friction or resistance). The bullet and target ballboth have same rest mass <span class="math inline">\(m\)</span>; thebullet has speed <span class="math inline">\(u=0.5 c\)</span> (withrespect to <span class="math inline">\(A\)</span> ), the bullet willsink into ball and travel with it. For another observer <spanclass="math inline">\(B\)</span> whose speed <spanclass="math inline">\(v=0.8 c\)</span> relative to <spanclass="math inline">\(A\)</span>, and <spanclass="math inline">\(x^{\prime}=0, y^{\prime}=0, t^{\prime}=0\)</span>overlap those of A's:</p><p><img src="https://pic.imgdb.cn/item/62af22900947543129b8a675.jpg" style="zoom:20%;" /></p><ol type="1"><li>(5 points) For observer <span class="math inline">\(B\)</span>, whatare the space-time coordinates for the bullet hits the target ball?</li><li>(3 points) Suppose B does not know u (the bullet speed relative toA), but B can measure the velocity of the bullet in his frame using theresults of 1 ), what is the velocity of bullet <spanclass="math inline">\(\left(u_{x}^{\prime},u_{y}^{\prime}\right)\)</span> in B's frame from results in (a)?</li><li>(2 points) For <span class="math inline">\(A\)</span>, since heknows <span class="math inline">\(u=0.5 c\)</span>, and he can deducebullet's velocity measured by <span class="math inline">\(B\)</span> tobe <span class="math inline">\(\left(u_{x}^{\prime},u_{y}^{\prime}\right)\)</span>, please do a calculation on <spanclass="math inline">\(\left(u_{x}^{\prime},u_{y}^{\prime}\right)\)</span> from A's view.</li><li>(4 points) After bullet hits ball and moves together with it. Whatwill be the final momentum (express the momentum in its <spanclass="math inline">\(x, y\)</span> components) and energy in A'sframe</li><li>(4 points) Answer same questions in 4) but in B's frame.</li></ol><hr /><p><span class="math inline">\((1)\)</span> the hit event happens at<spanclass="math inline">\(\begin{cases}x=4ls\\y=3ls\\t=10s\end{cases}\stackrel{v=0.8c}{\Longrightarrow}t^{\prime}=\dfrac{t-\dfrac{v}{c^2}x}{\sqrt{1-\dfrac{v^2}{c^2}}}=\dfrac{34}{3}\mbox{s}\)</span></p><p><span class="math inline">\((2)\)</span> Use the time that <spanclass="math inline">\(B\)</span> measures <spanclass="math inline">\(v_{By}^{\prime}=\dfrac{\Deltay}{t^{\prime}}=\dfrac{9}{34}c\)</span> and the <spanclass="math inline">\(v_x\)</span> difference between <spanclass="math inline">\(A\)</span> and <spanclass="math inline">\(B\)</span> is <span class="math display">\[v_{Ax}-v_{Bx}=\dfrac{\Delta x^{\prime}}{t^{\prime}}=\dfrac{x\cdot\sqrt{1-\beta ^2}}{t^{\prime}}=\dfrac{18}{85}c=0.8c-v_{Bx}\]</span> So <span class="math inline">\(v_{Bx}=\dfrac{10}{17}c\)</span><spanclass="math inline">\(,\vec{v}_{B}=(-\dfrac{10}{17}c,\dfrac{9}{34}c)\)</span></p><p><span class="math inline">\((3)\)</span> Use relativistic velocitytransformation <spanclass="math inline">\(v_{x}^{\prime}=\dfrac{v_x-v}{1-\dfrac{v_xv}{c^2}}=-\dfrac{10}{17}c,v_{y}^{\prime}=\dfrac{v_y\cdot\sqrt{1-\beta ^2}}{1-\dfrac{v_xv}{c^2}}=\dfrac{9}{34}c\)</span></p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(|\vec{p}|=\dfrac{mv}{\sqrt{1-\dfrac{v^2}{c^2}}}=\dfrac{\sqrt{3}}{3}mc\)</span>.According to momentum conservation <spanclass="math inline">\(\vec{p^{\prime}}=\dfrac{mc}{\sqrt{3}}(\dfrac{4}{5},\dfrac{3}{5})\)</span></p><p>add the energy together <spanclass="math inline">\(E=mc^2+\dfrac{mc^2}{\sqrt{1-\dfrac{v^2}{c^2}}}=(1+\dfrac{2\sqrt{3}}{3})mc^2\)</span></p><p><span class="math inline">\((5)\)</span> Apply relativistic energymomentum transformation <span class="math display">\[\begin{pmatrix}\dfrac{E^{\prime}}{c}\\p_{x}^{\prime}\\p_{y}^{\prime}\\p_{z}^{\prime}\end{pmatrix}=\begin{pmatrix}\gamma&amp; -\beta \gamma&amp;0&amp;0\\-\beta \gamma&amp;\gamma&amp;0&amp;0\\0&amp;0&amp;1&amp;0\\0&amp;0&amp;0&amp;1\end{pmatrix}\begin{pmatrix}\dfrac{E}{c}\\p_{x}\\p_{y}\\p_{z}\end{pmatrix}\]</span> So <span class="math inline">\(E^{\prime}=\gamma(E-\beta cp_{x})=\dfrac{75+34\sqrt{3}}{45}mc^2,p_{x}^{\prime}=\gamma (p_x-\beta\dfrac{E}{c})=-(\dfrac{4}{3}+\dfrac{4\sqrt{3}}{9})mc\)</span></p><p><spanclass="math inline">\(p_{y}^{\prime}=p_y=\dfrac{\sqrt{3}}{5}mc,\vec{p^{\prime}}=(-\dfrac{12+4\sqrt{3}}{9}mc,\dfrac{\sqrt{3}}{5}mc),E^{\prime}=\dfrac{75+34\sqrt{3}}{45}mc^2\)</span></p><h2 id="mbox-points-6"><span class="math inline">\(7_{(18 \mbox{points})}\)</span></h2><p>Compton Scattering of photon by stationary electron:</p><p><img src="https://pic.imgdb.cn/item/62af2c100947543129c5ffaf.jpg" style="zoom:33%;" /></p><p>The initial photon with energy <spanclass="math inline">\(E_{i}\)</span> (and wavelength <spanclass="math inline">\(\lambda_{i}, E=\dfrac{h c}{\lambda}\)</span> )along <span class="math inline">\(\mathrm{x}\)</span>-directioninteracts with a stational electron (rest mass <spanclass="math inline">\(m_{e}, m_{e}=9.1 \times 10^{-31} \mathrm{~kg} \sim0.51 \mathrm{MeV}\)</span> ). The scattered photon will be alongdirection <span class="math inline">\(\theta\)</span>, with energy <spanclass="math inline">\(E_{f}\)</span> and corresponding wavelength <spanclass="math inline">\(\lambda_{f}\)</span>. Compton effect is how thewavelength change of the photon <span class="math inline">\(\Delta\lambda=\lambda_{f}-\lambda_{i}\)</span> relates to scattering angle<span class="math inline">\(\theta\)</span> 1. ( 6 points) Write out theconservation relation of the process: a) Using 4-vector symbol (stateeach 4 -vector corresponding to which)</p><ol start="2" type="a"><li>Write out energy conservation; momentum (components) conservationrespectively.</li></ol><ol start="2" type="1"><li><p>( 6 points) Find the relation between the <spanclass="math inline">\(\Delta \lambda\)</span> and <spanclass="math inline">\(\theta\)</span></p></li><li><p>(4 points) The relation would be like: <spanclass="math inline">\(\Delta \lambda=\lambda_{C}(1-\cos \theta),\lambda_{C}\)</span> is a natural constant called Compton wavelength(for electron), please express it in terms of other constant, andcalculate its value.</p></li><li><p>(2 points) If the photon interacts with a proton whose rest mass<span class="math inline">\(m_{p}=1800 m_{e}\)</span>, what is the valueof Compton wavelength in this case?</p></li></ol><hr /><p><span class="math inline">\((1)\)</span> a) <spanclass="math inline">\(\mathcal{P}=\begin{pmatrix}\dfrac{E}{c}\\p_x\\p_y\\p_z\end{pmatrix}\)</span>so <spanclass="math inline">\(\mathcal{P}_{0}=\begin{pmatrix}\dfrac{h}{\lambda_i}+m_ec\\\dfrac{h}{\lambda_i}\\0\\0\end{pmatrix},\mathcal{P}_{1}=\begin{pmatrix}\dfrac{h}{\lambda_f}+\dfrac{E}{c}\\\dfrac{h}{\lambda_f}\cos\theta+p\cos \varphi \\\dfrac{h}{\lambda_f}\sin \theta-p\sin\varphi\\0\end{pmatrix}\)</span></p><ol start="2" type="a"><li>Energy conservation <span class="math display">\[\dfrac{h}{\lambda_i}+m_ec=\dfrac{h}{\lambda_f}+\dfrac{E}{c}\]</span> momentum (components) conservation <spanclass="math display">\[\begin{cases}\dfrac{h}{\lambda_i}=\dfrac{h}{\lambda_f}\cos \theta +p\cos \varphi\\0=\dfrac{h}{\lambda_f}\sin \theta-p\sin \varphi\end{cases}\]</span> <span class="math inline">\((2)\)</span> Eliminate $$, <spanclass="math inline">\((p\cos \varphi)^2+(p\sin\varphi)^2=(\dfrac{h}{\lambda_i}-\dfrac{h}{\lambda_f}\cos\theta)^2+(\dfrac{h}{\lambda_f}\sin\theta)^2=h^2(\dfrac{1}{\lambda_i^2}+\dfrac{1}{\lambda_f^2}-\dfrac{2\cos\theta}{\lambda_i\lambda_f})=p^2\)</span></li></ol><p>For the photon <spanclass="math inline">\(p^2c^2+E_0^2=E^2=h^2c^2(\dfrac{1}{\lambda_i^2}+\dfrac{1}{\lambda_f^2}-\dfrac{2\cos\theta}{\lambda_i\lambda_f})+E_0^2\)</span> And we have <spanclass="math inline">\(E=hc(\dfrac{1}{\lambda_i}-\dfrac{1}{\lambda_f})+E_0\)</span></p><p><span class="math inline">\(\thereforeh^2c^2(\dfrac{1}{\lambda_i^2}+\dfrac{1}{\lambda_f^2}-\dfrac{2}{\lambda_i\lambda_f})+E_0^2+2hcE_0(\dfrac{1}{\lambda_i}-\dfrac{1}{\lambda_f})=h^2c^2(\dfrac{1}{\lambda_i^2}+\dfrac{1}{\lambda_f^2}-\dfrac{2\cos\theta}{\lambda_i\lambda_f})+E_0^2\)</span></p><p><span class="math inline">\(\therefore 2hcE_0\dfrac{\Delta\lambda}{\lambda_i\lambda_f}=2h^2c^2\dfrac{1-\cos\theta}{\lambda_i\lambda_f}\Longrightarrow \Delta \lambda=\dfrac{h}{m_ec}(1-\cos \theta)\)</span></p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\lambda _C=\dfrac{h}{m_ec}=2.43\times10^{-12}\mbox{ m}\)</span></p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(\lambda^{\prime}=\dfrac{h}{m_{p}c}=\dfrac{h}{1800m_ec}=\dfrac{\lambda_C}{1800}=1.35\times10^{-15}\mbox{ m}\)</span></p><h1 id="gpⅰ-final-exam-2021618">GPⅠ Final Exam (2021/6/18)</h1><center><font size = 4.5><font face="楷体">author learning_rate 未央软-11</center><h2 id="mbox-points-7"><span class="math inline">\(1_{(14 \mbox{points})}\)</span></h2><p>Central field problem:</p><p>In the classical model of tritium ( Isotope of <spanclass="math inline">\(\mathrm{H}\)</span>, with 1 proton, 2 neutron),the nucleus charge is <span class="math inline">\(+1 e\)</span>, andelectron (charge <span class="math inline">\(-e)\)</span> moves aroundnuclei in a circular orbit with radius <spanclass="math inline">\(=r_{0}\)</span>. Suddenly a nuclei reactionhappened and the one neutron becomes proton inside the nuclei to bringthe charge of it to <span class="math inline">\(+2 e\)</span>, thetritium becomes a Helium ion. The electron in the old orbit is facing anew situation:</p><p>(The force between nuclei charge and e is Coulomb attraction: <spanclass="math inline">\(F=-\dfrac{c}{r^{2}} ; C=\)</span> <spanclass="math inline">\(\dfrac{Z e^{2}}{4 \pi \varepsilon_{0}}\)</span>;<span class="math inline">\(Z\)</span> : number of proton; <spanclass="math inline">\(\varepsilon_{0}\)</span> is a constant; use <spanclass="math inline">\(m_{e}\)</span> for reduced mass)</p><ol type="1"><li><p>(4 points) Express the total energy <spanclass="math inline">\(E_{0}\)</span>, Coulomb potential energy <spanclass="math inline">\(U\)</span>, kinetic energy <spanclass="math inline">\(K\)</span> and angular momentum <spanclass="math inline">\(L_{0}\)</span> of e in tritium in the originalcircular orbit, in terms of <span class="math inline">\(C, r_{0};\)</span> i.e. <span class="math inline">\(E_{0}, U, K, L_{0}=\)</span>?</p></li><li><p>(4 points) In the new situation (helium ion), what is the energy<span class="math inline">\(E\)</span> and <spanclass="math inline">\(L\)</span> for electron, in terms of <spanclass="math inline">\(E_{0}, L_{0}\)</span></p></li><li><p>(4 points) Find the new orbit parameter <spanclass="math inline">\(r_{0}^{\prime}, \varepsilon\)</span>; closest andfurthest <span class="math inline">\(r_{\text {max }}\)</span>; <spanclass="math inline">\(r_{\text {min }}\)</span> in terms of <spanclass="math inline">\(r_{0}\)</span> and other constant.</p></li><li><p>(2 points) Find the long (2a) and short axis (2b) of the newelliptical orbit in terms of <spanclass="math inline">\(r_{0}\)</span></p></li></ol><hr /><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(U=\displaystyle\int_{r_0}^{+\infty}F(r)dr=-\dfrac{C}{r_0},m\dfrac{v^2}{r_0}=\dfrac{C}{r_0^2},K=\dfrac{1}{2}mv^2=\dfrac{C}{2r_0}\)</span></p><p>total energy is <spanclass="math inline">\(E_0=K-\dfrac{C}{r_0}=-\dfrac{C}{2r_0}\)</span> andthe angular momentum is <spanclass="math inline">\(L=mvr_0=mr_0\sqrt{\dfrac{C}{mr_0}}=\sqrt{Cmr_0}\)</span></p><p><span class="math inline">\((2)\)</span> At the moment the reactionhappened, the kinetic energy and radius don't change <spanclass="math display">\[E=K-\dfrac{C^{\prime}}{r_0}=K-\dfrac{2C}{r_0}=-\dfrac{3}{2}\dfrac{C}{r_0}=3E_0,L=mvr_0=L_0\]</span> <span class="math inline">\((3)\)</span> According toelliptical orbit energy <spanclass="math inline">\(E=-\dfrac{C^{\prime}}{2a}=-\dfrac{2C}{2a}=-\dfrac{3C}{2r_0}\Longrightarrowa=\dfrac{2}{3}r_0\)</span></p><p><spanclass="math inline">\(r_{\max}=r_0,r_{\min}+r_{\max}=2a=\dfrac{4}{3}r_0\Longrightarrowr_{\min}=\dfrac{1}{3}r_0\)</span></p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(a+c=r_0,a-c=\dfrac{1}{3}r_0\Longrightarrowa=\dfrac{2}{3}r_0,c=\dfrac{1}{3}r_0,b=\sqrt{a^2-c^2}=\dfrac{r_0}{\sqrt{3}}\)</span><spanclass="math inline">\(2a=\dfrac{4}{3}r_0.2b=\dfrac{2\sqrt{3}}{3}r_0\)</span></p><h2 id="mbox-points-8"><span class="math inline">\(2_{(16 \mbox{points})}\)</span></h2><p>Two identical mass points, mass <spanclass="math inline">\(=m\)</span>, are connected through identicalsprings (spring constant=<span class="math inline">\(k\)</span>) to thefixed walls as shown in figure:</p><p><img src="https://pic.imgdb.cn/item/62b02b560947543129d2a884.jpg" style="zoom:10%;" /></p><p>There is also a damper (whose mass can be neglected) between the two<span class="math inline">\(\mathrm{m}\)</span>. It provides a resistingforce trying to slow the faster moving particle, its magnitude is <spanclass="math inline">\(b v\)</span>, where <spanclass="math inline">\(b\)</span> is a constant and <spanclass="math inline">\(\mathrm{v}=\left|\dot{x_{1}}-\dot{x_{2}}\right| ;x_{1}, x_{2}\)</span> are displacement from equilibrium.</p><ol type="1"><li>(4 points) Please write out the equations of motion for the points,i.e. <span class="math inline">\(\ddot{x}_{1}, \ddot{x}_{2}\)</span> hasto obey what equations, using parameters of <spanclass="math inline">\(\omega_{0}=\sqrt{k / m}\)</span> and <spanclass="math inline">\(\gamma=\dfrac{b}{m}\)</span></li><li>(4 points) Above equations may be coupled and hard to solve. We cansimplify (decouple) them by replacing variables, such as <spanclass="math inline">\(y_{2}=x_{1}-x_{2}\)</span> etc. Let's call newvariables <span class="math inline">\(y_{1}, y_{2}\)</span>, please listout relation between <span class="math inline">\(y_{1}, y_{2}\)</span>and <span class="math inline">\(x_{1}, x_{2}\)</span>; also list outequations on <span class="math inline">\(\ddot{y}_{1},\ddot{y}_{2}\)</span>, in terms of <spanclass="math inline">\(\omega_{0} ; \gamma\)</span></li><li>(4 points) What are the general solutions for <spanclass="math inline">\(y_{1}, y_{2}\)</span> (under weak damping), whichparameters will depend on initial conditions?</li><li>(4 points) If the initial conditions are, at <spanclass="math inline">\(t=0\)</span>, the two points are at equilibriumpositions, and point1 ( <span class="math inline">\(\mathrm{m}\)</span>represented by <span class="math inline">\(x_{1}\)</span> ) receive aquick blow and gain velocity of <spanclass="math inline">\(v_{0}\)</span>. After a long enough time, themotion of the two points will become <spanclass="math inline">\(x_{1}=x_{2}=\dfrac{v_{0}}{2 \omega} f(t)\)</span>What is the function form of <span class="math inline">\(f(t)\)</span> ?and what is the <span class="math inline">\(\omega\)</span> (in terms ofgiven parameters)</li></ol><hr /><p><span class="math inline">\((1)\)</span> Newton's second law <spanclass="math inline">\(\begin{cases}k(x_2-x_1)-kx_1-b(\dot{x_1}-\dot{x_2})=m\ddot{x_1}\\-k(x_2-x_1)-kx_2+b(\dot{x_1}-\dot{x_2})=m\ddot{x_2}\end{cases}\)</span>replace <spanclass="math inline">\(\sqrt{\dfrac{k}{m}}=\omega_0,\gamma=\dfrac{b}{m}\)</span><span class="math display">\[\begin{cases}\ddot{x_1}=\omega_0^2(x_2-2x_1)+\gamma(\dot{x_2}-\dot{x_1})\\\ddot{x_2}=\omega_0^2(x_1-2x_2)+\gamma(\dot{x_1}-\dot{x_2})\end{cases}\]</span> <span class="math inline">\((2)\)</span> Add and subtract twoequations and set <spanclass="math inline">\(\begin{cases}y_1=x_1+x_2\\y_2=x_1-x_2\end{cases}\)</span>therefore <span class="math display">\[\begin{cases}\ddot{y_1}=-\omega_0^2y_1\\\ddot{y_2}=-3\omega_0^2y_2-2\gamma \dot{y_2}\end{cases}\]</span> <span class="math inline">\((3)\)</span> Since the damping isweak, <span class="math inline">\(\lambda_{1,2}=-\gamma\pmi\sqrt{3\omega_0^2-\gamma^2}\)</span> so <span class="math display">\[\begin{cases}y_1(t)=A_1\cos (\omega_0t+\varphi _1)\\y_2(t)=A_2e^{-\gamma t}\cos (\sqrt{3\omega_0^2-\gamma^2}t+\varphi _2)\end{cases}\]</span> <span class="math inline">\((4)\)</span> After a long enoughtime, <span class="math inline">\(e^{-\gamma t}\to 0,y_2\to 0\)</span>And for <span class="math inline">\(y_1(t)\)</span></p><p><spanclass="math inline">\(y_{1}(0)=x_1(0)+x_2(0)=0,y_1^{\prime}(0)=x_1^{\prime}(0)+x_2^{\prime}(0)=v_0\)</span>So <span class="math inline">\(y_1(t)=\dfrac{v_0}{\omega_0}\sin(\omega_0 t)=x_1(t)+x_2(t)\)</span></p><p>when <span class="math inline">\(t\to +\infty\)</span> <spanclass="math inline">\(x_1(t)=x_2(t)=\dfrac{1}{2}y_1(t)=\dfrac{v_0}{2\omega_0}\sin(\omega_0 t)\)</span> So <span class="math inline">\(f(t)=\sin(\omega_0t),\omega=\omega_0\)</span></p><h2 id="mbox-points-9"><span class="math inline">\(3_{(12 \mbox{points})}\)</span></h2><p>A plane wave of wavelength <spanclass="math inline">\(\lambda\)</span> travels along the z direction,excite the atoms at point <span class="math inline">\(S\)</span>. Theemitting light from the atoms will be <strong>in phase</strong> with theplane wave and has same frequency, and its emission can be treated asspherical wave. At distance <span class="math inline">\(D\)</span> fromthe atoms we put the observing screen. The amplitudes for the plane waveand spherical wave on the screen are both <spanclass="math inline">\(A\)</span> (This is true under paraxialapproximation, <span class="math inline">\(D&gt;&gt;\rho), \rho\)</span>is the distance to the center of screen. Compute the intensitydistribution on the screen <spanclass="math inline">\(\mathrm{I}(\mathrm{x}, \mathrm{y})\)</span>, interms of <span class="math inline">\(\boldsymbol{\rho}\)</span>, <spanclass="math inline">\(D, \lambda\)</span> and <spanclass="math inline">\(A\)</span></p><p><img src="https://pic.imgdb.cn/item/62b0313a0947543129deb842.jpg" style="zoom:16%;" /></p><hr /><p>For the plane wave, <span class="math inline">\(\tilde{A_1}=A\cos(\omega t)\)</span>, and under paraxial approximation, the phasedifference is <span class="math display">\[\Delta\varphi=\dfrac{2\pi}{\lambda}(\sqrt{D^2+x^2+y^2}-D)\approx\dfrac{2\piD}{\lambda}((1+\dfrac{1}{2}\dfrac{x^2+y^2}{D^2})-1)=\dfrac{\pi(x^2+y^2)}{\lambdaD}=\dfrac{\pi \rho^2}{\lambda D}\]</span> so <span class="math inline">\(\tilde{A_2}=A\cos (\omegat+\Delta \varphi),\tilde{A}_{tot}=\tilde{A_1}+\tilde{A_2}=2A\cos(\dfrac{\Delta \varphi }{2})\cos (\omega t+\dfrac{\Delta\varphi}{2})\)</span> <span class="math display">\[I(\rho)=|\tilde{A_{tot}}^2|=4A^2\cos^2 (\dfrac{\Delta \varphi }{2})\cdot\dfrac{1}{2}=A^2(1+\cos (\Delta \varphi ))=A^2(1+\cos (\dfrac{\pi\rho^2}{\lambda D}))\]</span></p><h2 id="mbox-points-10"><span class="math inline">\(4_{(14 \mbox{points})}\)</span></h2><p>Interference: LIGO (Laser Interferometer Gravitation-WaveObservatory) is using interference to observe the expansion-contractionif space due to gravitation wave.</p><p><img src="https://pic.imgdb.cn/item/62af13e00947543129a538cf.jpg" style="zoom:50%;" /></p><p>As shown in the figure: It is basically a big MichelsonInterferometer, two arm length <spanclass="math inline">\(L_{0}\)</span> is 4000 meter <spanclass="math inline">\((4 \mathrm{~km}\)</span> ) each. Two extra mirrorsinside will make light being reflected backwardforward <spanclass="math inline">\(N=300\)</span> times, effectively prolong thelength of each arm. The light from each arm finally meets at the beamsplitter and creates interference pattern. When gravitation wave(indicated by the curve on top) passes, one arm length will belengthened and the other be compressed. This effect is expressed by astrain coefficient <span class="math inline">\(\delta\)</span>, itexpresses the length difference in the two arms by: <spanclass="math inline">\(\Delta L=\delta L_{0}\)</span> When there is nogravitation wave, the two arms are with equal length, and due tohalfwavelength difference effect, light from two paths cancels eachother and the interference is dark; when the gravitation wave creates adifference in arm length, the interference intensity will change, andfrom such change <span class="math inline">\(\delta\)</span> can bemeasured.</p><p><img src="https://pic.imgdb.cn/item/62af14680947543129a5e57d.jpg" style="zoom:80%;" /></p><p>The measured results are shown above. Vertical is the calculated<span class="math inline">\(\delta\)</span> from intensity change,horizontal is time. Two groups of data on the left and right are fromtwo observatories located at different places (Hanford at WashingtonState and Livingston at Louisiana). The top row is the measurement; themiddle is theoretical simulation and the bottom is noise level.</p><ol type="1"><li>From data, what is the order of magnitude of <spanclass="math inline">\(\delta\)</span> ? How big is the length difference<span class="math inline">\(\Delta L\)</span> ? (2 points)</li><li>At such order of magnitude <spanclass="math inline">\(\delta\)</span>, what is the phase differencebetween the light that passes the two arms of the interferometer thenreaches the detector? The center wavelength of laser in use is <spanclass="math inline">\(\lambda=1064 \mathrm{~nm}\)</span> (3 points)</li><li>At such phase difference, what is the change of light intensity fromzero? Needed parameter: The total intensity of the laser is <spanclass="math inline">\(I_{0}=1000 \mathrm{~W}\)</span> (5 points)</li><li>For such small intensity change, and the signal is really not toomuch above the noise, why the result is not due to someseismic-environmental changes (such as seismic activity, localtemperature fluctuation, or even just student drop a wrench on the floor<span class="math inline">\(\cdots)\)</span> ? ( 4 points)</li></ol><hr /><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(10^{-21}\sim 10^{-22}\)</span> , <spanclass="math inline">\(\Delta L_{\mbox{max}}=4\times 10^{-18}\mbox{m}\)</span></p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\Delta\varphi =\dfrac{2\pi}{\lambda}\Delta L\cdot2N=1.42\times10^{-8}\mbox{ rad}\)</span></p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\tilde{A_1}=A_0\cos (\omega t),\tilde{A_2}=A_0\cos(\omega t+\pi +\Delta \varphi )\)</span> and the total intensity is<spanclass="math inline">\(I_0=\overline{\tilde{A_1^2}}+\overline{\tilde{A_2^2}}=\dfrac{A_0^2}{2}+\dfrac{A_0^2}{2}=A_0^2\)</span></p><p>the final amplitude is <spanclass="math inline">\(\tilde{A}=\tilde{A_1}+\tilde{A_2}=A_0(\cos (\omegat)-\cos(\omega t+\Delta \varphi ) )=2A_0\sin(\dfrac{\Delta\varphi}{2})\sin (\omega t+\dfrac{\Delta \varphi}{2})\)</span></p><p>So the intensity is <spanclass="math inline">\(I=\overline{\tilde{A^2}}=4A_0^2\sin^2(\dfrac{\Delta \varphi }{2})\cdot \dfrac{1}{2}\approx2A_0^2(\dfrac{\Delta \varphi}{2})^2=\dfrac{1}{2}I_0(\Delta \varphi)^2=1.00\times 10^{-13}\mbox{ W}\)</span></p><p><span class="math inline">\((4)\)</span> Two different experienmentsin different places show the same trend of the wave.</p><h2 id="mbox-points-11"><span class="math inline">\(5_{(12 \mbox{points})}\)</span></h2><p>A spaceship flying at constant speed <spanclass="math inline">\(v\)</span> towards <spanclass="math inline">\(+x\)</span> away from earth. On board it has alight transmitter and detector. <strong>The following data beforequestions are all referring to ship's frame</strong> ( <spanclass="math inline">\(S\)</span> ' frame): The ship emit out a lightsignal with frequency <span class="math inline">\(\omega_{0}\)</span>towards the earth, part of it will be reflected by earth and comes backto the ship (as how radar works). <spanclass="math inline">\(20\)</span> s after the emission, the detector onthe ship picks up the reflected signal from earth, and the frequency ofthe reflected light <span class="math inline">\(\omega\)</span> is foundto be half of <span class="math inline">\(\omega_{0}\)</span>, i.e.,<span class="math inline">\(\omega=\dfrac{1}{2} \omega_{0}\)</span>.</p><ol type="1"><li>(2 points) At the time when the emitted light just reaches the earthand been reflected, what is the position of the earth in S' (ship's)frame?</li><li>(4 points) What is the velocity <spanclass="math inline">\(v\)</span> of ship relative to the earth?</li><li>(6 points) At the time when the reflected light reaches the ship andbeen detected, how far away of the ship from the earth in earth's frame?(Write the answer in <span class="math inline">\(\gamma, \beta\)</span>first in case your <span class="math inline">\(v\)</span> value is wrongin 2) and you still be able getting most credit for this part;</li></ol><hr /><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(\Delta x^{\prime}=\dfrac{c\Delta t}{2}=10\mbox{ls}\)</span></p><p><span class="math inline">\((2)\)</span> According to the Dopplereffect of light <span class="math inline">\((\sqrt{\dfrac{1-\beta}{1+\beta }})^2=\dfrac{1}{2}\Longrightarrow \beta=\dfrac{1}{3},v=\dfrac{1}{3}c\)</span></p><p><span class="math inline">\((3)\)</span> According to time dilationeffect, in the <span class="math inline">\(S\)</span> frame, <spanclass="math inline">\(\Delta t=\gamma \Delta t^{\prime}\)</span>. Settheir initial distance is <span class="math inline">\(l\)</span> <spanclass="math display">\[\Delta t=\dfrac{l}{c}+\dfrac{(l+\dfrac{l}{c}\cdotv)}{c-v}=\dfrac{l}{c}\dfrac{2}{1-\beta },l^{\prime}=l+\dfrac{l}{c}\cdotv+\dfrac{(l+\dfrac{l}{c}\cdot v)}{c-v}\cdot v=l\cdot \dfrac{1+\beta}{1-\beta}\]</span> So <span class="math inline">\(l^{\prime}=\dfrac{1+\beta}{1-\beta }l=\dfrac{1+\beta}{1-\beta }\dfrac{c\Deltat(1-\beta)}{2}=\dfrac{1+\beta }{2}\gamma c\Delta t=\dfrac{c\Delta t}{2}\sqrt{\dfrac{1+\beta }{1-\beta }}=10\sqrt{2}\mbox{ ls}\)</span></p><blockquote><p>Another solution: In <span class="math inline">\(S^{\prime}\)</span>frame, when the light reaches the ship, <spanclass="math inline">\(\Delta x^{\prime}=10\mbox{ ls}+\dfrac{1}{3}c\cdot10\mbox{ s}=\dfrac{40}{3}\mbox{ ls}(=\dfrac{1+\beta }{2}c\Deltat)\)</span></p><p>And the length is measured when <span class="math inline">\(\Deltat^{\prime}=0\)</span>, So <span class="math inline">\(\Deltax=\dfrac{\Delta x^{\prime}+v\Deltat^{\prime}}{\sqrt{1-\dfrac{v^2}{c^2}}}=\dfrac{\Deltax^{\prime}}{\sqrt{1-\dfrac{v^2}{c^2}}}=\dfrac{c\Deltat}{2}\sqrt{\dfrac{1+\beta}{1-\beta}}=10\sqrt{2}\mbox{ ls}\)</span></p></blockquote><h2 id="mbox-points-12"><span class="math inline">\(6_{(16 \mbox{points})}\)</span></h2><p>In the famous Bertozzi's Ultimate speed experiment, stationaryelectrons were passing an accelerating electric field with potential ofnegative millions of volts (MeV in energy). The accelerating electronsthen travel in vacuum tube and their terminal speed can be measured withtime-of-flight method. The general setup and results are shown in thefigure: (top 2 are setup and signal on oscilloscope; bottom 2 areresults)</p><p><img src="https://pic.imgdb.cn/item/62b03a850947543129efa78c.jpg" style="zoom:20%;" /></p><ol type="1"><li>(4 points) Please write out the formular for relation between <spanclass="math inline">\(v^{2}\)</span> and <spanclass="math inline">\(\mathrm{K}\)</span> (kinetics energy), of whichthe curve in the figure above should follow.</li><li>(4 points) Compute the <span class="math inline">\(v^{2}\)</span> at<span class="math inline">\(\mathrm{K}=1.0 \mathrm{MeV}\)</span> and<span class="math inline">\(\mathrm{K}=4.5 \mathrm{MeV}\)</span> fromthe formula, taking the rest mass of electron to be <spanclass="math inline">\(m_{e}=0.5 \mathrm{MeV} c^{2}=9 \times10^{16}(\mathrm{~m} / \mathrm{s})^{2}\)</span>.</li><li>(2 points) There may be a difference between the calculation in 2)with measured results in table 1.1. Suppose the measured results areaccurate, what do you think is the major reason that cause thedifference.</li><li>(5 points) Now we use electrons with <spanclass="math inline">\(\mathrm{K}=4.5 \mathrm{MeV} ; m_{e}=0.5\mathrm{MeV}\)</span> to bombard a stationary proton (rest mass <spanclass="math inline">\(m_{p}=940 \mathrm{MeV}\)</span> ). If they form a" <span class="math inline">\(\mathrm{H}\)</span> " atom, what will bethe rest mass (in <span class="math inline">\(\mathrm{MeV})\)</span> of"H" atom?</li><li>(1 point) How many energy needs to be released in order to form astable <span class="math inline">\(\mathrm{H}\)</span> atom?</li></ol><hr /><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(K=\dfrac{mc^2}{\sqrt{1-\dfrac{v^2}{c^2}}}-mc^2\Longrightarrowv^2=c^2(1-(\dfrac{mc^2}{K+mc^2})^2)\)</span></p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(v^{2}(K=1\mbox{ MeV})=8\times 10^{16}\mbox{(m/s)}^2,v^{2}(K=4.5\mbox{ MeV})=8.91\times 10^{16}\mbox{(m/s)}^2\)</span></p><p><span class="math inline">\((3)\)</span> The velocity of radiationdecreases as electrons move.</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(E=K+m_ec^2+m_pc^2=945\mbox{MeV},p=\dfrac{1}{c}\sqrt{(K+m_ec^2)^2-(m_ec^2)^2}=4.975\mbox{MeV/c}\)</span></p><p>For the new atom <spanclass="math inline">\(E^2=(pc)^2+E_0^2\LongrightarrowE_0=\sqrt{E^2-(pc)^2}=944.987\mbox{ MeV}\)</span></p><p><span class="math inline">\((5)\)</span> <spanclass="math inline">\(\Delta E=4.4987\mbox{ MeV}\)</span></p><h2 id="mbox-points-13"><span class="math inline">\(7_{(16 \mbox{points})}\)</span></h2><p>In this problem we use transformation relation to work out reflectionof light by a moving mirror.</p><p>We know that energy-momentum is a 4-vector, i.e. <spanclass="math inline">\((E / c, \vec{p})\)</span> transform obeyingLorentz between inertial frames. Using the relation <spanclass="math inline">\(E=\hbar \omega, \vec{p}=\hbar \vec{k},\omega\)</span> is the angular frequency and <spanclass="math inline">\(\vec{k}\)</span> wave vector of light wave, <spanclass="math inline">\(\hbar\)</span> is a universal constant; then the<span class="math inline">\(\underset{\rightarrow}{K} \equiv(\omega / c,\vec{k})\)</span> is also a 4-vector.</p><ol type="1"><li>(3 points, 1 for each)<ol type="a"><li>For light, what is the length of this <spanclass="math inline">\(\underset{\rightarrow}{K}\)</span>, i.e. <spanclass="math inline">\(|\underset{\rightarrow}{K}|^{2}\)</span> equalswhat?</li></ol></li></ol><ol start="2" type="a"><li>This means <span class="math inline">\(\dfrac{\omega}{|k|}\)</span>equals what? <spanclass="math inline">\(|k|=\sqrt{k_{x}^{2}+k_{y}^{2}+k_{z}^{2}}\)</span>is the length of wave vector. c) Is this <spanclass="math inline">\(\dfrac{\omega}{|k|}\)</span> value invariantbetween frames?</li></ol><p>Now take a look for light reflection by a moving mirror, the mirror (<span class="math inline">\(S^{\prime}\)</span> ) is moving with <spanclass="math inline">\(v\)</span> relative to the ground S (the source oflight is stationary on the ground), the ground view and mirror view areshown in the figure below:</p><p><img src="https://pic.imgdb.cn/item/62b04ca309475431290ab1f5.jpg" style="zoom:20%;" /></p><p>In the mirror frame ( <span class="math inline">\(S^{\prime}\)</span>view), it just sees a light with frequency <spanclass="math inline">\(\omega^{\prime}\)</span> coming in with angle<span class="math inline">\(\theta_{i}^{\prime}\)</span>, and it willreflect the incoming light. The reflection law in the mirror frame isjust the familiar one: <spanclass="math inline">\(\omega_{r}^{\prime}=\omega_{i}^{\prime},\theta_{r}^{\prime}=\theta_{i}^{\prime}\)</span>. But for the groundobserver, the reflected light may have different frequency and out-goingangle compared with incoming one:</p><ol start="2" type="1"><li>(7 points) For a given incoming light in <spanclass="math inline">\(S\)</span> frame, i.e. <spanclass="math inline">\(\omega_{i}, k_{i}\)</span> ( <spanclass="math inline">\(k_{i}\)</span> is the magnitud of incoming wavevector) and angle <span class="math inline">\(\theta_{i}\)</span> isknown, please find out the <spanclass="math inline">\(\omega_{i}^{\prime}\)</span> and <spanclass="math inline">\(\cos \theta_{i}^{\prime}\)</span>, the frequencyand incoming angle in the mirror (S') frame, express them in terms of<span class="math inline">\(c, \beta, \gamma, \omega_{i},\theta_{i}\)</span></li><li>(6 points) Using the reflection law in mirror frame, find out thefrequency and angle of reflected light in ground frame: <spanclass="math inline">\(\omega_{r}\)</span> and <spanclass="math inline">\(\cos \theta_{r}\)</span>, express them in terms of<span class="math inline">\(c, \beta, \gamma, \omega_{i},\theta_{i}\)</span></li></ol><hr /><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(|\underset{\rightarrow}{K}|=0,\dfrac{\omega}{|k|}=c\)</span><span class="math inline">\(,\dfrac{\omega }{|k|} \mbox{isinvariant}\)</span></p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\underset{\rightarrow}{K}=(\dfrac{\omega}{c},k_x,k_y,k_z)\)</span>satisfies Lorentz transformation. <span class="math display">\[\begin{pmatrix}\dfrac{\omega^{\prime}}{c}\\k_{x}^{\prime}\\k_{y}^{\prime}\\k_{z}^{\prime}\end{pmatrix}=\begin{pmatrix}\gamma&amp; -\beta \gamma&amp;0&amp;0\\-\beta \gamma&amp;\gamma&amp;0&amp;0\\0&amp;0&amp;1&amp;0\\0&amp;0&amp;0&amp;1\end{pmatrix}\begin{pmatrix}\dfrac{\omega}{c}\\k_{x}\\k_{y}\\k_{z}\end{pmatrix}\]</span> <spanclass="math inline">\(\omega^{\prime}=\gamma(\omega-\beta ck_x)=\gamma(\omega-\beta c (-\dfrac{\omega }{c}\cdot \cos\theta_i))=\gamma\omega(1+\beta \cos \theta_i)\)</span></p><p><span class="math inline">\(k^{\prime}_x=\gamma(k_x-\beta \cdot\dfrac{\omega}{c})=\gamma(-\dfrac{\omega }{c}\cdot \cos \theta_i-\beta\cdot \dfrac{\omega }{c})=-\dfrac{\omega }{c}\gamma(\cos \theta_i+\beta)\)</span></p><p><span class="math inline">\(\cos\theta_{i}^{\prime}=\dfrac{k_x^{\prime}}{|k^{\prime}|}=\dfrac{k_x^{\prime}}{|\dfrac{\omega^{\prime}}{c}|}=\dfrac{\cos\theta_i+\beta}{1+\beta \cos \theta_i}\Longrightarrow\theta_i^{\prime}=\arccos(\dfrac{\cos \theta_i+\beta}{1+\beta \cos\theta_i})\)</span></p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\omega_{r}^{\prime}=\omega^{\prime}_{i}\)</span>,then transform to <span class="math inline">\(S\)</span> frame <spanclass="math display">\[\begin{pmatrix}\dfrac{\omega}{c}\\k_{x}\\k_{y}\\k_{z}\end{pmatrix}=\begin{pmatrix}\gamma&amp; \beta \gamma&amp;0&amp;0\\\beta \gamma&amp;\gamma&amp;0&amp;0\\0&amp;0&amp;1&amp;0\\0&amp;0&amp;0&amp;1\end{pmatrix}\begin{pmatrix}\dfrac{\omega^{\prime}}{c}\\k_{x}^{\prime}\\k_{y}^{\prime}\\k_{z}^{\prime}\end{pmatrix}\]</span> <spanclass="math inline">\(\omega_{r}=\gamma(\omega^{\prime}+\betack_x^{\prime})=\gamma(\gamma\omega(1+\beta \cos \theta _i)+\betac(\dfrac{\omega}{c}\gamma(\beta +\cos \theta_i)))=\dfrac{1+\beta^2+2\beta \cos \theta_i}{1-\beta ^2}\omega\)</span></p><p><span class="math inline">\(k_{rx}=\gamma(k_x^{\prime}+\beta\dfrac{\omega^{\prime}}{c})=\gamma(\gamma\dfrac{\omega}{c}(\cos\theta_i+\beta)+\beta \dfrac{\gamma\omega(1+\beta \cos\theta_i)}{c})=\dfrac{\beta ^2\cos \theta_i+2\beta +\cos\theta_i}{1-\beta ^2}\dfrac{\omega}{c}\)</span></p><p><spanclass="math inline">\(\theta_{r}=\arccos(\dfrac{k_{rx}}{\dfrac{\omega_r}{c}})=\arccos(\dfrac{\beta^2\cos \theta_i+2\beta +\cos \theta_i}{1+2\beta \cos \theta_i+\beta^2})\)</span></p>]]></content>
    
    
    <categories>
      
      <category>物理</category>
      
      <category>基础物理学 1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>基础物理学 1</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Calculus-A2-homework all</title>
    <link href="/2022/06/18/%E6%95%B0%E5%AD%A6/%E5%BE%AE%E7%A7%AF%E5%88%86A(2)%E4%BD%9C%E4%B8%9A%E5%90%88%E9%9B%86%EF%BC%881-10%EF%BC%89/"/>
    <url>/2022/06/18/%E6%95%B0%E5%AD%A6/%E5%BE%AE%E7%A7%AF%E5%88%86A(2)%E4%BD%9C%E4%B8%9A%E5%90%88%E9%9B%86%EF%BC%881-10%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p><span class="math inline">\(\mathbf{PDF}\)</span> 文件下载请点击这里<ahref="https://lr-tsinghua11.github.io/pdf/微积分A2作业合集（1-9）.pdf">微积分A(2)作业</a></p><h1id="largetextcolorblue微积分第一次作业-smallwtimes-f-_textcolorblue2022.2.25"><spanclass="math inline">\(\large\textcolor{blue}{微积分第一次作业\\small(W\times f)}\ \ \ \ \ \ _\textcolor{blue}{2022.2.25}\)</span></h1><h2 id="section">1</h2><p>设 <span class="math inline">\(\|\cdot\|\)</span> 是范数，证明 <spanclass="math inline">\(\mathbb{C}=\{\vec{x}\in\mathbb{R}^m\mid\|\vec{x}\|\leq1\}\)</span> 是闭凸集。</p><p>（ <span class="math inline">\(\mathbb{C}\in\mathbb{R}^{m}\)</span>是凸集<span class="math inline">\(\ \Longleftrightarrow \\forall\  \vec{x},\vec{y}\in\mathbb{C},\ \forall \ t\in(0,1),\(1-t)\vec{x}+t\vec{y}\in\mathbb{C}\)</span>）</p><hr /><p><strong>证明</strong>：先证明其为凸集，由范数的性质，满足三角不等式和正齐次性有<span class="math display">\[\|\vec{x}\|,\|\vec{y}\|\leq 1\in\mathbb{C},\ \forall \ t\in(0,1),\\|(1-t)\vec{x}+t\vec{y}\|\leq(1-t)\|\vec{x}\|+t\|\vec{y}\|\leq 1\]</span> 考虑 <span class="math inline">\(\mathbb{C}\)</span> 的补集<spanclass="math inline">\(\mathbb{A}=\{\vec{x}\in\mathbb{R}^m\mid\|\vec{x}\|&gt;1\}\)</span>，对于该集合中任意一点 <spanclass="math inline">\(\vec{a}\in\mathbb{A}\)</span>，令 <spanclass="math inline">\(\|\vec{a}\|=\lambda&gt;1\)</span> <spanclass="math display">\[\forall \ \vec{a}\in\mathbb{A},\ \exists \ \delta=\dfrac{\lambda-1}{2},\s.t.\forall \\|\vec{x}-\vec{a}\|&lt;\delta,\|\vec{x}\|\geq\|\vec{a}\|-\|\vec{a}-\vec{x}\|=\|\vec{a}\|-\|\vec{x}-\vec{a}\|&gt;1\]</span> 从而 <span class="math inline">\(\mathbb{A}\)</span>满足任意一点总存在该点领域全在 <spanclass="math inline">\(\mathbb{A}\)</span> 中，<spanclass="math inline">\(\mathbb{A}\)</span> 为开集，<spanclass="math inline">\(\mathbb{C}\)</span> 为 <spanclass="math inline">\(\mathbb{A}\)</span> 的补集，则 <spanclass="math inline">\(\mathbb{C}\)</span> 为闭集</p><p>再结合其为凸集，得 <span class="math inline">\(\mathbb{C}\)</span>为闭凸集 <span class="math inline">\(□\)</span></p><h2 id="section-1">2</h2><p>设 <span class="math inline">\(\|\cdot\|\)</span>满足正定、正齐次性，证明：<span class="math inline">\(\|\cdot\|\)</span>是范数 <span class="math inline">\(\Longleftrightarrow\)</span> <spanclass="math inline">\(\mathbb{C}=\{\vec{x}\in\mathbb{R}^m\mid\|\vec{x}\|\leq1\}\)</span> 是凸集。</p><hr /><p><strong>证明</strong>：由第一题结论可得，<spanclass="math inline">\(\|\cdot\|\)</span> 是范数 <spanclass="math inline">\(\Longrightarrow\)</span> <spanclass="math inline">\(\mathbb{C}=\{\vec{x}\in\mathbb{R}^m\mid\|\vec{x}\|\leq1\}\)</span> 是凸集。</p><p>又若 <spanclass="math inline">\(\mathbb{C}=\{\vec{x}\in\mathbb{R}^m\mid\|\vec{x}\|\leq1\}\)</span> 是凸集，即 <spanclass="math inline">\(\forall\  \vec{x},\vec{y}\in\mathbb{C},\ \forall \t\in(0,1),\ (1-t)\vec{x}+t\vec{y}\in\mathbb{C}\)</span>。若</p><p><span class="math inline">\(\|\vec{x}\|\)</span> 或 <spanclass="math inline">\(\|\vec{y}\|\)</span> 中有一者为 <spanclass="math inline">\(0\)</span>，由 <spanclass="math inline">\(\|\cdot\|\)</span> 的正定性，可得 <spanclass="math inline">\(\vec{x}\)</span> 或 <spanclass="math inline">\(\vec{y}\)</span> 中一者为 <spanclass="math inline">\(\boldsymbol 0\in\mathbb{R}^m\)</span>，此时三角不等式</p><p><spanclass="math inline">\(\|\vec{x}\|+\|\vec{y}\|\geq\|\vec{x}+\vec{y}\|\)</span>成立。则对两者范数均大于 <span class="math inline">\(0\)</span> 的情况，<span class="math inline">\(\forall\ \vec{x},\vec{y}\)</span>，令<spanclass="math inline">\(\|\vec{x}\|=l_1&gt;0\)</span></p><p><span class="math inline">\(\|\vec{y}\|=l_2&gt;0\)</span>，单位化有<spanclass="math inline">\(\vec{n}_1=\dfrac{\vec{x}}{l_1},\vec{n}_2=\dfrac{\vec{y}}{l_2}\)</span>，满足<span class="math inline">\(\vec{n}_1,\vec{n}_2\in\mathbb{C}\)</span>，由凸集性质 <span class="math display">\[\begin{gathered}\because \forall \t\in(0,1),\|(1-t)\vec{n}_1+t\vec{n}_2\|\in\mathbb{C},\vec{n}_1=\dfrac{\vec{x}}{l_1},\vec{n}_2=\dfrac{\vec{y}}{l_2}\\\therefore \forall\ t\in (0,1),\|\dfrac{1-t}{l_1}\cdot\vec{x}+\dfrac{t}{l_2}\cdot \vec{y}\|\leq 1\ \therefore \mbox{set}\ \ \t=\dfrac{l_2}{l_1+l_2},\|\dfrac{\vec{x}+\vec{y}}{l_1+l_2}\|\leq1\end{gathered}\]</span> 由正齐次性，<spanclass="math inline">\(\|\dfrac{\vec{x}+\vec{y}}{l_1+l_2}\|=\dfrac{1}{l_1+l_2}\|\vec{x}+\vec{y}\|\leq1\)</span>，则有 <span class="math inline">\(\|\vec{x}+\vec{y}\|\leql_1+l_2=\|\vec{x}\|+\|\vec{y}\|\)</span></p><p>则 <spanclass="math inline">\(\mathbb{C}=\{\vec{x}\in\mathbb{R}^m\mid\|\vec{x}\|\leq1\}\)</span> 是凸集 <span class="math inline">\(\Longrightarrow\|\cdot\|\)</span> 为范数，两者等价 <spanclass="math inline">\(□\)</span></p><h2 id="section-2">3</h2><p>证明 <span class="math inline">\(\|\vec{x}\|_{\infty}=\underset{1\leqi\leq m}{\max}|x^{i}|\)</span> 是范数。</p><hr /><p><strong>证明</strong>：显然正定性满足；且 <spanclass="math inline">\(\|\lambda\vec{x}\|_{\infty}=\underset{1\leq i\leqm}{\max}|\lambda x^{i}|=|\lambda|\underset{1\leq i\leqm}{\max}|x^{i}|=|\lambda|\|\vec{x}\|_{\infty}\)</span>满足正齐次性，</p><p>有 <spanclass="math inline">\(\vec{x}=(x^1,\cdots,x^m)^{T},\vec{y}=(y^1,\cdots,y^m)^{T}\)</span>，设两者最大值为<span class="math inline">\(|x^{max}|,|y^{max}|\)</span> <spanclass="math display">\[\begin{gathered}\|\vec{x}+\vec{y}\|_{\infty}=(x^1+y^1,x^2+y^2,\cdots,x^m+y^m)\leq(|x^{1}|+|y^1|,\cdots,|x^{m}|+|y^m|)\\\leq(|x^{max}|+|y_1|,\cdots,|x^{max}|+|y^m|)=|x^{max}|+(|y^1|,\cdots,|y^m|)\leq|x^{max}|+|y^{max}|\\\end{gathered}\]</span> 即有 <span class="math inline">\(\forall \ \vec{x},\vec{y},\\|\vec{x}+\vec{y}\|_{\infty}\leq\|\vec{x}\|_{\infty}+\|\vec{y}\|_{\infty}\)</span>，满足三角不等式，从而<span class="math inline">\(\|\vec{x}\|_{\infty}\)</span> 是（无穷）范数<span class="math inline">\(□\)</span></p><h2 id="section-3">4</h2><p>设 <span class="math inline">\(p&gt;1\)</span>，证明 <spanclass="math inline">\(\|\vec{x}\|_{p}=(\displaystyle\sum_{i=1}^m|x^i|^p)^{\frac{1}{p}}\)</span> 是范数。</p><hr /><p><strong>证明</strong>：显然 <spanclass="math inline">\((\displaystyle\sum_{i=1}^m|x^i|^p)^{\frac{1}{p}}\geq 0\)</span> 满足正定性，若乘以<span class="math inline">\(\lambda\)</span> 倍，有 <spanclass="math display">\[\|\lambda\vec{x}\|_{p}=\|\vec{x}\|_{\infty}=(\displaystyle\sum_{i=1}^m|\lambdax^i|^p)^{\frac{1}{p}}=\|\vec{x}\|_{\infty}=(\lambda^p \displaystyle\sum_{i=1}^m|x^i|^p)^{\frac{1}{p}}=\lambda \cdot(\displaystyle\sum_{i=1}^m|x^i|^p)^{\frac{1}{p}}=\lambda\|\vec{x}\|_{\infty}\]</span> 从而 <span class="math inline">\(\|\vec{x}\|_p\)</span>满足正齐次性，对三角不等式，先证明两个不等式</p><blockquote><p>引理一：<strong><span class="math inline">\(\mbox{Young}\)</span>不等式</strong>：设 <spanclass="math inline">\(a,b&gt;0,q,p&gt;1,\dfrac{1}{p}+\dfrac{1}{q}=1\)</span>，有以下不等式成立<span class="math display">\[ab\leq \dfrac{a^p}{p}+\dfrac{b^q}{q}\]</span> 构造函数 <spanclass="math inline">\(f(x)=\dfrac{1}{p}x^{p}+\dfrac{1}{q}-x\(x&gt;0)\)</span>，求导有 <spanclass="math inline">\(f&#39;(x)=x^{p-1}-1\)</span>，当 <spanclass="math inline">\(x\in(0,1)\)</span> 时，</p><p><span class="math inline">\(f&#39;(x)&lt;0\)</span>，<spanclass="math inline">\(f(x)\)</span> 单调递减；当 <spanclass="math inline">\(x\in (1,+\infty)\)</span> 时，<spanclass="math inline">\(f&#39;(x)&gt;0\)</span>，<spanclass="math inline">\(f(x)\)</span> 单调递增。从而</p><p><span class="math inline">\(f(x)\geqf(1)=\dfrac{1}{p}+\dfrac{1}{q}-1=0\)</span>。令 <spanclass="math inline">\(x=\dfrac{a}{b^{\frac{q}{p}}}\)</span> 有 <spanclass="math inline">\(\dfrac{1}{p}\dfrac{a^p}{b^{q}}+\dfrac{1}{q}\geq\dfrac{a}{b^{\frac{q}{p}}}\)</span>，两边乘以<span class="math inline">\(b^q\)</span>，代入</p><p><spanclass="math inline">\(\dfrac{1}{p}=1-\dfrac{1}{q}\)</span>，则有 <spanclass="math inline">\(\dfrac{a^p}{p}+\dfrac{b^q}{q}\geq a\cdotb^{q-\frac{q}{p}}=ab\)</span></p><p>引理二：<strong><span class="math inline">\(\mbox{Hölder}\)</span>不等式</strong>：设 <spanclass="math inline">\(a_k,b_k&gt;0,p,q\geq1,k=1,2,\cdots,n,\dfrac{1}{p}+\dfrac{1}{q}=1\)</span>，有以下不等式成立<span class="math display">\[\displaystyle\sum_{k=1}^na_kb_k\leq(\sum_{k=1}^na_k^p)^{\frac{1}{p}}\cdot(\sum_{k=1}^nb_k^q)^{\frac{1}{q}}\]</span> 考虑两者相除运用 <spanclass="math inline">\(\mbox{Young}\)</span> 不等式即可得证 <spanclass="math display">\[\begin{gathered}\dfrac{\displaystyle \sum_{i=1}^na_kb_k}{\displaystyle(\sum_{k=1}^na_k^p)^{\frac{1}{p}}\cdot(\sum_{k=1}^nb_k^q)^{\frac{1}{q}}}=\displaystyle\large\sum_{k=1}^n((\normalsize\dfrac{a_k^p}{\normalsize \displaystyle\sum_{k=1}^na_k^p})^{\frac{1}{p}}\cdot(\normalsize\dfrac{b_k^q}{\normalsize \displaystyle\sum_{k=1}^nb_k^q})^{\frac{1}{q}})\normalsize \\\leq\dfrac{1}{p}\sum_{i=1}^n\dfrac{a_k^p}{\normalsize \displaystyle\sum_{k=1}^na_k^p}+\dfrac{1}{q}\sum_{i=1}^n\dfrac{b_k^q}{\normalsize\displaystyle \sum_{k=1}^nb_k^q}=\dfrac{1}{p}+\dfrac{1}{q}=1\end{gathered}\]</span></p></blockquote><p>拆开和的 <span class="math inline">\(p-\)</span>范数有 <spanclass="math inline">\(\displaystyle\sum_{i=1}^{n}\left(x^{i}+y^{i}\right)^{p}=\sum_{i=1}^{n}x^{i}\left(x^{i}+y^{i}\right)^{p-1}+\sum_{i=1}^{n}y^{i}\left(x^{i}+y^{i}\right)^{p-1}\)</span></p><p>令 <spanclass="math inline">\(\dfrac{1}{p}+\dfrac{1}{q}=1\)</span>，利用 <spanclass="math inline">\(\mbox{Hölder}\)</span> 不等式放缩两者有 <spanclass="math display">\[\begin{gathered}\sum_{i=1}^{n} x^{i}(x^{i}+y^{i})^{p-1} \leq(\sum_{i=1}^{n}(x^{i})^{p})^{\frac{1}{p}}(\sum_{i=1}^{n}(x^{i}+y^{i})^{(p-1)q})^{\frac{1}{q}}=(\sum_{i=1}^{n} (x^{i})^{p})^{\frac{1}{p}}\cdot(\sum_{i=1}^{n}(x^{i}+y^{i})^{p})^{\frac{1}{q}}\\\sum_{i=1}^{n} y^{i}(x^{i}+y^{i})^{p-1} \leq(\sum_{i=1}^{n}(y^{i})^{p})^{\frac{1}{p}}(\sum_{i=1}^{n}(x^{i}+y^{i})^{(p-1)q})^{\frac{1}{q}}=(\sum_{i=1}^{n} (y^{i})^{p})^{\frac{1}{p}}\cdot(\sum_{i=1}^{n}(x^{i}+y^{i})^{p})^{\frac{1}{q}}\end{gathered}\]</span> 从而求和得到 <span class="math inline">\(\displaystyle\sum_{i=1}^n(x^i+y^i)^p\leq \Large(\normalsize (\displaystyle\sum_{i=1}^n(x^i)^p)^{\frac{1}{p}}+(\sum_{i=1}^n(y^i)^p)^{\frac{1}{p}}\Large)\normalsize\cdot (\sum_{i=1}^{n}(x^{i}+y^{i})^{p})^{\frac{1}{q}}\)</span>，移项即得<span class="math display">\[(\displaystyle\sum_{i=1}^n(x^i)^p)^{\frac{1}{p}}+(\sum_{i=1}^n(y^i)^p)^{\frac{1}{p}}\geq(\sum_{i=1}^n(x^i+y^i)^p)^{1-\frac{1}{q}}=(\sum_{i=1}^n(x^i+y^i)^p)^{\frac{1}{p}}\]</span> <span class="math inline">\(\|\vec{x}\|_{p}=(\displaystyle\sum_{i=1}^m|x^i|^p)^{\frac{1}{p}}\)</span>满足正定、正齐次、三角不等式，从而为范数 <spanclass="math inline">\(□\)</span></p><h2 id="section-4">5</h2><p>设 <span class="math inline">\(m&gt;1\)</span>，证明 <spanclass="math inline">\(\mathbb{A}=\{\vec{x}\in\mathbb{R}^m\mid\|x\|=1\}\)</span> 是道路连通集。</p><hr /><p><strong>证明</strong>：<span class="math inline">\(\forall \\vec{x},\vec{y}\in E\)</span>，令 <spanclass="math inline">\(f(t)=\dfrac{(1-t)\vec{x}+t\vec{y}}{\|(1-t)\vec{x}+t\vec{y}\|}\)</span>，对<span class="math inline">\(\vec{x}=\vec{y}\)</span> 时，显然 若 <spanclass="math inline">\(。\vec{x}\neq\vec{y}\)</span>，<spanclass="math inline">\(f(0)=\vec{x}\)</span>，</p><p><spanclass="math inline">\(f(1)=\vec{y}\)</span>，先证明该函数映射连续性。有线性函数<span class="math inline">\(g_1:[0,1]\longrightarrow \mathbb{R}^m,t\longmapsto (1-t)\vec{x}+t\vec{y}\)</span> 连</p><p>续，考虑函数 <span class="math inline">\(g_2:[0,1]\longrightarrow[0,1]t\longmapsto\|(1-t)\vec{x}+t\vec{y}\|\)</span>，由范数的正齐次性和三角不等式得<span class="math display">\[\forall \t_1,t_2\in[0,1],|g_2(t_1)-g_2(t_2)|=|\|\vec{x}+t_1(\vec{y}-\vec{x})\|-\|\vec{x}+t_2(\vec{y}-\vec{x})\||\leq|t_1-t_2|\|\vec{y}-\vec{x}\|\]</span> 而 <span class="math inline">\(\|\vec{y}-\vec{x}\|\leq\|\vec{y}\|+\|-\vec{x}\|=2\)</span> 为有限量，则有 <spanclass="math display">\[\forall \ \epsilon&gt;0,\exists\\delta&lt;\dfrac{\epsilon}{2},s.t.\forall \t_1,t_2\in[0,1],|t_1-t_2|&lt;\delta,|g(t_1)-g(t_2)|\leq|t_1-t_2|\|\vec{y}-\vec{x}\|&lt;\epsilon\]</span> 从而 <span class="math inline">\(g_2\)</span>为连续函数，同时由范数的正定性，<spanclass="math inline">\(\|(1-t)\vec{x}+t\vec{y}\|\geq0\)</span>，若 <spanclass="math inline">\(\|(1-t)\vec{x}+t\vec{y}\|=0\)</span></p><p>由正定性 <span class="math inline">\((1-t)\vec{x}+t\vec{y}=0\)</span>得 <span class="math inline">\(\vec{x}=-\vec{y}\)</span> ，只要 <spanclass="math inline">\(\vec{x}\neq -\vec{y}\Longrightarrow\|(1-t)\vec{x}+t\vec{y}\|\neq 0\)</span></p><p>令 <span class="math inline">\(g_3:x\in(0,1]\longmapsto\dfrac{1}{x}\in[1,+\infty)\)</span> 为连续函数，复合函数 <spanclass="math inline">\(f(t)=(g_3\circ g_2)\cdot g_1\)</span> 也连续</p><p>而 <spanclass="math inline">\(\|f(t)\|=\dfrac{\|(1-t)\vec{x}+t\vec{y}\|}{\|(1-t)\vec{x}+t\vec{y}\|}=1\)</span>，则对<span class="math inline">\(t\in[0,1]\)</span>，都有 <spanclass="math inline">\(f(t)\in\mathbb{A}\)</span>，满足道路连通集条件</p><p>而针对特殊情况（两向量恰好反向）， <spanclass="math inline">\(\vec{x}=-\vec{y}\)</span>，可选取 <spanclass="math inline">\(\vec{z}\neq\vec{x},\vec{z}\neq\vec{y}\)</span>，令 <spanclass="math inline">\(\vec{x}\)</span> 到 <spanclass="math inline">\(\vec{z}\)</span> 的连续映射为</p><p><span class="math inline">\(f_1(t)\)</span>，<spanclass="math inline">\(\vec{z}\)</span> 到 <spanclass="math inline">\(\vec{y}\)</span> 的连续映射为 <spanclass="math inline">\(f_2(t)\)</span>，可以构造连续映射 <spanclass="math display">\[f(t)=\begin{cases}f_1(2t),t\in[0,\dfrac{1}{2})\\f_2(2t-1),t\in[\dfrac{1}{2},1]\end{cases}\]</span> 也满足道路连续性的条件，从而 <span class="math display">\[\forall \ \vec{x},\vec{y}\in \mathbb{A},\ \exists\ 连续\f(t),f(0)=\vec{x},f(1)=\vec{y},s.t.\forall\ t\in[0,1],f(t)\in\mathbb{A}\]</span> 即 <span class="math inline">\(\mathbb{A}\)</span>为道路连通集 <span class="math inline">\(□\)</span></p><h2 id="section-5">6</h2><p>设 <span class="math inline">\(m&gt;1\)</span>，证明 <spanclass="math inline">\(\mathbb{D}=\{A\mid A\ 是\ m\ 阶方阵,\detA&gt;0\}\)</span> 是道路连通集。</p><hr /><p><strong>证明</strong>：首先证明单位阵 <spanclass="math inline">\(I\)</span> 到 <spanclass="math inline">\(\mathbb{D}\)</span> 中任意元素 <spanclass="math inline">\(A\in\mathbb{D},\det A&gt;0\)</span>是连通的，对单位阵 <spanclass="math inline">\(I\)</span>，总存在一系列初等变换有 <spanclass="math display">\[E_1E_2\cdots E_nIE_1&#39;E_2&#39;\cdots E_n&#39;=A\]</span> 若 <span class="math inline">\(E_i\)</span>是倍乘变换，倍乘系数为 <span class="math inline">\(k\neq0\)</span>，则对<span class="math inline">\(\forall\ B\in\mathbb{D}\)</span>，作连续映射 <span class="math display">\[f_i(t):\mathcal{GL}^{+}(m) \longrightarrow  \mathcal{GL}^{+}(m)\quadB\longmapsto(1+(k-1)t)E_iB\]</span> 若 <span class="math inline">\(E_i\)</span>是倍加变换，倍加系数为 <span class="math inline">\(m&gt;0\)</span>，则对<span class="math inline">\(\forall \C\in\mathbb{D}\)</span>，作连续映射 <span class="math display">\[g_i(t):\mathcal{GL}^{+}(m) \longrightarrow  \mathcal{GL}^{+}(m)\quadC\longmapsto(1+(k-1)t)E_iC\]</span> 若 <span class="math inline">\(E_i\)</span> 是换行 <spanclass="math inline">\(/\)</span> 换列变换并对其中一行 $/ $ 列乘以 <spanclass="math inline">\(-1\)</span> （保证行列式 <spanclass="math inline">\(&gt;0\)</span>），对改变的两行 <spanclass="math inline">\(/\)</span> 两列有连续复合映射 <spanclass="math display">\[(A,B)\stackrel{E_1}{\longrightarrow}(A+B,B)\stackrel{E_2}{\longrightarrow}(A+B,-A)\stackrel{E_3}{\longrightarrow}(B,-A)\stackrel{E_4(-1)}{\longrightarrow}(B,A)\]</span> 综上，对所有初等矩阵 <spanclass="math inline">\(E_i\)</span>，均存在连续映射 <spanclass="math inline">\(f_{E_{i}}(t)\)</span> 从 <spanclass="math inline">\(I\)</span> 到 <spanclass="math inline">\(E_i\)</span>，使得 <spanclass="math inline">\(I\)</span> 到 <spanclass="math inline">\(A\in\mathbb{D}\)</span> 是连通的</p><p>对 <span class="math inline">\(\forall \ A_1,A_2\in\mathbb{D}\)</span>，对 <span class="math inline">\(A_2\)</span>实行上述步骤得到连续映射 <span class="math inline">\(I\longmapstoA_2,F(t):\displaystyle \prod_{i=1}^n f_{E_i}\)</span>，则 <spanclass="math inline">\(A_1^{-1}\circ F\)</span> 满足<spanclass="math inline">\(A_1\longmapsto A_2\)</span> 连续映射，且由于 <spanclass="math inline">\(f_{i}(t)\)</span> 和 <spanclass="math inline">\(g_{i}(t)\)</span> 都映射到 <spanclass="math inline">\(\mathbb{D}\)</span> 中，<spanclass="math inline">\(\forall \ t\in[0,1],A_1^{-1}\circF(t)\in\mathbb{D}\)</span></p><p>，即 <span class="math inline">\(\mathbb{D}\)</span> 道路连通 <spanclass="math inline">\(□\)</span></p><h2 id="section-6">7</h2><p>设 <spanclass="math inline">\(f:\mathbb{R}^m\diagdown\{0\}\longmapsto\mathbb{R}\)</span>，且 <span class="math inline">\(f\)</span>连续，满足 <span class="math inline">\(\forall \ t&gt;0,\vec{x}\neq0,f(t\vec{x})=f(\vec{x})\)</span>，证明 <spanclass="math inline">\(f\)</span> 有最大值和最小值。</p><hr /><p><strong>证明</strong>：令单位“实心球”集合 <spanclass="math inline">\(\mathbb{S}=\{\vec{y}\mid \|\vec{y}\|\leq1\}\)</span> 为有界闭集，对 <span class="math inline">\(\forall\\vec{y}\in\mathbb{R}^m\diagdown\{0\}\)</span>，若 <spanclass="math inline">\(\|\vec{y}\|\leq1\)</span>，</p><p>则 <span class="math inline">\(\vec{y}\in\mathbb{S}\)</span>，否则<span class="math inline">\(\|\vec{y}\|&gt;1\)</span>，令 <spanclass="math inline">\(\vec{z}=\dfrac{\vec{y}}{\|\vec{y}\|}\)</span>，其范数<span class="math inline">\(\|\vec{z}\|=1,\vec{z}\in\mathbb{S}\)</span>，<spanclass="math inline">\(f(\vec{y})=f(\|\vec{y}\|\cdot\vec{z})=f(\vec{z})\)</span></p><p>定义映射 <spanclass="math inline">\(g:\mathbb{S}\longmapsto\mathbb{R},g(\vec{x})=f(\vec{x})\)</span>，由知<span class="math inline">\(f\)</span> 和 <spanclass="math inline">\(g\)</span> 的值域相同，且 <spanclass="math inline">\(g\)</span> 为有界闭集上的连续映射</p><p>从而 <span class="math inline">\(f\)</span> 和 <spanclass="math inline">\(g\)</span> 都有最大值和最小值 <spanclass="math inline">\(□\)</span></p><h2 id="section-7">8</h2><p>设 <spanclass="math inline">\(f(x,y,z)=\dfrac{x+2y+3z}{x^2+y^2+z^2+1}\)</span>，证明<span class="math inline">\(f\)</span> 有正的最大值和负的最小值。</p><hr /><p>证明：令三维欧式空间向量 <spanclass="math inline">\(\vec{r}=(x,y,z)\)</span>，有 <spanclass="math display">\[f(x,y,z)=f(\vec{r})=\dfrac{\vec{r}\cdot(1,2,3)}{\|\vec{r}\|^2+1}=\dfrac{\|\vec{r}\|\cdot\sqrt{14}\cos\theta}{\|\vec{r}\|^2+1}\]</span> 由均值不等式 <spanclass="math inline">\(\dfrac{\|\vec{r}\|}{\|\vec{r}\|^2+1}\leq\dfrac{1}{2}\)</span>，以及<span class="math inline">\(\cos \theta\in[-1,1]\)</span>，得 <spanclass="math inline">\(f(\vec{r})\in[-\dfrac{\sqrt{14}}{2},\dfrac{\sqrt{14}}{2}]\)</span>有界</p><p>而 <span class="math inline">\(f(x,y,z)\)</span>为连续函数，从而有最值，且当 <spanclass="math inline">\(x,y,z&gt;0\)</span> 时 <spanclass="math inline">\(f(x,y,z)&gt;0\)</span>；当 <spanclass="math inline">\(x,y,z&lt;0\)</span> 时</p><p><span class="math inline">\(f(x,y,z)&lt;0\)</span>，则 <spanclass="math inline">\(f\)</span> 有正的最大值和负的最小值 <spanclass="math inline">\(□\)</span></p><h1id="largetextcolorblue微积分第二次作业-smallwtimes-f-_textcolorblue2022.3.4"><spanclass="math inline">\(\large\textcolor{blue}{微积分第二次作业\\small(W\times f)}\ \ \ \ \ \ _\textcolor{blue}{2022.3.4}\)</span></h1><h2 id="section-8">1</h2><p>1、（连续性与偏连续性）设 <span class="math inline">\(f:[a,b]\times[c,d]\rightarrow \mathbb{R}\)</span>。</p><ol type="a"><li>如果 <span class="math inline">\(f\)</span> 是连续函数,那么是否成立: 对任意 <span class="math inline">\(y \in[c, d], f(\cdot,y)\)</span> : <span class="math inline">\([a, b] \rightarrow\mathbb{R}\)</span> 连续; 对任意 <span class="math inline">\(x \in[a,b]\)</span></li></ol><p><span class="math inline">\(f(x, \cdot):[c, d] \rightarrow\mathbb{R}\)</span> 连续?</p><ol start="2" type="a"><li>如果对任意 <span class="math inline">\(y \in[c, d], \quad f(\cdot,y):[a, b] \rightarrow \mathbb{R}\)</span> 连续; 对任意 <spanclass="math inline">\(x \in[a, b]\)</span>, <spanclass="math inline">\(f(x, \cdot):[c, d] \rightarrow \mathbb{R}\)</span>连续, 那么 <span class="math inline">\(f\)</span> 是否为连续函数? 考虑<span class="math display">\[f(x, y)= \begin{cases}\dfrac{x y}{x^{2}+y^{2}}, &amp; x y \neq 0 \\ 0,&amp; x y=0\end{cases}\]</span></li><li>设 <span class="math inline">\(x_{0} \in[a, b], y_{0} \in[c, d],f\)</span> 满足: <span class="math inline">\(f\left(\cdot,y_{0}\right):[a, b] \rightarrow \mathbb{R}\)</span> 连续; 并且对 任意<span class="math inline">\(\varepsilon&gt;0\)</span>, 存在</li></ol><p><span class="math inline">\(\delta(\varepsilon)&gt;0\)</span>使得对任意 <span class="math inline">\(x \in[a, b]\)</span> 以及任意<span class="math inline">\(y \in[c, d]\)</span>, 只要 <spanclass="math inline">\(\left|y-y_{0}\right|&lt;\delta(\varepsilon)\)</span>,就有</p><p><span class="math inline">\(\left|f(x, y)-f\left(x,y_{0}\right)\right|&lt;\varepsilon\)</span> 。证明 <spanclass="math inline">\(f\)</span> 在 <spanclass="math inline">\(\left(x_{0}, y_{0}\right)\)</span> 连续。</p><ol start="4" type="a"><li>设 <span class="math inline">\(f(x, y)\)</span> 分别对每个变量 <spanclass="math inline">\(x\)</span> 和 <spanclass="math inline">\(y\)</span> 是连续的，且对 <spanclass="math inline">\(y\)</span> 是单调不减的, 证明 <spanclass="math inline">\(f\)</span> 关于 <span class="math inline">\((x,y)\)</span> 是连续</li></ol><p>的。</p><hr /><p>解：<span class="math inline">\((a)\)</span><strong>是</strong>。由连续函数定义，对 <spanclass="math inline">\(\mathbf{x}^*=(x^1,x^2)\)</span> <spanclass="math display">\[\forall \ \mathbf{x}^*\in [a,b]\times [c,d],\forall \\epsilon&gt;0,\exists\ \delta&gt;0,s.t.\forall\\|x-x^*\|\leq\delta,\|f(\mathbf{x})-f(\mathbf{x^*})\|&lt;\epsilon\]</span> 则固定 <span class="math inline">\(x^1\)</span> 时，仅取 <spanclass="math inline">\(\|x-x^*\|\leq \delta\)</span> 中 <spanclass="math inline">\(x\)</span> 第一分量为 <spanclass="math inline">\(x^1\)</span> 的点集，由上述定义知 <spanclass="math display">\[\begin{gathered}\forall \ 固定\ x^1\in [a,b],\forall \ x^2\in[c,d],\mathbf{x}^*=(x^1,x^2),s.t.\forall \ \epsilon&gt;0,\exists\\delta&gt;0,\\\forall\\|x-x^*\|\leq\delta,\|f(\mathbf{x})-f(\mathbf{x^*})\|&lt;\epsilon\end{gathered}\]</span> 从而固定 <span class="math inline">\(x^1\)</span> 时，<spanclass="math inline">\(f(x^1,x^2)\)</span> 随 <spanclass="math inline">\(x^2\)</span> 连续；由对称性可得，固定 <spanclass="math inline">\(x^2\)</span> 时，<spanclass="math inline">\(f(x^1,x^2)\)</span> 随 <spanclass="math inline">\(x^1\)</span> 连续</p><p><span class="math inline">\((b)\)</span><strong>否</strong>。考虑函数 <spanclass="math inline">\(f(x,y)=\begin{cases}\dfrac{xy}{x^2+y^2},&amp;xy\neq 0\\0&amp; xy=0\end{cases}\quadx,y\in[-1,1]\)</span>，由对称性，固定 <spanclass="math inline">\(x\)</span> 有</p><p>若 <span class="math inline">\(x=0\)</span>，则 <spanclass="math inline">\(f(x,y)=0\)</span> 在 <spanclass="math inline">\(y\in[-1,1]\)</span> 区间上均满足 <spanclass="math inline">\(f(0,y)\)</span> 随 <spanclass="math inline">\(y\)</span> 连续；</p><p>若 <span class="math inline">\(x\neq 0\)</span>，则函数 <spanclass="math inline">\(g_1(y)=x^2+y^2\neq 0\)</span>，<spanclass="math inline">\(g_2(z)=\dfrac{1}{z}(z\neq 0)\)</span>， <spanclass="math inline">\(g_3(y)=xy\)</span> 三者均连续</p><p>则 <span class="math inline">\(f(x,y)=(g_2\circ g_1)\cdotg_3\)</span> 复合函数连续，即 <span class="math inline">\(\forall\ x\in[-1,1],f(x,\cdot):[c,d]\rightarrow \mathbb{R}\)</span> 连续</p><p>同理 <span class="math inline">\(\forall\ y\in[-1,1],f(\cdot,y):[c,d]\rightarrow \mathbb{R}\)</span> 连续，而考虑<span class="math inline">\(f(x,y)\)</span> 在原点处的连续性 <spanclass="math display">\[\lim\limits_{(x,y)\to (0,0)}\dfrac{xy}{x^2+y^2}\Large |\normalsize_{(x,y)\to (x,kx)}=\dfrac{k}{1+k^2}\in[-\dfrac{1}{2},\dfrac{1}{2}]\]</span> <span class="math inline">\(k\)</span> 值变化时，<spanclass="math inline">\(f(x,y)=\dfrac{xy}{x^2+y^2}\)</span> 在 <spanclass="math inline">\((0,0)\)</span> 处的极限不存在，从而 <spanclass="math inline">\(f\)</span> 不一定为连续函数</p><p><span class="math inline">\((c)\)</span> <strong>证明</strong>：由<span class="math inline">\(f\)</span> 满足 <spanclass="math inline">\(f(\cdot ,y_0):[a,b]\to \mathbb{R}\)</span>连续，翻译成 $-$ 语言有 <span class="math display">\[\forall \ y_0\in[c,d],\forall \ \epsilon &gt;0 ,\exists\ \delta_1&gt;0,|x-x_0|&lt;\delta_1(\epsilon ),|f(x_0,y_0)-f(x,y_0)|&lt;\epsilon\]</span> 由 $$ 的任意性，则 <span class="math inline">\(\forall \\epsilon &#39;&gt;0\)</span>，上述取 <spanclass="math inline">\(\epsilon=\dfrac{1}{2}\epsilon&#39;\)</span>，另一条件为<span class="math display">\[\forall\ \epsilon &gt;0,\exists \ \delta_2&gt;0,\forall \x\in[a,b],y\in[c,d],|y-y_0|&lt;\delta_2(\epsilon),|f(x,y)-f(x,y_0)|&lt;\epsilon\]</span> 由后者条件中 <span class="math inline">\(x\)</span>的任意性，取 $=' $，则考虑欧几里得空间中的 <spanclass="math inline">\(2-\)</span>范数有 <span class="math display">\[\forall \ \epsilon&#39; &gt;0,\exists \ \delta=\min(\delta_1,\delta_2)&gt;0,\forall \ x\in[a,b],y\in[c,d]\\\|x-x^*\|=\sqrt{(x-x_0)^2+(y-y_0)^2}&lt;\delta\Longrightarrow|x-x_0|&lt;\delta_1 ,|y-y_0|&lt;\delta_2  \\|f(x,y)-f(x_0,y_0)|\leq|f(x,y)-f(x,y_0)|+|f(x_0,y_0)-f(x,y_0)|&lt;\dfrac{1}{2}\epsilon&#39;+\dfrac{1}{2}\epsilon&#39;=\epsilon&#39;\]</span> 则 <span class="math inline">\(f(x,y)\)</span> 在 <spanclass="math inline">\((x_0,y_0)\)</span> 处连续</p><p><span class="math inline">\((d)\)</span> <strong>证明</strong>：由于<span class="math inline">\(f(x,y)\)</span> 对 <spanclass="math inline">\(y\)</span> 单调不减，则有对 <spanclass="math inline">\(\forall \ x\in[a,b]\)</span>， 不妨只考虑 <spanclass="math inline">\(y&gt;y_0\)</span> 的部分</p><p><spanclass="math inline">\(\delta(y_0)&gt;0,0&lt;f(x,y_0+\delta(y_0))-f(x,y_0)&lt;\epsilon\)</span>，取<span class="math inline">\(y=y_0+\delta(y_0)\)</span>，考虑 <spanclass="math display">\[|f(x,y)-f(x_0,y_0)|=|f(x,y_0+\delta(y_0))-f(x_0,y_0)|\\\leq|f(x,y_0+\delta(y_0))-f(x,y_0)|+|f(x,y_0)-f(x_0,y_0)|&lt;\epsilon+\epsilon=2\epsilon\]</span> 其中后者由于 <span class="math inline">\(f(x,y)\)</span> 对<span class="math inline">\(x\)</span> 连续可以保证，从而 <spanclass="math inline">\(f(x,y)\)</span> 在 <spanclass="math inline">\((x_0,y_0)\)</span> 处连续</p><h2 id="section-9">2</h2><p>设 <span class="math inline">\(U \subseteq \mathbb{R}^{2}\)</span>是开集, <span class="math inline">\((a, b) \in U, f\)</span> 在 <spanclass="math inline">\(U \backslash\{(a, b)\}\)</span> 上有定义,且满足极限 <span class="math display">\[A=\lim _{(x, y) \rightarrow(a, b)} f(x, y), \quad B=\lim _{y \rightarrowb} \lim _{x \rightarrow a} f(x, y)\]</span> 都存在。证明 <span class="math inline">\(A=B\)</span>。由此知道, 如果 <span class="math display">\[\lim _{y \rightarrow b} \lim _{x \rightarrow a} f(x, y) \neq \lim _{x\rightarrow a} \lim _{y \rightarrow b} f(x, y)\]</span> 则极限 <span class="math inline">\(\lim\limits _{(x, y)\rightarrow(a, b)} f(x, y)\)</span> 不存在。</p><hr /><p><strong>证明</strong>：由于对 <span class="math inline">\(\forall \0&lt;|y-b|&lt;\delta_0\)</span>，<spanclass="math inline">\(\varphi(y)=\lim\limits_{x\to a}f(x,y)\)</span>存在，即 <span class="math display">\[\forall \ \epsilon&gt;0,y\in U,\exists\ \delta_{1}(y),s.t.|x-a|&lt;\delta_{1}(y),|f(x,y)-\varphi(y)|&lt;\epsilon\]</span> 而又有 <span class="math inline">\(\lim\limits_{y\tob}\varphi(y)=B\)</span> 存在，即 <span class="math inline">\(\forall \\epsilon&gt;0,\exists\ \delta_2&gt;0,|y-b|&lt;\delta_2,|\varphi(y)-B|&lt;\epsilon\)</span></p><p>而 <span class="math inline">\(\lim\limits_{(x,y)\to(a,b)}f(x,y)=A\)</span>，即有 <span class="math display">\[\forall\ \epsilon &gt;0,\exists \ \delta_0&gt;0,\forall \ x,y\inU,\|\boldsymbol v^*-\boldsymbolv\|&lt;\delta_0(\epsilon),|f(x,y)-A|&lt;\epsilon\]</span> 则取 <spanclass="math inline">\(|y-b|&lt;\min(\delta_0,\delta_2),|x-b|&lt;\min(\delta_1(y),\delta_0)\)</span>，总有<spanclass="math inline">\(|f(x,y)-B|&lt;\epsilon+\epsilon=2\epsilon\)</span></p><p>从而 <spanclass="math inline">\(|A-B|&lt;\epsilon+2\epsilon=3\epsilon\)</span>，则<span class="math inline">\(A=B\)</span>，且若 <spanclass="math inline">\(\displaystyle \lim _{y \rightarrow b} \lim _{x\rightarrow a} f(x, y) \neq \lim _{x \rightarrow a} \lim _{y \rightarrowb} f(x, y)\)</span> 两者极限存在</p><p>反证法，若极限 <span class="math inline">\(\lim\limits _{(x, y)\rightarrow(a, b)} f(x, y)\)</span>存在，则由上述证明以及对称性知，三者相等，与假设矛盾，从而</p><p>极限 <span class="math inline">\(\lim\limits _{(x, y) \rightarrow(a,b)} f(x, y)\)</span> 不存在</p><h2 id="section-10">3</h2><p>设</p><ol type="a"><li><p>极限 <span class="math inline">\(\displaystyle H(y)=\lim _{x\rightarrow a} f(x, y)\)</span> 对任意 <span class="math inline">\(y\neq b\)</span> 存在;</p></li><li><p>极限 <span class="math inline">\(\displaystyle G(x)=\lim _{y\rightarrow b} f(x, y)\)</span> 对任意 <spanclass="math inline">\(x\)</span> 存在，且存在 <spanclass="math inline">\(\delta_{0}&gt;0\)</span> 使得：对任意 <spanclass="math inline">\(\varepsilon&gt;0\)</span>，存在</p></li></ol><p><span class="math inline">\(\delta_{2}(\varepsilon)&gt;0\)</span>对任意 <spanclass="math inline">\(0&lt;|y-b|&lt;\delta_{2}(\varepsilon)\)</span>任意 <span class="math inline">\(0&lt;|x-a|&lt;\delta_{0}\)</span> 有<span class="math inline">\(|f(x,y)-G(x)|&lt;\varepsilon\)</span>，则</p><p>极限 <span class="math inline">\(\displaystyle \lim _{x \rightarrowa} \lim _{y \rightarrow b} f(x, y), \lim _{y \rightarrow b} \lim _{x\rightarrow a} f(x, y)\)</span> 和 <spanclass="math inline">\(\displaystyle \lim _{x \rightarrow a, y\rightarrow b} f(x, y)\)</span> 都存在, 且</p><p><span class="math display">\[\lim _{x \rightarrow a, y \rightarrow b} f(x, y)=\lim _{y \rightarrow b}\lim _{x \rightarrow a} f(x, y)=\lim _{x \rightarrow a} \lim _{y\rightarrow b} f(x, y)\]</span></p><hr /><p>证明：（<strong>Cauchy准则</strong> ）<spanclass="math inline">\(\forall \0&lt;|y_1-b|&lt;\delta_2(\epsilon),0&lt;|y_2-b|&lt;\delta_2(\epsilon)\)</span>，对<span class="math inline">\(|x-a|&lt;\delta_{0}\)</span>，都有 <spanclass="math display">\[|f(x,y_1)-G(x)|&lt;\dfrac{\epsilon}{2},|f(x,y_2)-G(x)|&lt;\dfrac{\epsilon}{2}\\therefore |f(x,y_1)-f(x,y_2)|&lt;\dfrac{\epsilon}{2}\cdot 2=\epsilon\]</span> 则令 <span class="math inline">\(x\to a\)</span>，由于 <spanclass="math inline">\(H(y)=\lim\limits_{x\to a}f(x,y)\)</span>存在，则有 <spanclass="math inline">\(|H(y_1)-H(y_2)|&lt;\epsilon\)</span>，即 <spanclass="math display">\[\forall \ \epsilon &gt;0,\exists \ \delta&gt;0,\forall \y_i(i=1,2),0&lt;|y_i-b|&lt;\delta ,|H(y_1)-H(y_2)|&lt;\epsilon\]</span> 由柯西收敛准则得到 <spanclass="math inline">\(\lim\limits_{y\to b}\lim\limits_{x\toa}f(x,y)\)</span> 极限存在，由 <spanclass="math inline">\(0&lt;|y_0-b|&lt;\delta_2(\epsilon)\)</span> <spanclass="math display">\[|G(x_1)-G(x_2)|\leq|G(x_1)-f(x_1,y_0)|+|G(x_2)-f(x_2,y_0)|+|f(x_1,y_0)-f(x_2,y_0)|\]</span> 只需要 <spanclass="math inline">\(0&lt;|x-a|&lt;\delta_0(\dfrac{1}{3}\epsilon)\)</span>，就有<spanclass="math inline">\(|G(x_1)-f(x_1,y_0)|&lt;\dfrac{1}{3}\epsilon,|G(x_2)-f(x_2,y_0)|&lt;\dfrac{1}{3}\epsilon\)</span></p><p>而由于 <span class="math inline">\(\displaystyle H(y)=\lim _{x\rightarrow a} f(x, y)\)</span> 对 <span class="math inline">\(y\neqb\)</span> 时均存在，则添加条件 <spanclass="math inline">\(0&lt;|x-a|&lt;\delta_1(\dfrac{1}{3}\epsilon)\)</span></p><p>就有 <spanclass="math inline">\(|f(x_1,y_0)-f(x_2,y_0)|&lt;\dfrac{1}{3}\epsilon\)</span>，则满足下列条件<span class="math display">\[0&lt;|x-a|&lt;\min(\delta_{0}(\dfrac{1}{3}\epsilon),\delta_{1}(\dfrac{1}{3}\epsilon)),0&lt;|y-b|&lt;\delta_{1}(\epsilon),|G(x_1)-G(x_2)|&lt;\dfrac{1}{3}\epsilon\cdot3=\epsilon\]</span> 由柯西收敛准则得 <span class="math inline">\(\lim\limits_{x\toa}\lim\limits_{y\to b}f(x,y)\)</span>存在，由作业第<strong>2</strong>题知，三种极限存在且相等</p><h2 id="section-11">4</h2><p>设</p><p><span class="math display">\[f(x,y)=\begin{cases}x\sin (\dfrac{1}{y}),&amp; y\neq 0\\0,&amp;y=0\end{cases}\]</span></p><p>讨论极限 <span class="math inline">\(\lim\limits_{(x,y)\to(0,0)}f(x,y),\lim\limits_{y\to 0}\lim\limits_{x\to0}f(x,y),\lim\limits_{x\to 0}\lim\limits_{y\to 0}f(x,y)\)</span></p><p>解：显然 <span class="math inline">\(\lim\limits_{x\to0}f(x,y)=0\)</span>，则有 <span class="math inline">\(\lim\limits_{y\to0}\lim\limits_{x\to 0}f(x,y)=0\)</span>，而对 <spanclass="math inline">\(y\to 0\)</span> 的性质有 <spanclass="math display">\[\forall \ |x|&gt;0,f(x,y)=\begin{cases}x\sin(\dfrac{1}{y}),&amp;y\neq0\\0,&amp;y=0\end{cases}\]</span> 对 <span class="math inline">\(y_{n}=\dfrac{1}{2n\pi+\dfrac{\pi}{2}},y_{m}=\dfrac{1}{2m\pi -\dfrac{\pi}{2}}\)</span>，总有<span class="math inline">\(f(x,y_n)-f(x,y_m)=x-(-x)=2x\)</span></p><p>由柯西收敛准则，<span class="math inline">\(\forall \ x\neq0,\lim\limits_{y\to 0}x\sin(\dfrac{1}{y})\)</span> 不存在，从而 <spanclass="math inline">\(\lim\limits_{x\to 0}\lim\limits_{y\to0}f(x,y)\)</span> 极限不存在</p><p>而对 <span class="math inline">\(\forall \ \epsilon &gt;0,\exists\\delta=\epsilon,\sqrt{x^2+y^2}&lt;\delta,|f(x,y)-0|\leq|x||\sin(\dfrac{1}{y})|\leq |x|&lt;\delta=\epsilon\)</span></p><p>从而 <span class="math inline">\(\lim\limits_{(x,y)\to(0,0)}f(x,y)\)</span> 极限存在，且极限为 <spanclass="math inline">\(0\)</span></p><h2 id="section-12">5</h2><p>判断以下极限的存在性; 若存在, 求出极限值。</p><p><span class="math display">\[\begin{aligned}&amp;(1) \lim _{(x, y) \rightarrow(0,0)} \frac{\arcsin\left(x^2+y^2\right)}{x^2+y^2}\\&amp;(3) \lim _{(x, y) \rightarrow(0,0)}\left(x^2+y^2\right)\mathrm{e}^{x-y}\\&amp;(5) \lim _{(x, y) \rightarrow(0,0)} \frac{x+y}{|x|+|y|}\\&amp;(7) \lim _{(x, y) \rightarrow \infty} \frac{x+y}{x^2+x y+y^2}\\&amp;(9) \lim _{(x, y) \rightarrow \infty}\left(\frac{|x y|}{x^2+xy+y^2}\right)^{x^2}\end{aligned}\]</span></p><hr /><p>解：<span class="math inline">\((1)\)</span> 令 <spanclass="math inline">\(z=x^2+y^2\)</span> ， <spanclass="math inline">\(\lim\limits_{z\to0}\dfrac{\arcsin(z)}{z}=1\)</span>，而当 <spanclass="math inline">\(x,y\to 0\)</span> 时， <spanclass="math inline">\(z=x^2+y^2\neq 0\)</span> 则 <spanclass="math display">\[\displaystyle \lim _{(x, y) \rightarrow(0,0)} \frac{\arcsin\left(x^{2}+y^{2}\right)}{x^{2}+y^{2}}=0\]</span> <span class="math inline">\((3)\)</span> 由极限的连续性，且<span class="math inline">\(\lim\limits_{(x,y)\to(0,0)}x^2+y^2=0,\lim\limits_{(x,y)\to (0,0)}e^{x-y}=0\)</span>则极限存在，且极限为 <span class="math inline">\(0\)</span></p><p><span class="math inline">\((5)\)</span> 只需取 <spanclass="math inline">\(k&gt;0\)</span>，<spanclass="math inline">\(\lim\limits_{(x,kx)\to(0,0)}\dfrac{x+y}{|x|+|y|}=\dfrac{(1+k)x}{(1+k)|x|}\)</span>从而极限不存在</p><p><span class="math inline">\((7)\)</span> 放缩有 <spanclass="math inline">\(|\dfrac{x+y}{x^2+xy+y^2}|\leq\dfrac{|x+y|}{|x^{2}+y^2|-|xy|}\leq\dfrac{|x+y|}{|2xy|-|xy|}\leq\dfrac{|x|+|y|}{|xy|}\leq\dfrac{1}{|x|}+\dfrac{1}{|y|}\)</span></p><p>从而 <span class="math inline">\(\displaystyle \lim _{(x, y)\rightarrow \infty} \frac{x+y}{x^{2}+x y+y^{2}}=0\)</span></p><p><span class="math inline">\((9)\)</span> 若取 <spanclass="math inline">\(y=x\)</span>，有 <spanclass="math inline">\(\lim\limits_{(x,x)\to\infty}\dfrac{|xy|}{x^2+xy+y^2}=\pm\dfrac{1}{3}\)</span>，此时 <spanclass="math inline">\(\lim\limits_{x\to\infty}(\pm\dfrac{1}{3})^{x^2}=0\)</span></p><p>又若取 <span class="math inline">\(y=-x\)</span>，有 <spanclass="math inline">\(\lim\limits_{(x,x)\to\infty}\dfrac{|xy|}{x^2+xy+y^2}=\pm1\)</span>，此时 <spanclass="math inline">\(\lim\limits_{x\to\infty}(\pm\dfrac{1}{3})^{x^2}\neq 0\)</span></p><p>从而 <span class="math inline">\(\displaystyle \lim _{(x, y)\rightarrow \infty}\left(\frac{|x y|}{x^{2}+xy+y^{2}}\right)^{x^{2}}\)</span> 极限不存在</p><h2 id="section-13">6</h2><p>设 <span class="math inline">\(\Omega \subseteq\mathbb{R}^{m}\)</span> 是一个非空集合。</p><ol type="a"><li><p>证明函数 <span class="math inline">\(\displaystyle f:\mathbb{R}^{m} \rightarrow \mathbb{R}, f(\mathbf{x})=\inf _{\mathbf{y}\in \Omega}\|\mathbf{y}-\mathbf{x}\|\)</span>, 是一个连续函数。</p></li><li><p>若 <span class="math inline">\(\Omega\)</span> 是闭集, 证明对任意<span class="math inline">\(\mathbf{x}\)</span> 不在 <spanclass="math inline">\(\Omega\)</span> 中, 存在 <spanclass="math inline">\(\mathbf{y}^{*} \in \Omega\)</span> 使得 <spanclass="math inline">\(f(\mathbf{x})=\left\|\mathbf{y}^{*}-\mathbf{x}\right\|\)</span>,并 且 <span class="math inline">\(\mathbf{y}^{*} \in \partial\Omega\)</span> (即 <span class="math inline">\(\mathbf{y}^{*}\)</span>的任意邻域中都有不属于 <span class="math inline">\(\Omega\)</span>的点)。</p></li><li><p>若 <span class="math inline">\(\Omega_{1}, \Omega_{2}\)</span>是闭集且其中至少一个有界, 证明存在 <spanclass="math inline">\(\mathbf{x}_{k}^{*} \in \Omega_{k}\)</span>使得</p></li></ol><p><span class="math display">\[\left\|\mathbf{x}_{1}^{*}-\mathbf{x}_{2}^{*}\right\|=\inf_{\mathbf{x}_{1} \in \Omega_{1}, \mathbf{x}_{2} \in\Omega_{2}}\left\|\mathbf{x}_{1}-\mathbf{x}_{2}\right\| .\]</span> (d) 举例说明上述 “闭”、“有界”的条件是不能或缺的。</p><hr /><p>证明：<span class="math inline">\((a)\)</span> <spanclass="math inline">\(\forall \ \epsilon&gt;0,\exists\\delta&gt;0,||\mathbf{x}-\mathbf{x}_0||&lt;\delta\)</span>，范数三角不等式<span class="math inline">\(\|\mathbf{y}-\mathbf{x}\|\leq\|\mathbf{y}-\mathbf{x_0}\|+\|\mathbf{x}_0-\mathbf{x}\|\)</span></p><p>左侧放缩 <span class="math inline">\(\displaystyle \inf _{\mathbf{y}\in \Omega}\|\mathbf{y}-\mathbf{x}\|\leq\|\mathbf{y}-\mathbf{x}\|\leq\|\mathbf{y}-\mathbf{x}_0\|+\|\mathbf{x}_0-\mathbf{x}\|\)</span>对所有的 <span class="math inline">\(\mathbf{y}\)</span> 成立，则取特定<span class="math inline">\(\mathbf{y}\)</span> 得 <spanclass="math display">\[\displaystyle \inf _{\mathbf{y} \in \Omega}\|\mathbf{y}-\mathbf{x}\|\leq\inf _{\mathbf{y} \in\Omega}\|\mathbf{y}-\mathbf{x}_0\|+\|\mathbf{x}_0-\mathbf{x}\|\]</span> 同理交换 <span class="math inline">\(\mathbf{x}\)</span> 和<span class="math inline">\(\mathbf{x}_0\)</span> 得到 <spanclass="math inline">\(|\displaystyle \inf _{\mathbf{y} \in\Omega}\|\mathbf{y}-\mathbf{x}\|-\displaystyle \inf _{\mathbf{y} \in\Omega}\|\mathbf{y}-\mathbf{x}_0\||\leq\|\mathbf{x}-\mathbf{x_0}\|\)</span>，则取 $=$，就有 <spanclass="math display">\[\forall \ \epsilon&gt;0,\exists\\delta=\epsilon,||\mathbf{x}-\mathbf{x}_0||&lt;\epsilon,|f(\mathbf{x})-f(\mathbf{x}_0)|\leq\delta=\epsilon\]</span> 则 <span class="math inline">\(\displaystylef(\mathbf{x})=\inf _{\mathbf{y} \in\Omega}\|\mathbf{y}-\mathbf{x}\|\)</span> 连续</p><p><span class="math inline">\((b)\)</span> 由三角不等式 <spanclass="math inline">\(\|\mathbf{y^*}-\mathbf{y_n}\|+\|\mathbf{y_n}-\mathbf{x}\|\geq\|\mathbf{y^*-\mathbf{x}}\|\)</span> 若 <spanclass="math inline">\(f(\mathbf{x})\)</span> 中 <spanclass="math inline">\(\mathbf{y}\)</span> 的取值为 <spanclass="math inline">\(\Omega\)</span> 的内点，则</p><p><span class="math inline">\(\forall \\epsilon_0&gt;\epsilon&gt;0,\exists \\|\mathbf{y^*}-\mathbf{y}_n\|&lt;\epsilon\)</span>，从而可以找到其领域中的<span class="math inline">\(\mathbf{y}_n\)</span>并尽量使三者共线，从而矛盾</p><p>从而 <span class="math inline">\(\mathbf{y}^*\in \partial\Omega\)</span></p><p><span class="math inline">\((c)\)</span> 假设 <spanclass="math inline">\(\Omega_2\)</span> 为有界集合，固定在 <spanclass="math inline">\(\Omega_1\)</span>中一点，由在有界闭集上的连续函数有界有 <span class="math display">\[\forall \ \mathbf{x}_1\in\Omega_{1},\exists \ \mathbf{x}_2^*\in\Omega_{2},\|\mathbf{x}_1-\mathbf{x}_2^*\|=\inf_{\mathbf{x_2}\in\Omega_2}\|\mathbf{x_2}-\mathbf{x_1}\|\]</span> 则取所有 <span class="math inline">\(\mathbf{x}_1\)</span>中范数最小的，则存在 <span class="math inline">\(\displaystyle\left\|\mathbf{x}_{1}^{*}-\mathbf{x}_{2}^{*}\right\|=\inf_{\mathbf{x}_{1} \in \Omega_{1}, \mathbf{x}_{2} \in\Omega_{2}}\left\|\mathbf{x}_{1}-\mathbf{x}_{2}\right\| .\)</span></p><p><span class="math inline">\((d)\)</span> 取 <spanclass="math inline">\(\Omega:x^2+y^2&lt;1\)</span>，范数定义为二维平面中的欧式距离，则<span class="math inline">\(\Omega\)</span> 与 <spanclass="math inline">\((2,0)\)</span> 就没有最小值</p><p>而两个无界区域之间有可能没有范数最小值，如 <spanclass="math inline">\(\{(x,y)\big |y=\tan (x),0\leqx&lt;\dfrac{\pi}{2}\}\)</span></p><p>和 <span class="math inline">\(\{(x,y)\big|x=\dfrac{\pi}{2}\}\)</span>，两者的欧式距离没有最小值（无限趋于 <spanclass="math inline">\(0\)</span> ）</p><h1id="largetextcolorblue微积分第三次作业-smallwtimes-f-_textcolorblue2022.largepi"><spanclass="math inline">\(\large\textcolor{blue}{微积分第三次作业\\small(W\times f)}\ \ \ \ \ \_\textcolor{blue}{2022.\Large\pi}\)</span></h1><h2 id="教材习题1.4.4">教材习题1.4.4</h2><p>求下列函数的全微分 <span class="math display">\[(1)u=\sin \dfrac{1}{\sqrt{x^2+y^2+z^2}}\ \ \mbox{at}\ \(\dfrac{\sqrt{2}}{2}.\dfrac{1}{2},-\dfrac{1}{2}) \quad  (2)\arccose^{xy}\]</span></p><hr /><p>解：<span class="math inline">\((1)\)</span> <spanclass="math inline">\(du=\dfrac{\partial u}{\partialx}dx+\dfrac{\partial u}{\partial y}dy+\dfrac{\partial u}{\partialz}dz\)</span>，代入有 <span class="math display">\[\begin{gathered}du=\cos\dfrac{1}{\sqrt{x^2+y^2+z^2}}\cdot(-\dfrac{1}{2}(x^2+y^2+z^2)^{-\frac{3}{2}})(2xdx+2ydy+2zdz)\\=-\cos 1\cdot (xdx+ydy+zdz)=-\cos 1\cdot(\dfrac{\sqrt{2}}{2}dx+\dfrac{1}{2}dy-\dfrac{1}{2}dz)\end{gathered}\]</span> <span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\((\arccos x)&#39;=-\dfrac{1}{\sqrt{1-x^2}}\)</span><span class="math display">\[du=\dfrac{\partial u}{\partial x}dx+\dfrac{\partial u}{\partialy}dy=-\dfrac{1}{\sqrt{1-e^{2xy}}}(ye^{xy}dx+xe^{xy}dy)=-\dfrac{1}{\sqrt{e^{-2xy}-1}}(ydx+xdy)\]</span></p><h2 id="教材习题1.4.6">教材习题1.4.6</h2><p>已知扇形中心角 <spanclass="math inline">\(\alpha=60^\circ\)</span>，半径 <spanclass="math inline">\(R=20\ \mbox{cm}\)</span>，当 <spanclass="math inline">\(\alpha\)</span> 增加 <spanclass="math inline">\(1^\circ\)</span>时，为使扇形面积保持不变，其半径的增加量 <spanclass="math inline">\(\Delta R\)</span> 近似等于多少？</p><hr /><p>解：由面积公式 <spanclass="math inline">\(S=\dfrac{1}{2}R^{2}\alpha\)</span>，要求 <spanclass="math inline">\(dS=\dfrac{1}{2}R^{2}d\alpha+R\alpha dR=0\)</span>取 <span class="math inline">\(dR=\Delta R,d\alpha =\Delta\alpha\)</span></p><p>解得 <span class="math inline">\(\Delta R=-\dfrac{R}{2}\dfrac{\Delta\alpha}{\alpha}=-\dfrac{1}{6}\ \mbox{cm}\)</span></p><blockquote><p><spanclass="math inline">\(\dfrac{1}{6}\approx0.16666667\)</span>，与直接计算<span class="math inline">\(|\Delta R|=0.16461185\ \mbox{cm}\)</span>相对误差为 <span class="math inline">\(1.2\%\)</span></p></blockquote><h2 id="教材习题1.4.114">教材习题1.4.11(4)</h2><p>求下列函数在点 <span class="math inline">\(P_{0}\)</span> 处沿方向<span class="math inline">\(l\)</span> 的方向导数。</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(z=\ln(x_1+x_2+\cdots+x_n),P_n=(1,0,\cdots,0),l=(1,1,\cdots,1)\)</span></p><hr /><p>解：由于方向导数针对单位向量，先单位化 <spanclass="math inline">\(l_{\small\mbox{unit}}=\dfrac{1}{\sqrt{n}}(1,1,\cdots,1)\)</span> 则由方向导数定义<span class="math display">\[\partial _{\vec{l}}\large z\normalsize=\dfrac{d}{dt}\ln(1+n\cdot\dfrac{t}{\sqrt{n}})\big |_{t=0}=\sqrt{n}\]</span></p><h2 id="教材习题1.4.122">教材习题1.4.12(2)</h2><p>求下列数量场的梯度。<span class="math inline">\((2)\)</span> <spanclass="math inline">\(u(x,y,z)=\dfrac{xyz}{x+y+z}\)</span></p><hr /><p>解：代入标准正交基 <span class="math inline">\(x,y,z\)</span>下的梯度 <span class="math display">\[\nabla u=\dfrac{\partial u}{\partial x}\hat{x}+\dfrac{\partialu}{\partial y}\hat{y}+\dfrac{\partial u}{\partialz}\hat{z}=\dfrac{yz(y+z)}{(x+y+z)^2}\hat{x}+\dfrac{xz(x+z)}{(x+y+z)^2}\hat{y}+\dfrac{xy(x+y)}{(x+y+z)^2}\hat{z}\]</span></p><h2 id="教材习题1.4.15">教材习题1.4.15</h2><p>证明下列函数满足相应的等式。</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\begin{cases}u=e^{x}\cos y\\v=e^{x}\siny\end{cases}\)</span> 满足 <spanclass="math inline">\(\mbox{Cauchy-Riemann}\)</span> 条件 <spanclass="math inline">\(\begin{cases}\dfrac{\partial u}{\partialx}=\dfrac{\partial v}{\partial y}\\\dfrac{\partial u}{\partialy}=-\dfrac{\partial v}{\partial x}\end{cases}\)</span>，且分别满足 <spanclass="math inline">\(\Delta u=0\)</span></p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(n&gt;2\)</span>，<spanclass="math inline">\(u=(\sqrt{x_1^{2}+x_2^2+\cdots+x_n^2})^{2-n}\)</span>满足 <span class="math inline">\(\dfrac{\partial ^2u}{\partialx_{1}^{2}}+\dfrac{\partial ^2u}{\partialx_{2}^{2}}+\cdots+\dfrac{\partial ^2u}{\partialx_{n}^{2}}=0\)</span></p><hr /><p>证明：<span class="math inline">\((3)\)</span> 代入有 <spanclass="math inline">\(\dfrac{\partial u}{\partial x}=e^{x}\cosy=\dfrac{\partial v}{\partial y}=e^{x}cos y,\dfrac{\partial u}{\partialy}=-e^{x}\sin y=-\dfrac{\partial v}{\partial x}\)</span></p><p>则若 <span class="math inline">\(\dfrac{\partial^2 f}{\partialx^{2}}+\dfrac{\partial^2 f}{\partial y^{2}}=0\)</span>，<spanclass="math inline">\(f(u,v)=f(e^{x}\cos y,e^{x}\siny)\)</span>代入计算两次偏导数有 <span class="math display">\[\begin{gathered}\dfrac{\partial f}{\partial x}=\dfrac{\partial f}{\partial u}e^{x}\cosy+\dfrac{\partial f}{\partial v}e^{x}\sin y=u\dfrac{\partial f}{\partialu}+v\dfrac{\partial f}{\partial v}\\\dfrac{\partial f}{\partial y}=-\dfrac{\partial f}{\partial u}e^{x}\siny+\dfrac{\partial f}{\partial v}e^{x}\cos y=-v\dfrac{\partialf}{\partial u}+u\dfrac{\partial f}{\partial v}\end{gathered}\]</span></p><p><span class="math display">\[\begin{gathered}\dfrac{\partial ^2f}{\partial x^2}=u\dfrac{\partial f}{\partialu}+u^2\dfrac{\partial^2 f}{\partial u^2}+v\dfrac{\partial f}{\partialv}+v^2\dfrac{\partial^2 f}{\partial v^2}\\\dfrac{\partial ^2f}{\partial y^2}=-u\dfrac{\partial f}{\partialu}+v^2\dfrac{\partial^2 f}{\partial u^2}-v\dfrac{\partial f}{\partialv}+u^2\dfrac{\partial^2 f}{\partial v^2}\end{gathered}\]</span></p><p>从而 <span class="math inline">\(\dfrac{\partial^2 f}{\partialx^{2}}+\dfrac{\partial^2 f}{\partial y^{2}}=0\Longrightarrow(u^2+v^2)(\dfrac{\partial^2 f}{\partial u^{2}}+\dfrac{\partial^2f}{\partial v^{2}})=0\Longrightarrow \dfrac{\partial^2 f}{\partialu^{2}}+\dfrac{\partial^2 f}{\partial v^{2}}=0\)</span></p><p><span class="math inline">\((4)\)</span> 对 <spanclass="math inline">\(\forall \ i\in[1,n]\)</span>，有 <spanclass="math inline">\(\dfrac{\partial u}{\partialx_i}=\dfrac{(1-\dfrac{n}{2})\cdot2x_{i}}{(x_1^2+\cdots+x_n^2)^{\frac{n}{2}}}=\dfrac{(2-n)\cdotx_{i}}{(x_1^2+\cdots+x_n^2)^{\frac{n}{2}}}\)</span></p><p>则二阶导 <span class="math inline">\(\dfrac{\partial^2 u}{\partialx_i^2}=\dfrac{2-n}{(x_1^2+\cdots+x_n^2)^{\frac{n}{2}}}+\dfrac{(n-2)\cdot\dfrac{n}{2}x_i\cdot2x_i}{(x_1^2+\cdots+x_n^2)^{\frac{n}{2}+1}}\)</span>，则对所有二阶导求和<span class="math display">\[\sum_{i=1}^{n}\dfrac{\partial^2 u}{\partialx_i^2}=(x_1^2+\cdots+x_n^2)^{-\frac{n}{2}}((2-n)\cdot n+(n-2)\cdot n)=0\]</span></p><h2 id="教材习题1.5.33">教材习题1.5.3(3)</h2><p>求下列复合函数的偏导数 <span class="math inline">\(\dfrac{\partialz}{\partial x},\dfrac{\partial z}{\partial y}\)</span>（已知 <spanclass="math inline">\(f\)</span> 为可微函数）</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(z=f(x^2-y^2,e^{xy})\)</span></p><hr /><p>解：令 <span class="math inline">\(u=x^2-y^2,v=e^{xy}\)</span>则代入计算偏导数 <span class="math display">\[\dfrac{\partial z}{\partial x}=\dfrac{\partial z}{\partial u}\cdot2x+\dfrac{\partial z}{\partial v}\cdot ye^{xy},\dfrac{\partialz}{\partial y}=\dfrac{\partial z}{\partial u}\cdot (-2y)+\dfrac{\partialz}{\partial v}\cdot xe^{xy}\]</span></p><h2 id="教材习题1.5.5">教材习题1.5.5</h2><p>已知函数 <span class="math inline">\(u=f(x,y)\)</span>，其中 <spanclass="math inline">\(x=r\cos \theta,y=r\sin \theta\)</span>， <spanclass="math inline">\(f\)</span> 可微，证明 <spanclass="math display">\[(\dfrac{\partial u}{\partial r})^2+(\dfrac{1}{r}\dfrac{\partialu}{\partial \theta})^2=(\dfrac{\partial u}{\partialx})^2+(\dfrac{\partial u}{\partial y})^2\]</span></p><hr /><p>证明：对 <span class="math inline">\(u=f(x,y)=f(r\cos \theta,r\sin\theta)\)</span> 对 <span class="math inline">\(r,\theta\)</span>分别求偏导有 <span class="math display">\[\dfrac{\partial u}{\partial r}=\dfrac{\partial u}{\partial x}\cdot \cos\theta+\dfrac{\partial u}{\partial y}\cdot \sin \theta,\dfrac{\partialu}{\partial \theta}=\dfrac{\partial u}{\partial x}\cdot (-r\sin\theta)+\dfrac{\partial u}{\partial y}\cdot(r\cos \theta)\]</span> 则计算 <span class="math inline">\((\dfrac{\partialu}{\partial r})^2+(\dfrac{1}{r}\dfrac{\partial u}{\partial\theta})^2=(\dfrac{\partial u}{\partial x}\cdot \cos\theta+\dfrac{\partial u}{\partial y}\cdot \sin\theta)^{2}+(\dfrac{\partial u}{\partial x}\cdot (-\sin\theta)+\dfrac{\partial u}{\partial y}\cdot(\cos \theta))^2\)</span></p><p><span class="math inline">\(=(\dfrac{\partial u}{\partialx})^2+(\dfrac{\partial u}{\partial y})^2\)</span> 从而 <spanclass="math inline">\((\dfrac{\partial u}{\partialr})^2+(\dfrac{1}{r}\dfrac{\partial u}{\partial\theta})^2=(\dfrac{\partial u}{\partial x})^2+(\dfrac{\partialu}{\partial y})^2\)</span></p><h2 id="教材习题1.5.7">教材习题1.5.7</h2><p>设 <span class="math inline">\(f\in C^{2}(\mathbb{R}^2)\)</span> 满足<span class="math inline">\(\mbox{Laplace}\)</span> 方程 <spanclass="math inline">\((\dfrac{\partial f}{\partialx})^2+(\dfrac{\partial f}{\partial y})^2=0\)</span>，证明： <spanclass="math display">\[u(x,y)=f(\dfrac{x}{x^2+y^2},\dfrac{y}{x^2+y^2})\]</span> 也满足 <span class="math inline">\(\mbox{Laplace}\)</span>方程。</p><hr /><p>证明：（<strong>使用平面极坐标下拉普拉斯算子简化计算</strong>）<spanclass="math inline">\(\Delta f_{\mbox{polar}}=\dfrac{\partial^2f}{\partial r^2}+\dfrac{1}{r}\dfrac{\partial f}{\partialr}+\dfrac{1}{r^2}\dfrac{\partial ^2f}{\partial \theta^2}\)</span></p><p>则对于满足直角坐标系下 <spanclass="math inline">\(\mbox{Laplace}\)</span> 方程 <spanclass="math inline">\(\Delta f_{\mbox{rectan}}=0=\Deltaf_{\mbox{polar}}\)</span>，转换 <spanclass="math inline">\(u(x,y)=f(\dfrac{1}{r},\theta)\)</span></p><p>而 <span class="math inline">\(\dfrac{\partial u}{\partial(\frac{1}{r})}=-r^2\dfrac{\partial u}{\partial r}\)</span>，<spanclass="math inline">\(\dfrac{\partial^2 u}{\partial(\frac{1}{r})^2}=(-r^2)(-2r\dfrac{\partial u}{\partialr}-r^2\dfrac{\partial^2 u}{\partial r^2})=r^{3}(2\dfrac{\partialu}{\partial r}+r\dfrac{\partial^2 u}{\partial r^2})\)</span></p><p>则代入以 <span class="math inline">\((\dfrac{1}{r},\theta)\)</span>为度量的极坐标拉普拉斯算子判定有 <span class="math display">\[\begin{gathered}\Delta f_{\mbox{polar&#39;}}=\dfrac{\partial ^2f}{\partial(\frac{1}{r})^2}+\dfrac{1}{\frac{1}{r}}\dfrac{\partial f}{\partial(\frac{1}{r})}+\dfrac{1}{(\frac{1}{r})^2}\dfrac{\partial ^2f}{\partial\theta^2}\\=r^{3}(2\dfrac{\partial  f}{\partialr}+r\dfrac{\partial^2  f}{\partialr^2})+r(-r^2\dfrac{\partial  f}{\partial r})+r^{2}\dfrac{\partial^2f}{\partial \theta^2}=r^{3}(\dfrac{\partial  f}{\partialr}+r\dfrac{\partial^2  f}{\partial r^2})+r^2\dfrac{\partial^2f}{\partial \theta^2}=r^{4}\Delta f_{\mbox{polar}}\end{gathered}\]</span> 从而 <span class="math inline">\(\Deltaf_{\mbox{polar&#39;}}=0\)</span> 即 <spanclass="math inline">\(f(\dfrac{1}{r},\theta)=f(\dfrac{x}{x^2+y^2},\dfrac{y}{x^2+y^2})\)</span>满足 <span class="math inline">\(\mbox{Laplace}\)</span> 方程</p><h2 id="讲义习题2.2.8">讲义习题2.2.8</h2><p>记 <span class="math inline">\(\mathbb{R}^{m} \times\mathbb{R}=\left\{\left(X^{1}, \ldots, X^{m}, X^{m+1}\right) \mid X^{k}\in \mathbb{R}\right\}, \mathbb{R}^{m}=\left\{\left(x^{1}, \ldots,x^{m}\right) \mid x^{k} \in \mathbb{R}\right\}\)</span></p><p><img src="https://pic.imgdb.cn/item/622ec3995baa1a80aba5514c.jpg" style="zoom: 33%;" /></p><p><span class="math inline">\(N=(0, \ldots, 0,2) \in \mathbb{R}^{m}\times \mathbb{R}, S^{m}=\left\{\left(X^{1}, \ldots, X^{m},X^{m+1}\right) \mid\left(X^{1}\right)^{2}+\cdots+\right.\)</span> <spanclass="math inline">\(\left.\left(X^{m}\right)^{2}+\left(X^{m+1}-1\right)^{2}=1\right\}\)</span>。定义球极投影，对 <span class="math inline">\(\left(x^{1}, \ldots,x^{m}\right) \in \mathbb{R}^{m}\)</span>, 连接 <spanclass="math inline">\(\left(x^{1}, \ldots, x^{m}, 0\right)\)</span> 与<span class="math inline">\(N\)</span> 的直线交 <spanclass="math inline">\(S^{m}\)</span> 于 <spanclass="math inline">\(\left(X^{1}, \ldots, X^{m},X^{m+1}\right)\)</span> 。证明映射 <span class="math display">\[\left(X^{1}\left(x^{1}, \ldots, x^{m}\right), \ldots, X^{m}\left(x^{1},\ldots, x^{m}\right), X^{m+1}\left(x^{1}, \ldots, x^{m}\right)\right)\]</span> 是可微映射, 并求它的 <spanclass="math inline">\(\mbox{Jacobi}\)</span> 矩阵。</p><hr /><p>解：连接 <span class="math inline">\(N=(0,\cdots,0,2)\)</span> 与<span class="math inline">\(\mathbf{x}=(x^1,\cdots,x^m,0)\)</span>的直线参数方程为 <span class="math display">\[\vec{l}=(0,\cdots,0,2)+t(x^1,\cdots,x^m,-2)=(tx^1,tx^2,\cdots,tx^m,2-2t)\]</span> 代入“高维球”方程得 <span class="math inline">\(t^{2}\displaystyle\sum_{i=1}^{n}\left(x^{i}\right)^{2}+(1-2 t)^{2}=1\Longrightarrow t=\dfrac{4}{4+\displaystyle\sum_{i=0}^{n}\left(x^{i}\right)^{2}}\)</span></p><p>则球极投影 <span class="math inline">\(f(\mathbf{x})=(\dfrac{4x^{1}}{4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}}, \dfrac{4x^{2}}{4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}}, \cdots,\dfrac{4 x^{m}}{4+\displaystyle \sum_{i=0}^{n}\left(x^{i}\right)^{2}},\dfrac{2 \displaystyle \sum_{4}\left(x^{i}\right)^{2}}{4+\displaystyle\sum_{i=0}^{n}\left(x^{i}\right)^{2}})\)</span></p><p>这是由于每个分量对 <span class="math inline">\(x^i\)</span>均是初等函数，从而该球极投影映射为可微映射</p><p>雅可比矩阵定义 <span class="math inline">\(\displaystyle\left[\begin{array}{ccc} \dfrac{\partial X_{1}}{\partial x_{1}} &amp;\cdots &amp; \dfrac{\partial X_{1}}{\partial x_{m}} \\ \vdots &amp;\ddots &amp; \vdots \\ \dfrac{\partial X_{m+1}}{\partial x_{1}} &amp;\cdots &amp; \dfrac{\partial X_{m+1}}{\partial x_{m}}\end{array}\right]\)</span>，记该矩阵第 <spanclass="math inline">\(k\)</span> 行第 <spanclass="math inline">\(l\)</span> 列元素为 <spanclass="math inline">\(A_{k,l}\)</span></p><p>计算有 <span class="math inline">\(A_{k, l}= \begin{cases}4 \cdot\dfrac{4+\displaystyle\sum_{i=0}^{n}\left(x^{i}\right)^{2}-2\left(x^{k}\right)^{2}}{\left(4+\displaystyle\sum_{i=0}^{n}\left(x^{i}\right)^{2}\right)^{2}} &amp; l=k \leq m \\\dfrac{-8 x^{k} x^{j}}{\left(4+\displaystyle\sum_{i=0}^{n}\left(x^{i}\right)^{2}\right)^{2}} &amp; l \neq k \leq m\\ \dfrac{16 x^{l}}{\left(4+\displaystyle\sum_{i=0}^{n}\left(x^{i}\right)^{2}\right)^{2}} &amp;k=m+1\end{cases}\)</span> 为雅可比矩阵的每一项</p><h2 id="讲义习题2.3.10">讲义习题2.3.10</h2><p><span class="math inline">\(\mathbb{R}^{3}\)</span>中的球坐标系。其中极径 <span class="math inline">\(r\)</span>, 纬度<span class="math inline">\(\theta\)</span> 和经度 <spanclass="math inline">\(\varphi\)</span> 如图所示。</p><p><img src="https://pic.imgdb.cn/item/622edbc95baa1a80abaff723.jpg" style="zoom:33%;" /></p><p><span class="math inline">\((a)\)</span> 试写出用球坐标 <spanclass="math inline">\((r, \theta, \varphi)\)</span> 表达的直角坐标 <spanclass="math inline">\((x(r, \theta, \varphi), y(r, \theta, \varphi),z(r, \theta, \varphi))\)</span> 的表达式, 并证明它是可微映射,求出该映射的 <span class="math inline">\(\mbox{Jacobi}\)</span>矩阵。该矩阵是否可逆? 为什么?</p><p><span class="math inline">\((b)\)</span> 记 <spanclass="math display">\[\mathbf{e}_{r}=\left(\begin{array}{l}\dfrac{\partial x}{\partial r} \\\dfrac{\partial y}{\partial r} \\\dfrac{\partial z}{\partial r}\end{array}\right), \quad \mathbf{e}_{\theta}=\left(\begin{array}{l}\dfrac{\partial x}{\partial \theta} \\\dfrac{\partial y}{\partial \theta} \\\dfrac{\partial z}{\partial \theta}\end{array}\right), \quad \mathbf{e}_{\varphi}=\left(\begin{array}{l}\dfrac{\partial x}{\partial \varphi} \\\dfrac{\partial y}{\partial \varphi} \\\dfrac{\partial z}{\partial \varphi}\end{array}\right)\]</span> 求它们给出的度量矩阵。</p><p><span class="math inline">\((c)\)</span> 计算 <spanclass="math inline">\((x(r, \theta, \varphi), y(r, \theta, \varphi),z(r, \theta, \varphi))\)</span> 的 <spanclass="math inline">\(\mbox{Jacobi}\)</span> 矩阵的行列式,并对结果给出几何解释。</p><p><span class="math inline">\((d)\)</span> 对可微函数 <spanclass="math inline">\(f: \mathbb{R}^{3} \rightarrow \mathbb{R}\)</span>,求在球坐标系下 <span class="math inline">\(f\)</span> 的梯度 <spanclass="math inline">\(\nabla f\)</span> （用偏导数 <spanclass="math inline">\(\dfrac{\partial f}{\partial r}, \dfrac{\partialf}{\partial \theta}, \dfrac{\partial f}{\partial \varphi}\)</span>表示)。</p><p><span class="math inline">\((e)\)</span> 记 <spanclass="math inline">\(S^{2}=\left\{(x, y, z) \in \mathbb{R}^{3} \midx^{2}+y^{2}+z^{2}=1\right\}\)</span> 。如果 <spanclass="math inline">\(f(\theta, \varphi)\)</span> 是 <spanclass="math inline">\(S^{2}\)</span> 上的可微函数, 求 <spanclass="math inline">\(\nabla f\)</span> (用偏导数 <spanclass="math inline">\(\dfrac{\partial f}{\partial \theta},\dfrac{\partial f}{\partial \varphi}\)</span> 表示)。</p><hr /><p>解：<span class="math inline">\((a)\)</span> 由几何关系得 <spanclass="math inline">\(\left(\begin{array}{l} x \\ y\\z\end{array}\right)=\left(\begin{gathered} r \sin\theta\cos\varphi \\ r\sin \theta\sin\varphi\\ r\cos\theta\end{gathered}\right)\)</span>，显然该映射可微，对其求导得到雅克比矩阵<span class="math display">\[\left(\begin{gathered}\mathrm{d}x\\\mathrm{d}y\\\mathrm{d}z\end{gathered}\right)=\begin{pmatrix}\sin\theta\cos\varphi&amp;r\cos\theta\cos\varphi&amp;-r\sin\theta\sin\varphi\\\sin\theta\sin\varphi&amp;r\cos\theta\sin\varphi&amp;r\sin\theta\cos\varphi\\\cos\theta&amp;-r\sin\theta&amp;0\end{pmatrix}\left(\begin{gathered}\mathrm{d}r\\\mathrm{d}\theta\\\mathrm{d}\varphi\end{gathered}\right)=J\left(\begin{gathered}\mathrm{d}r\\\mathrm{d}\theta\\\mathrm{d}\varphi\end{gathered}\right)\]</span> <span class="math inline">\((b)\)</span> 代入计算有 <spanclass="math inline">\(\mathbf{e}_r=\left(\begin{gathered}\sin\theta\cos\varphi\\\sin \theta\sin\varphi\\ \cos\theta\end{gathered}\right),\mathbf{e}_\theta=\left(\begin{gathered}r\cos\theta\cos\varphi\\ r\cos\theta\sin\varphi\\ -r\sin\theta\end{gathered}\right),\mathbf{e}_\varphi=\left(\begin{gathered}-r\sin\theta\sin\varphi\\ r\sin\theta\cos\varphi\\ 0\end{gathered}\right)\)</span> <spanclass="math display">\[\begin{gathered}\langle\mathbf{e}_r,\mathbf{e}_r\rangle=1,\langle\mathbf{e}_r,\mathbf{e}_\theta\rangle=0,\langle\mathbf{e}_r,\mathbf{e}_\varphi\rangle=0,\langle\mathbf{e}_\theta,\mathbf{e}_\theta\rangle=r^2,\langle\mathbf{e}_\theta,\mathbf{e}_\varphi\rangle=0,\langle\mathbf{e}_\varphi,\mathbf{e}_\varphi\rangle=r^2\sin^2\theta\end{gathered}\]</span> 则度量矩阵为 <span class="math inline">\(\left(\begin{array}{}1 &amp; 0 &amp;0\\ 0 &amp; r^{2}&amp;0\\ 0&amp;0&amp;r^2\sin^2\theta\end{array}\right)\)</span></p><p><span class="math inline">\((c)\)</span> 由 <spanclass="math inline">\(\small(a)\)</span> 中雅可比矩阵计算行列式 <spanclass="math display">\[\begin{gathered}\det J=r^2\sin ^3\theta\sin ^2\varphi+r^2\sin \theta\cos^2 \theta\sin^2\varphi+r^2\sin \theta\cos^2 \theta\cos ^2\varphi+r^2\sin ^3\theta\cos^2\varphi\\=r^2\sin \theta\sin ^2\varphi+r^2\sin \theta\cos ^2\varphi=r^2\sin\theta\end{gathered}\]</span>该行列式代表三维坐标下微体积元与三维直角坐标系中微体积元之比</p><p><span class="math inline">\((d)\)</span> 由梯度表达式计算得 <spanclass="math display">\[\begin{gathered}\nabla f(r, \theta,\varphi)=\left(\mathbf{e}_{r},\mathbf{e}_{\theta},\mathbf{e}_\varphi\right)\left(\begin{array}{}1 &amp; 0 &amp;0\\0 &amp; r^{2}&amp;0\\0&amp;0&amp;r^2\sin^2\theta\end{array}\right)^{-1}\left(\begin{array}{c}\partial_{r} f \\\partial_{\theta} f\\\partial_{\varphi} f\end{array}\right)\\=\partial_{r} f \mathbf{e}_{r}+\frac{1}{r^{2}}\partial_{\theta} f\mathbf{e}_{\theta}+\frac{1}{r^2\sin^2\theta}\partial_\varphif\mathbf{e}_\varphi=\dfrac{\partial f}{\partialr}\mathbf{e}_{r}+\dfrac{1}{r^2}\dfrac{\partial f}{\partial\theta}\mathbf{e}_{\theta}+\dfrac{1}{r^2\sin^2 \theta}\dfrac{\partialf}{\partial \varphi}\mathbf{e}_{\varphi}\end{gathered}\]</span> <span class="math inline">\((e)\)</span> 相当于是固定 <spanclass="math inline">\(r\equiv1\)</span>，则 <spanclass="math inline">\(\nabla f=\dfrac{\partial f}{\partial\theta}\mathbf{e}_{\theta}+\dfrac{1}{\sin^2 \theta}\dfrac{\partialf}{\partial \varphi}\mathbf{e}_{\varphi}\)</span></p><h2 id="讲义习题2.3.11">讲义习题2.3.11</h2><p>环面上, 纬度 <span class="math inline">\(\theta\)</span> 和经度 <spanclass="math inline">\(\varphi\)</span> 如图所示。设环面轴径为 <spanclass="math inline">\(a\)</span>, 经线半径为 <spanclass="math inline">\(b\)</span>, <spanclass="math inline">\(0&lt;b&lt;a\)</span> ，如图所示。</p><p><img src="https://pic.imgdb.cn/item/622ee3385baa1a80abb3411d.jpg" style="zoom:33%;" /></p><p><span class="math inline">\((a)\)</span> 试写出用环面坐标 <spanclass="math inline">\((\theta, \varphi)\)</span> 表达的直角坐标 <spanclass="math inline">\((x(\theta, \varphi), y(\theta, \varphi), z(\theta,\varphi))\)</span> 的表达式, 并证明它是可微映射, 求出该映射的 <spanclass="math inline">\(\mbox{Jacobi}\)</span> 矩阵。该矩阵是否可逆?为什么?</p><p><span class="math inline">\((b)\)</span> 记 <spanclass="math display">\[\mathbf{e}_{\theta}=\left(\begin{array}{l}\dfrac{\partial x}{\partial \theta} \\\dfrac{\partial y}{\partial \theta} \\\dfrac{\partial z}{\partial \theta}\end{array}\right), \quad \mathbf{e}_{\varphi}=\left(\begin{array}{l}\dfrac{\partial x}{\partial \varphi} \\\dfrac{\partial y}{\partial \varphi} \\\dfrac{\partial z}{\partial \varphi}\end{array}\right)\]</span> 求它们给出的度量矩阵。</p><p><span class="math inline">\((c)\)</span> 如果 <spanclass="math inline">\(f(\theta, \varphi)\)</span> 是环面上的可微函数, 求<span class="math inline">\(\nabla f\)</span> (用偏导数 <spanclass="math inline">\(\dfrac{\partial f}{\partial \theta},\dfrac{\partial f}{\partial \varphi}\)</span> 表示)。</p><hr /><p>解：<span class="math inline">\((a)\)</span> 由几何关系得 <spanclass="math inline">\(\left(\begin{array}{l} x \\ y\\z\end{array}\right)=\left(\begin{gathered} (a+b\cos \theta)\cos \varphi\\ (a+b\cos \theta)\sin \varphi\\ b\sin\theta\end{gathered}\right)\)</span>，显然其可微，对其求导有 <spanclass="math display">\[\left(\begin{array}{l}\mathrm{d} x \\\mathrm{~d} y \\\mathrm{~d} z\end{array}\right)=\left(\begin{array}{cc}-b \sin \theta \cos \varphi &amp; -(a+b \cos \theta) \sin \varphi \\-b \sin \theta \sin \varphi &amp; (a+b \cos \theta) \cos \varphi \\b \cos \theta &amp; 0\end{array}\right)\left(\begin{array}{c}\mathrm{d} \theta \\\mathrm{d} \varphi\end{array}\right)=J\left(\begin{array}{c}\mathrm{d} r \\\mathrm{~d} \theta \\\mathrm{d} \varphi\end{array}\right)\]</span> <span class="math inline">\((b)\)</span> 有 <spanclass="math inline">\(\mathbf{e}_\theta=\left(\begin{gathered}-b\sin\theta\cos \varphi\\ -b\sin \theta\sin \varphi\\-b\cos\theta\end{gathered}\right),\mathbf{e}_\varphi=\left(\begin{gathered}-(a+b\cos \theta)\sin\varphi\\(a+b\cos \theta)\cos \varphi\\0\end{gathered}\right)\)</span>，计算度量矩阵 <spanclass="math display">\[\begin{gathered}\langle\mathbf{e}_{\theta},\mathbf{e}_{\theta}\rangle=b^2,\langle\mathbf{e}_{\varphi},\mathbf{e}_\theta\rangle=0,\langle\mathbf{e}_{\varphi},\mathbf{e}_\varphi\rangle=(a+b\cos\theta)^{2}\end{gathered}\]</span> <span class="math inline">\((c)\)</span> 由梯度表达式 <spanclass="math inline">\(\nabla f(\theta,\varphi)=\left(\mathbf{e}_{\theta},\mathbf{e}_\varphi\right)\left(\begin{array}{} b^2&amp; 0 \\ 0 &amp; (a+b\cos \theta)^2\end{array}\right)^{-1}\left(\begin{array}{c} \partial_{\theta} f\\\partial_{\varphi} f \end{array}\right)\\\)</span></p><p>得到 <span class="math inline">\(\nablaf(\theta,\varphi)=\dfrac{1}{b^2}\dfrac{\partial f}{\partial\theta}\mathbf{e}_{\theta}+\dfrac{1}{(a+b\cos\theta)^{2}}\dfrac{\partial f}{\partial\varphi}\mathbf{e}_{\varphi}\)</span></p><h2 id="讲义习题2.4.5">讲义习题2.4.5</h2><p>平面极坐标系下 <span class="math inline">\(\mbox{Laplace}\)</span>方程为 <span class="math inline">\(\dfrac{\partial^{2} u}{\partialr^{2}}+\dfrac{1}{r} \dfrac{\partial u}{\partial r}+\dfrac{1}{r^{2}}\dfrac{\partial^{2} u}{\partial \theta^{2}}=0\)</span> 。</p><p>求分离变量形式的解 <span class="math inline">\(u(r, \theta)=X(r)Y(\theta)\)</span> 。</p><hr /><p>解：代入分离变量形式有 <span class="math inline">\(\Deltau=Y(\theta)\left(\partial_{r, r}^{2} X(r)+\dfrac{1}{r} \partial_{r}X(r)\right)+\dfrac{X(r)}{r^{2}} \partial_{\theta, \theta}Y(\theta)=0\)</span> 变形为 <span class="math display">\[\frac{1}{X(r)}\left(r^{2} \partial_{r, r}^{2} X(r)+r \partial_{r}X(r)\right)+\frac{1}{Y(\theta)} \partial_{\theta, \theta} Y(\theta)=0\]</span> 由于前两项与后一项无关联，令 <span class="math inline">\(r^{2}\partial_{r, r}^{2} X(r)+r \partial_{r} X(r)=C X(r),\partial_{\theta,\theta} Y(\theta)=-CY(\theta)\)</span></p><p>前者为欧拉方程，取 <span class="math inline">\(t=\lnr\)</span>，化简得 <span class="math inline">\(\dfrac{\partial^2X(t)}{\partial t^2}=CX(t)\)</span>，则分类讨论有 <spanclass="math display">\[\begin{aligned}&amp;X(r)=k_{1} \cosh (\sqrt{C} \ln r)+k_{2} \sinh (\sqrt{C} \ln r),&amp; C&gt;0 \\&amp;Y(\theta)=k_{3} \cos (\sqrt{C} \theta)+k_{4} \sin (\sqrt{C} \theta); \\&amp;X(r)=k_{1} \cos (\sqrt{-C} \ln r)+k_{2} \sin (\sqrt{-C} \ln r),&amp;C&lt;0 \\&amp;Y(\theta)=k_{3} \cosh (\sqrt{-C} \theta)+k_{4} \sinh (\sqrt{-C}\theta) ; \\&amp;X(r)=k_{1} \ln r+k_{2}, Y(\theta)=k_{3} \theta ; &amp;C=0\end{aligned}\]</span> 从而合并所有解令 <span class="math inline">\(C&gt;0\)</span>有 <span class="math display">\[u(r, \theta)=\left\{\begin{array}{l}\left(C_{1} r^{C}+C_{2} r^{-C}\right) \cos \left(C \theta+C_{3}\right)\\\cos \left(C \ln r+C_{1}\right)\left(C_{2} \mathrm{e}^{C \theta}+C_{3}\mathrm{e}^{-C \theta}\right) \\C_{1}\left(\ln r+C_{2}\right) \theta\end{array}\right.\]</span></p><h2 id="讲义习题2.4.6">讲义习题2.4.6</h2><p>求直角坐标系下的 <span class="math inline">\(\mbox{Laplace}\)</span>方程 <span class="math inline">\(\Delta f=\dfrac{\partial^{2}f}{\partial x^{2}}+\dfrac{\partial^{2} f}{\partialy^{2}}+\dfrac{\partial^{2} f}{\partial z^{2}}=0\)</span>在空间球坐标系下表达式。</p><hr /><p>解：利用 <span class="math inline">\(\Delta=\nabla\cdot\nabla\)</span>，且由讲义 <span class="math inline">\(2.3.10\)</span>习题知 <span class="math display">\[\begin{gathered}\nabla f(r, \theta,\varphi)=\dfrac{\partial f}{\partialr}\mathbf{e}_{r}+\dfrac{1}{r^2}\dfrac{\partial f}{\partial\theta}\mathbf{e}_{\theta}+\dfrac{1}{r^2\sin^2 \theta}\dfrac{\partialf}{\partial \varphi}\mathbf{e}_{\varphi}\\\mathbf{e}_r=\left(\begin{gathered}\sin\theta\cos\varphi\\ \sin\theta\sin\varphi\\\cos\theta\end{gathered}\right),\mathbf{e}_\theta=\left(\begin{gathered}r\cos\theta\cos\varphi\\ r\cos\theta\sin\varphi\\-r\sin\theta\end{gathered}\right),\mathbf{e}_\varphi=\left(\begin{gathered}-r\sin\theta\sin\varphi\\ r\sin\theta\cos\varphi\\0\end{gathered}\right)\end{gathered}\]</span> 且不同坐标的偏导有，计算拉普拉斯算子得到 <spanclass="math display">\[\begin{gathered}\partial_{r} \mathbf{e}_{r}=0, \partial_{r}\mathbf{e}_{\theta}=\frac{\mathbf{e}_{\theta}}{r}, \partial_{r}\mathbf{e}_{\varphi}=\frac{\mathbf{e}_{\varphi}}{r} \\\partial_{\theta} \mathbf{e}_{r}=\frac{\mathbf{e}_{\theta}}{r},\partial_{\theta} \mathbf{e}_{\theta}=-r \mathbf{e}_{r},\partial_{\theta} \mathbf{e}_{\varphi}=\cot \theta \mathbf{e}_{\varphi}\\\partial_{\varphi} \mathbf{e}_{r}=\frac{\mathbf{e}_{\varphi}}{r},\partial_{\varphi} \mathbf{e}_{\theta}=\cot \theta \mathbf{e}_{\varphi},\partial_{\varphi} \mathbf{e}_{\varphi}=\left[\begin{array}{c}-r \sin \theta \cos \varphi \\-r \sin \theta \sin \varphi \\0\end{array}\right]\\\Delta=\left(\mathbf{e}_{r}\partial_{r}+\frac{\mathbf{e}_{\theta}}{r^{2}}\partial_{\theta}+\frac{\mathbf{e}_{\varphi}}{r^{2} \sin ^{2} \theta}\partial_{\varphi}\right) \cdot\left(\mathbf{e}_{r}\partial_{r}+\frac{\mathbf{e}_{\theta}}{r^{2}}\partial_{\theta}+\frac{\mathbf{e}_{\varphi}}{r^{2} \sin ^{2} \theta}\partial_{\varphi}\right) \\=\partial_{r, r}+0+0+\frac{1}{r} \partial_{r}+\frac{1}{r^{2}}\partial_{\theta, \theta}+0+\frac{1}{r} \partial_{r}+\frac{\cot\theta}{r^{2}} \partial_{\theta}+\frac{1}{r^{2} \sin ^{2} \theta}\partial_{\varphi, \varphi} \\=\partial_{r, r}+\frac{2}{r} \partial_{r}+\frac{1}{r^{2}}\partial_{\theta, \theta}+\frac{\cot \theta}{r^{2}}\partial_{\theta}+\frac{1}{r^{2} \sin ^{2} \theta} \partial_{\varphi,\varphi}\end{gathered}\]</span></p><blockquote><p>这与球坐标系下拉普拉斯算子的一般表达式（来源于网络）等价 <spanclass="math display">\[\Delta=\frac{1}{r^{2}} \frac{\partial}{\partial r}\left(r^{2}\frac{\partial u}{\partial r}\right)+\frac{1}{r^{2} \sin \theta}\frac{\partial}{\partial \theta}\left(\sin \theta \frac{\partialu}{\partial \theta}\right)+\frac{1}{r^{2} \sin ^{2} \theta}\frac{\partial^{2} u}{\partial \varphi^{2}}\]</span></p></blockquote><h1id="largetextcolorblue微积分第四次作业-smallwtimes-f-_textcolorblue2022.3.22"><spanclass="math inline">\(\large\textcolor{blue}{微积分第四次作业\\small(W\times f)}\ \ \ \ \ \ _\textcolor{blue}{2022.3.22}\)</span></h1><h2 id="教材第一章总复习11">教材第一章总复习11</h2><p>已知偏微分方程 (输运方程) <spanclass="math inline">\(\left\{\begin{array}{l}\dfrac{\partial z}{\partialt}=a \dfrac{\partial z}{\partial x}+b \dfrac{\partial z}{\partial y}, \\z(x, y, 0)=z_{0}(x, y),\end{array}\right.\)</span> 证明它的解为 <spanclass="math inline">\(z=\)</span> <span class="math inline">\(z_{0}(x+at, y+b t) .\)</span></p><hr /><p>解：显然当 <span class="math inline">\(z=z_{0}(x+at,y+bt)\)</span>时，<span class="math inline">\(\dfrac{\partial z}{\partialt}=\dfrac{\partial z}{\partial x}\cdot a+\dfrac{\partial z}{\partialy}\cdot b\)</span> 满足条件</p><p>令 <span class="math inline">\(z(s)=z(x-as,y-bs,t+s)\)</span>，满足<span class="math inline">\(\dfrac{\partial z}{\partials}=-a\dfrac{\partial z}{\partial x}-b\dfrac{\partial z}{\partialy}+\dfrac{\partial z}{\partial t}=0\)</span>，则对每个 <spanclass="math inline">\(x,y,t\)</span></p><p>都有 <spanclass="math inline">\(z(x-as,y-bs,t+s)=z(0)=z(x,y,t)\)</span>，令 <spanclass="math inline">\(t=-s\)</span> 代入得 <span class="math display">\[z(x+at,y+bt,0)=z_0(x+at,y+bt)=z(x,y,t)\]</span> 则 <spanclass="math inline">\(z(x,y,t)=z_0(x+at,y+bt)\)</span>为满足条件的唯一解</p><h2 id="教材第一章总复习121">教材第一章总复习12(1)</h2><p>（1）设函数 <span class="math inline">\(f, g \in C^{2}\)</span>,证明: <span class="math inline">\(u(x, y, z,t)=\dfrac{1}{r}(f(t+r)-g(t-r))\)</span> 满足弦振动方程</p><p><span class="math inline">\(\dfrac{\partial^{2} u}{\partialt^{2}}=\dfrac{\partial^{2} u}{\partial x^{2}}+\dfrac{\partial^{2}u}{\partial y^{2}}+\dfrac{\partial^{2} u}{\partial z^{2}}\)</span>, 其中<span class="math inline">\(r=\sqrt{x^{2}+y^{2}+z^{2}}\)</span>;</p><hr /><p>证明：对 <span class="math inline">\(u(x, y, z,t)=\dfrac{1}{r}(f(t+r)-g(t-r))\)</span> 求偏导有 <spanclass="math display">\[\begin{gathered}\dfrac{\partial u}{\partialt}=\dfrac{f&#39;(t+r)-g&#39;(t-r)}{r},\dfrac{\partial^2 u}{\partialt^2}=\dfrac{f&#39;&#39;(t+r)-g&#39;&#39;(t-r)}{r}\\\dfrac{\partial u}{\partial x}=\dfrac{f&#39;(t+r)\cdotx+g&#39;(t-r)\cdot x-(f(t+r)-g(t-r))\cdot \dfrac{x}{r}}{x^2+y^2+z^2}\\\dfrac{\partial^2 u}{\partialx^2}=\dfrac{(f&#39;(t+r)+g&#39;(t-r)+f&#39;&#39;(t+r)\cdot\dfrac{x^2}{r}-g&#39;&#39;(t-r)\cdot \dfrac{x^2}{r})\cdotr^2}{(x^2+y^2+z^2)^2}\\+\dfrac{-(f&#39;(t+r)+g&#39;_r(t-r))\cdot \dfrac{x^2}{r^2}\cdotr^2-(f(t+r)-g(t-r))\cdot \dfrac{y^2+z^2}{r^3}\cdotr^2}{(x^2+y^2+z^2)^2}\\-\dfrac{(f&#39;(t+r)\cdot x+g&#39;(t-r)\cdot x-(f(t+r)-g(t-r))\cdot\dfrac{x}{r})\cdot 2x}{(x^2+y^2+z^2)^2}\\\end{gathered}\]</span> <span class="math display">\[\begin{gathered}=\dfrac{-(f(t+r)-g(t-r))\cdot(\dfrac{-2x^2+y^2+z^2}{r})+(-3x^2+r^2)\cdot(f&#39;(t+r)+g&#39;(t-r))}{r^4}\\+\dfrac{(f&#39;&#39;(t+r)-g&#39;&#39;(t-r))\cdot x^2r}{r^4}\end{gathered}\]</span> 则对 <span class="math inline">\(x,y,z\)</span> 求和有 <spanclass="math display">\[\begin{gathered}\dfrac{\partial^{2} u}{\partial x^{2}}+\dfrac{\partial^{2} u}{\partialy^{2}}+\dfrac{\partial^{2} u}{\partialz^{2}}=\dfrac{-(f(t+r)-g(t-r))\cdot \displaystyle\sum\dfrac{-2x^2+y^2+z^2}{r}}{r^4}\\+\dfrac{(f&#39;(t+r)+g&#39;(t-r))\cdot \displaystyle \sum(-3x^2+r^2)}{r^4}+\dfrac{(f&#39;&#39;(t+r)-g&#39;&#39;(t-r))\cdot\displaystyle \sum x^2r}{r^4}\\=0+0+\dfrac{f&#39;&#39;(t+r)-g&#39;&#39;(t-r)}{r}=\dfrac{\partial^2u}{\partial t^2}\end{gathered}\]</span></p><h2 id="教材第一章总复习15">教材第一章总复习15</h2><p>设 <span class="math inline">\(f(x, y)\)</span> 是可微函数,且满足以下条件 <span class="math inline">\(\lim\limits _{x^{2}+y^{2}\rightarrow+\infty} \dfrac{f(x,y)}{\sqrt{x^{2}+y^{2}}}=+\infty\)</span>, 试证明: 对于任意的 <spanclass="math inline">\(\boldsymbol{v}=\left\{v_{1},v_{2}\right\}\)</span>, 都存在点 <spanclass="math inline">\(\left(x_{0}, y_{0}\right)\)</span>, 使得 <spanclass="math inline">\(\operatorname{grad} f\left(x_{0},y_{0}\right)=v\)</span>.</p><hr /><p>证明：对 <span class="math inline">\(\forall \ v_1,v_2\inR,\boldsymbol v=\{v_1,v_2\}\)</span>，定义 <spanclass="math inline">\(g(x,y)=f(x,y)-(v_1x+v_2y)\)</span></p><p>则 <span class="math inline">\(\mbox{grad}\ f(x_0,y_0)=\boldsymbolv\Longleftrightarrow \mbox{grad}\ g(x_0,y_0)=0\)</span>，而 <spanclass="math inline">\(\dfrac{|x_0x+y_0y|}{\sqrt{x^2+y^2}}\leq\dfrac{\sqrt{x_0^2+y_0^2}\cdot\sqrt{x^2+y^2}}{\sqrt{x^2+y^2}}\)</span></p><p>后者为一常量 <span class="math inline">\(&lt;+\infty\)</span>，则<span class="math inline">\(\lim\limits_{x^2+y^2\to+\infty}\dfrac{g(x,y)}{\sqrt{x^2+y^2}}=+\infty\)</span>，由极限定义知<span class="math display">\[\forall \ M&gt;0,\exists\ N&gt;0,\forall \x^2+y^2&gt;N,\dfrac{g(x,y)}{\sqrt{x^2+y^2}}&gt;M\]</span> 则任取 <span class="math inline">\(M_0\)</span>，令 <spanclass="math inline">\(\mathbb{S}=\{(x,y)\mid x^2+y^2\leqN\}\)</span>，该集合为定义在 <span class="math inline">\(\mathbb{R}^2\to\mathbb{R}\)</span> 上的有界闭集</p><p>对应值域有最小值 <spanclass="math inline">\(f(x_1,y_1)=m_{min}\)</span>，结合上述可知，该坐标为整个定义域上的最小值</p><p>则一定 <span class="math inline">\(\exists \ x_1,y_1,s.t.\mbox{grad}\g(x_1,y_1)=0\)</span>，从而原命题成立</p><h2 id="讲义2.4.8">讲义2.4.8</h2><p>求 <span class="math inline">\(\partial^{2}\operatorname{det}(A)\)</span> 以及 <spanclass="math inline">\(\operatorname{det}\)</span> 在 <spanclass="math inline">\(I\)</span> 处的 <spanclass="math inline">\(2\)</span> 阶 <spanclass="math inline">\(Taylor\)</span> 展开式。(提示: <spanclass="math inline">\(A A^{* T}=\)</span> <spanclass="math inline">\(\left.\operatorname{det}(A)I_{\circ}\right)\)</span></p><hr /><p>解：由 <span class="math inline">\(D\detA(B_1)=\text{tr}(A^{*T}B_1)=\det A\cdot\text{tr}(A^{-1}B_1)\)</span>，继续变化 <spanclass="math inline">\(A\)</span> 为 <spanclass="math inline">\(B_2\)</span> 求导有</p><p><spanclass="math inline">\(D(\text{tr}(A^{-1}B_1))(B_2)=\text{tr}((A+B_2)^{-1}B_1)-\text{tr}(A^{-1}B_1)\)</span>由可逆运算的一阶“泰勒”展开</p><p><spanclass="math inline">\((A+B_2)^{-1}=(A(I+A^{-1}B_2))^{-1}=(I+A^{-1}B_2)^{-1}A^{-1}=(I-A^{-1}B_2+o(B_2))A^{-1}\)</span></p><p>则有 <spanclass="math inline">\(D(\text{tr}(A^{-1}B_1))(B_2)=-\text{tr}(A^{-1}B_2A^{-1}B_1)\)</span>，则由链式法则对<span class="math inline">\(\det A\)</span> 的二阶展开式 <spanclass="math display">\[\partial ^2\det A=\det A\cdot (\tr(A^{-1}B_2)\cdot \tr(A^{-1}B_1)-\tr(A^{-1}B_2A^{-1}B_1))\]</span> 则 $$ 在 <span class="math inline">\(I\)</span> 处的 <spanclass="math inline">\(Taylor\)</span> 展开式有 <spanclass="math inline">\(1+\text{tr}(B)+\dfrac{1}{2}(\text{tr}^2(B)-\text{tr}(B^2))+o(\text{tr}(B^2))\)</span></p><h2 id="讲义2.5.3">讲义2.5.3</h2><p>求以下函数的极值和最值</p><ol type="1"><li><p><span class="math inline">\(u=\sin x+\sin y+\sin z-\sin (x+y+z)(0\leq x, y, z \leq \pi)\)</span></p></li><li><p><span class="math inline">\(f(\mathbf{x})=\dfrac{\langle A\mathbf{x}, \mathbf{x}\rangle}{\langle\mathbf{x},\mathbf{x}\rangle}(\mathbf{x} \neq \mathbf{0})\)</span>, 其中 <spanclass="math inline">\(A\)</span> 是一个对称矩阵。</p></li><li><p><span class="math inline">\(x^{y}-(x-1) y+(x-1)^{2}(x&gt;0, y \in\mathbb{R})\)</span> 。</p></li></ol><hr /><p>解：<span class="math inline">\((1)\)</span>由对该三元函数求一阶导得</p><p><span class="math display">\[\dfrac{\partial u}{\partial x}=\cos x-\cos (x+y+z),\dfrac{\partial u}{\partial y}=\cos y-\cos (x+y+z),\dfrac{\partial u}{\partial z}=\cos z-\cos (x+y+z)\]</span> 当三者均为 <span class="math inline">\(0\)</span> 时有 <spanclass="math display">\[\cos x=\cos y=\cos z=\cos (x+y+z),x,y,z\in[0,{\pi}]\]</span> 由于 <span class="math inline">\(\cos x\)</span> 函数在 <spanclass="math inline">\([0,\pi]\)</span> 区间上是单调的，从而 <spanclass="math inline">\(x=y=z\)</span>，代入三倍角公式有 <spanclass="math display">\[\cos x=\cos (3x)=-3\cos x+4\cos ^3x\]</span> 求二阶导 <span class="math display">\[\dfrac{\partial ^2 u}{\partial x^2}=-\sin x+\sin (x+y+z),\dfrac{\partial ^2 u}{\partial x \partial y}=\sin (x+y+z),\dfrac{\partial ^2 u}{\partial x\partial z}=\sin (x+y+z)\\\dfrac{\partial ^2 u}{\partial ^2y}=-\sin y+\sin (x+y+z),\dfrac{\partial ^2 u}{\partial y\partial z}=\sin (x+y+z),\dfrac{\partial ^2 u}{\partial z^2}=-\sin z+\sin (x+y+z)\\\]</span> 解得 <span class="math inline">\(x=0\ 或\\dfrac{\pi}{2}\)</span>，而当 <span class="math inline">\(x=0\)</span>为边界点，不可能为极值点，代入 <spanclass="math inline">\(x=\dfrac{\pi}{2}\)</span> 计算 <spanclass="math inline">\(Hesse\)</span> 矩阵有 <spanclass="math display">\[x=\dfrac{\pi}{2},\begin{bmatrix}    \dfrac{\partial ^2 u}{\partial x^2} &amp;\dfrac{\partial ^2u}{\partial x\partial y}&amp;\dfrac{\partial ^2 u}{\partial x\partialz}\\    \dfrac{\partial ^2 u}{\partial y\partial x} &amp;\dfrac{\partial ^2u}{\partial y^2}&amp;\dfrac{\partial ^2 u}{\partial y\partial z}\\    \dfrac{\partial ^2 u}{\partial z\partial x}&amp;\dfrac{\partial ^2u}{\partial z\partial y}&amp;\dfrac{\partial ^2 u}{\partial z^2}\end{bmatrix}=\begin{bmatrix}-2&amp;-1&amp;-1\\-1&amp;-2&amp;-1\\-1&amp;-1&amp;-2\end{bmatrix}\]</span> 计算该矩阵的特征值 <span class="math display">\[\det(\boldsymbol H-\lambda \boldsymbol I)=\begin{vmatrix}-2-\lambda&amp;-1&amp;-1\\-1&amp;-2-\lambda&amp;-1\\-1&amp;-1&amp;-2-\lambda\end{vmatrix}=-(\lambda+1)^2(\lambda+4)，\lambda=-1,-1,-4\]</span> 从而 <span class="math inline">\(\boldsymbol H\)</span>矩阵负定，从而 <span class="math inline">\(u(x,y,z)=\sin x+\sin y+\sinz-\sin (x+y+z)\)</span> 在 <spanclass="math inline">\((\dfrac{\pi}{2},\dfrac{\pi}{2},\dfrac{\pi}{2})\)</span>有极大值 <spanclass="math inline">\(4\)</span>，同时也是最大值，对最小值有三角恒等式<span class="math display">\[\sin  (x)+\sin  (y)+\sin  (z)-\sin  (x+y+z)=4\sin  \left(\frac{x+y}{2}\right) \sin  \left(\frac{x+z}{2}\right)\sin  \left(\frac{y+z}{2}\right)\]</span> 代入取值范围有 <span class="math inline">\(\sin(\dfrac{x+y}{2}),\sin (\dfrac{x+z}{2}),\sin (\dfrac{y+z}{2})\geq0\)</span>，则最小值为 <span class="math inline">\(0\)</span></p><p>综上所述原函数有极大值 <spanclass="math inline">\(4\)</span>，无极小值，有最大值 <spanclass="math inline">\(4\)</span>，最小值 <spanclass="math inline">\(0\)</span></p><p><span class="math inline">\((2)\)</span> 对该函数求导有 <spanclass="math display">\[\mathbf{d} f(\mathbf{x}) \mathbf{v}=\frac{2 \mathbf{v}^{T} A\mathbf{x}}{\mathbf{x}^{T} \mathbf{x}}-\frac{\mathbf{x}^{T} A\mathbf{x}}{\left(\mathbf{x}^{T} \mathbf{x}\right)^{2}} 2 \mathbf{v}^{T}\mathbf{x}=\frac{2 \mathbf{v}^{T}}{\mathbf{x}^{T} \mathbf{x}}[A\mathbf{x}-f(\mathbf{x}) \mathbf{x}]\]</span> <span class="math inline">\(\mathrm{d} f(\mathbf{x})\mathbf{v}=0(\forall \mathbf{v})\)</span> 当且仅当 <spanclass="math inline">\(A \mathbf{x}=f(\mathbf{x}) \mathbf{x}\)</span>, 即<span class="math inline">\(\mathbf{x}\)</span> 是 <spanclass="math inline">\(A\)</span> 的特征向量。 此时, <spanclass="math inline">\(f(\mathbf{x})\)</span> 是相应的特征值。 在 <spanclass="math inline">\(A\)</span> 的单位特征向量 <spanclass="math inline">\(\mathrm{x}_{0}\)</span> 处, <spanclass="math inline">\(\mathbf{v}=\mu \mathbf{x}_{0}+(1+\mu)\mathbf{v}^{\perp}\)</span> <span class="math display">\[f\left(\mathbf{x}_{0}+\mathbf{v}\right)=\lambda+\left(\mathbf{v}^{\perp}\right)^{T}(A-\lambdaI)\mathbf{v}^{\perp}+o\left(\left\|\mathbf{v}^{\perp}\right\|^{2}\right)\]</span> 如果 <span class="math inline">\(\lambda\)</span> 是 <spanclass="math inline">\(A\)</span> 的最大特征值（或最小特征值), 则 <spanclass="math inline">\(\mathrm{x}_{0}\)</span> 是 <spanclass="math inline">\(f\)</span> 的最大值点(相应地，最小值点)。如果特征值 <spanclass="math inline">\(\lambda\)</span> 既非 <spanclass="math inline">\(A\)</span> 的最大特征 值也非最小特征值, 则 <spanclass="math inline">\(\mathbf{x}_{0}\)</span> 不是 <spanclass="math inline">\(f\)</span> 的极值点。</p><p><span class="math inline">\((3)\)</span> 对二元函数 <spanclass="math inline">\(z(x,y)=x^y-(x-1)y+(x-1)^2\)</span> 求偏导等于<span class="math inline">\(0\)</span> 有 <span class="math display">\[\begin{gathered}\dfrac{\partial z}{\partial x}=yx^{y-1}-y+2(x-1)=0,\dfrac{\partialz}{\partial y}=x^{y}\ln x-(x-1)=0\\\dfrac{\partial ^2z}{\partial x^2}=y(y-1)x^{y-2}+2,\dfrac{\partial^2z}{\partial y^2}=x^{y}\ln ^2x,\dfrac{\partial ^2z}{\partial x\partialy}=x^{y-1}+yx^{y-1}\ln x-1\end{gathered}\]</span> 固定 <span class="math inline">\(y_0\)</span> 有 <spanclass="math inline">\(y_0\leq0\)</span> 或 <spanclass="math inline">\(y_0\leq 1\)</span> 时 <spanclass="math inline">\(\dfrac{\partial ^2z}{\partialx^2}\geq2&gt;0\)</span>，则 <span class="math inline">\(\dfrac{\partialz}{\partial x}\)</span> 随 <span class="math inline">\(x\)</span>单调递增，有且仅有 <span class="math inline">\(x=1\)</span> 该根</p><p>若 <span class="math inline">\(0&lt;y_0&lt;1\)</span> ，有 <spanclass="math inline">\(y-2&lt;0\)</span>，<spanclass="math inline">\(\dfrac{\partial ^3z}{\partialx^3}=y(y-1)(y-2)x^{y-3}&gt;0\)</span>，<spanclass="math inline">\(\dfrac{\partial ^2z}{\partial x^2}\)</span> 随<span class="math inline">\(x\)</span> 单调递增</p><p>取点 <span class="math inline">\(\dfrac{\partial ^2z}{\partialx^2}\big{|}_{x\to 0^{+}}\to -\infty\)</span>，<spanclass="math inline">\(\dfrac{\partial ^2z}{\partialx^2}\big{|}_{x=1}=2&gt;0\)</span>，由零点存在定理， <spanclass="math display">\[\exists\ !\ x_{0}\in (0,1),s.t.\dfrac{\partial ^2z}{\partialx^2}\big{|}_{x=x_0}=0\]</span> 则 <span class="math inline">\(\dfrac{\partial z}{\partialx}\)</span> 当 <span class="math inline">\(x\in (0,x_0)\)</span>单调递减，当 <span class="math inline">\(x\in (x_0,+\infty)\)</span>单调递增，又 <span class="math inline">\(\dfrac{\partial z}{\partialx}\big{|}_{x=1}=0\)</span> 则有</p><p><span class="math inline">\(\dfrac{\partial z}{\partialx}\big{|}_{x=x_0}&lt;0\)</span> 结合单调性可知，<spanclass="math inline">\(\dfrac{\partial z}{\partial x}\)</span> 在 <spanclass="math inline">\((0,+\infty)\)</span> 上有且仅有两个零点，一者<span class="math inline">\(x_1\in (0,x_0)\)</span> ，一者</p><p>为 <span class="math inline">\(0\)</span> ，则 <spanclass="math inline">\(z\)</span> 关于 <spanclass="math inline">\(x\)</span> 在区间 <spanclass="math inline">\((0,x_1),(x_1,1),(1+\infty)\)</span>上分别单调递增、单调递减、单调递增</p><p>但对于 <span class="math inline">\(x_1\neq 1\)</span> 其在固定 <spanclass="math inline">\(y\)</span> 的截面上为极大值，而在固定 <spanclass="math inline">\(x\)</span> 的截面时 <spanclass="math inline">\(\dfrac{\partial ^2z}{\partial y^2}=x^{y}\ln^2x&gt;0\)</span> 为极小值</p><p>从而对所有的 <span class="math inline">\(x_1\)</span>均为函数的鞍点，非极值点。而只要极值点坐标 <spanclass="math inline">\(x=1\)</span>，代入 <spanclass="math inline">\(\mbox{Hesse}\)</span> 矩阵有 <spanclass="math display">\[\mathbf{H}=\left[\begin{array}{cc}\dfrac{\partial^{2} z}{\partial x^{2}}&amp; \dfrac{\partial^{2} z}{\partial x \partial y} \\\dfrac{\partial^{2} z}{\partial x \partial y} &amp; \dfrac{\partial^{2}z}{\partial y^{2}}\end{array}\right]=\left[\begin{array}{cc}y^{2}-y+2&amp; 0 \\ 0 &amp; 0\end{array}\right]\]</span> 为正定矩阵，从而所有 <span class="math inline">\(x=1\)</span>的点（一根直线）都是极小值点，极小值为 <spanclass="math inline">\(1\)</span>，无极大值</p><p><span class="math inline">\(y\leq 0\)</span> 或 <spanclass="math inline">\(y\geq 1\)</span>，<spanclass="math inline">\(x=1\)</span> 为最小值，<spanclass="math inline">\(0&lt;y&lt;1\)</span> 时，由单调性 <spanclass="math inline">\(\min z(x,y)=\min(1,z(x\to 0,y))\)</span></p><p>而 <span class="math inline">\(z(0,y)=1-y&gt;0\)</span>，从而 <spanclass="math inline">\(z(x,y)\)</span> 有最小值 <spanclass="math inline">\(1\)</span>，无最大值，其图像如下</p><p><img src="https://pic.imgdb.cn/item/62383ad327f86abb2a42d545.jpg" style="zoom:50%;" /></p><h2 id="讲义2.5.4">讲义2.5.4</h2><p>设 <span class="math inline">\(\gamma\)</span> 是由抛物线 <spanclass="math inline">\(y=c^{2}-x^{2}(-c \leq x \leq c)\)</span> 和 <spanclass="math inline">\(x\)</span> 轴上的线段组成的简单封闭曲线。求 <spanclass="math inline">\(\gamma\)</span> 的内接四边形的最大面积。</p><hr /><p>解：由于抛物线为凸函数，若四个点均在对称轴一侧，则固定其中三个点，将第四点移动到另一侧显然面积会增加；又若依据对称轴恰好一侧为三个点，一侧为一个点，则按照<span class="math inline">\(y\)</span>轴坐标大小排序中间两个点相连总有斜率 <spanclass="math inline">\(k\)</span>，若 <spanclass="math inline">\(k=0\)</span>，则可以调整上下任何一个点到以抛物线对称轴为对称中心的对称点使得面积一样；若<span class="math inline">\(k\neq0\)</span>，则总有一侧的点转移至相应对称点后总面积增加。综上，内接四边形面积最大时对称轴分开一定每侧两个点。（假设对称轴上的点划分到右侧）</p><p>设横坐标从左往右依次为 <span class="math inline">\(-c\leqx_1&lt;x_2&lt;0\leq x_3&lt;x_4\leq c\)</span>，固定 <spanclass="math inline">\(x_x,x_3,x_4\)</span> 有内接四边形面积仅与横坐标为<span class="math inline">\(x_1\)</span> 的点到经过 <spanclass="math inline">\(x_3,x_4\)</span> 直线的距离有关，令直线方程 <spanclass="math inline">\(y=kx+b,k&lt;0,b&gt;0\)</span></p><p>点到直线距离公式 <spanclass="math inline">\(d=\dfrac{|kx_1+x_1^2-c^2+b|}{\sqrt{k^2+1}}\)</span>，其中<span class="math inline">\(k=-(x_3+x_4)\in(-2c,0)\)</span>，<spanclass="math inline">\(b=x_3x_4+c^2\)</span></p><p>代入 <spanclass="math inline">\(d=\dfrac{|kx_1+x_1^2+x_3x_4|}{\sqrt{k^2+1}}\)</span>，有<span class="math inline">\(|kx_1+x_1^2+x_3x_4|\leq|k||c|+c^2+x_3x_4\)</span>，条件 <spanclass="math inline">\(x_1=-c\)</span></p><p>由对称性可知 <spanclass="math inline">\(x_1=-c,x_4=c\)</span>。划分为两个三角形相加得到<span class="math display">\[S\left(x_{2}, x_{3}\right)=\frac{1}{2} \cdot 2 c\cdot\left(c^{2}-x_{2}^{2}\right)+\frac{1}{2}\operatorname{det}\left|\begin{array}{cc}c-x_{2} &amp; x_{2}^{2}-c^{2}\\ x_{3}-x_{2} &amp;x_{2}^{2}-x_{3}^{2}\end{array}\right|=c^{3}+\frac{1}{2}\left(\left(x_{3}-x_{2}\right)c^{2}-\left(x_{2}^{2}+x_{3}^{2}\right) c+\left(x_{3}-x_{2}\right) x_{2}x_{3}\right)\]</span> 有 <span class="math inline">\(\dfrac{\partial S}{\partialx_2}=-\dfrac{1}{2}c^2-cx_2+\dfrac{1}{2}x_3^2-x_2x_3,\dfrac{\partialS}{\partialx_3}=\dfrac{1}{2}c^2-cx_3-\dfrac{1}{2}x_2^2+x_2x_3\)</span></p><p>当两者等于 <span class="math inline">\(0\)</span> 时，<spanclass="math inline">\(-2x_2+x_3=2x_3-x_2=c\)</span>，则 <spanclass="math inline">\(x_2=-\dfrac{1}{3}c\)</span>，<spanclass="math inline">\(x_3=\dfrac{1}{3}c\)</span></p><p>对应 <span class="math inline">\(\mbox{Hesse}\)</span> 矩阵为 <spanclass="math inline">\(\mathbf{H}=\left[\begin{array}{cc}\dfrac{\partial^{2}S}{\partial x^{2}} &amp; \dfrac{\partial^{2} S}{\partial x \partial y}\\ \dfrac{\partial^{2} S}{\partial x \partial y} &amp;\dfrac{\partial^{2} S}{\partialy^{2}}\end{array}\right]=\left[\begin{array}{cc}-c-x_{3} &amp;x_{3}-x_{2} \\ x_{3}-x_{2} &amp;-c+x_{2}\end{array}\right]=\frac{c}{3}\left[\begin{array}{cc}-2 &amp; 2\\ 2 &amp; -4\end{array}\right]\)</span></p><p>为极大值，且最大值点在极大值处取到，<spanclass="math inline">\(S_{\max}=\dfrac{32}{27}c^3\)</span></p><h2 id="讲义2.5.5">讲义2.5.5</h2><p>证明: <span class="math inline">\(f(x, y)=-y+x^{2}+xy+x^{4}+y^{4}\)</span> 有唯一极值点, 并判断该极值点的类型。</p><hr /><p>证明：对该二元函数求偏导得 <span class="math display">\[\begin{gathered}\dfrac{\partial f}{\partial x}=2x+y+4x^{3},\dfrac{\partial f}{\partialy}=-1+x+4y^3\end{gathered}\]</span> 则极值点对应 <spanclass="math inline">\(y=-2x(1+2x^2),4y^3=1-x\)</span>，对应 <spanclass="math inline">\(\mbox{Hesse}\)</span> 矩阵有</p><p><span class="math display">\[\mathbf{H}=\left[\begin{array}{cc}\dfrac{\partial^{2} z}{\partial x^{2}}&amp; \dfrac{\partial^{2} z}{\partial x \partial y} \\\dfrac{\partial^{2} z}{\partial x \partial y} &amp; \dfrac{\partial^{2}z}{\partial y^{2}}\end{array}\right]=\left[\begin{array}{cc}2+8 x^{2}&amp; 1 \\ 1 &amp; 12 y^{2}\end{array}\right]\]</span> 则由于 <spanclass="math inline">\(2+8x^2&gt;2&gt;0\)</span>，则该对称矩阵 <spanclass="math inline">\(\mathbf{H}\)</span>只能为正定矩阵，其行列式大于等于 <span class="math inline">\(0\)</span><span class="math display">\[24y^2(1+4x^2)\geq1\]</span> 联立对应方程为 <spanclass="math inline">\(-32x^3(1+2x^2)^3=1-x\)</span>，则解不为 <spanclass="math inline">\(0\)</span>， <spanclass="math inline">\(f(x)=32x^3(1+2x^2)^3-x+1\)</span></p><p><span class="math inline">\(f&#39;(x)=32(3x^2(1+2x^2)^3)+x^3\cdot12x(1+2x^2)^2-1=96x^2(1+2x^2)^2(1+6x^2)-1\)</span></p><p>考虑 <span class="math inline">\(x&gt;0\)</span> 的情况，<spanclass="math inline">\(f&#39;(x)\)</span> 在 <spanclass="math inline">\(x&gt;0\)</span> 时单调递增，<spanclass="math inline">\(f(0)=-1\)</span>，且有<spanclass="math inline">\(f(\dfrac{1}{4})&gt;6-1&gt;0\)</span>，由零点存在定理<span class="math inline">\(\exists \ x_0\in(0,\dfrac{1}{4}),f&#39;(x_0)=0\)</span>，且有对 <spanclass="math inline">\(x&gt;0\)</span>，<spanclass="math inline">\(f(x)\)</span> 在<spanclass="math inline">\((0,x_0)\)</span> 单调递减，在 <spanclass="math inline">\((x_0,+\infty)\)</span></p><p>单调递增。而 <spanclass="math inline">\(f(\dfrac{1}{4})=\dfrac{1}{2}\cdot\dfrac{9}{8}^3-\dfrac{3}{4}=-\dfrac{39}{1024}&lt;0\)</span>，有 <spanclass="math inline">\(f(x)\)</span> 在 <spanclass="math inline">\((\dfrac{1}{4},+\infty)\)</span> 单调递增</p><p>且 <span class="math inline">\(f(1)&gt;1\)</span>，<spanclass="math inline">\(f(x_0)&lt;f(\dfrac{1}{4})&lt;0\)</span>，则在<span class="math inline">\(x&gt;0\)</span> 处存在两个零点 <spanclass="math inline">\(x_1,x_2\)</span>，且有 <spanclass="math inline">\(x_1,x_2&lt;1\)</span></p><p>放缩不等式有 <span class="math inline">\(48y^2\cdot\dfrac{y}{-2x}=24y^2(2+4x^2)\geq24y^2(1+4x^2)\geq 1\)</span>，代入 <spanclass="math inline">\(4y^3=1-x\)</span></p><p>得到 <span class="math inline">\(\dfrac{6(1-x)}{-x}\geq1\Longrightarrow \dfrac{1}{x}\leq \dfrac{5}{6}\)</span>，若 <spanclass="math inline">\(x&gt;0\)</span>，则至少需要 <spanclass="math inline">\(x\geq 1.2\)</span> 才能满足正定矩阵条件，矛盾</p><p>从而 <span class="math inline">\(x&lt;0\)</span>，由导函数知 <spanclass="math inline">\(f(x)\)</span> 在 <spanclass="math inline">\((-x_0,0)\)</span> 单调递减，<spanclass="math inline">\(f(x_0)&gt;f(0)&gt;1\)</span>，而在 <spanclass="math inline">\((-\infty,x_0)\)</span></p><p>单调递增，从而由零点唯一性定理，存在唯一负数 <spanclass="math inline">\(x_3&lt;0\)</span>，使得 <spanclass="math inline">\(f(x_3)=0\)</span></p><p>此时有放缩 <span class="math inline">\(1-\dfrac{1}{x}\geq\dfrac{1}{3}\Longrightarrow \dfrac{12y^3}{-x}=24y^2\dfrac{y}{-2x}\geq1\Longrightarrow 24y^2(1+2x^2)\geq 1\)</span></p><p>则满足条件 <span class="math inline">\(24y^2(1+4y^2)\geq24y^2(1+2y^2)\geq 1\)</span>，则只有一个极值点，为极小值点，图像如下</p><p><img src="https://pic.imgdb.cn/item/62379e545baa1a80ab92ae28.jpg" style="zoom:50%;" /></p><h2 id="讲义2.8-习题讨论课3.3">讲义2.8 习题讨论课3.3</h2><p>求以下函数在指定点的 <span class="math inline">\(Peano\)</span> 余项<span class="math inline">\(Taylor\)</span> 展开：</p><p><span class="math inline">\((a)\)</span> <spanclass="math inline">\(x^{y}\)</span> 在 <span class="math inline">\((x,y)=(1,0)\)</span> 处展开到二阶;</p><p><span class="math inline">\((b)\)</span> <spanclass="math inline">\(\lambdax+\mathrm{e}^{-\left(x^{2}+y^{2}\right)}\)</span>在它的临界点处展开到二阶。</p><hr /><p>解：<span class="math inline">\((a)\)</span> 对多元函数 <spanclass="math inline">\(z(x,y)=x^y\)</span>，有一阶导： <spanclass="math display">\[\dfrac{\partial z}{\partial x}=y\cdot x^{y-1}=0,\dfrac{\partialz}{\partial y}=\ln (x)\cdot x^y=0\]</span> 二阶导： <span class="math display">\[\dfrac{\partial^2 z}{\partial x^2}=y(y-1)\cdot x^{y-2}=0,\dfrac{\partial^2 z}{\partial y^2}=\ln ^2(x)\cdot x^y=0,\dfrac{\partial ^2 z}{\partialx\partial y}=x^{y-1}+y\ln x\cdot x^{y-1}=1\]</span> 从而展开有 <span class="math display">\[z=1+(\dfrac{\partial }{\partial x}+\dfrac{\partial }{\partialy})z+\dfrac{1}{2!}(\dfrac{\partial }{\partial x}+\dfrac{\partial}{\partial y})^2z=1+(x-1)y\]</span> 即有带 <span class="math inline">\(\mbox{peano}\)</span>余项的 <span class="math inline">\(\mbox{Taylor}\)</span> 展开式为 <spanclass="math inline">\(z=1+y(x-1)+o(x^2+y^2)\)</span></p><p><span class="math inline">\((b)\)</span> 对多元函数 <spanclass="math inline">\(z(x,y)=\lambda x+e^{-(x^2+y^2)}\)</span>​ 有一阶导<span class="math display">\[\dfrac{\partial z}{\partial x}=\lambda-2xe^{-(x^2+y^2)},\dfrac{\partialz}{\partial y}=-2ye^{-(x^2+y^2)}\]</span> 对于临界点两者取零 <span class="math inline">\(y=0,\lambda=2xe^{-x^2}=f(x)\)</span> 有对 <span class="math inline">\(f(x)\)</span>求导 <span class="math inline">\(f&#39;(x)=(2-4x^2)e^{-x^2}\)</span></p><p><span class="math inline">\(x\in (-\infty,-\dfrac{\sqrt{2}}{2})\\cap\ (\dfrac{\sqrt{2}}{2},+\infty),f&#39;(x)&lt;0\)</span>，<spanclass="math inline">\(f(x)\)</span> 单调递减；<spanclass="math inline">\(x\in(-\dfrac{\sqrt{2}}{2},\dfrac{\sqrt{2}}{2})\)</span></p><p><span class="math inline">\(f&#39;(x)&gt;0\)</span>，<spanclass="math inline">\(f(x)\)</span> 单调递增。当 <spanclass="math inline">\(x\to -\infty\)</span> 时，<spanclass="math inline">\(2xe^{-x^2}\to 0^{-}\)</span>，<spanclass="math inline">\(f(-\dfrac{\sqrt{2}}{2})=-\sqrt{\dfrac{2}{e}}\)</span></p><p><spanclass="math inline">\(f(\dfrac{\sqrt{2}}{2})=\sqrt{\dfrac{2}{e}}\)</span>，结合单调性有<span class="math inline">\(f(x)\in(-\sqrt{\dfrac{2}{e}},\sqrt{\dfrac{2}{e}})\)</span>，当且仅当 <spanclass="math inline">\(|\lambda|\leq \sqrt{\dfrac{2}{e}}\)</span>时有临界点</p><p>而该多元函数的二阶导有 <span class="math display">\[\dfrac{\partial^2 z}{\partialx^2}=(4x^2-2)e^{-(x^2+y^2)},\dfrac{\partial^2 z}{\partialy^2}=(4y^2-2)e^{-(x^2+y^2)},\dfrac{\partial^2 z}{\partial x \partialy}=4xye^{-(x^2+y^2)}\]</span> 记满足 <span class="math inline">\(2xe^{-x^2}=\lambda\)</span>方程的解为 <spanclass="math inline">\(x_0\)</span>（若有多个解，考虑其中一个解）对原函数展开有<span class="math display">\[\begin{gathered}\lambda x+e^{-(x^2+y^2)}=\lambdax_0+e^{-x_0^2}+\dfrac{1}{2}(\dfrac{\partial }{\partialx}+\dfrac{\partial }{\partial y})^2z=\lambdax_0+e^{-x_0^2}+(2x_0^2-1)e^{-x_0^2}(x-x_0)\\-e^{-x_0^2}y+0+o(x^2+y^2)=\lambda(x_0+\dfrac{1-y}{2x_0}+(2x_0-\dfrac{1}{x_0})(x-x_0))+o(x^2+y^2)\end{gathered}\]</span></p><h2 id="讲义2.8-习题讨论课3.4">讲义2.8 习题讨论课3.4</h2><p>对参数 <span class="math inline">\(\lambda\)</span>, 讨论函数 <spanclass="math inline">\(\lambdax+\mathrm{e}^{-\left(x^{2}+y^{2}\right)}\)</span> 的极值情况。</p><hr /><p>解：由上一题可知，当且仅当 <spanclass="math inline">\(-\sqrt{\dfrac{2}{e}}\leq \lambda \leq\sqrt{\dfrac{2}{e}}\)</span> 时有临界点，而对应 <spanclass="math inline">\(\mbox{Hesse}\)</span> 矩阵有 <spanclass="math display">\[\mathbf{H}=\left[\begin{array}{cc}\dfrac{\partial^{2} z}{\partial x^{2}}&amp; \dfrac{\partial^{2} z}{\partial x \partial y} \\\dfrac{\partial^{2} z}{\partial x \partial y} &amp; \dfrac{\partial^{2}z}{\partial y^{2}}\end{array}\right]=2e^{-\left(x^{2}+y^{2}\right)}\left[\begin{array}{cc}2 x^{2}-1 &amp; 2 xy \\ 2 x y &amp; 2 y^{2}-1\end{array}\right]\]</span> 求解对应特征值 <span class="math display">\[\det(\mathbf{H-\lambda \mathbf{I}})=(2x^2-1-\lambda)\cdot(2y^2-1-\lambda)-4x^2y^2=(\lambda+1)^2-2(\lambda+1)(x^2+y^2)\]</span> 则特征值为 <spanclass="math inline">\(\lambda_1=-1,\lambda_2=2x^2+2y^2-1\)</span>，则若函数存在极值点，只能<span class="math inline">\(\lambda_1,\lambda_2\)</span> 均小于零</p><p>为极大值点，此时 <spanclass="math inline">\(2x^2+2y^2\leq1\Longrightarrowx^2\leq\dfrac{1}{2}\)</span>，由上一题的单调性可知 <spanclass="math inline">\(-\sqrt{\dfrac{2}{e}}\leq \lambda \leq\sqrt{\dfrac{2}{e}}\)</span></p><p>综上所述，<span class="math inline">\(-\sqrt{\dfrac{2}{e}}\leq\lambda \leq \sqrt{\dfrac{2}{e}}\)</span> 时有极大值点，令 <spanclass="math inline">\(2xe^{-x^2}=\lambda\)</span> 绝对值不超过 <spanclass="math inline">\(\dfrac{\sqrt{2}}{2}\)</span> 的解为 <spanclass="math inline">\(x_0\)</span>，该极大值点位于 <spanclass="math inline">\((x_0,0)\)</span>，极大值为 <spanclass="math inline">\(e^{-x_0^2}+\lambdax_0=\lambda(x_0+\dfrac{1}{2x_0})\)</span>，否则无极值点</p><h1id="largetextcolorblue微积分第五次作业-smallwtimes-f-_textcolorblue2022.3.29"><spanclass="math inline">\(\large\textcolor{blue}{微积分第五次作业\\small(W\times f)}\ \ \ \ \ \ _\textcolor{blue}{2022.3.29}\)</span></h1><h2 id="讲义3.1.4">讲义3.1.4</h2><p>证明 <span class="math inline">\(-y+x^{2}+x y+x^{4}+y^{4}=0\)</span>在 <span class="math inline">\((0,0)\)</span> 的一个邻域内定义了一个<span class="math inline">\(C^{\infty}\)</span> 隐函数 <spanclass="math inline">\(y=h(x)\)</span>, 并求 <spanclass="math inline">\(h\)</span> 在 <spanclass="math inline">\(x=0\)</span> 处的四阶泰勒展开式。</p><hr /><p>解：对 <span class="math inline">\(-y+x^2+xy+x^4+y^4=0\)</span> 令<span class="math inline">\(x,y\to 0\)</span> 使用 <spanclass="math inline">\(o\)</span> 语言有 <span class="math display">\[-y+x^2+o(y)+o(x^2)+o(y)=0\Longrightarrow y=x^2+o(x^2)\]</span> 令 <span class="math inline">\(y=x^2+u\)</span> 代入有 <spanclass="math display">\[-u+x^2(x+u)+x^4+(x^2+u)^4=0=-u+x^3+o(u)+o(x^3)+o(x^3)+o(u)\]</span> 则 <span class="math inline">\(u=x^3+o(x^3)\)</span>，令 <spanclass="math inline">\(y=x^2+x^3+v\)</span> 代入有 <spanclass="math display">\[-x^3-v+x(x^2+x^3+v)+x^4+(x^2+x^3+v)^4=-v+2x^4+o(v)+o(x^4)=0\]</span> 则 <span class="math inline">\(v=2x^4+o(x^4)\)</span>，从而在<span class="math inline">\((0,0)\)</span> 处四阶泰勒展开为 <spanclass="math inline">\(y=x^2+x^3+2x^4+o(x^4)\)</span></p><h2 id="讲义3.1.5">讲义3.1.5</h2><p>设 <span class="math inline">\(f: U \times V \rightarrow\mathbb{R}\)</span> 是 <span class="math inline">\(C^{2}\)</span> 函数,<span class="math inline">\(\mathbf{x}_{0}\)</span> 是 <spanclass="math inline">\(f\left(\cdot, \lambda_{0}\right)\)</span>的非退化临界点, 即 <span class="math inline">\(f\left(\mathbf{x},\lambda_{0}\right)\)</span> 关于 <spanclass="math inline">\(\mathbf{x}\)</span> 在 <spanclass="math inline">\(\mathbf{x}_{0}\)</span> 处的 <spanclass="math inline">\(Hesse\)</span> 矩阵是可逆的。证明对足够接近 <spanclass="math inline">\(\lambda_{0}\)</span> 的所有 <spanclass="math inline">\(\lambda\)</span>, <spanclass="math inline">\(f(\mathbf{x}, \lambda)\)</span> 关于 <spanclass="math inline">\(\mathbf{x}\)</span> 在 <spanclass="math inline">\(\mathbf{x}_{0}\)</span> 附近有唯一的临界点,并且该临界点的类型与 <span class="math inline">\(\mathbf{x}_{0}\)</span>作为 <span class="math inline">\(f\left(\cdot,\lambda_{0}\right)\)</span> 的临界点的类型是一样的。</p><hr /><p>证明：由 <span class="math inline">\(\dfrac{\partial f}{\partial\mathbf{x}}=\vec{0},\dfrac{\partial f}{\partial \lambda}=0\)</span> 有<span class="math inline">\(\dfrac{\partial f_1}{\partial\mathbf{x}^{i}}(\mathbf{x},\lambda)=0,\dfrac{\partial f_1}{\partial\lambda}(\mathbf{x},\lambda)=0\)</span>，该组隐函数确定了 <spanclass="math inline">\(\lambda=\lambda(\mathbf{x})\)</span></p><p>这是由于 <span class="math inline">\(f(\mathbf{x}_0,\lambda)\)</span>在 <span class="math inline">\(\mathbf{x}=\mathbf{x}_0\)</span> 处的<span class="math inline">\(Hesse\)</span> 矩阵是可逆的，从而在 <spanclass="math inline">\(\mathbf{x}_0\)</span> 附近，都能找到唯一临界点<span class="math inline">\(\lambda\)</span></p><p>又由于 <spanclass="math inline">\(\det(\mathbf{H})\big|_{\lambda_0,\mathbf{x}_0}\neq0\)</span> 且 <span class="math inline">\(\det\)</span>函数是连续的，从而总能找到 <span class="math inline">\(\lambda\)</span>附近的领域，使得 <span class="math inline">\(\det \mathbf{H}\)</span>在该</p><p>领域内是保号的，正定对称矩阵附近仍为正定对称矩阵，负定也为负定，从而临界点类型是一样的</p><h2 id="讲义3.1.7">讲义3.1.7</h2><p>设 <span class="math inline">\(\lambda_{0}\)</span> 是矩阵 <spanclass="math inline">\(A_{0}\)</span> 的一个单重特征值 (即 <spanclass="math inline">\(p\left(\lambda_{0}\right)=0,p^{\prime}\left(\lambda_{0}\right) \neq 0\)</span>, 其中 <spanclass="math inline">\(p(\lambda)=\)</span> <spanclass="math inline">\(\left.\operatorname{det}\left(\lambdaI-A_{0}\right)\right), \mathbf{x}_{0}\)</span> 是 <spanclass="math inline">\(A_{0}\)</span> 对应于 <spanclass="math inline">\(\lambda_{0}\)</span> 的一个单位特征向量。证明存在<span class="math inline">\(\delta&gt;0\)</span> 使得对任意矩阵 <spanclass="math inline">\(A\)</span>, 只要 <spanclass="math inline">\(\left\|A-A_{0}\right\|&lt;\delta, A\)</span>就有唯一的特征值 <span class="math inline">\(\lambda(A)\)</span>和相应的单位特征向量 <span class="math inline">\(\mathbf{x}(A)\)</span>使得 <span class="math inline">\(\lambda\left(A_{0}\right)=\lambda_{0},\mathbf{x}\left(A_{0}\right)=\mathbf{x}_{0}\)</span>, 并且 <spanclass="math inline">\(\lambda(A)\)</span> 和 <spanclass="math inline">\(\mathbf{x}(A)\)</span> 关于 <spanclass="math inline">\(A\)</span> 是 <spanclass="math inline">\(C^{\infty}\)</span> 的。</p><hr /><p>证明：由 <span class="math inline">\(A\)</span> 和 <spanclass="math inline">\(\lambda\)</span> 由下列隐函数方程确定， <spanclass="math inline">\(f(A,\lambda)=\det(\lambdaI-A)=p_{A}(\lambda)=0\)</span></p><p>而由题设条件，该方程满足 <span class="math inline">\(\dfrac{\partialf}{\partial \lambda}\big |_{\lambda=\lambda_0}=p&#39;(\lambda_0)\neq0\)</span>，且在该处只有 <span class="math inline">\(n\)</span>次求导后的结果是非零的，从而该方程在 <spanclass="math inline">\(A,\lambda_0\)</span> 领域所确定的 <spanclass="math inline">\(\lambda(A)\)</span> 关于 <spanclass="math inline">\(A\)</span> 只能达到 <spanclass="math inline">\(C^{n}\)</span></p><p>而确定 <span class="math inline">\(\lambda\)</span> 后，<spanclass="math inline">\(g(A,\lambda,\vec{\mathbf{x}})=g(A,\lambda(A),\vec{\mathbf{x}})=(A-\lambdaI)\vec{\mathbf{x}}=0\)</span>，有 <spanclass="math inline">\(\dfrac{\partial g}{\partial\mathbf{x^i}}=(A-\lambda I)_{i}\)</span></p><p>为 <span class="math inline">\((A-\lambda I)\)</span> 第 <spanclass="math inline">\(i\)</span> 列，若其为 <spanclass="math inline">\(0\)</span>，由行列式性质 <spanclass="math inline">\(p_{A}(\lambdaI-A)=0\)</span>，与题设矛盾，从而均不为 <spanclass="math inline">\(0\)</span></p><p>则确定了隐函数方程 <spanclass="math inline">\(\mathbf{x}=\mathbf{x}(A,\lambda(A))=\mathbf{x}(A)\)</span>，对高阶导由线性性质，只有对角元上有非零元素，</p><p>从而 <span class="math inline">\(\dfrac{\partial ^nf}{\partial\mathbf{x}^n}\)</span> 确定的线性映射都是可逆的，从而 <spanclass="math inline">\(\mathbf{x}(A)\)</span> 为 <spanclass="math inline">\(C^{\infty }\)</span> 的</p><h2 id="讲义3.2.1">讲义3.2.1</h2><p>设 <span class="math display">\[f\left(x_{1}, x_{2}\right)=\left(x_{1} x_{2},\left(1-x_{1}\right)x_{2}\right) .\]</span> 证明 <span class="math inline">\(f\)</span> 是 <spanclass="math inline">\((0,1) \times(0,1)\)</span> 到 <spanclass="math inline">\(\left\{\left(y_{1}, y_{2}\right) \mid y_{1}&gt;0,y_{2}&gt;0, y_{1}+y_{2}&lt;1\right\}\)</span> 的微分同胚。</p><hr /><p>证明：对于变换 <spanclass="math inline">\(\begin{cases}y_1=x_1x_2\\y_2=(1-x_1)x_2\end{cases}\)</span>反解得 <spanclass="math inline">\(x_1=\dfrac{y_1}{y_1+y_2},x_2=y_1+y_2\)</span></p><p>则有 <span class="math inline">\(y_1+y_2&lt;1\)</span> 对应 <spanclass="math inline">\(x_1&lt;1,x_2&lt;1\)</span>，则 <spanclass="math inline">\(f\)</span> 在 <spanclass="math inline">\((0,1)\longmapsto(0,1)\)</span>上是双射，满足一一对应，从而</p><p><span class="math inline">\(f\)</span> 微分同胚</p><h2 id="讲义3.2.2">讲义3.2.2</h2><p>记 <span class="math inline">\(\mathcal{S}_{n}\)</span> 为所有 <spanclass="math inline">\(n\)</span> 阶对称矩阵组成的线性空间, <spanclass="math inline">\(\mathcal{P}_{n}\)</span> 为所有 <spanclass="math inline">\(n\)</span> 阶对称正定矩阵组成的集合。证明</p><p><span class="math inline">\((a)\)</span> <spanclass="math inline">\(\mathcal{P}_{n}\)</span> 是 <spanclass="math inline">\(\mathcal{S}_{n}\)</span> 的开子集;</p><p><span class="math inline">\((b)\)</span> 对任意 <spanclass="math inline">\(A \in \mathcal{P}_{n}\)</span>, 存在唯一的 <spanclass="math inline">\(A^{1 / 2} \in \mathcal{P}_{n}\)</span> 使得 <spanclass="math inline">\(\left(A^{1 / 2}\right)^{2}=A\)</span>, 并且 <spanclass="math inline">\(A^{1 / 2}\)</span> 关于 <spanclass="math inline">\(A\)</span> 是 <spanclass="math inline">\(C^{\infty}\)</span> 的。</p><hr /><p>证明：<span class="math inline">\((a)\)</span> 显然 <spanclass="math inline">\(\mathcal{S}_{n}\)</span> 是 <spanclass="math inline">\(\mathcal{P}_{n}\)</span> 的真子集，而对于 <spanclass="math inline">\(A\in \mathcal{P}\)</span>为对称正定矩阵，由线性代数知识 <span class="math display">\[A\ 对称正定\Longleftrightarrow \forall \ \mathbf{x}\in\mathbb{R}^n,\mathbf{x}^TA\mathbf{x}&gt;0\]</span> 考虑 <spanclass="math inline">\(f(A)=\mathbf{x^T}A\mathbf{x}\)</span> 关于 <spanclass="math inline">\(A\)</span> 是连续的，由于对所有 <spanclass="math inline">\(\mathbf{x}\)</span> 该连续函数 <spanclass="math inline">\(f(A)&gt;0\)</span>，</p><p>则总能找到 <span class="math inline">\(A\)</span> 的领域使得所有的<span class="math inline">\(f(A+E)&gt;0\)</span>，即所有 <spanclass="math inline">\(n\)</span> 阶对称正定矩阵组成的集合为开集</p><p><span class="math inline">\((b)\)</span> 先证存在性，令 <spanclass="math inline">\(A=L\mbox{diag}(\lambda_1,\lambda_2,\cdots,\lambda_n)L^{T},A^{\frac{1}{2}}:=L\mbox{diag}(\sqrt{\lambda_1},\sqrt{\lambda_2},\cdots,\sqrt{\lambda_n})L^{T}\)</span></p><p>此时有 <spanclass="math inline">\((A^{\frac{1}{2}})^2=L\mbox{diag}(\sqrt{\lambda_1},\sqrt{\lambda_2},\cdots,\sqrt{\lambda_n})L^{T}L\mbox{diag}(\sqrt{\lambda_1},\sqrt{\lambda_2},\cdots,\sqrt{\lambda_n})L^{T}=A\)</span></p><p>再证唯一性，若有 <spanclass="math inline">\(B_1^2=B_2^2=A\)</span>，且 <spanclass="math inline">\(B_1,B_2\in \mathcal{P}_n\)</span>，令 <spanclass="math inline">\(B_1=L_1D_1L_1^{T},B_2=L_2D_2L_2^{T}\)</span></p><p>代入有 <spanclass="math inline">\(L_1D_1^2L_1^{T}=L_2D_2^2L_2^{T}=A\LongrightarrowL_2^{-1}L_1=D_2^2L_2^{T}(L_1^{T})^{-1}(D_1^{-1})^2\)</span></p><p>左侧为上三角矩阵，右侧为下三角矩阵，从而 <spanclass="math inline">\(L_2^{-1}L_1=I\LongrightarrowL_1=L_2,D_1=D_2\)</span></p><p>即 <span class="math inline">\(B\)</span>存在且唯一。由该“求根”映射为双射，其逆映射 <spanclass="math inline">\(A^{\frac{1}{2}}\longmapsto A\)</span> 无穷可微</p><p>这是因为 <spanclass="math inline">\(D(A^2)(B)=(A+B)^2-A^2=AB+BA+o(\|B\|)\)</span>，显然可以不断微分下去</p><p>由逆映射定理知，<span class="math inline">\(A^{\frac{1}{2}}\)</span>关于 <span class="math inline">\(A\)</span> 也是 <spanclass="math inline">\(C^{\infty}\)</span> 的</p><h2 id="讲义3.3.1">讲义3.3.1</h2><p>设 <span class="math inline">\(f, g, h\)</span> 都是自变量 <spanclass="math inline">\(x, y\)</span> 的函数, 证明</p><p><span class="math inline">\((a)\)</span> <spanclass="math inline">\(\left(\dfrac{\partial f}{\partialg}\right)_{x}=\left(\dfrac{\partial f}{\partial y}\right)_{x}/\left(\dfrac{\partial g}{\partial y}\right)_{x}\)</span>;</p><p><span class="math inline">\((b)\)</span> <spanclass="math inline">\(\left(\dfrac{\partial y}{\partialx}\right)_{f}=-\left(\dfrac{\partial f}{\partial x}\right)_{y}/\left(\dfrac{\partial f}{\partial y}\right)_{x}\)</span>;</p><p><span class="math inline">\((c)\)</span> <spanclass="math inline">\(\left(\dfrac{\partial f}{\partialx}\right)_{g}=\left(\dfrac{\partial f}{\partialx}\right)_{y}+\left(\dfrac{\partial f}{\partialy}\right)_{x}\left(\dfrac{\partial y}{\partial x}\right)_{g}\)</span>。</p><hr /><p>证明：<span class="math inline">\((a)\)</span> 由所证明式子保持 <spanclass="math inline">\(x\)</span> 不变，则有 <spanclass="math inline">\(df=\dfrac{\partial f}{\partialy}dy,dg=\dfrac{\partial f}{\partial y}dy\)</span>，两者相比得 <spanclass="math display">\[\dfrac{df}{dg}_{x=\tiny \mbox{Const}}=(\dfrac{\partial f}{\partialg})_x=\dfrac{(\dfrac{\partial f}{\partial y})_{x}}{(\dfrac{\partialg}{\partial y})_x}\]</span> <span class="math inline">\((b)\)</span> 对 <spanclass="math inline">\(f=f(x,y)\)</span> 全微分有 <spanclass="math inline">\(df=\dfrac{\partial f}{\partialx}dx+\dfrac{\partial f}{\partial y}dy\)</span>，当 <spanclass="math inline">\(f\)</span> 不变时计算 <spanclass="math inline">\((\dfrac{\partial y}{\partial x})_f\)</span> 得<span class="math display">\[0=\dfrac{\partial f}{\partial x}dx+\dfrac{\partial f}{\partialy}dy\Longrightarrow (\dfrac{\partial y}{\partialx})_f=-\dfrac{(\dfrac{\partial f}{\partial x})_{y}}{(\dfrac{\partialf}{\partial y})_x}\]</span> <span class="math inline">\((c)\)</span> 当 <spanclass="math inline">\(g\)</span> 不变时有，<spanclass="math inline">\(0=\dfrac{\partial g}{\partial x}dx+\dfrac{\partialg}{\partial y}dy\)</span>，代入 <spanclass="math inline">\(df=\dfrac{\partial f}{\partialx}dx+\dfrac{\partial f}{\partial y}dy\)</span> 消去 <spanclass="math inline">\(dy\)</span> 后有 <span class="math display">\[df=\dfrac{\partial f}{\partial x}dx+\dfrac{\partial f}{\partial y}\cdot(-\dfrac{\dfrac{\partial g}{\partial x} }{\dfrac{\partial g}{\partialy}}dx)\]</span> 其中 <span class="math inline">\(dg=\dfrac{\partialg}{\partial x}dx+\dfrac{\partial g}{\partial y}dy\)</span>，则固定 <spanclass="math inline">\(g\)</span> 不变有，<spanclass="math inline">\((\dfrac{\partial y}{\partialx})_g=-\dfrac{\dfrac{\partial g}{\partial x} }{\dfrac{\partialg}{\partial y}}\)</span> 代入有 <span class="math display">\[(\dfrac{\partial f}{\partial x})_g=(\dfrac{\partial f}{\partialx})_y+(\dfrac{\partial f}{\partial y})_x(\dfrac{\partial y}{\partialx})_g\]</span></p><h2 id="讲义3.3.2">讲义3.3.2</h2><p>设 <span class="math inline">\(f_{1}, \ldots, f_{n} ; u_{1}, \ldots,u_{n}\)</span> 都是独立变量 <span class="math inline">\(x_{1}, \ldots,x_{n}\)</span> 的函数。证明</p><p><span class="math inline">\((a)\)</span> <spanclass="math inline">\(\operatorname{det} \dfrac{\partial\left(f_{1},\ldots, f_{n}\right)}{\partial\left(u_{1}, \ldots,u_{n}\right)}=\operatorname{det} \dfrac{\partial\left(f_{1}, \ldots,f_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)} /\operatorname{det} \dfrac{\partial\left(u_{1}, \ldots,u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}\)</span>;</p><p><span class="math inline">\((b)\)</span> <spanclass="math inline">\(\left(\dfrac{\partial f_{1}}{\partialx_{1}}\right)_{f_{2}, \ldots, f_{n}}=\operatorname{det}\dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(x_{1},\ldots, x_{n}\right)} / \operatorname{det} \dfrac{\partial\left(f_{2},\ldots, f_{n}\right)}{\partial\left(x_{2}, \ldots,x_{n}\right)}\)</span>;</p><p><span class="math inline">\((c)\)</span> <spanclass="math inline">\(\left(\dfrac{\partial f_{1}}{\partialu_{1}}\right)_{u_{2}, \ldots, u_{n}}=\operatorname{det}\dfrac{\partial\left(f_{1}, u_{2}, \ldots,u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)} /\operatorname{det} \dfrac{\partial\left(u_{1}, \ldots,u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}\)</span> 。</p><hr /><p>证明：<span class="math inline">\((a)\)</span> 由各组微体积元之比为<span class="math display">\[\begin{gathered}df_1df_2\cdots df_n=\det(\dfrac{\partial\left(f_{1}, \ldots,f_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)})dx_1dx_2\cdotsdx_n\\df_1df_2\cdots df_n=\det(\dfrac{\partial\left(f_{1}, \ldots,f_{n}\right)}{\partial\left(u_{1}, \ldots, u_{n}\right)})du_1du_2\cdotsdu_n\\du_1du_2\cdots du_n=\det(\dfrac{\partial\left(u_{1}, \ldots,u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)})dx_1dx_2\cdotsdx_n\\\end{gathered}\]</span> 从而得到 <span class="math inline">\(\operatorname{det}\dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(u_{1},\ldots, u_{n}\right)}=\dfrac{df_1\cdots df_n}{du_1\cdotsdu_n}=\operatorname{det} \dfrac{\partial\left(f_{1}, \ldots,f_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)} /\operatorname{det} \dfrac{\partial\left(u_{1}, \ldots,u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}\)</span></p><p><span class="math inline">\((b)\)</span> 由固定 <spanclass="math inline">\(f_2,f_3,\cdots,f_n\)</span> 有 <spanclass="math inline">\(df_2=df_3=\cdots=df_n=0\)</span> <spanclass="math display">\[df_2=\dfrac{\partial f_2}{\partial x_1}dx_1+\cdots+\dfrac{\partialf_2}{\partial x_n}dx_n,df_3=\dfrac{\partial f_3}{\partialx_1}dx_1+\cdots+\dfrac{\partial f_3}{\partial x_n}dx_n\cdots,df_n=\cdots\]</span> 移项写成矩阵的形式有 <spanclass="math inline">\(\dfrac{\partial (f_2,f_3\cdots,f_n)}{\partial(x_2,x_3\cdots,x_n)}\begin{pmatrix}dx_2\\dx_3\\\vdots\\dx_n\end{pmatrix}=A\begin{pmatrix}dx_2\\dx_3\\\vdots\\dx_n\end{pmatrix}=-\begin{pmatrix}\dfrac{\partialf_2}{\partial x_2}\\\dfrac{\partial f_3}{\partialx_3}\\\vdots\\\dfrac{\partial f_n}{\partialx_n}\end{pmatrix}dx_1\)</span> 代入计算有</p><p><span class="math inline">\(df_1=\dfrac{\partial f_1}{\partialx_1}dx_1+\cdots+\dfrac{\partial f_1}{\partialx_n}dx_n=dx_1(\dfrac{\partial f_1}{\partialx_1}-\begin{pmatrix}\dfrac{\partial f_1}{\partial x_2}\\\dfrac{\partialf_1}{\partial x_3}\\\vdots\\\dfrac{\partial f_1}{\partialx_n}\end{pmatrix}^{T}A^{-1}\begin{pmatrix}\dfrac{\partial f_2}{\partialx_2}\\\dfrac{\partial f_3}{\partial x_3}\\\vdots\\\dfrac{\partialf_n}{\partial x_n}\end{pmatrix})=dx_1(\dfrac{\partial f_1}{\partialx_1}-\vec{v}_1^{T}A^{-1}\vec{v}_2)\)</span></p><p>由矩阵分块 <span class="math inline">\(B=\operatorname{det}\dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(x_{1},\ldots, x_{n}\right)}=\begin{pmatrix}\dfrac{\partial f_1}{\partialx_1}&amp;\vec{v_1}^{T}\\\vec{v}_2&amp;A\end{pmatrix}\)</span> <spanclass="math display">\[\dfrac{\det B}{\det A}=\dfrac{\det \begin{pmatrix}\dfrac{\partialf_1}{\partial x_1}&amp;\vec{v_1}^{T}\\\vec{v}_2&amp;A\end{pmatrix}}{\detA}=\dfrac{\det \begin{pmatrix}\dfrac{\partial f_1}{\partialx_1}-\vec{v}_1^{T}A^{-1}\vec{v}_2&amp;\vec{v_1}^{T}\\\vec{0}&amp;A\end{pmatrix}}{\detA}=(\dfrac{\partial f_1}{\partial x_1})_{f_2,\cdots,f_n}\]</span> 即有 <span class="math inline">\(\left(\dfrac{\partialf_{1}}{\partial x_{1}}\right)_{f_{2}, \ldots, f_{n}}=\operatorname{det}\dfrac{\partial\left(f_{1}, \ldots, f_{n}\right)}{\partial\left(x_{1},\ldots, x_{n}\right)} / \operatorname{det} \dfrac{\partial\left(f_{2},\ldots, f_{n}\right)}{\partial\left(x_{2}, \ldots,x_{n}\right)}\)</span></p><p><span class="math inline">\((3)\)</span>​ 由固定 <spanclass="math inline">\(u_2,u_3,\cdots,u_n\)</span> 有 <spanclass="math inline">\(du_2=du_3=\cdots=du_n=0\)</span> <spanclass="math display">\[du_2=\dfrac{\partial u_2}{\partial x_1}dx_1+\cdots+\dfrac{\partialu_2}{\partial x_n}dx_n,du_3=\dfrac{\partial u_3}{\partialx_1}dx_1+\cdots+\dfrac{\partial u_3}{\partial x_n}dx_n\cdots,du_n=\cdots\]</span> 移项写成矩阵形式有 <span class="math inline">\(\dfrac{\partial(u_2,u_3\cdots,u_n)}{\partial(x_2,x_3\cdots,x_n)}\begin{pmatrix}dx_2\\dx_3\\\vdots\\dx_n\end{pmatrix}=A\begin{pmatrix}dx_2\\dx_3\\\vdots\\dx_n\end{pmatrix}=-\begin{pmatrix}\dfrac{\partialu_2}{\partial x_2}\\\dfrac{\partial u_3}{\partialx_3}\\\vdots\\\dfrac{\partial u_n}{\partialx_n}\end{pmatrix}dx_1\)</span>，代入</p><p>由上问结论可推知，<span class="math inline">\(du_1=\dfrac{\partialu_1}{\partial x_1}dx_1+\cdots+\dfrac{\partial u_1}{\partialx_n}dx_n=dx_1\dfrac{\operatorname{det} \dfrac{\partial\left(u_{1},\ldots, u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}}{\detA}\)</span></p><p><span class="math inline">\(df_1=\dfrac{\partial f_1}{\partialx_1}dx_1+\cdots+\dfrac{\partial f_1}{\partialx_n}dx_n=dx_1(\dfrac{\partial f_1}{\partialx_1}-\begin{pmatrix}\dfrac{\partial f_1}{\partial x_2}\\\dfrac{\partialf_1}{\partial x_3}\\\vdots\\\dfrac{\partial f_1}{\partialx_n}\end{pmatrix}^{T}A^{-1}\begin{pmatrix}\dfrac{\partial u_2}{\partialx_2}\\\dfrac{\partial u_3}{\partial x_3}\\\vdots\\\dfrac{\partialu_n}{\partial x_n}\end{pmatrix})=dx_1(\dfrac{\partial f_1}{\partialx_1}-\vec{v}_1^{T}A^{-1}\vec{v}_2)\)</span></p><p>由矩阵分块 <span class="math inline">\(C=\operatorname{det}\dfrac{\partial\left(f_{1}, u_{2}, \ldots,u_{n}\right)}{\partial\left(x_{1}, \ldots,x_{n}\right)}=\begin{pmatrix}\dfrac{\partial f_1}{\partialx_1}&amp;\vec{v_1}^{T}\\\vec{v}_2&amp;A\end{pmatrix}\)</span> <spanclass="math display">\[\dfrac{\det C}{\det A}=\dfrac{\det \begin{pmatrix}\dfrac{\partialf_1}{\partial x_1}&amp;\vec{v_1}^{T}\\\vec{v}_2&amp;A\end{pmatrix}}{\detA}=\dfrac{\det \begin{pmatrix}\dfrac{\partial f_1}{\partialx_1}-\vec{v}_1^{T}A^{-1}\vec{v}_2&amp;\vec{v_1}^{T}\\\vec{0}&amp;A\end{pmatrix}}{\detA}=(\dfrac{\partial f_1}{\partial x_1})_{u_2,\cdots,u_n}\]</span></p><p><span class="math display">\[\left(\dfrac{\partial f_{1}}{\partial u_{1}}\right)_{u_{2}, \ldots,u_{n}}=\dfrac{\det C}{\det A}\cdot \dfrac{\det A}{\det\dfrac{\partial\left(u_{1}, \ldots, u_{n}\right)}{\partial\left(x_{1},\ldots, x_{n}\right)}}=\dfrac{\operatorname{det}\dfrac{\partial\left(f_{1}, u_{2}, \ldots,u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}}{\operatorname{det} \dfrac{\partial\left(u_{1}, \ldots,u_{n}\right)}{\partial\left(x_{1}, \ldots, x_{n}\right)}}\]</span></p><h2 id="讲义3.4.3">讲义3.4.3</h2><p>绘制平面地图有很多方法, <span class="math inline">\(Mercator\)</span>投影是其中之一。如图所示, 它把球面上的点 <spanclass="math inline">\(P(x, y, z)\)</span> 映为从球心出发的射线 <spanclass="math inline">\(O P\)</span> 与一个圆柱面的交点 <spanclass="math inline">\(P^{\prime}(\lambda x, \lambda y, \lambdaz)\)</span>, 然后在柱面上再做一个变换得到点 <spanclass="math inline">\(Q(\lambda x, \lambda y, f(\lambda z))\)</span>,该圆柱面与球面相切于赤道。这样除南北两极外, 地球上的点 <spanclass="math inline">\(P\)</span> 与柱面上的点 <spanclass="math inline">\(Q\)</span> 一一对应,把圆柱面沿母线剪开就得到一张地图。求函数 <spanclass="math inline">\(f\)</span> 的表达式使得 <spanclass="math inline">\(Mercator\)</span>地图上所画的两条相交道路的夹角与实际道路的夹角大小相等。两条相交曲线的夹角被定义为它们的切线所形成的夹角(锐角或直角)。(提示：线性变换<span class="math inline">\(A: \mathbb{R}^{n} \rightarrow\mathbb{R}^{n}\)</span>保角当且仅当它把正交且长度相等的向量映为正交且长度相等的向量,从而存在常数 <span class="math inline">\(C&gt;0\)</span> 使得内积 <spanclass="math inline">\(\left.\langle A \mathbf{u}, A\mathbf{v}\rangle=C\langle\mathbf{u}, \mathbf{v}\rangle, \forall\mathbf{u}, \mathbf{v} \in \mathbb{R}^{n}\right)\)</span></p><p><img src="https://pic.imgdb.cn/item/623d734727f86abb2add8b61.jpg" style="zoom:25%;" /></p><hr /><p>解：设球面为 <spanclass="math inline">\(x^2+y^2+z^2=R^2\)</span>，对其上一点 <spanclass="math inline">\((x_0,y_0,z_0)\)</span> 与圆柱面交线 <spanclass="math inline">\((\lambda x_0,\lambda y_0,\lambda z_0)\)</span></p><p>满足 <span class="math inline">\(\lambda^2(x_0^2+y_0^2)=R^2\)</span>代入变换得 <spanclass="math inline">\(Q(\dfrac{Rx_0}{\sqrt{x_0^2+y_0^2}},\dfrac{Ry_0}{\sqrt{x_0^2+y_0^2}},f(\dfrac{Rz_0}{\sqrt{x_0^2+y_0^2}}))\)</span></p><p>考虑经度、纬度恒为定值的两条微元，取纬度 <spanclass="math inline">\(\varphi\sim \varphi+d\varphi\)</span> 处 <spanclass="math inline">\(d\theta\)</span> 的正交微圆弧，令其长度相同</p><p><span class="math inline">\(d\theta\cdotR\cos\varphi=Rd\varphi\Longrightarrow d\theta=\dfrac{d\varphi}{\cos\varphi}\)</span>，该两条圆弧映射后的长度分别为 $Rd$ 和 <spanclass="math inline">\(dz\)</span></p><p>两者相等有 <spanclass="math inline">\(Rd\theta=dz=R\dfrac{d\varphi}{\cos\varphi}\)</span> 两边积分得 <spanclass="math inline">\(z(\varphi)=\displaystyle \intR\dfrac{d\varphi}{\cos \varphi}=R\ln (\dfrac{1+\sin \varphi}{\cos\varphi})+C\)</span></p><p>代入 <span class="math inline">\(\varphi = 0\)</span> 时 <spanclass="math inline">\(z=0\)</span>，有 <spanclass="math inline">\(C=0,z(\varphi)=R\ln (\dfrac{1+\sin \varphi}{\cos\varphi})\)</span>，<span class="math inline">\(\lambdaz_0=\dfrac{Rz_0}{\sqrt{x_0^2+y_0^2}}=\dfrac{Rz_0}{\sqrt{R^2-z_0^2}}\)</span></p><p>令 <span class="math inline">\(x=\lambda z_0\)</span> 反解得 <spanclass="math inline">\(z_0=\dfrac{Rx}{\sqrt{R^2+x^2}},\dfrac{1+\sin\varphi}{\cos \varphi}=\dfrac{R+z_0}{\sqrt{R^2-z_0^2}}=\dfrac{x+\sqrt{x^2+R^2}}{R}\)</span></p><p>从而 <span class="math inline">\(f:x\longmapsto R\cdot\mbox{arcsinh}\\dfrac{x}{R}\)</span>，为反双曲三角正弦函数</p><h2 id="教材1.6.4">教材1.6.4</h2><p>设方程 <span class="math inline">\(f\left(u^{2}-x^{2}, u^{2}-y^{2},u^{2}-z^{2}\right)=0\)</span> 确定了函数 <spanclass="math inline">\(u=u(x, y, z)\)</span>, 其中 <spanclass="math inline">\(f\)</span> 可微,证明： <spanclass="math display">\[\frac{1}{x} \frac{\partial u}{\partial x}+\frac{1}{y} \frac{\partialu}{\partial y}+\frac{1}{z} \frac{\partial u}{\partial z}=\frac{1}{u} .\]</span></p><hr /><p>证明：由在方程 <span class="math inline">\(f\left(u^{2}-x^{2},u^{2}-y^{2}, u^{2}-z^{2}\right)=0\)</span> 下计算得 <spanclass="math display">\[\begin{gathered}\dfrac{\partial u}{\partial x}=-\dfrac{\dfrac{\partial f}{\partialx}}{\dfrac{\partial f}{\partialu}}=-\dfrac{-2xf_{1}&#39;}{2u(f_1&#39;+f_2&#39;+f_3&#39;)},\dfrac{\partial u}{\partial y}=-\dfrac{\dfrac{\partial f}{\partialy}}{\dfrac{\partial f}{\partialu}}=-\dfrac{-2yf_{1}&#39;}{2u(f_1&#39;+f_2&#39;+f_3&#39;)},\\\dfrac{\partial u}{\partialz}=-\dfrac{-2zf_{1}&#39;}{2u(f_1&#39;+f_2&#39;+f_3&#39;)}\rightarrow\frac{1}{x} \frac{\partial u}{\partial x}+\frac{1}{y} \frac{\partialu}{\partial y}+\frac{1}{z} \frac{\partial u}{\partialz}=\dfrac{f_1&#39;+f_2&#39;+f_3&#39;}{u(f_1&#39;+f_2&#39;+f_3&#39;)}=\dfrac{1}{u}\end{gathered}\]</span></p><h2 id="教材1.7.12">教材1.7.1(2)</h2><p>求下列曲面在给定点的切平面方程和法线方程.</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(z=\arctan \dfrac{y}{x}\)</span>, 点 <spanclass="math inline">\(P\left(1,1, \dfrac{\pi}{4}\right)\)</span>;</p><hr /><p>解：方程 <spanclass="math inline">\(f(x,y,z)=z-\arctan(\dfrac{y}{x})=0\)</span> 在点<span class="math inline">\((1,1,\dfrac{\pi}{4})\)</span> 处的法向量为<span class="math display">\[\vec{n}=(\dfrac{\partial f}{\partial x},\dfrac{\partial f}{\partialy},\dfrac{\partial f}{\partialz})=(\dfrac{y}{x^2+y^2},\dfrac{-x}{x^2+y^2},1)=(\dfrac{1}{2},-\dfrac{1}{2},1)\]</span> 从而切平面方程为 <spanclass="math inline">\(\dfrac{1}{2}(x-1)-\dfrac{1}{2}(y-1)+(z-\dfrac{\pi}{4})=0\)</span>，即<span class="math inline">\(x-y+2z=\dfrac{\pi}{2}\)</span></p><p>法线方程 <spanclass="math inline">\(\dfrac{x-1}{\dfrac{1}{2}}=\dfrac{y-1}{-\dfrac{1}{2}}=\dfrac{z-\dfrac{\pi}{4}}{1}\)</span></p><h2 id="教材1.7.42">教材1.7.4(2)</h2><p>证明下列各题</p><p><span class="math inline">\((2)\)</span> 曲面 <spanclass="math inline">\(\sqrt{x}+\sqrt{y}+\sqrt{z}=\sqrt{a}\)</span>的任意一点处的切平面在各坐标轴上的截距之和为 <spanclass="math inline">\(a\)</span> ；</p><hr /><p>解：方程 <spanclass="math inline">\(f(x,y,z)=\sqrt{x}+\sqrt{y}+\sqrt{z}-\sqrt{a}=0\)</span>在任意一点 <span class="math inline">\((x_0,y_0,z_0)\)</span>处的法向量为 <span class="math display">\[\vec{n}=(\dfrac{\partial f}{\partial x},\dfrac{\partial f}{\partialy},\dfrac{\partial f}{\partialz})=(\dfrac{1}{2\sqrt{x}},\dfrac{1}{2\sqrt{y}},\dfrac{1}{2\sqrt{z}})=(\dfrac{1}{2\sqrt{x_0}},\dfrac{1}{2\sqrt{y_0}},\dfrac{1}{2\sqrt{z_0}})\]</span> 则其切平面方程 <spanclass="math inline">\(\dfrac{x-x_0}{2\sqrt{x_0}}+\dfrac{y-y_0}{2\sqrt{y_0}}+\dfrac{z-z_0}{2\sqrt{z_0}}=0\)</span>，则在<span class="math inline">\(x,y,z\)</span> 轴上的截距分别为</p><p><span class="math inline">\(x_{inter}=x_0+({\sqrt{y_0}+\sqrt{z_0}})\sqrt{x_0},y_{inter}=y_0+({\sqrt{x_0}+\sqrt{z_0}})\sqrt{y_0},z_{inter}=z_0+({\sqrt{x_0}+\sqrt{y_0}})\sqrt{z_0}\)</span></p><p>从而 <spanclass="math inline">\(x_{inter}+y_{inter}+z_{inter}=x_0+y_0+z_0+2(\sqrt{x_0y_0}+\sqrt{x_0z_0}+\sqrt{y_0z_0})=\sqrt{a}^2=a\)</span></p><h1id="largetextcolorblue微积分第六次作业-smallwtimes-f-_textcolorblue2022.4.5"><spanclass="math inline">\(\large\textcolor{blue}{微积分第六次作业\\small(W\times f)}\ \ \ \ \ \ _\textcolor{blue}{2022.4.5}\)</span></h1><h2 id="习题1.9.8">习题1.9.8</h2><p>求函数 <span class="math inline">\(u=x^{2}+2 y^{2}+z^{2}-2 x y-2 yz\)</span> 在区域 <span class="math inline">\(x^{2}+y^{2}+z^{2}\leqslant 4\)</span> 内的最值.</p><hr /><p>解：由 <span class="math inline">\(u=(x-y)^2+(y-z)^2\geq0\)</span>，当 <span class="math inline">\(x=y=z=0\)</span>时能取到最小值 <span class="math inline">\(0\)</span></p><p>而若最大值在 <spanclass="math inline">\(x^2+y^2+z^2=r^2&lt;4\)</span> 时取到，为 <spanclass="math inline">\((x_0,y_0,z_0)\)</span> 则线性扩大 <spanclass="math inline">\(\dfrac{2}{r}\)</span> 倍，<spanclass="math inline">\(u\)</span> 扩大 <spanclass="math inline">\(\dfrac{4}{r^2}\)</span> 倍</p><p>从而最大值在 <span class="math inline">\(x^2+y^2+z^2=4\)</span>时取到，由拉格朗日乘子法 <span class="math display">\[f(x,y,z)=(x-y)^2+(y-z)^2+\lambda(x^2+y^2+z^2-4)\]</span> 有 <span class="math inline">\(\begin{cases}\dfrac{\partialf}{\partial x}=2(x-y)+2\lambda x=0\\\dfrac{\partial f}{\partialy}=-2(x-y)+2(y-z)+2\lambda y=0\\\dfrac{\partial f}{\partialz}=-2(y-z)+2\lambda z=0\end{cases}\)</span>，则有 <spanclass="math inline">\(\lambda=\dfrac{y}{x}-1=\dfrac{y}{z}-1=\dfrac{x+z}{y}-2\)</span></p><p>若 <span class="math inline">\(y=0\)</span>，则 <spanclass="math inline">\(\lambda=-1,x=-z\)</span>，代入 <spanclass="math inline">\(u=x^2+z^2=4\)</span></p><p>若 <span class="math inline">\(y\neq 0\)</span>，得 <spanclass="math inline">\(x=z,2x^2=xy+y^2\)</span> <spanclass="math inline">\(,x^2+y^2+z^2=2x^2+y^2=4=xy+2y^2,x=\dfrac{4}{y}-2y\)</span></p><p>有方程 <spanclass="math inline">\(4-y^2=2(\dfrac{4}{y}-2y)^2=\dfrac{32}{y^2}-32+8y^2\Longrightarrow9y^4-36y^2+32=0,y^2=\dfrac{8}{3},\dfrac{4}{3}\)</span> <spanclass="math display">\[u=2(x-y)^2=6(y^2-x^2)=6(-3y^2-\dfrac{16}{y^2}+16)\]</span> 代入计算最大为 <spanclass="math inline">\(6(-6-8+16)=12\)</span> 此时 <spanclass="math inline">\(y=\dfrac{2\sqrt{6}}{3},x=-\dfrac{\sqrt{6}}{3}=z\)</span></p><p>综上所述，<span class="math inline">\(u\)</span> 在 <spanclass="math inline">\(x^2+y^2+z^2\leq 4\)</span> 的最小值为 <spanclass="math inline">\(0\)</span>，最大值为 <spanclass="math inline">\(12\)</span></p><h2 id="习题1.9.92">习题1.9.9(2)</h2><p>求旋转抛物面 <span class="math inline">\(z=x^{2}+y^{2}\)</span>与平面 <span class="math inline">\(x+y-z=1\)</span> 的最短距离;</p><hr /><p>解：显然从几何上，固定旋转抛物面上的点，该点到平面 <spanclass="math inline">\(x+y-z=1\)</span> 的最小距离为垂线段 <spanclass="math display">\[d=\dfrac{|x_0+y_0-z_0-1|}{\sqrt{1^2+1^2+1^2}}=\dfrac{\sqrt{3}}{3}|x_0+y_0-z_0-1|=\dfrac{\sqrt{3}}{3}|x_0+y_0-x_0^2-y_0^2-1|\]</span> 而由配方法 <spanclass="math inline">\(x_0-x_0^2=-(x_0-\dfrac{1}{2})^2+\dfrac{1}{4}\leq\dfrac{1}{4}\)</span>，则 <spanclass="math inline">\(x_0+y_0-x_0^2-y_0^2-1\leq-\dfrac{1}{2}\)</span></p><p>从而取等时对应绝对值最小，则 <span class="math inline">\(d_{\min}=\dfrac{\sqrt{3}}{6}\)</span></p><h2 id="习题1.9.101">习题1.9.10(1)</h2><p>水渠的断面为等腰梯形, 在渠道表面抺上水泥, 当断面面积一定时,梯形的上、下底及腰的长度比例为多少时, 所用水泥最省?</p><hr /><p>解：显然所用水泥质量正比于 <spanclass="math inline">\(C_{\mbox{trapesoid}}=l_1+2l_{\mbox{waist}}\)</span></p><p>面积为定值 <span class="math inline">\(S=\dfrac{1}{2}(l_1+l_2)\cdoth\)</span>，勾股定理 <spanclass="math inline">\(l_{\mbox{waist}}=\sqrt{h^2+(\dfrac{l_2-l_1}{2})^2}\)</span><span class="math display">\[C=l_1+l_2+\sqrt{4h^2+(l_2-l_1)^2}=l_1+\sqrt{\dfrac{16S^2}{(l_1+l_2)^2}+(l_2-l_1)^2}\]</span> 对 <span class="math inline">\(l_2\)</span> 求导得 <spanclass="math inline">\(-\dfrac{32S^2}{(l_1+l_2)^3}+2(l_2-l_1)=0,8h^2=2(l_2-l_1)(l_1+l_2)\)</span></p><p>即有 <spanclass="math inline">\(h^2=\dfrac{1}{4}(l_2^2-l_1^2),l_{\mbox{waist}}=\dfrac{1}{2}\sqrt{(l_2-l_1)\cdot2l_2},C=l_1+\sqrt{2l_2(l_2-l_1)}\)</span></p><p>在约束条件 <spanclass="math inline">\(16S^2=(l_2-l_1)(l_2+l_1)^3\)</span> 下求 <spanclass="math inline">\(C(l_1,l_2)=l_1+\sqrt{2l_2(l_2-l_1)}\)</span>的最小值</p><p>作拉格朗日函数 <span class="math inline">\(f(l_1,l_2,\lambda)=l_1+\sqrt{2l_2(l_2-l_1)}+\lambda(l_2-l_1)(l_2+l_1)^3\)</span>，极值点对应</p><p><span class="math inline">\(\begin{cases}\dfrac{\partial f}{\partiall_1}=1+\dfrac{-2l_2}{2\sqrt{2l_2(l_2-l_1)}}+\lambda(l_2+l_1)^2(2l_2-4l_1)=0\\\dfrac{\partialf}{\partiall_2}=\dfrac{4l_2-2l_1}{2\sqrt{2l_2(l_2-l_1)}}+\lambda(l_2+l_1)^2(4l_2-2l_1)=0\end{cases}\)</span></p><p>令 <span class="math inline">\(\eta=\dfrac{l_2}{l_1}\)</span> 有<spanclass="math inline">\(\dfrac{\sqrt{2\eta(\eta-1)}-\eta}{2\eta-1}=\dfrac{\eta-2}{2\eta-1}\)</span>，解得<span class="math inline">\(\eta=2\)</span>，代入 <spanclass="math inline">\(l_1:l_2:l_{\mbox{waist}}=1:2:1\)</span></p><h2 id="习题2.2.22">习题2.2.2(2)</h2><p>求下列函数的导函数。 <span class="math inline">\(F(y)=\displaystyle\int_{a+y}^{b+y} \frac{\sin y x}{x} \mathrm{~d} x\)</span>;</p><hr /><p>解：对 <spanclass="math inline">\(F(y)=\displaystyle\int_{a+y}^{b+y}\dfrac{sin(yx)}{x}dx\)</span>，其对<span class="math inline">\(x\)</span> 的导函数分为两部分，分类讨论<span class="math display">\[F&#39;(y)=\dfrac{sin(y(b+y))}{b+y}-\dfrac{sin(y(a+y))}{a+y}+\int_{a+y}^{b+y}cos(xy)dx\]</span> ## 习题2.2.5.(1)</p><p><span class="math inline">\(\displaystyle \int_{0}^{1} \frac{\arctanx}{x} \frac{1}{\sqrt{1-x^{2}}} \mathrm{~d} x\left(\right.\)</span> 提示:<span class="math inline">\(\displaystyle \frac{\arctanx}{x}=\int_{0}^{1} \frac{1}{1+x^{2} y^{2}} \mathrm{~d} y\)</span> ）</p><hr /><p>解：由提示变换 <span class="math inline">\(\dfrac{\arctanx}{x}=\displaystyle\int_0^1\dfrac{1}{1+x^2y^2}dy\)</span>，化为二重积分得<span class="math display">\[\int_0^1\dfrac{\arctanx}{x}\dfrac{1}{\sqrt{1-x^2}}dx=\int_0^1\displaystyle\int_0^1\dfrac{1}{1+x^2y^2}\dfrac{1}{\sqrt{1-x^2}}dxdy\]</span> 代换 <spanclass="math inline">\(x=\sin\varphi,\varphi\in[0,\dfrac{\pi}{2}]\)</span>，有<spanclass="math inline">\(\dfrac{1}{1+x^2y^2}\dfrac{1}{\sqrt{1-x^2}}dx=\dfrac{d\varphi}{1+y^2\sin^2\varphi}=\dfrac{\cos^2\varphi\cdot d(\tan \varphi)}{(1+y^2)\sin^2\varphi+\cos^2 \varphi}\)</span><span class="math display">\[\begin{gathered}\int_0^1\dfrac{\arctanx}{x}\dfrac{1}{\sqrt{1-x^2}}dx=\int_0^1(\int_0^{\frac{\pi}{2}}\dfrac{d(\tan\varphi)}{1+(1+y^2)\tan^2\varphi})dy=\\\int_0^1(\dfrac{\arctan(\sqrt{1+y^2}\tan \varphi)}{\sqrt{1+y^2}})\big |_0^{\frac{\pi}{2}}dy=\dfrac{\pi}{2}\int_0^1\dfrac{dy}{\sqrt{1+y^2}}=\\\dfrac{\pi}{2}\ln(y+\sqrt{1+y^2})\big|_0^1=\dfrac{\pi}{2}\ln(1+\sqrt{2})\end{gathered}\]</span></p><h2 id="习题2.3.1">习题2.3.1</h2><p>计算下列积分.</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(\displaystyle \int_{0}^{+\infty}\frac{\mathrm{e}^{-a x^{2}}-\mathrm{e}^{-b x^{2}}}{x} \mathrm{~d} x(a,b&gt;0)\)</span>;</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\displaystyle \int_{0}^{+\infty} \frac{\cos ax-\cos b x}{x^{2}} \mathrm{~d} x(a, b&gt;0)\)</span></p><hr /><p>解：<span class="math inline">\((1)\)</span> 解：<spanclass="math inline">\(\displaystyle\int_0^{+\infty}\dfrac{e^{-ax^2}-e^{-bx^2}}{x}dx=\int_0^{+\infty}\dfrac{1}{x}dx\int_a^bx^2e^{-x^2y}dy=\int_0^{+\infty}\int_a^bxe^{-x^2y}dxdy\)</span><span class="math display">\[\int_0^{+\infty}xe^{-x^2y}dx=\dfrac{1}{2}\int_0^{+\infty}e^{-x^2y}d(x^2)=-\dfrac{1}{2y}\cdote^{-x^2y}\big |_0^{+\infty}=\dfrac{1}{2y}\\\int_0^{+\infty}\dfrac{e^{-ax^2}-e^{-bx^2}}{x}dx=\int_a^{b}\dfrac{1}{2y}dy=\dfrac{1}{2}\ln(\dfrac{b}{a})\]</span> <span class="math inline">\((3)\)</span> <spanclass="math inline">\(\displaystyle \int_0^{+\infty}\dfrac{\cos ax-\cosbx}{x^2}dx\=-\int_0^{+\infty}\dfrac{1}{x^2}dx\int_b^{a}x\sin(xy)dy=\int_0^{+\infty}\int_a^b\dfrac{\sin(xy)}{x}dxdy\)</span> <span class="math display">\[\mbox{set}\ \ t=xy\in[0,+\infty),\int_0^{+\infty}\dfrac{\sin(xy)}{x}dx=\int_0^{+\infty}\dfrac{y\sint}{t}d(\dfrac{t}{y})=\int_0^{+\infty}\dfrac{\sin t}{t}dt=\dfrac{\pi}{2}\]</span> 代入得 <span class="math inline">\(\displaystyle\int_0^{+\infty}\dfrac{\cos ax-\cosbx}{x^2}dx=\int_a^b\dfrac{\pi}{2}dy=\dfrac{\pi}{2}(b-a)\)</span></p><h2 id="习题2.1.4">习题2.1.4</h2><p>讨论下列积分在所给区间上的一致收敛性.</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\displaystyle \int_{-\infty}^{+\infty} \frac{\cosy x}{1+x^{2}} \mathrm{~d} x(-\infty&lt;y&lt;+\infty)\)</span>;</p><p><span class="math inline">\((9)\)</span> <spanclass="math inline">\(\displaystyle \int_{1}^{+\infty} x^{1-y}\mathrm{~d} x(0&lt;y&lt;+\infty)\)</span>;</p><p><span class="math inline">\((10)\)</span> <spanclass="math inline">\(\displaystyle \int_{0}^{+\infty} \frac{\sinx^{2}}{x^{p}} \mathrm{~d} x(0 \leqslant p&lt;+\infty)\)</span>.</p><hr /><p>解：<span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\(|\dfrac{\cos yx}{1+x^2}|\leq\dfrac{1}{1+x^2}\)</span>，且有 $<em>{-}^{+}dx=x|</em>{-}^{+}=$</p><p>对于 <span class="math inline">\(\displaystyle\int_{-\infty}^{+\infty}|\dfrac{\cosyx}{1+x^2}|dx=2\int_0^{+\infty}|\dfrac{\cos yx}{1+x^2}|dx\)</span>收敛，由柯西收敛准则 <span class="math display">\[\forall\  \epsilon &gt;0,\exists\ A&gt;0,s.t.\forall \A_1&gt;A_2&gt;A,\int_{A_1}^{A_2}|\dfrac{\cos yx}{1+x^2}|dx&lt;\epsilon\]</span> 放缩绝对值有 <span class="math inline">\(\forall\  \epsilon&gt;0,\exists\ A&gt;0,s.t.\forall\displaystyle \A_1&gt;A_2&gt;A,|\int_{A_1}^{A_2}\dfrac{\cos yx}{1+x^2}dx|\leq\int_{A_1}^{A_2}|\dfrac{\cos yx}{1+x^2}|dx&lt;\epsilon\)</span></p><p>由柯西收敛准则得原广义含参积分收敛</p><p><span class="math inline">\((9)\)</span> 当 <spanclass="math inline">\(0&lt;y\leq 2\)</span> 时 <spanclass="math inline">\(x^{1-y}\geq x^{-1}=\dfrac{1}{x}\)</span>，则 <spanclass="math display">\[\exists\ \epsilon_0=\ln 2,\forall \ A&gt;1,s.t.\exists \ A_2&gt;2A_1&gt;A,\displaystyle \int_{A_1}^{A_2}x^{1-y}dx&gt;\int_{A_1}^{A_2}\dfrac{1}{x}dx=\ln x\big|_{A_1}^{A_2}&gt;\epsilon_0\]</span> 此时广义含参积分不收敛；若当 <spanclass="math inline">\(2&lt;y\)</span> 时，直接计算有 <spanclass="math inline">\(\dfrac{1}{2-y}\cdot (0-1)=\dfrac{1}{y-2}\)</span>收敛</p><p><span class="math inline">\((10)\)</span> 代换 <spanclass="math inline">\(t=x^2\in [0,\infty)\)</span>，<spanclass="math inline">\(\displaystyle \int_{0}^{+\infty}\dfrac{\sinx^2}{x^p}dx=\int_{0}^{+\infty}\dfrac{\sint}{t^{\frac{p}{2}}}d(\sqrt{t})=\int_{0}^{+\infty}\dfrac{\sint}{t^{\frac{p+1}{2}}}dt\)</span></p><p>其中 <span class="math inline">\(\alpha=\dfrac{p+1}{2}\geq\dfrac{1}{2},\displaystyle \int_{1}^{+\infty}\dfrac{\sint}{t^{\alpha}}dt=\int_{1}^{+\infty}\dfrac{-d(\cos t)}{t^{\alpha}}=-\dfrac{\cos t}{t^{\alpha }}\big|_{1}^{+\infty}-\int_{1}^{+\infty}\dfrac{\alphadt}{t^{\alpha+1}}\)</span></p><p><span class="math inline">\(=\cos 1-\alpha \displaystyle\int_{1}^{+\infty}\dfrac{\cos t dt}{t^{\alpha +1}}\)</span>，而放缩<span class="math inline">\(\displaystyle \int_{1}^{+\infty}|\dfrac{\cost}{t^{\alpha +1}}|dt\leq \int_{1}^{+\infty}\dfrac{dt}{t^{\alpha+1}}=\dfrac{1}{\alpha }\)</span>，后者绝对收敛</p><p>从而 <span class="math inline">\(\displaystyle\int_{1}^{+\infty}\dfrac{\sin t}{t^{\alpha}}dt\)</span>一致收敛，只需考虑 <span class="math inline">\(\displaystyle\int_{0}^{1}\dfrac{\sin t}{t^{\alpha}}dt\)</span>，这与 <spanclass="math inline">\(\lim\limits_{t\to 0}\dfrac{\sin t }{t^{\alpha}}\)</span> 的收敛性相同</p><p>当且仅当 <span class="math inline">\(\alpha =\dfrac{p+1}{2}\leq1\)</span> 即 <span class="math inline">\(0\leq p\leq 1\)</span>时原广义含参积分收敛，<span class="math inline">\(1&lt;p\)</span>时不收敛</p><h1id="largetextcolorblue微积分第七次作业-smallwtimes-f-_textcolorblue2022.4.24"><spanclass="math inline">\(\large\textcolor{blue}{微积分第七次作业\\small(W\times f)}\ \ \ \ \ \ _\textcolor{blue}{2022.4.24}\)</span></h1><h2 id="习题3.2.3">习题3.2.3</h2><p>比较下列各组积分值的大小.</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\displaystyle \iint_{D} \ln (x+y) \mathrm{d} x\mathrm{~d} y ,\displaystyle \iint_{D} x y \mathrm{~d} x \mathrm{~d}y\)</span>, <span class="math inline">\(D\)</span> 由直线 <spanclass="math inline">\(x=0, y=0, x+y=\dfrac{1}{2}\)</span>, <spanclass="math inline">\(x+y=1\)</span></p><p>围成.</p><hr /><p>解：去掉边界积分结果不变，由于 <span class="math inline">\(x+y&lt;1\)</span>，则 <span class="math inline">\(\ln (x+y)&lt; 0\)</span> 而<span class="math inline">\(xy&gt; 0\)</span>，且积分区域 <spanclass="math inline">\(x,y&gt;0\)</span></p><p>从而 <span class="math inline">\(\ln(x+y)dxdy&lt;xydxdy\)</span> 则<span class="math inline">\(\displaystyle \iint_{D} \ln (x+y) \mathrm{d}x \mathrm{~d} y&lt;\displaystyle \iint_{D} x y \mathrm{~d} x \mathrm{~d}y\)</span></p><h2 id="习题3.3.6">习题3.3.6</h2><p>计算下列二重积分.</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(\displaystyle \iint_{D} x y^{2} \mathrm{~d} x\mathrm{~d} y, D=\left\{(x, y) \mid 4 x \geqslant y^{2}, x \leqslant1\right\}\)</span>;</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\displaystyle \iint_{D} \frac{1}{\sqrt{2 a-x}}\mathrm{~d} x \mathrm{~d} y, D=\left\{(x, y) \mid(x-a)^{2}+(y-a)^{2}\leqslant 1,0 \leqslant x, y \leqslant a\right\}\)</span>;</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(\displaystyle \iint_{D} x \cos (x y) \mathrm{d} x\mathrm{~d} y, D=\left\{(x, y) \mid x^{2}+y^{2} \leqslantR^{2}\right\}\)</span>;</p><p><span class="math inline">\((9)\)</span> <spanclass="math inline">\(\displaystyle \iint_{D} y^{2} \mathrm{~d} x\mathrm{~d} y, D\)</span> 由 <spanclass="math inline">\(\left\{\begin{array}{l}x=a(t-\sin t), \\y=a(1-\cos t),\end{array} \quad 0 \leqslant t \leqslant 2\pi\right.\)</span> 以及 <span class="math inline">\(x\)</span>轴围成;</p><hr /><p>解：<span class="math inline">\((1)\)</span> 积分区域图像如右 <spanclass="math inline">\(\begin{cases}x\geq \dfrac{1}{4}y^2\\x\leq1\end{cases}\)</span><img src="https://pic.imgdb.cn/item/6263ee9a239250f7c50284a2.jpg" style="zoom:1.8%;" /><span class="math display">\[\displaystyle \iint_{D} x y^{2} \mathrm{~d} x \mathrm{~d}y=\int_{0}^1dx\int_{-2\sqrt{x}}^{2\sqrt{x}}xy^2dy=\int_0^1x\cdot\dfrac{2}{3}(2\sqrt{x})^3dx=\dfrac{16}{3}\int_0^1x^{\frac{5}{2}}dx=\dfrac{32}{21}\]</span> <span class="math inline">\((2)\)</span> 积分区域 <spanclass="math inline">\(\begin{cases}(x-a)^2+(y-a)^2\leq a^2\\0\leqx,y\leq a\end{cases}\)</span> 图像如右<img src="https://pic.imgdb.cn/item/6263e7c5239250f7c5f194bc.jpg" style="zoom:40%;" /><span class="math display">\[\begin{gathered}\underset{D}{\iint}\dfrac{1}{\sqrt{2a-x}}dxdy=\int_0^{a}dx\int_{a-\sqrt{x(2a-x)}}^a\dfrac{1}{\sqrt{2a-x}}dy\\=\int_0^{a}\sqrt{x(2a-x)}\cdot\dfrac{1}{\sqrt{2a-x}}dx=\dfrac{2}{3}a^{\frac{3}{2}}\end{gathered}\]</span></p><p><span class="math inline">\((4)\)</span> 积分区域 <spanclass="math inline">\(D:x^2+y^2\leq R^2\)</span> 图像如右<img src="https://pic.imgdb.cn/item/6263ef15239250f7c503b0f1.jpg" style="zoom:40%;" /></p><p>拆成两部分 <span class="math inline">\(\displaystyle\underset{D}{\iint}x\cos (xy)dxdy=\underset{D\ \cap\ \{x|x\leq0\}}{\iint}x\cos (xy)dxdy+\underset{D\ \cap\ \{x|x&gt;0\}}{\iint}x\cos(xy)dxdy\)</span></p><p>对 <span class="math inline">\(f(x,y)=x\cos (xy)\)</span> 有 <spanclass="math inline">\(f(x,y)=-f(-x,y)\)</span> 为关于 <spanclass="math inline">\(x\)</span> 的奇函数，则 <spanclass="math inline">\(\displaystyle \underset{D}{\iint}x\cos(xy)dxdy=0\)</span></p><p><span class="math display">\[\underset{D}{\iint}|\cos (x+y)|dxdy=\underset{D&#39;}{\iint}|\cos(x+y)|\dfrac{D (x,y)}{D(v,u)}dvdu=\underset{D}{\iint}|\cos(x+y)|\begin{vmatrix}\dfrac{1}{2}&amp;\dfrac{1}{2}\\{-}\dfrac{1}{2}&amp;\dfrac{1}{2}\end{vmatrix}dudv\\=\dfrac{1}{2}\underset{D}{\iint}|\cos (x+y)|dvdu=\dfrac{1}{2}\cdot4\int_0^{\pi}|\cos u|du\int_0^{u}dv=2\cdot2\int_0^{\frac{\pi}{2}}ud(\sin u)=2\pi-4\]</span></p><p><span class="math inline">\((9)\)</span> 解：滚轮线 <spanclass="math inline">\(\begin{cases}x=a(t-\sin t)\\y=a(1-\cost)\end{cases}\ \small t\in[0,2\pi],\normalsize D\scriptsize:\normalsize\begin{cases}y\leq f(x)\\0\leq y\end{cases}\)</span> 图像<img src="https://pic.imgdb.cn/item/6263efe8239250f7c505f791.jpg" style="zoom:35%;" /></p><p><spanclass="math inline">\(\displaystyle\underset{D}{\iint}y^2dxdy=\int_0^{2\pia} dx\int_{0}^{f(x)} y^2dy=\dfrac{1}{3}\int_0^{2\pi a}f(x)^3dx\)</span>，换成参数 <span class="math inline">\(t\)</span>积分得 <span class="math display">\[\dfrac{1}{3}\int_0^{2\pi}   a^{4}(1-\cos t)^{3}d(t-\sint)=\dfrac{a^4}{3}\int_0^{2\pi}(1-\cost)^4dt=\dfrac{a^4}{3}\int_{-\pi}^{\pi}(1+\cos x)^4dx=\\\dfrac{a^4}{3}\int_{-\pi}^{\pi}(1+4\cos x+6\cos ^2x+4\cos^3x+\cos^4x)dx=\dfrac{a^4}{3}\int_{-\pi}^{\pi}(1+6\cos ^2x+\cos^4x)dx\\=\dfrac{a^4}{3}(2\pi+\int_{-\pi}^{\pi}3(1+\cos2x)dx+\int_{-\pi}^{\pi}\dfrac{(1+\cos2x)^2}{4}dx=\dfrac{a^4}{3}(8\pi+\int_{-\pi}^\pi{\dfrac{1+\dfrac{1}{2}}{4}}dx+0)\\=\dfrac{a^4}{3}(8\pi+\dfrac{3\pi}{4})=\dfrac{35\pi}{12}a^4\ \ \ \(答案有误，分母缺少3)\]</span></p><h2 id="习题3.3.12">习题3.3.12</h2><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\displaystyle \iint_{D}(x+y) \mathrm{d} x\mathrm{~d} y, D\)</span> 是由 <spanclass="math inline">\(x^{2}+y^{2}=x+y\)</span> 围成的平面区域</p><hr /><p>解：该区域为一个圆 <spanclass="math inline">\((x-\dfrac{1}{2})^2+(y-\dfrac{1}{2})^2=(\dfrac{\sqrt{2}}{2})^2\)</span>换元 <span class="math inline">\(\begin{cases}x=\dfrac{1}{2}+r\cos\theta\\y=\dfrac{1}{2}+r\sin \theta\end{cases}\)</span></p><p>得到 <span class="math inline">\(dxdy=rd\theta dr\)</span> 计算有<span class="math inline">\(\displaystyle \iint _{D}(x+y)dxdy=\iint_{D}(1+r\cos \theta+r\sin \theta)rd\theta dr\)</span> <spanclass="math display">\[\begin{gathered}\iint _{D}(1+r\cos \theta+r\sin \theta)rd\thetadr=\int_0^{\frac{\sqrt{2}}{2}}dr\int_{0}^{2 \pi}(1+r\cos \theta+r\sin\theta)\cdot rd\theta\\=\int_0^{\frac{\sqrt{2}}{2}}dr(2\pi+0+0)\cdot r=\pi r^2\big|_{0}^{\frac{\sqrt{2}}{2}}=\dfrac{\pi}{2}\end{gathered}\]</span></p><h2 id="习题3.3.16">习题3.3.16</h2><p>设函数 <span class="math inline">\(f(t)\)</span> 连续, 证明：</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\displaystyle \iint_{|x|+|y| \leqslant 1} f(x y)\mathrm{d} x \mathrm{~d} y=\ln 2 \int_{1}^{2} f(t) \mathrm{d} t,D\)</span> 是由 <span class="math inline">\(x y=1, x y=2, y=x, y=4x\)</span> 所围成</p><p>第一象限的区域.</p><hr /><p>解：代换 <spanclass="math inline">\(xy=u,\dfrac{y}{x}=v\)</span>，逆变换 <spanclass="math inline">\(x=\sqrt{\dfrac{u}{v}},y=\sqrt{uv}\)</span>，则雅克比行列式 <span class="math display">\[\dfrac{D(x,y)}{D(u,v)}=\begin{vmatrix}\dfrac{\partial x}{\partialu}&amp;\dfrac{\partial x}{\partial v}\\\dfrac{\partial y}{\partialu}&amp;\dfrac{\partial x}{\partialv}\end{vmatrix}=\begin{vmatrix}\dfrac{1}{2\sqrt{uv}}&amp;-\dfrac{1}{2}\sqrt{\dfrac{u}{v^3}}\\\dfrac{1}{2}\sqrt{\dfrac{v}{u}}&amp;\dfrac{1}{2}\sqrt{\dfrac{u}{v}}\end{vmatrix}=\dfrac{1}{2v}\]</span> 原区域 <span class="math inline">\(D:\begin{cases}1\leq xy\leq2\\1\leq \dfrac{y}{x}\leq 4\end{cases}\)</span> 变换后对应 <spanclass="math inline">\(D&#39;:\begin{cases}1\leq u\leq 2\\1\leq v\leq4\end{cases}\)</span> 图像如右<img src="https://pic.imgdb.cn/item/6263f6fc239250f7c518191f.jpg" style="zoom:33%;" /><span class="math display">\[\underset{D}{\iint}f(xy)dxdy=\underset{D&#39;}{\iint}f(u)\cdot\dfrac{1}{2v}dudv=\int_1^2f(u)du\int_1^4\dfrac{dv}{2v}=\ln2\int_1^2f(t)dt\]</span></p><h2 id="习题3.4.5">习题3.4.5</h2><p>计算下列三重积分的值.</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(\displaystyle \iiint_{\Omega} x y^{2} z^{3}\mathrm{~d} x \mathrm{~d} y \mathrm{~d} z, \Omega\)</span> 是由马鞍面<span class="math inline">\(z=x y\)</span> 与平面 <spanclass="math inline">\(y=x, x=1, z=0\)</span> 所围成空间区域;</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\displaystyle \iiint_{\Omega} x \cos (y+z)\mathrm{d} x \mathrm{~d} y \mathrm{~d} z, \Omega\)</span> 是由曲面 <spanclass="math inline">\(x=\sqrt{y}\)</span> 与平面 <spanclass="math inline">\(x=0, z=0, y+z\)</span> <spanclass="math inline">\(=\dfrac{\pi}{2}\)</span> 围成区域;</p><hr /><p>解：<span class="math inline">\((1)\)</span> 从 <spanclass="math inline">\(z=0\)</span> 连续变化到 <spanclass="math inline">\(z=1\)</span>，图中画出 <spanclass="math inline">\(z=\dfrac{1}{2}\)</span> 的情况<img src="https://pic.imgdb.cn/item/6263f954239250f7c51dc060.jpg" style="zoom:33%;" /></p><p>对每个 <span class="math inline">\(z\)</span> 二重积分得到 <spanclass="math display">\[\begin{gathered}\displaystyle \iiint_{\Omega} x y^{2} z^{3} \mathrm{~d} x \mathrm{~d} y\mathrm{~d}z=\int_0^1dz\int_{\sqrt{z}}^1dx\int_{\frac{z}{x}}^xxy^2z^3dy=\int_0^1z^3dz\int_{\sqrt{z}}^1xdx\dfrac{y^3}{3}\big|_{\frac{z}{x}}^x\\=\dfrac{1}{3}\int_0^1z^3dz\int_{\sqrt{z}}^1xdx(x^3-\dfrac{z^3}{x^3})=\dfrac{1}{3}\int_0^1z^3dz(\dfrac{1}{5}x^5+\dfrac{z^3}{x})\big|_{\sqrt{z}}^1\\=\dfrac{1}{3}\int_0^1z^3(\dfrac{1}{5}-\dfrac{1}{5}z^{\frac{5}{2}}+z^3-z^{\frac{5}{2}})dz=\dfrac{1}{3}(\dfrac{1}{20}-\dfrac{6}{5}\cdot\dfrac{2}{13}+\dfrac{1}{7})=\dfrac{1}{364}\end{gathered}\]</span> <span class="math inline">\((3)\)</span> 对 <spanclass="math inline">\(z=0\)</span> 连续变化到 <spanclass="math inline">\(z=\dfrac{\pi}{2}\)</span> ，图像如右<img src="https://pic.imgdb.cn/item/62649243239250f7c53a84e3.jpg" style="zoom:33%;" /><span class="math display">\[\begin{gathered}\displaystyle \iiint_{\Omega} x \cos (y+z) \mathrm{d} x \mathrm{~d} y\mathrm{~d}z=\int_0^{\frac{\pi}{2}}dz\int_0^{\frac{\pi}{2}-z}dy\int_0^{\sqrt{y}}x\cos(y+z)dx\\=\dfrac{1}{2}\int_0^{\frac{\pi}{2}}dz\int_0^{\frac{\pi}{2}-z}dy\cdoty\cos(y+z)=\dfrac{1}{2}\int_0^{\frac{\pi}{2}}dz(y\sin (y+z)\big|_{0}^{\frac{\pi}{2}-z}-\int_0^{\frac{\pi}{2}-z}\sin (y+z)dy)\\=\dfrac{1}{2}\int_0^{\frac{\pi}{2}}dz((\dfrac{\pi}{2}-z)+\cos (y+z)\big|_{0}^{\frac{\pi}{2}-z})=\dfrac{1}{2}\int_0^{\frac{\pi}{2}}((\dfrac{\pi}{2}-z)-\cosz)dz\\=\dfrac{1}{2}(\dfrac{\pi^2}{4}-\dfrac{\pi^2}{8})-\dfrac{1}{2}=\dfrac{\pi^2-8}{16}\end{gathered}\]</span></p><h2 id="习题3.4.6">习题3.4.6</h2><p>计算累次积分 <span class="math inline">\(\displaystyle I=\int_{0}^{1}\mathrm{~d} x \int_{0}^{x} \mathrm{~d} y \int_{0}^{y} \frac{\cosz}{(1-z)^{2}} \mathrm{~d} z\)</span> 的值.</p><hr /><p>解：三维图形为三棱锥，图像如右（使用 <spanclass="math inline">\(\mbox{meshlab}\)</span> 绘图）<img src="https://pic.imgdb.cn/item/62649b46239250f7c5468dff.jpg" style="zoom:20%;" /></p><p>在 <span class="math inline">\(z=z_0\)</span>切面上由面积相似比等于高之比的平方 <spanclass="math inline">\(\eta=(1-z)^2\)</span>，从而有 <spanclass="math display">\[\int_0^{1}dx\int_0^xdy\int_0^y\dfrac{\cosz}{(1-z)^2}dz=\int_0^1\dfrac{\cos z}{(1-z)^2}\cdotSdz=\int_0^1\dfrac{\cos z}{(1-z)^2}\dfrac{1}{2}(1-z)^2dz=\dfrac{\sin1}{2}\]</span></p><h2 id="习题3.4.7">习题3.4.7</h2><p>计算下列三重积分的值.</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(\displaystyle \iiint_{\Omega} x\mathrm{e}^{\frac{x^{2}+y^{2}+z^{2}}{a^{2}}} \mathrm{~d} x \mathrm{~d} y\mathrm{~d} z, \Omega=\left\{(x, y, z) \mid x^{2}+y^{2}+z^{2} \leqslanta^{2}, x, y, z \geqslant 0\right\}\)</span></p><hr /><p>解：使用球坐标 <spanclass="math inline">\((x,y,z)=(r,\theta,\varphi)\)</span> 有 <spanclass="math inline">\(dxdydz=r^2\sin \theta dr d\theta d\varphi\)</span>计算积分有 <span class="math display">\[\begin{gathered}\displaystyle \iiint_{\Omega} x\mathrm{e}^{\frac{x^{2}+y^{2}+z^{2}}{a^{2}}} \mathrm{~d} x \mathrm{~d} y\mathrm{~d} z=\displaystyle \iiint_{\Omega} r\sin \theta\sin \varphie^{\frac{r^2}{a^2}}r^2\sin \theta  dr d\theta d\varphi\\= \int_{0}^{\frac{\pi}{2}}\dfrac{1-\cos 2\theta}{2} d\theta\int_{0}^{a}r^{3}e^{\frac{r^2}{a^2}}dr=\int_0^{a^2}\dfrac{\pi}{8}te^{\frac{t}{a^2}}dt=\dfrac{\pi}{8}(a^2t-a^4)e^{\frac{t}{a^2}}\big|_{0}^{a^2}=\dfrac{ \pi a^4}{8}\end{gathered}\]</span></p><h2 id="习题3.4.10">习题3.4.10</h2><p><span class="math inline">\(f(t)\)</span> 在 <spanclass="math inline">\((-\infty,+\infty)\)</span> 连续, <spanclass="math inline">\(f(t)=3\displaystyle \iiint_{x^{2}+y^{2}+z^{2}\leqslant t^{2}} f\left(\sqrt{x^{2}+y^{2}+z^{2}}\right) \mathrm{d} x\mathrm{~d} y \mathrm{~d} z+\)</span> <spanclass="math inline">\(\left|t^{3}\right|\)</span>, 求 <spanclass="math inline">\(f(t)\)</span></p><hr /><p>解：积分区域为球体 <span class="math inline">\(x^2+y^2+z^2\leqt^2\)</span>，换取球坐标 <spanclass="math inline">\((x,y,z)\longrightarrow(\rho,\theta,\varphi)\)</span>，有体积元变换<span class="math display">\[dxdydz=\rho^2\sin \theta d\rho d\theta d\varphi\]</span></p><p><span class="math display">\[f(t)=3\int_0^{2\pi}\int_0^{\pi}\int_0^tf(\rho)\rho^2\sin \theta d\rhod\theta d\varphi+|t^3|\\=3\cdot2\cdot2\pi\int_0^tf(\rho)\rho^2d\rho+|t^3|=12\pi\int_0^tf(\rho)\rho^2d\rho+|t^3|\]</span></p><p>两边对 <span class="math inline">\(t\)</span> 求导得 <spanclass="math display">\[f&#39;(t)=12\pi t^2 f(t)+\mbox{sign}(t)\cdot 3t^2,\mbox{where}\\mbox{sign}(x)=\begin{cases}1,x&gt;0\\0,x=0\\-1,x&lt;0\end{cases}\]</span> 其特解与 <span class="math inline">\(t\)</span> 的符号有关<spanclass="math inline">\(\begin{cases}t&gt;0,f_0=-\dfrac{1}{4\pi}\\t&lt;0,f_0=\dfrac{1}{4\pi}\end{cases}\)</span>，其通解满足方程<span class="math display">\[\dfrac{df}{dt}=12\pi t^2f\Longrightarrow \int\dfrac{df}{f}=\int12\pit^2dt\ ,\ \ln f=4\pi t^3+C \ \therefore f(t)=\begin{cases}C_1e^{4\pit^3}-\dfrac{1}{4\pi},t&gt;0\\C_2e^{4\pit^3}+\dfrac{1}{4\pi},t&lt;0\end{cases}\]</span> 由 <span class="math inline">\(f(t)\)</span> 在 <spanclass="math inline">\((-\infty,+\infty)\)</span> 连续得 <spanclass="math inline">\(C_1-\dfrac{1}{4\pi}=C_2+\dfrac{1}{4\pi}\)</span>，有<span class="math inline">\(C_1=C_2+\dfrac{1}{2\pi}\)</span>，对 <spanclass="math inline">\(t&gt;0\)</span> 代入原积分 <spanclass="math display">\[\begin{gathered}f(t)=C_1e^{4\pi t^2}-\dfrac{1}{4\pi}=12\pi\int_0^t(C_1e^{4\pi\rho^3}-\dfrac{1}{4\pi})\rho^2d\rho+t^3\\=\int_0^tC_1e^{4\pi\rho^3}d(4\pi\rho^3)+0=C_1(e^{4\pi t^2}-1)\end{gathered}\]</span> 比对得 <spanclass="math inline">\(C_1=\dfrac{1}{4\pi}\)</span>，<spanclass="math inline">\(C_2=-\dfrac{1}{4\pi}\)</span>，从而 <spanclass="math inline">\(f(t)=\dfrac{|e^{4\pi t^3}-1|}{4\pi}\)</span></p><h2 id="习题3.5.1">习题3.5.1</h2><p>求下列曲面的面积.</p><p><span class="math inline">\((2)\)</span> 锥面 <spanclass="math inline">\(z=\sqrt{x^{2}+y^{2}}\)</span> 在柱面 <spanclass="math inline">\(z^{2}=2 x\)</span> 内的部分;</p><hr /><p>解：<span class="math inline">\(z=\sqrt{x^2+y^2}\)</span> 和 <spanclass="math inline">\(z^2=2x\)</span> 在 <spanclass="math inline">\(y=0\)</span> 处截图如下<img src="https://pic.imgdb.cn/item/62651620239250f7c56a0d11.jpg" style="zoom:30%;" /></p><p>取柱坐标 <spanclass="math inline">\((x,y,z)\longmapsto(\rho,\theta,z)\)</span> 则锥面<span class="math inline">\(z=\rho,z^2=2\rho \cos \theta\)</span> 其要求<span class="math inline">\(\rho \leq 2\cos \theta\)</span> 为圆</p><p><span class="math inline">\(\sqrt{1+\left(\dfrac{\partial z}{\partialx}\right)^{2}+\left(\dfrac{\partial z}{\partialy}\right)^{2}}=\sqrt{2}\)</span> 则 <spanclass="math inline">\(S=\displaystyle \iint_D\sqrt{2}dxdy=\sqrt{2}\cdotS_{圆}=\sqrt{2}\pi\)</span></p><h2 id="习题3.5.2">习题3.5.2</h2><p>求下列曲面所包围的均匀物体的质心.</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(z=4-x^{2}(x \geqslant 0), x=0, y=0, z=0,y=6\)</span>.</p><hr /><p>解：由对称性该物体的质心 <span class="math inline">\(y\)</span>坐标为 <span class="math inline">\(3\)</span> ，且质心的 <spanclass="math inline">\(x,z\)</span> 坐标与平面内抛物三角形相同 <spanclass="math display">\[x_c=\dfrac{\displaystyle \int_0^2x(4-x^2)dx}{\displaystyle\int_0^2(4-x^2)dx}=\dfrac{4}{\frac{16}{3}}=\dfrac{3}{4},z_c=\dfrac{\displaystyle\int_0^2\dfrac{4-x^2}{2}(4-x^2)dx}{\displaystyle\int_0^2(4-x^2)dx}=\dfrac{\frac{128}{15}}{\frac{16}{3}}=\dfrac{8}{5}\]</span> 则质心坐标为 <spanclass="math inline">\((\dfrac{3}{4},3,\dfrac{8}{5})\)</span></p><h2 id="习题4.2.1">习题4.2.1</h2><p>计算下列曲线积分.</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(\displaystyle\int_{L}\left(x^{\frac{4}{3}}+y^{\frac{4}{3}}\right) \mathrm{d}l\)</span>, 其中 <span class="math inline">\(L\)</span> 为星形线 <spanclass="math inline">\(\left\{\begin{array}{l}x=a \cos ^{3} t, \\ y=a\sin ^{3} t,\end{array} \quad 0 \leqslant t \leqslant 2\pi\right.\)</span>.</p><hr /><p>解：由曲线微元 <spanclass="math inline">\(dl=\sqrt{dx^2+dy^2}=3a|\cos t\sin t|\)</span>代入有 <span class="math display">\[\begin{gathered}\int_{L}(x^{\frac{4}{3}}+y^{\frac{4}{3}})3a|\cos t\sin t|dt=3\int_0^{2\pi}a^{\frac{7}{3}}(\cos^4 t+\sin ^4 t)|\cos t\sin t|dt\\=12a^{\frac{7}{3}}\int_0^{\frac{\pi}{2}}(1-\dfrac{1}{4}\sin^22t)\dfrac{1}{2}\sin2tdt=12a^{\frac{7}{3}}(\dfrac{1}{2}-\int_0^{\frac{\pi}{2}}\dfrac{1}{8}(1-\cos4t )\sin 2tdt)\\=12a^{\frac{7}{3}}(\dfrac{3}{8}-\dfrac{1}{8}\int_0^{\frac{\pi}{2}}\dfrac{\sin6t-\sin2t}{2}dt=12a^{\frac{7}{3}}(\dfrac{3}{8}-\dfrac{1}{8}(-\dfrac{1}{12}\cos6t+\dfrac{1}{4}\cos 2t)\big |_0^{\frac{\pi}{2}})\\=12a^{\frac{7}{3}}(\dfrac{3}{8}-\dfrac{1}{8}(\dfrac{1}{6}-\dfrac{1}{2}))=4a^{\frac{7}{3}}\end{gathered}\]</span></p><h2 id="习题4.2.2">习题4.2.2</h2><p>计算下列曲线积分.</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(\displaystyle \int_{L} x \mathrm{~d} l\)</span>,其中 <span class="math inline">\(L\)</span> 为球面 <spanclass="math inline">\(x^{2}+y^{2}+z^{2}=4\)</span>在第一象限部分的边界.</p><hr /><p>解：由题设求和即为 <spanclass="math inline">\(y=\sqrt{4-x^2}\)</span> 位于 <spanclass="math inline">\(xy\)</span> 象限和 <spanclass="math inline">\(xz\)</span> 象限的部分，有 <spanclass="math inline">\(\begin{cases}x=2\cos \theta\\y=2\sin\theta\end{cases},\theta\in [0,\dfrac{\pi}{2}]\)</span> <spanclass="math display">\[\int_{L}xdl=2\cdot \int_0^{\frac{\pi}{2}}2\cos \theta\cdot2d\theta=2\cdot 4=8\]</span></p><h2 id="习题4.3.3">习题4.3.3</h2><p>求抛物面 <span class="math inline">\(2 z=x^{2}+y^{2}\)</span> 在<span class="math inline">\(z \in[0,1]\)</span> 部分的质量,其中质量面密度为 <span class="math inline">\(\sigma=z\)</span>.</p><hr /><p>解：由面积微元，<spanclass="math display">\[\sqrt{1+\left(\dfrac{\partial z}{\partialx}\right)^{2}+\left(\dfrac{\partial z}{\partialy}\right)^{2}}=\sqrt{1+x^2+y^2}\]</span> 代入质量面密度 <spanclass="math display">\[\begin{gathered}m=\iint \sqrt{1+x^2+y^2}\cdotzdxdy=\int_{0}^{2\pi}d\theta\int_0^{\sqrt{2}}\sqrt{1+r^2}\dfrac{r^2}{2}rdr\\=\dfrac{\pi}{2}\int_0^{\sqrt{2}}r^{2}\sqrt{1+r^2}d(r^2)=\dfrac{\pi}{2}\int_0^2t\sqrt{1+t}dt=\dfrac{\pi}{2}(\dfrac{2}{3}t(1+t)^{\frac{3}{2}}-\dfrac{4}{15}(1+t)^{\frac{5}{2}})\big|_0^{2}\\=\dfrac{\pi}{2}(\dfrac{4}{3}\cdot3\sqrt{3}-\dfrac{4}{15}(9\sqrt{3}-1))=\dfrac{(12\sqrt{3}+2)\pi}{15}\end{gathered}\]</span></p><h2 id="习题4.3.11">习题4.3.11</h2><p>证明: (<span class="math inline">\(\mbox{Poisson}\)</span> 公式)<span class="math inline">\(\displaystyle \iint_{S} f(a x+b y+c z)\mathrm{d} S=2 \pi \int_{-1}^{1} f\left(\sqrt{a^{2}+b^{2}+c^{2}}t\right) \mathrm{d} t\)</span>, 其中</p><p><span class="math inline">\(S=\left\{(x, y, z) \midx^{2}+y^{2}+z^{2}=1\right\}, f\)</span> 是连续函数.</p><hr /><p>证明：对球面的面积微元 <span class="math inline">\(z=\pm\sqrt{1-x^2-y^2}\)</span> <spanclass="math inline">\(\sqrt{1+\left(\dfrac{\partial z}{\partialx}\right)^{2}+\left(\dfrac{\partial z}{\partialy}\right)^{2}}=\dfrac{1}{\sqrt{1-x^2-y^2}}\)</span></p><p>由球面的对称性，旋转球面的基向量到 <spanclass="math inline">\(\dfrac{1}{\sqrt{a^2+b^2+c^2}}\)</span>方向，积分结果为定值 <span class="math display">\[\begin{gathered}\displaystyle \iint_{S} f(a x+b y+c z) \mathrm{d} S=\iint_{S}f(\sqrt{a^2+b^2+c^2}z) \mathrm{d}S=2\iint_{S_{xy}}\dfrac{f(\sqrt{a^2+b^2+c^2}z)}{\sqrt{1-x^2-y^2}}dxdy\\=2\int_0^{2\pi}d\theta\int_0^{1}\dfrac{f(\sqrt{a^2+b^2+c^2}\sqrt{1-r^2})}{\sqrt{1-r^2}}rdr\\=4\pi\int_{0}^{1}f(\sqrt{a^2+b^2+c^2}\sqrt{1-r^2})d(\sqrt{1-r^2})=2\pi \int_{-1}^{1} f\left(\sqrt{a^{2}+b^{2}+c^{2}} t\right) \mathrm{d} t\end{gathered}\]</span></p><h1id="largetextcolorblue微积分第八次作业-smallwtimes-f-_textcolorblue2022.5.15"><spanclass="math inline">\(\large\textcolor{blue}{微积分第八次作业\\small(W\times f)}\ \ \ \ \ \ _\textcolor{blue}{2022.5.15}\)</span></h1><h2 id="习题4.5.3">习题4.5.3</h2><p><span class="math inline">\((5)\)</span> <spanclass="math inline">\(\displaystyle \iint_{S^{+}} z^{2} \mathrm{~d} x\wedge \mathrm{d} y\)</span>, 其中 <spanclass="math inline">\(S^{+}\)</span>是 <spanclass="math inline">\(z=\sqrt{R^{2}-x^{2}-y^{2}}\)</span> 被柱面 <spanclass="math inline">\(x^{2}+y^{2}=R x\)</span> 所截部分的上侧.</p><hr /><p>解：原积分化为二重积分，代入条件 <spanclass="math inline">\(z^2=R^2-x^2-y^2\)</span> <spanclass="math display">\[\begin{gathered}\displaystyle \iint_{S^{+}} z^{2} \mathrm{~d} x \wedge \mathrm{d}y=\iint_{D}(R^2-x^2-y^2)dxdy=2\pi\int_{0}^{\frac{R}{2}}(R^2-(\dfrac{R}{2}+r\cos\varphi)^2-(\dfrac{R}{2}+r\sin \varphi)^2)rdr\\2\pi\int_{0}^{\frac{R}{2}}(\dfrac{3}{4}R^2-r^2)rdr=2\pi(\dfrac{3}{32}-\dfrac{1}{4}\cdot\dfrac{1}{16})R^4=\dfrac{5\pi}{32}R^4\end{gathered}\]</span></p><h2 id="习题4.5.5">习题4.5.5</h2><p>求流速场 <span class="math inline">\(\boldsymbol{V}=x y\boldsymbol{i}+y z \boldsymbol{j}+z x \boldsymbol{k}\)</span>由里往外穿过球面 <spanclass="math inline">\(x^{2}+y^{2}+z^{2}=1\)</span>在第一象限部分的流量.</p><hr /><p>解：记平面区域 <span class="math inline">\(D\)</span>为圆心在原点，半径为 <span class="math inline">\(1\)</span>的圆在第一象限的部分，由对称性有 <span class="math display">\[Q=\iint_{D} x y \mathrm{~d} y \wedge \mathrm{d} z+y z \mathrm{~d} z\wedge \mathrm{d} x+z x \mathrm{~d} x \wedge \mathrm{d} y=3 \iint_{D} zx \mathrm{~d} x \wedge \mathrm{d} y=3\iint_{D}\sqrt{1-x^2-y^2}xdxdy\]</span> 化为极坐标进行积分（中间使用三角换元）有 <spanclass="math display">\[Q=3\iint_{D}\sqrt{1-r^2}r\cos \varphirdrd\varphi=3\int_{0}^{\frac{\pi}{2}}\cos \varphi d\varphi\int_0^1\sqrt{1-r^2}r^2dr=3\int_{0}^{\frac{\pi}{2}}\sin ^2\theta \cos^2\theta d\theta=\dfrac{3\pi}{16}\]</span></p><h2 id="习题4.5.7">习题4.5.7</h2><p><span class="math inline">\(\displaystyle\iint_{S^{+}}\left(x^{2}+y^{2}\right) \mathrm{d} x \wedge \mathrm{d}y+y^{2} \mathrm{~d} y \wedge \mathrm{d} z+z^{2} \mathrm{~d} z \wedge\mathrm{d} x\)</span>, 其中 <span class="math inline">\(S\)</span>是螺旋面 <span class="math inline">\(x=\)</span> <spanclass="math inline">\(u \cos v, y=u \sin v, z=a v\)</span> 在 <spanclass="math display">\[D_{u v}=\{(u, v) \mid 0 \leqslant u \leqslant 1,0 \leqslant v \leqslant2 \pi\}\]</span> 的部分, 上侧为正.</p><hr /><p>解：代入微分式，<span class="math inline">\(\mathrm{d} x \mathrm{~d}y=u \mathrm{~d} u \mathrm{~d} v, \mathrm{~d} y \mathrm{~d} z=a \sin v\mathrm{~d} u \mathrm{~d} v, \mathrm{~d} z \mathrm{~d} x=-a \cos v\mathrm{~d} u \mathrm{~d} v\)</span> 化为二重积分</p><p><span class="math display">\[\begin{gathered}\iint_{S^{+}}\left(x^{2}+y^{2}\right) \mathrm{d} x \wedge \mathrm{d}y+y^{2} \mathrm{~d} y \wedge \mathrm{d} z+z^{2} \mathrm{~d} z \wedge\mathrm{d} x=\iint_{D uv}\left(u^{3}+a u^{2} \sin ^{3} v-a^{3} v^{2}\cos v\right) \mathrm{d} u \mathrm{~d} v\\=\iint_{D_{uv}}(u^3-a^3v^2\cos v)\mathrm{d} u \mathrm{~d}v+0=\int_0^1u^3\mathrm{d} u \int_0^{2\pi}\mathrm{~d}v-a^3\int_0^{2\pi}v^2\cos v\mathrm{~d} v=\dfrac{\pi}{2}-4\pi a^3\end{gathered}\]</span></p><h2 id="习题4.7.2">习题4.7.2</h2><p>计算曲面积分 <span class="math inline">\(\displaystyle{\int\kern{-8pt}\int \kern{-23mu} \bigcirc}_{S^{+}} \frac{x \mathrm{~d}y \wedge \mathrm{d} z+y \mathrm{~d} z \wedge \mathrm{d} x+z \mathrm{~d}x \wedge \mathrm{d}y}{\left(x^{2}+y^{2}+z^{2}\right)^{\frac{3}{2}}}\)</span>, 其中 <spanclass="math inline">\(S^{+}\)</span>为:</p><p><span class="math inline">\((1)\)</span> 不包含也不经过原点的半径为<span class="math inline">\(R\)</span> 的球面外侧;</p><p><span class="math inline">\((2)\)</span>不包含也不经过原点的任意封闭曲面的外侧;</p><p><span class="math inline">\((3)\)</span> 球面 <spanclass="math inline">\(x^{2}+y^{2}+z^{2}=\varepsilon^{2}(\varepsilon&gt;0)\)</span>;</p><p><span class="math inline">\((4)\)</span>包含原点在其内部的任意封闭曲面的外侧.</p><hr /><p>解：<span class="math inline">\((1)\)</span> 令 <spanclass="math inline">\(r=\sqrt{x^2+y^2+z^2}\)</span> 有 <spanclass="math inline">\(\boldsymbolV=(\dfrac{x}{r^3},\dfrac{y}{r^3},\dfrac{z}{r^3})\)</span> 且由高斯公式<span class="math display">\[\displaystyle \iint_{\partial \Omega^{+}} \boldsymbol{V} \cdot\mathrm{d} \boldsymbol{S}=\iiint_{\Omega}\left(\frac{\partialX}{\partial x}+\frac{\partial Y}{\partial y}+\frac{\partial Z}{\partialz}\right) \mathrm{d} x \mathrm{~d} y \mathrm{~d}z=\iiint_{\Omega}\left(\dfrac{3r^2-3x^2-3y^2-3z^2}{r^5}\right)\mathrm{d} x \mathrm{~d} y \mathrm{~d} z\]</span> 可得，无论是否为球面，只要不包含原点，积分结果为 <spanclass="math inline">\(0\)</span></p><p><span class="math inline">\((2)\)</span> 由上问知，积分结果为 <spanclass="math inline">\(0\)</span></p><p><span class="math inline">\((3)\)</span>直接化为二重积分，注意球面上下积分贡献为 <spanclass="math inline">\(2\)</span> 倍 <span class="math display">\[\displaystyle I=\frac{3}{\epsilon^{3}} {\int\kern{-8pt}\int \kern{-23mu}\bigcirc}_{S^{+}} z \mathrm{~d} x \wedge \mathrm{d}y=\frac{3}{\epsilon^{3}} \cdot 2\int_{0}^{\frac{\pi}{2}} \int_{0}^{2\pi} \epsilon^{3} \sin \theta \cos ^{2} \theta \mathrm{d} \varphi\mathrm{d} \theta=4 \pi\]</span> <span class="math inline">\((4)\)</span>取两个封闭曲面，一个为以原点为圆心的球，此球总能完全属于该封闭曲面，另一个封闭曲面挖掉洞</p><p><spanclass="math inline">\(I=0+4\pi=4\pi\)</span>，这与静电场点电荷对应的高斯定理<span class="math inline">\(\displaystyle 4\piKQ_{in}={\int\kern{-8pt}\int \kern{-23mu} \bigcirc}\boldsymbol{E}\cdotdS\)</span> 等价</p><h2 id="习题4.7.5">习题4.7.5</h2><p>利用 <span class="math inline">\(\mbox{Stokes}\)</span>公式计算下列积分.</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(\displaystyle \oint_{L^{+}} y \mathrm{~d} x+z\mathrm{~d} y+x \mathrm{~d} z\)</span>, 其中 <spanclass="math inline">\(L\)</span> 是球面 <spanclass="math inline">\(x^{2}+y^{2}+z^{2}=R^{2}\)</span> 与平面 <spanclass="math inline">\(x+y+\)</span> <spanclass="math inline">\(z=0\)</span> 的交线, 从 <spanclass="math inline">\(z\)</span> 轴正向</p><p>看上去为逆时针方向;</p><hr /><p>解：由 <span class="math inline">\(\mbox{Stokes}\)</span>公式计算将曲线积分化成二重积分结合椭圆面积二次型知识有 <spanclass="math display">\[\begin{gathered}I=-3 \iint_{D} 1 \mathrm{~d} x \mathrm{~d} y=-3 \cdot\left(\piab\right)\quad 2x^2+2y^2+2xy=R^2\Longrightarrow\lambda_{1,2}=3,1,a=1,b=\dfrac{1}{\sqrt{3}}\\\therefore I =-\sqrt{3} \pi R^{2}\end{gathered}\]</span></p><h2 id="第四章总复习题-7">第四章总复习题 7</h2><p>证明: 由闭曲面 <span class="math inline">\(S\)</span>包围的空间体的体积为 <span class="math inline">\(V=\displaystyle\frac{1}{3} {\int\kern{-8pt}\int \kern{-23mu} \bigcirc}_{S}(x \cos\alpha+y \cos \beta+\)</span> <span class="math inline">\(z \cos \gamma)\mathrm{d} S\)</span>, 其中</p><p><span class="math inline">\(\boldsymbol{n}=(\cos \alpha, \cos \beta,\cos \gamma)\)</span> 为 <span class="math inline">\(S\)</span>的单位外法向量.</p><hr /><p>解：由高斯公式可得 <span class="math display">\[\displaystyle V=\iiint_D\mathrm dx\mathrm dy\mathrmdz=\dfrac{1}{3}\iint_Sx\mathrm dy\wedge\mathrm dz+y\mathrmdz\wedge\mathrm dx+z\mathrm dx\wedge\mathrmdy=\frac{1}{3}{\int\kern{-8pt}\int \kern{-23mu}\bigcirc}_S(x\cos\alpha+y\cos\beta+z\cos\gamma)\mathrm dS\]</span></p><h2 id="第四章总复习题-10">第四章总复习题 10</h2><p>设 <span class="math inline">\(u\)</span> 为有界开集 <spanclass="math inline">\(\Omega \subset \mathbb{R}^{3}\)</span>上的调和函数即 <span class="math inline">\(\displaystyle \left(\Delta u\equiv \frac{\partial^{2} u}{\partial x^{2}}+\frac{\partial^{2}u}{\partial y^{2}}+\frac{\partial^{2} u}{\partialz^{2}}=0\right)\)</span>, 证明:</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(\displaystyleu\left(\boldsymbol{r}_{0}\right)=\frac{1}{4 \pi} \iint_{\partial\Omega}\left(u \frac{\cos \langle\boldsymbol{r},\boldsymbol{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial\boldsymbol{n}}\right) \mathrm{d} S\)</span>, 其中 <spanclass="math inline">\(\boldsymbol{r}_{0}\)</span> 为 <spanclass="math inline">\(\Omega\)</span> 内任意一点, <spanclass="math inline">\(\boldsymbol{r}\)</span> 为 <spanclass="math inline">\(\boldsymbol{r}_{0}\)</span> 到 <spanclass="math inline">\(\partial \Omega\)</span> 上点的向量,</p><p><span class="math inline">\(r=\|\boldsymbol{r}\|,\boldsymbol{n}\)</span> 为 <span class="math inline">\(\Omega\)</span>的单位外法向;</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\displaystyle \iint_{\partial\Omega}\left(\frac{1}{r} \frac{\partial u}{\partial \boldsymbol{n}}-u\frac{\partial \frac{1}{r}}{\partial \boldsymbol{n}}\right) \mathrm{d}S=\iint_{\partial \Omega_{0}}\left(\frac{1}{r} \frac{\partialu}{\partial \boldsymbol{n}}-u \frac{\partial \frac{1}{r}}{\partial\boldsymbol{n}}\right) \mathrm{d} S\)</span>,</p><p>其中 <span class="math inline">\(\boldsymbol{M}\left(x_{0}, y_{0},z_{0}\right) \in \Omega, \Omega_{0}=B(\boldsymbol{M}, \rho) \subset\Omega, \boldsymbol{r}=\left(x-x_{0}\right)\boldsymbol{i}+\left(y-y_{0}\right) \boldsymbol{j}+(z-\)</span> <spanclass="math inline">\(\left.z_{0}\right) \boldsymbol{k},r=\|\boldsymbol{r}\|\)</span>.</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 由于 <spanclass="math inline">\(\dfrac{\partial }{\partialx}(\dfrac{1}{r})=-\dfrac{x-x_0}{r^3}\)</span>，<spanclass="math inline">\(\dfrac{\partial^2}{\partialx^2}(\dfrac{1}{r})=\dfrac{3(x-x_0)^2-r^2}{r^5}\)</span> 可以得到</p><p><spanclass="math inline">\(\Delta(\dfrac{1}{r})=\dfrac{3(x-x_0)^2+3(y-y_0)^2+3(z-z_0)^2-3r^2}{r^5}=0\)</span>取 <span class="math inline">\(\Omega\)</span> 内部的一个以 <spanclass="math inline">\(\boldsymbol r_0\)</span> 为球心，<spanclass="math inline">\(\epsilon&gt;0\)</span> 为半径</p><p>的小球，球面记为<span class="math inline">\(S_{\epsilon}\)</span>.<span class="math inline">\(S_{\epsilon}\)</span>和<spanclass="math inline">\(\Omega\)</span>围成的区域记为<spanclass="math inline">\(D\)</span>. 将表达式化为梯度形式（其中 <spanclass="math inline">\(\nabla(\dfrac{1}{r})=-\dfrac{\boldsymbol{r}}{r^3}\)</span>）<span class="math display">\[u \frac{\cos \langle\mathbf{r}, \mathbf{n}\rangle}{r^{2}}+\frac{1}{r}\frac{\partial u}{\partial \mathbf{n}}=u \frac{\mathbf{r}}{r^{3}} \cdot\mathbf{n}+\frac{1}{r} \nabla u \cdot \mathbf{n}=\left(\frac{1}{r}\nabla u-u \nabla\left(\frac{1}{r}\right)\right) \cdot \mathbf{n}\]</span> 从而利用 <span class="math inline">\(\mbox{Guass}\)</span>公式对不包含该瑕点 <span class="math inline">\(\boldsymbol{r}_0\)</span>的区域 <span class="math inline">\(D\)</span> 有（<strong>从而证明了<span class="math inline">\((2)\)</span> 问 </strong>） <spanclass="math display">\[\begin{gathered}\iint_{\partial \Omega}\left(u \frac{\cos \langle\mathbf{r},\mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial\mathbf{n}}\right) \mathrm{d} S-\iint_{S_{\epsilon}}\left(u \frac{\cos\langle\mathbf{r}, \mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partialu}{\partial \mathbf{n}}\right) \mathrm{d} S\\=\iiint_{D}\left(\frac{1}{r} \Delta u-u\Delta\left(\frac{1}{r}\right)\right) \mathrm{d} x \mathrm{~d} y\mathrm{~d} z=0\end{gathered}\]</span> 从而转换为求 <span class="math inline">\(S_{\epsilon}\)</span>上的积分问题 <span class="math display">\[\begin{gathered}\iint_{\partial \Omega}\left(u \frac{\cos \langle\mathbf{r},\mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial\mathbf{n}}\right) \mathrm{d} S =\iint_{S_{\epsilon}}\left(u \frac{\cos\langle\mathbf{r}, \mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partialu}{\partial \mathbf{n}}\right) \mathrm{d} S=\iint_{S_{\epsilon}} \frac{u}{\epsilon^{2}} \mathrm{~d}S+\frac{1}{\epsilon} \iint_{S_{\epsilon}} \frac{\partial u}{\partial\mathbf{n}} \mathrm{d} S \\=4 \pi u\left(r_{1}\right)+\frac{1}{\epsilon} \iint_{S_{\epsilon}}\nabla u \cdot \mathbf{n d} S=4 \pi u\left(r_{1}\right)+\frac{1}{\epsilon} \iiint_{B_{\epsilon}}\Delta u \mathrm{~d} x \mathrm{~d} y \mathrm{~d} z=4 \pi u\left(r_{1}\right)\end{gathered}\]</span> <span class="math inline">\((2)\)</span> 由上问知，<spanclass="math inline">\(\displaystyle \iint_{\partial \Omega}\left(u\frac{\cos \langle\mathbf{r}, \mathbf{n}\rangle}{r^{2}}+\frac{1}{r}\frac{\partial u}{\partial \mathbf{n}}\right) \mathrm{d}S-\iint_{S_{\epsilon}}\left(u \frac{\cos \langle\mathbf{r},\mathbf{n}\rangle}{r^{2}}+\frac{1}{r} \frac{\partial u}{\partial\mathbf{n}}\right) \mathrm{d} S =0\)</span> 从而 <spanclass="math display">\[\displaystyle \iint_{\partial \Omega}\left(\frac{1}{r} \frac{\partialu}{\partial \boldsymbol{n}}-u \frac{\partial \frac{1}{r}}{\partial\boldsymbol{n}}\right) \mathrm{d} S=\iint_{\partial\Omega_{0}}\left(\frac{1}{r} \frac{\partial u}{\partial\boldsymbol{n}}-u \frac{\partial \frac{1}{r}}{\partial\boldsymbol{n}}\right) \mathrm{d} S\]</span> # <spanclass="math inline">\(\large\textcolor{blue}{微积分第九次作业\\small(W\times f)}\ \ \ \ \ \ _\textcolor{blue}{2022.5.6}\)</span></p><h2 id="习题4.4.2">习题4.4.2</h2><p>计算下列第二类曲线积分.</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\displaystyle \oint_{L^{+}} \dfrac{(x+y)\mathrm{d} x+(y-x) \mathrm{d} y}{x^{2}+y^{2}}\)</span>, 其中 <spanclass="math inline">\(L^{+}\)</span>是 <spanclass="math inline">\(x^{2}+y^{2}=a^{2}\)</span>, 逆时针为正向;</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\displaystyle \oint_{L^{+}} \dfrac{\mathrm{d}x+\mathrm{d} y}{|x|+|y|}\)</span>, 其中 <spanclass="math inline">\(L^{+}\)</span>是以 <spanclass="math inline">\((1,0),(0,1),(-1,0),(0,-1)\)</span>为顶点的正方形,逆时针为正向;</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(\displaystyle \int_{L^{+}}\left(y^{2}-z^{2}\right)\mathrm{d} x+\left(z^{2}-x^{2}\right) \mathrm{d}y+\left(x^{2}-y^{2}\right) \mathrm{d} z\)</span>, 其中 <spanclass="math inline">\(L^{+}\)</span> 是球面 <spanclass="math inline">\(x^{2}+y^{2}+\)</span> <spanclass="math inline">\(z^{2}=1\)</span>在第一象限的部分与三个坐标平面的交线,其正向为从点 <spanclass="math inline">\((1,0,0)\)</span> 出发, 经过点 <spanclass="math inline">\((0,1,0)\)</span>, 到点 <spanclass="math inline">\((0,0,1)\)</span>, 再回到 <spanclass="math inline">\((1,0,0)\)</span>;</p><hr /><p>解：<span class="math inline">\((2)\)</span> 令 <spanclass="math inline">\(x=a\cos \theta,y=a\sin \theta\)</span> 代入有<span class="math display">\[\displaystyle \oint_{L^{+}} \dfrac{(x+y) \mathrm{d} x+(y-x) \mathrm{d}y}{x^{2}+y^{2}}=\oint_{L^{+}}((\cos \theta+\sin \theta )(-\sin\theta)+(\sin \theta-\cos \theta)(\cos \theta))d\theta=-2\pi\]</span> <span class="math inline">\((3)\)</span> 对 <spanclass="math inline">\(x+y=\pm 1\)</span>第一象限和第三象限的所有点均满足 <spanclass="math inline">\(dx+dy=0\)</span>，而对第二象限和第四象限</p><p>满足通过原点对称的两个点 <spanclass="math inline">\((x,y)\longmapsto(-x,-y)\)</span> <spanclass="math inline">\((\dfrac{dx+dy}{|x|+|y|})_{L_{2}}=-(\dfrac{dx+dy}{|x|+|y|})_{L_{4}}\)</span>从而原式 <span class="math inline">\(=0\)</span></p><p><span class="math inline">\((4)\)</span> 第一条线 <spanclass="math inline">\(\displaystyle\int_{L^{+}}y^2dx-x^2dy=\displaystyle \int_{L^{+}}(-\sin ^3\theta-\cos^3\theta )d\theta=-\dfrac{4}{3}\)</span> 后两条线相同，原式 <spanclass="math inline">\(=-4\)</span></p><h2 id="习题4.4.3">习题4.4.3</h2><p>计算 <span class="math inline">\(\displaystyle \int_{L^{+}}\boldsymbol{F} \cdot \mathrm{d} \boldsymbol{r}\)</span>.</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(\boldsymbol{F}\)</span> 为由原点处质量为 <spanclass="math inline">\(m\)</span> 的质点所形成的空间引力场(对单位质量质点的引力 <span class="math inline">\(), L\)</span> 是由点<span class="math inline">\((1,1,1)\)</span> 到点</p><p><span class="math inline">\(\left(x_{0}, y_{0}, z_{0}\right)\)</span>的直线段. <span class="math inline">\(\left(x_{0}, y_{0},z_{0}\right.\)</span> 不同时为零. <spanclass="math inline">\()\)</span></p><hr /><p>解：由题意计算<span class="math inline">\(W=\displaystyle\int_{L_{1}(\boldsymbol{A})}^{(\boldsymbol{B})} \frac{Gm x \mathrm{~d}x}{\left(x^{2}+y^{2}+z^{2}\right)^{\frac{3}{2}}}+\frac{Gm y \mathrm{~d}y}{\left(x^{2}+y^{2}+z^{2}\right)^{\frac{3}{2}}}+\frac{Gm z \mathrm{~d}z}{\left(x^{2}+y^{2}+z^{2}\right)^{\frac{3}{2}}}\)</span></p><p>取直线上 <span class="math inline">\(t\)</span> 比例的点 <spanclass="math inline">\(\boldsymbol{r}=(1-t)(1,1,1)+t(x_0,y_0,z_0)\)</span>解得 <spanclass="math inline">\(W=Gm(\dfrac{1}{\sqrt{3}}-\dfrac{1}{\sqrt{x_0^2+y_0^2+z_0^2}})\)</span></p><h2 id="习题4.4.4">习题4.4.4</h2><p>今有一平面力场 <span class="math inline">\(\boldsymbol{F}\)</span>,大小等于点 <span class="math inline">\((x, y)\)</span> 到坐标原点的距离,方向指向坐标原点.</p><p><span class="math inline">\((2)\)</span> 计算质点 <spanclass="math inline">\(P\)</span> 沿上述椭圆逆时针绕一圈时,力 <spanclass="math inline">\(\boldsymbol{F}\)</span> 所做的功.</p><hr /><p>解：该力为 <span class="math inline">\(\boldsymbol F=(x,y)\)</span>有势能函数 <span class="math inline">\(\boldsymbolU=\dfrac{x^2+y^2}{2}\)</span> 从而绕一圈做功 <spanclass="math inline">\(W=0\)</span></p><h2 id="习题4.6.1">习题4.6.1</h2><p>利用 <span class="math inline">\(\mbox{Green}\)</span>公式计算下列曲线积分.</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(\displaystyle \oint_{L^{+}} \mathrm{e}^{x}[(1-\cosy) \mathrm{d} x-(y-\sin y) \mathrm{d} y]\)</span>, 其中 <spanclass="math inline">\(L\)</span> 是区域 <spanclass="math inline">\(\{(x, y) \mid 0 \leqslant x \leqslant\)</span><span class="math inline">\(\pi, 0 \leqslant y \leqslant \sinx\}\)</span> 的正向边界.</p><hr /><p>解：由格林公式 <span class="math inline">\(\displaystyle\oint_{L^{+}} \mathrm{e}^{x}[(1-\cos y) \mathrm{d} x-(y-\sin y)\mathrm{d} y]=\iint -e^x(y-\sin y)-e^x\sin ydxdy\)</span></p><p><span class="math inline">\(\displaystyle =-\iinte^xydxdy=-\int_0^{\pi}e^{x}dx\int_0^{\sinx}ydy=-\dfrac{1}{2}\int_0^{\pi}\sin^2xe^xdx=-\dfrac{1}{4}\int_0^{\pi}(1-\cos 2x)e^xdx\)</span></p><p>而 <span class="math inline">\(\displaystyle \int\cos2xe^xdx=\dfrac{1}{2}\int e^xd(\sin 2x)=\dfrac{1}{2}e^x\sin2x-\dfrac{1}{2}\int e^x \sin 2xdx=\dfrac{1}{2}e^x\sin2x+\dfrac{1}{4}\int e^x d(\cos 2x)\)</span></p><p><span class="math inline">\(=\displaystyle \dfrac{1}{2}e^x\sin2x+\dfrac{1}{4}e^x\cos 2x-\dfrac{1}{4}\int e^x\cos 2xdx\Longrightarrow\int e^x\cos 2xdx=\dfrac{2\sin 2x+\cos 2x}{5}e^x+C\)</span></p><p>从而原式 <spanclass="math inline">\(=(-\dfrac{1}{4}e^{x}+\dfrac{2\sin 2x+\cos2x}{20}e^x)\big|_{0}^{\pi}=-\dfrac{1}{4}(e^{\pi}-1)+\dfrac{1}{20}(e^{\pi}-1)=-\dfrac{e^{\pi}-1}{5}\)</span></p><blockquote><p>答案有误，<span class="math inline">\(-\dfrac{e^{\pi}-1}{5}\)</span>与 <span class="math inline">\(\mbox{Mathematica}\)</span>软件计算结果相同（计算耗时 <spanclass="math inline">\(47\mbox{s}\)</span> ）</p><p><img src="https://pic.imgdb.cn/item/6272955e0947543129ec4d73.jpg" style="zoom:100%;" /></p></blockquote><h2 id="习题4.6.4">习题4.6.4</h2><p>计算下列区域的面积.</p><p><span class="math inline">\((1)\)</span> 星形线 <spanclass="math inline">\(\left\{\begin{array}{l}x=a \cos ^{3} t, \\ y=a\sin ^{3} t,\end{array}\ \  0 \leqslant t \leqslant 2\pi\right.\)</span> 所围区域 <spanclass="math inline">\((a&gt;0)\)</span>;</p><hr /><p>解：由 <span class="math inline">\(\mbox{Green}\)</span>公式计算将二重积分化成曲线积分有 <span class="math display">\[\begin{gathered}S=\displaystyle \iint_{D} dxdy=\dfrac{1}{2}\int_{\partialD}xdy-ydx=\dfrac{a^2}{2}\int_0^{2\pi}\cos ^3t\cdot 3\sin ^2t\costdt+\sin ^3t\cdot 3\cos ^2t\sin tdt\\=\dfrac{3a^2}{2}\int_0^{2\pi}\sin ^2t\cos ^2tdt=\dfrac{3a^2}{8}\int_0^{2\pi}\dfrac{1-\cos4t}{2}dt=\dfrac{3}{8}a^2\cdot \pi=\dfrac{3\pi}{8}a^2\end{gathered}\]</span></p><h2 id="习题4.6.7">习题4.6.7</h2><p>设 <span class="math inline">\(D\)</span> 是平面区域, <spanclass="math inline">\(\partial D\)</span> 为逐段光滑曲线, <spanclass="math inline">\(f \in C^{2}(D)\)</span>, 证明: <spanclass="math inline">\(\displaystyle \oint_{\partial D} \frac{\partialf}{\partial \boldsymbol{n}} \mathrm{d} l=\)</span> <spanclass="math inline">\(\displaystyle \iint_{D}\left(\frac{\partial^{2}f}{\partial x^{2}}+\frac{\partial^{2} f}{\partial y^{2}}\right)\mathrm{d} x \mathrm{~d} y\)</span></p><hr /><p>证明：由沿梯度方向的导数 <span class="math inline">\(\dfrac{\partialf}{\partial\boldsymbol{n}}=\dfrac{\partial f}{\partialx}\hat{n}_{x}+\dfrac{\partial f}{\partial y}\hat{n}_{y}=\dfrac{\partialf}{\partial x}(\dfrac{dy}{dl})+\dfrac{\partial f}{\partialy}(-\dfrac{dx}{dl})\)</span></p><p>其中 <span class="math inline">\(\vec{n}\)</span> 方向与 <spanclass="math inline">\((dx,dy)\)</span> 方向垂直且满足为单位向量，从而为<spanclass="math inline">\(\vec{n}=(\dfrac{dy}{dl},-\dfrac{dx}{dl})\)</span>再代入格林公式即得证 <span class="math display">\[\oint_{\partial D} \frac{\partial f}{\partial \boldsymbol{n}} \mathrm{d}l=\oint_{\partial D}(\dfrac{\partial f}{\partialx}(\dfrac{dy}{dl})+\dfrac{\partial f}{\partialy}(-\dfrac{dx}{dl}))dl=\oint_{\partial D}(\dfrac{\partial f}{\partialx}dy-\dfrac{\partial f}{\partial y}dx)=\displaystyle\iint_{D}\left(\frac{\partial^{2} f}{\partial x^{2}}+\frac{\partial^{2}f}{\partial y^{2}}\right) \mathrm{d} x \mathrm{~d} y\]</span></p><h2 id="习题4.6.8">习题4.6.8</h2><p>设 <span class="math inline">\(D\)</span> 是平面区域, <spanclass="math inline">\(\partial D\)</span> 为逐段光滑曲线, <spanclass="math inline">\(n\)</span> 为 <spanclass="math inline">\(D\)</span> 的单位外法向, <spanclass="math inline">\(u, v \in\)</span> <spanclass="math inline">\(C^{2}(D)\)</span>, 证明：</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(\displaystyle \oint_{\partial D} \frac{\partialu}{\partial \boldsymbol{n}} \mathrm{d} l=\iint_{D} \Delta u \mathrm{~d}x \mathrm{~d} y\)</span>;</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\displaystyle \oint_{\partial D} v \frac{\partialu}{\partial \boldsymbol{n}} \mathrm{d} l=\iint_{D} v \Delta u\mathrm{~d} x \mathrm{~d} y-\iint_{D} \nabla u \cdot \nabla v\mathrm{~d} x \mathrm{~d} y\)</span>;</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\displaystyle \oint_{\partialD}\left|\begin{array}{cc}\dfrac{\partial u}{\partial \boldsymbol{n}}&amp; \dfrac{\partial v}{\partial \boldsymbol{n}} \\ u &amp;v\end{array}\right| \mathrm{d} l=\iint_{D}\left|\begin{array}{cc}\Deltau &amp; \Delta v \\ u &amp; v\end{array}\right| \mathrm{d} x \mathrm{~d}y\)</span>.</p><p>其中 <span class="math inline">\(\Delta=\dfrac{\partial^{2}}{\partialx^{2}}+\dfrac{\partial^{2}}{\partial y^{2}},\nabla=\dfrac{\partial}{\partial x} i+\dfrac{\partial}{\partial y}j\)</span>.</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 由 <spanclass="math inline">\(4.6.7\)</span> 可知，对 <spanclass="math inline">\(u\in C^2(D)\)</span>，<spanclass="math inline">\(\displaystyle \oint_{\partial D} \frac{\partialu}{\partial \boldsymbol{n}} \mathrm{d} l=\displaystyle\iint_{D}\left(\frac{\partial^{2} u}{\partial x^{2}}+\frac{\partial^{2}u}{\partial y^{2}}\right) \mathrm{d} x \mathrm{~d}y=\iint_{D} \Delta u\mathrm{~d} x \mathrm{~d} y\)</span></p><p><span class="math inline">\((2)\)</span> 代入 <spanclass="math inline">\(\dfrac{\partial u}{\partial\boldsymbol{n}}dl=\dfrac{\partial u}{\partial x}dy-\dfrac{\partialu}{\partial y}dx\)</span> 有 <span class="math inline">\(\displaystyle\oint_{\partial D} v \frac{\partial u}{\partial \boldsymbol{n}}\mathrm{d} l=\oint_{\partial D} v (\dfrac{\partial u}{\partialx}dy-\dfrac{\partial u}{\partial y}dx)\)</span> 由格林公式 <spanclass="math display">\[\begin{gathered}\oint_{\partial D} v (\dfrac{\partial u}{\partial x}dy-\dfrac{\partialu}{\partial y}dx)=\iint_{D}(\dfrac{\partial v}{\partialx}\dfrac{\partial u}{\partial x}+v\dfrac{\partial ^2u}{\partialx^2})-(-\dfrac{\partial v}{\partial y}\dfrac{\partial u}{\partialy}-v\dfrac{\partial ^2u}{\partial y^2})dxdy\\=\iint_{D} (v(\dfrac{\partial ^2u}{\partial x^2}+\dfrac{\partial^2u}{\partial y^2})+(\dfrac{\partial v}{\partial x}\dfrac{\partialu}{\partial x}+\dfrac{\partial v}{\partial y}\dfrac{\partial u}{\partialy}))dxdy=\iint_{D} v \Delta u \mathrm{~d} x \mathrm{~d} y+\iint_{D}\nabla u \cdot \nabla v \mathrm{~d} x \mathrm{~d} y\end{gathered}\]</span> <span class="math inline">\((3)\)</span> 由行列式公式 <spanclass="math inline">\(\displaystyle \oint_{\partialD}\left|\begin{array}{cc}\dfrac{\partial u}{\partial \boldsymbol{n}}&amp; \dfrac{\partial v}{\partial \boldsymbol{n}} \\ u &amp;v\end{array}\right| \mathrm{d} l=\displaystyle \oint_{\partialD}(v\dfrac{\partial u}{\partial \boldsymbol{n}}-u\dfrac{\partialv}{\partial \boldsymbol{n}}) \mathrm{d} l\)</span> 代入 <spanclass="math inline">\(\small (2)\)</span> 问结论 <spanclass="math display">\[\displaystyle \oint_{\partial D}(v\dfrac{\partial u}{\partial\boldsymbol{n}}-u\dfrac{\partial v}{\partial \boldsymbol{n}}) \mathrm{d}l=\iint_{D}((v\Delta u-\nabla u\cdot \nabla v)-(u\Delta v-\nabla u\cdot\nabla v))dxdy=\iint_{D}\left|\begin{array}{cc}\Delta u &amp; \Delta v\\ u &amp; v\end{array}\right| \mathrm{d} x \mathrm{~d} y\]</span></p><h2 id="习题4.6.10">习题4.6.10</h2><p>求解下列常微分方程.</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(\displaystyle \left(x^{2}-y\right) \mathrm{d}x-\left(x+\sin ^{2} y\right) \mathrm{d} y=0\)</span>;</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\displaystyle \mathrm{e}^{y} \mathrm{~d} x+\left(x\mathrm{e}^{y}-2 y\right) \mathrm{d} y=0\)</span>;</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\displaystyle \frac{x \mathrm{~d} x+y \mathrm{~d}y}{\sqrt{x^{2}+y^{2}}}=\frac{y \mathrm{~d} x-x \mathrm{~d}y}{x^{2}}\)</span>;</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(\displaystyle \left(\cos x+\frac{1}{y}\right)\mathrm{d} x+\left(\frac{1}{y}-\frac{x}{y^{2}}\right) \mathrm{d}y=0\)</span>.</p><hr /><p>解：<span class="math inline">\((1)\)</span> 由 <spanclass="math inline">\(\dfrac{\partial (x^2-y)}{\partialy}=\dfrac{\partial (-x-\sin ^2y)}{\partial x}=-1\)</span>为全微分方程，并注意到 <span class="math display">\[d(\dfrac{1}{3}x^3-xy-(\dfrac{1}{2}y-\dfrac{1}{4}\sin2y))=\left(x^{2}-y\right) \mathrm{d} x-\left(x+\sin ^{2} y\right)\mathrm{d} y=0\]</span> 则原方程解为 <spanclass="math inline">\(\dfrac{1}{3}x^3-xy-(\dfrac{1}{2}y-\dfrac{1}{4}\sin2y)+C=0,C\in R\)</span></p><p><span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\(\dfrac{\partial (e^y)}{\partial y}=\dfrac{\partial(xe^y-2y)}{\partial x}=e^y\)</span> 为全微分方程，并注意到 <spanclass="math display">\[d(xe^y-y^2)=\mathrm{e}^{y} \mathrm{~d} x+\left(x \mathrm{e}^{y}-2y\right) \mathrm{d} y=0\]</span> 则原方程解为 <span class="math inline">\(xe^y-y^2+C=0,C\inR\)</span></p><p><span class="math inline">\((3)\)</span> 由 <spanclass="math inline">\(\dfrac{\partial(\dfrac{x}{\sqrt{x^2+y^2}}-\dfrac{y}{x^2})}{\partial y}=\dfrac{\partial(\dfrac{y}{\sqrt{x^2+y^2}}+\dfrac{1}{x})}{\partialx}=-\dfrac{xy}{(x^2+y^2)^{\frac{3}{2}}}-\dfrac{1}{x^2}\)</span>为全微分方程，并注意到 <span class="math display">\[d(\sqrt{x^2+y^2}-\dfrac{y}{x})=\frac{x \mathrm{~d} x+y \mathrm{~d}y}{\sqrt{x^{2}+y^{2}}}-\frac{y \mathrm{~d} x-x \mathrm{~d} y}{x^{2}}=0\]</span> 则原方程解为 <spanclass="math inline">\(\sqrt{x^2+y^2}-\dfrac{y}{x}+C=0,C\inR\)</span></p><p><span class="math inline">\((4)\)</span> 由 <spanclass="math inline">\(\dfrac{\partial (\cos x+\dfrac{1}{y})}{\partialy}=\dfrac{\partial (\dfrac{1}{y}-\dfrac{x}{y^2})}{\partialx}=-\dfrac{1}{y^2}\)</span> 为全微分方程，并注意到 <spanclass="math display">\[d(\sin x+\dfrac{x}{y}+\ln y)=\left(\cos x+\frac{1}{y}\right) \mathrm{d}x+\left(\frac{1}{y}-\frac{x}{y^{2}}\right) \mathrm{d} y=0\]</span> 则原方程解为 <span class="math inline">\(\sinx+\dfrac{x}{y}+\ln y+C=0,C\in R\)</span></p><h2 id="习题4.6.11">习题4.6.11</h2><p>解下列方程.</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\((y \cos x-x \sin x) \mathrm{d} x+(y \sin x+x \cosx) \mathrm{d} y=0\)</span>;</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\((x+y) \mathrm{d} x+(y-x) \mathrm{d}y=0\)</span>;</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(\left(3 x^{3}+y\right) \mathrm{d} x+\left(2 x^{2}y-x\right) \mathrm{d} y=0\)</span>;</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\((x+y)(\mathrm{d} x-\mathrm{d} y)=\mathrm{d}x+\mathrm{d} y\)</span>;</p><p><span class="math inline">\((5)\)</span> <spanclass="math inline">\(\left(x^{2}-\sin ^{2} y\right) \mathrm{d} x+x \sin2 y \mathrm{~d} y=0\)</span>.</p><hr /><p>解：<span class="math inline">\((1)\)</span>​ 记 <spanclass="math inline">\(M=y \cos x-x \sin x, N=y \sin x+x \cos x\)</span>,有 <span class="math display">\[\frac{\partial M}{\partial y}=\cos x, \frac{\partial N}{\partial x}=y\cos x+\cos x-x \sin x,\]</span> 则方程不是恰当的. 但观察到 <spanclass="math inline">\(\dfrac{\dfrac{\partial M}{\partialy}-\dfrac{\partial N}{\partial x}}{-M}=1\)</span>, 对应原方程有积分因子<span class="math inline">\(\mu=\mathrm{e}^{\int1 dy}=\mathrm{e}^{y}\)</span>. 两边乘以 <spanclass="math inline">\(\mu=e^{y}\)</span> <span class="math display">\[\begin{gathered}\left(y \mathrm{e}^{y} \cos x \mathrm{~d} x+y \mathrm{e}^{y} \sin x\mathrm{~d} y\right)+\left(\mathrm{e}^{y} x \cos x \mathrm{~d}y-\mathrm{e}^{y} x \sin x \mathrm{~d} x\right)=0\\\mathrm{d}\left[(y-1)\mathrm{e}^{y} \sin x+\mathrm{e}^{y} x \cos x\right]=0 .\end{gathered}\]</span> 则原方程的通解为 <spanclass="math inline">\(\mathrm{e}^{y}(y-1) \sin x+\mathrm{e}^{y} x \cosx=C, C\in R\)</span></p><p><span class="math inline">\((2)\)</span> 两边除以 <spanclass="math inline">\(x^2+y^2\)</span> 有 <spanclass="math inline">\(\dfrac{x+y}{x^2+y^2}dx+\dfrac{y-x}{x^2+y^2}dy=0\)</span>且 <span class="math inline">\(\dfrac{\partial(\dfrac{x+y}{x^2+y^2})}{\partial y}=\dfrac{\partial(\dfrac{y-x}{x^2+y^2})}{\partialx}=\dfrac{x^2-2xy-y^2}{(x^2+y^2)^2}\)</span></p><p>从而变换后的方程为全微分方程，并注意到 <span class="math display">\[d(\dfrac{1}{2}\ln(x^2+y^2)-\arctan(\dfrac{y}{x}))=\dfrac{x+y}{x^2+y^2}dx+\dfrac{y-x}{x^2+y^2}dy=0\]</span> 则原方程的解为 <spanclass="math inline">\(\ln(\sqrt{x^2+y^2})-\arctan (\dfrac{y}{x})=C,C\inR\)</span></p><p><span class="math inline">\((3)\)</span> 两边同时除以 <spanclass="math inline">\(x^2\)</span>（消去 <spanclass="math inline">\(x^2y\)</span> 中含 <spanclass="math inline">\(x\)</span> 项 ），得到 <spanclass="math inline">\((3+\dfrac{y}{x^2})dx+(2y-\dfrac{1}{x})dy=0\)</span>且有</p><p><span class="math inline">\(\dfrac{\partial(3+\dfrac{y}{x^2})}{\partial y}=\dfrac{\partial(2y-\dfrac{1}{x})}{\partial x}=\dfrac{1}{x^2}\)</span>为全微分方程，注意到 <span class="math display">\[d(3x-\dfrac{y}{x}+y^2)=0\]</span> 则原方程的解为 <spanclass="math inline">\(3x-\dfrac{y}{x}+y^2=C,C\in R\)</span></p><p><span class="math inline">\((4)\)</span> 两边除以 <spanclass="math inline">\(x+y\)</span> 有 <spanclass="math inline">\(dx-dy=\dfrac{dx+dy}{x+y}\)</span> 后者有 <spanclass="math inline">\(\dfrac{\partial (\dfrac{1}{x+y})}{\partialy}=\dfrac{\partial (\dfrac{1}{x+y})}{\partialx}=-\dfrac{1}{(x+y)^2}\)</span> 为全微分</p><p><spanclass="math inline">\(d(x-y)=\dfrac{dx+dy}{x+y}=d(\ln(|x+y|))\)</span>，则原方程的解为<span class="math inline">\(x-y=\ln|x+y|+C,C\in R\)</span></p><p><span class="math inline">\((5)\)</span>​ 记 <spanclass="math inline">\(M=x^2-\sin ^2y, N=x\sin 2y\)</span>, 有 <spanclass="math display">\[\frac{\partial M}{\partial y}=-\sin 2y, \frac{\partial N}{\partialx}=\sin 2y\]</span> 则方程不是恰当的. 观察到 <spanclass="math inline">\(\dfrac{\dfrac{\partial M}{\partialy}-\dfrac{\partial N}{\partial x}}{-N}=-\dfrac{2}{x}=f(x)\)</span>,对应原方程有积分因子 <spanclass="math inline">\(\mu=\mathrm{e}^{-\int\frac{2}{x}dx}=\dfrac{1}{x^2}\)</span> <span class="math display">\[\begin{gathered}(1-\dfrac{\sin ^2y}{x^2})dx+\dfrac{\sin 2y}{x}dy=0\Longrightarrowd(x+\dfrac{\sin ^2y}{x})=0\end{gathered}\]</span> 则原方程的通解为 <span class="math inline">\(x+\dfrac{\sin^2y}{x}=C, C\in R\)</span></p><h2 id="第四章总复习题-4">第四章总复习题 4</h2><p>设 <span class="math inline">\(L \subset \mathbb{R}^{2}\)</span>为光滑闭曲线, 逆时针为正向, <spanclass="math inline">\(\boldsymbol{n}\)</span> 为 <spanclass="math inline">\(L\)</span> 的外法线单位向量, <spanclass="math inline">\(\boldsymbol{a}\)</span> 为一固定向量, 求证: <spanclass="math display">\[\oint_{L} \cos \langle\boldsymbol{n}, \boldsymbol{a}\rangle \mathrm{d}l=0\]</span></p><hr /><p>证明：由 <spanclass="math inline">\(\boldsymbol{n}=\dfrac{1}{dl}(dy,-dx)\)</span>则代入有 <span class="math inline">\(\displaystyle \oint_{L} \cos\langle\boldsymbol{n}, \boldsymbol{a}\rangle \mathrm{d} l=\oint_{L}a_xdy-a_ydx\)</span> 由格林公式 <span class="math display">\[\oint_{L} a_xdy-a_ydx=\iint_{D}(0-0)dxdy=0\]</span></p><h2 id="第四章总复习题-6">第四章总复习题 6</h2><p>设 <span class="math inline">\(L\)</span> 为一单连通区域 <spanclass="math inline">\(D \subset \mathbb{R}^{2}\)</span> 的边界, <spanclass="math inline">\(P_{0}\)</span> 为一定点, <spanclass="math inline">\(P \in L, \boldsymbol v=\overrightarrow{P_{0} P},v=\)</span> <span class="math inline">\(\|\boldsymbol v\|,\boldsymbol{n}\)</span> 为 <span class="math inline">\(L\)</span>的外法线单位向量, 证明 <span class="math display">\[\oint_{L} \frac{\cos \langle\boldsymbol{n}, v\rangle}{v} \mathrm{~d} l=\begin{cases}2\pi, &amp; P_{0} \in D, \\ 0, &amp; P_{0} \notin D.\end{cases}\]</span></p><hr /><p>证明：代入 <span class="math inline">\(\boldsymbol v =\boldsymbolp-\boldsymbol p_0=(x,y)-\boldsymbolp_0,\boldsymbol{n}=\dfrac{1}{dl}(dy,-dx)\)</span> 令 <spanclass="math inline">\(\boldsymbol p_0=(x_0,y_0)\)</span>有 <spanclass="math display">\[\displaystyle \oint_{L} \frac{\cos \langle\boldsymbol{n}, v\rangle}{v}\mathrm{~d} l=\oint_{L}\dfrac{(x-x_0)dy-(y-y_0)dx}{(\sqrt{(x-x_0)^2+(y-y_0)^2})^2}=\oint_{L}\dfrac{(x-x_0)dy-(y-y_0)dx}{(x-x_0)^2+(y-y_0)^2}\]</span> 由格林公式化为二重积分 <span class="math display">\[\begin{gathered}\oint_{L}\dfrac{(x-x_0)dy-(y-y_0)dx}{(x-x_0)^2+(y-y_0)^2}=\iint_{D}(\dfrac{(x-x_0)^2+(y-y_0)^2-(x-x_0)\cdot2(x-x_0)}{((x-x_0)^2+(y-y_0)^2)^2}\\-(-\dfrac{(x-x_0)^2+(y-y_0)^2-(y-y_0)\cdot2(y-y_0)}{((x-x_0)^2+(y-y_0)^2)^2}))dxdy=\iint_{D}\dfrac{0\cdotdxdy}{(x-x_0)^2+(y-y_0)^2}\end{gathered}\]</span> 当 <span class="math inline">\((x,y)\)</span> 保持不等于 <spanclass="math inline">\((x_0,y_0)\)</span> 时，上述二重积分恒为 <spanclass="math inline">\(0\)</span>，只需满足 <spanclass="math inline">\(P_0\)</span> 不在二重积分区域内，此时 <spanclass="math inline">\(P_0\not\in D\)</span></p><p>而当 <span class="math inline">\(P_0\not\in D\)</span> 时，令 <spanclass="math inline">\(x-x_0=r\cos \theta,y-y_0=r\sin\theta\)</span>，二重积分有瑕点，对线积分计算 <spanclass="math display">\[\oint_{L} \dfrac{(x-x_0)dy-(y-y_0)dx}{(x-x_0)^2+(y-y_0)^2}=\oint_{L}\dfrac{r\cos \theta d(r\sin \theta)-r\sin \theta d(r\cos\theta)}{r^2}=\oint_{L}\dfrac{r^2}{r^2}d\theta\]</span> 由于瑕点 <span class="math inline">\(r=0\)</span>为零测度集，从而 <span class="math inline">\(\displaystyle\int_{0}^{2\pi}d\theta=2\pi\)</span>，综上有 <spanclass="math inline">\(\displaystyle \oint_{L} \frac{\cos\langle\boldsymbol{n}, v\rangle}{v} \mathrm{~d} l= \begin{cases}2\pi,&amp; P_{0} \in D, \\ 0, &amp; P_{0} \notin D .\end{cases}\)</span></p><h2 id="第四章总复习题-9">第四章总复习题 9</h2><p>设 <span class="math inline">\(u\)</span> 为开集 <spanclass="math inline">\(D \subset R^{2}\)</span> 上的调和函数. 即 <spanclass="math inline">\(\left(\Delta u \equiv \dfrac{\partial^{2}u}{\partial x^{2}}+\dfrac{\partial^{2} u}{\partialy^{2}}=0\right)\)</span>, 证明:</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(\displaystyle u\left(x_{0},y_{0}\right)=\frac{1}{2 \pi} \oint_{\partial D}\left(u \frac{\partial\ln r}{\partial \boldsymbol{n}}-\ln r \frac{\partial u}{\partial\boldsymbol{n}}\right) \mathrm{d} l\)</span>, 其中 <spanclass="math inline">\(\left(x_{0}, y_{0}\right) \in D,\boldsymbol{r}\)</span> 为 <span class="math inline">\(\left(x_{0},y_{0}\right)\)</span> 到 <span class="math inline">\(\partial D\)</span>上点的向量,</p><p><span class="math inline">\(r=\|\boldsymbol{r}\|,\boldsymbol{n}\)</span> 为 <span class="math inline">\(D\)</span>的单位外法向量;</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\displaystyle u\left(x_{0},y_{0}\right)=\frac{1}{2 \pi R} \oint_{L} u(x, y) \mathrm{d} l\)</span>,其中 <span class="math inline">\(L\)</span> 是以 <spanclass="math inline">\(\left(x_{0}, y_{0}\right)\)</span> 为中心, <spanclass="math inline">\(R\)</span> 为半径位于 <spanclass="math inline">\(D\)</span> 中的任意一个圆周.</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 当 <spanclass="math inline">\((x, y) \neq\left(x_{0}, y_{0}\right)\)</span> 时,<span class="math inline">\(v=\ln r=\ln\sqrt{\left(x-x_{0}\right)^{2}+\left(y-y_{0}\right)^{2}}\)</span>为调和函数,</p><p>(可以计算拉普拉斯 <span class="math inline">\(\Deltav=\dfrac{\partial^{2} v}{\partial x^{2}}+\dfrac{\partial^{2} v}{\partialy^{2}}=\dfrac{1}{r^{4}}\left[\left(y-y_{0}\right)^{2}-\left(x-x_{0}\right)^{2}\right]+\dfrac{1}{r^{4}}\left[\left(x-x_{0}\right)^{2}-\right.\)</span><spanclass="math inline">\(\left.\left(y-y_{0}\right)^{2}\right]=0\)</span>)</p><p>因此, 以 <span class="math inline">\(\left(x_{0},y_{0}\right)\)</span> 为中心挖去半径为 <spanclass="math inline">\(\varepsilon&gt;0\)</span> (充分小)的圆形区域 <spanclass="math inline">\(S_{r}\)</span>, 则在剩下的区域（记作 <spanclass="math inline">\(D_{1}\)</span> ), 对 <spanclass="math inline">\(u, v\)</span> 可应用</p><p><span class="math inline">\(\small 4.6.8(3)\)</span> 中结论：<spanclass="math inline">\(\displaystyle \oint_{\partialD}\left|\begin{array}{cc}\dfrac{\partial u}{\partial \boldsymbol{n}}&amp; \dfrac{\partial v}{\partial \boldsymbol{n}} \\ u &amp;v\end{array}\right| \mathrm{d} l=\iint_{D}\left|\begin{array}{cc}\Deltau &amp; \Delta v \\ u &amp; v\end{array}\right| \mathrm{d} x \mathrm{~d}y\)</span> <span class="math display">\[\oint_{L \uparrow+c_{r}\downarrow } \left(u \frac{\partial \lnr}{\partial n}-\ln r \frac{\partial u}{\partial n}\right) \mathrm{d}l=\iint_{D}\left|\begin{array}{cc}\Delta u &amp; \Delta \ln r \\u &amp; \ln r\end{array}\right| \mathrm{d} x \mathrm{~d}y=\iint_{D}\left|\begin{array}{cc}0 &amp; 0 \\u &amp; \ln r\end{array}\right| \mathrm{d} x \mathrm{~d} y=0\]</span> 从而拆开左边环路积分并移项有 <span class="math display">\[\begin{gathered}\oint_{L\uparrow }\left(u \frac{\partial \ln r}{\partial n}-\ln r\frac{\partial u}{\partial n}\right) \mathrm{d} l=\oint_{c_{g}\uparrow }\left(u \frac{\partial \ln r}{\partial n}-\ln r \frac{\partialu}{\partial n}\right) \mathrm{d} l=\oint_{c_{g}\uparrow } u\frac{\partial \ln r}{\partial n}-\oint_{c_{g}\uparrow } \ln r \frac{\partial u}{\partial n} \mathrm{~d} s\stackrel{\triangle}{=}I_{1}+I_{2}\end{gathered}\]</span> 利用 <span class="math inline">\(\mbox{Green}\)</span>公式计算 <span class="math inline">\(I_2\)</span> <spanclass="math display">\[\begin{aligned}I_{2} =\oint_{c_{g}\uparrow } \ln r \frac{\partial u}{\partial n}\mathrm{~d} l=\ln \varepsilon \oint_{c_{g}\uparrow }\left[\frac{\partial u}{\partialx} \cos (n, x)+\frac{\partial u}{\partial y} \cos (n, y)\right]\mathrm{d} l=\ln \varepsilon \iint_{S_{\epsilon}} \Delta u \mathrm{~d} x \mathrm{~d}y=0 .\end{aligned}\]</span> 注意在 <span class="math inline">\(C_{g}\)</span> 上 <spanclass="math display">\[\left.\frac{\partial \ln r}{\partialn}\right|_{r=e}=\left.\frac{\partial \ln r}{\partialr}\right|_{r=e}=\left.\frac{1}{r}\right|_{r=e}=\frac{1}{\varepsilon}\]</span> 因此 <span class="math display">\[I_{1}=\oint_{C_{\varepsilon}} u \frac{\partial \ln r}{\partial n}\mathrm{~d} s=\frac{1}{\varepsilon} \oint_{c_{\varepsilon}} u\mathrm{~d} s\]</span> 将 <span class="math inline">\(I_2,I_1\)</span>结果代入并利用中值定理得到 <span class="math display">\[\begin{gathered}\frac{1}{2 \pi} \oint_{L}\left(u \frac{\partial \ln r}{\partial n}+\ln r\frac{\partial u}{\partial n}\right) \mathrm{d} s=\frac{1}{2 \pi\varepsilon} \oint_{C_{\varepsilon}} u \mathrm{~d} s=\frac{1}{2 \pi \varepsilon} u(Q) \oint_{c_{\varepsilon}} \mathrm{d} s\end{gathered}\]</span> 取 <span class="math inline">\(\epsilon \to 0\)</span> 便得到<span class="math inline">\(u(Q)\to u(x_0,y_0)\)</span></p><p><span class="math inline">\((2)\)</span> 在 <spanclass="math inline">\(\displaystyle u\left(x_{0},y_{0}\right)=\frac{1}{2 \pi} \oint_{\partial D}\left(u \frac{\partial\ln r}{\partial \boldsymbol{n}}-\ln r \frac{\partial u}{\partial\boldsymbol{n}}\right) \mathrm{d} l\)</span> 中取 <spanclass="math inline">\(L=C_{r}\)</span>，为半径为 <spanclass="math inline">\(R\)</span> 的正圆，有 <spanclass="math display">\[\oint_{\partial D}\ln r \frac{\partial u}{\partial\boldsymbol{n}}\mathrm{d} l=\ln R\oint_{\partial D}\frac{\partialu}{\partial \boldsymbol{n}}\mathrm{d} l=\ln R \oint_{\partialD}(\frac{\partial u}{\partial x}dy-\frac{\partial u}{\partial y}dx)=0\]</span> 前者有 <span class="math inline">\(R=r=\sqrt{x^2+y^2}\)</span>代入 <span class="math inline">\(\dfrac{\partial \ln r}{\partial\boldsymbol{n}}=\dfrac{x}{(\sqrt{x^2+y^2})^2}\dfrac{dy}{dl}-\dfrac{y}{(\sqrt{x^2+y^2})^2}\dfrac{dx}{dl}=\dfrac{x}{R^2}\dfrac{dy}{dl}-\dfrac{y}{R^2}\dfrac{dx}{dl}\)</span></p><p>有 <span class="math inline">\(x(x_0,y_0)=\dfrac{1}{2\piR}\displaystyle \oint u\dfrac{xdy-ydx}{R}=\dfrac{1}{2\pi R}\displaystyle\oint u dl\)</span></p><blockquote><p>在物理中，该公式代表在一个无电荷分布静电场 <spanclass="math inline">\(\nabla^2 \varphi=0\)</span>中，任意平面圆的平均电势等于圆心的电势</p><p>物理证明：在平面圆心中央放置一个带电量为 <spanclass="math inline">\(\mathcal{q_1}\)</span> 的点电荷，其周围半径为<span class="math inline">\(R\)</span> 的一固定圆环均匀放置</p><p>总电量为 <span class="math inline">\(\mathcal{q}_2\)</span>的电荷，两者电荷量 <span class="math inline">\(\to0\)</span>，对原始电场分布几乎无影响（以任意 $$ 精度保持解析性）</p><p>由静电场中的格林互逆定理 <span class="math display">\[\sum\varphi(q_1)q_2=\sum\varphi(q_2)q_1\]</span> 代入静电能 $(q_1)q_2=(_0+K)q_2,(q_2)q_2=Kq_1+() $</p><p>令 <span class="math inline">\(q_1=q_2\to 0\)</span>，便可以得到<span class="math inline">\(\varphi_0=\dfrac{1}{2\pi}\displaystyle\int\varphi(\theta)d\theta\)</span></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>微积分 A(2)</category>
      
    </categories>
    
    
    <tags>
      
      <tag>微积分 A(2)</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Elementary number theory homework 1-15</title>
    <link href="/2022/06/17/%E6%95%B0%E5%AD%A6/%E5%88%9D%E7%AD%89%E6%95%B0%E8%AE%BA%E4%BD%9C%E4%B8%9A%E5%90%88%E9%9B%86%EF%BC%881-15%EF%BC%89/"/>
    <url>/2022/06/17/%E6%95%B0%E5%AD%A6/%E5%88%9D%E7%AD%89%E6%95%B0%E8%AE%BA%E4%BD%9C%E4%B8%9A%E5%90%88%E9%9B%86%EF%BC%881-15%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>作业 <span class="math inline">\(\mathbf{PDF}\)</span>文件下载请点击这里 <ahref="https://lr-tsinghua11.github.io/pdf/初等数论作业合集（1-15）.pdf">初等数论作业</a></p><h1id="largetextcolorblue初等数论第一次作业-_textcolorblue2022.2.22"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第一次作业}\ \ \ \\ \ _\textcolor{blue}{2022.2.22}\)</span></h1><h2 id="习题-1.1.1">习题 1.1.1</h2><p>设 <span class="math inline">\(n\)</span> 是奇数, 则 <spanclass="math inline">\(8 \mid n^{2}-1\)</span>.</p><hr /><p>证明：由 <span class="math inline">\(n\)</span> 是奇数，则令 <spanclass="math inline">\(n=2k+1\)</span>，有 <spanclass="math inline">\(n^2-1=(2k+1)^2-1=4k(k+1)\)</span>，由于 <spanclass="math inline">\(k\)</span> 和 <spanclass="math inline">\(k+1\)</span> 一奇一偶，从而 <spanclass="math inline">\(2\mid k(k+1)\)</span>，则 <spanclass="math inline">\(8\mid n^2-1\)</span></p><h2 id="习题1.1.2">习题1.1.2</h2><p>设 <span class="math inline">\(n \geqslant 3\)</span> 是奇数, 证明:<spanclass="math inline">\(\left(1+\dfrac{1}{2}+\dfrac{1}{3}+\cdots+\dfrac{1}{n-1}\right)(n-1)!\)</span> 被 <span class="math inline">\(n\)</span> 整除.</p><hr /><p>证明：由 <span class="math inline">\(n\in \mbox{odd}\)</span>则可以依次首尾相加得到 <span class="math display">\[1+\dfrac{1}{2}+\cdots+\dfrac{1}{n-1}=(1+\dfrac{1}{n-1})+(\dfrac{1}{2}+\dfrac{1}{n-2})+\cdots+(\dfrac{1}{\dfrac{n-1}{2}}+\dfrac{1}{\dfrac{n+1}{2}})\\=n\cdot(\dfrac{1}{1\cdot(n-1)}+\dfrac{1}{2\cdot(n-2)}+\cdots+\dfrac{1}{\dfrac{n-1}{2}\cdot\dfrac{n+1}{2}})\]</span> 而 <span class="math inline">\((n-1)!\)</span> 均有 <spanclass="math inline">\(1,2,\cdots,n-1\)</span> 的因子，从而 <spanclass="math inline">\(n\mid(1+\dfrac{1}{2}+\cdots+\dfrac{1}{n-1})(n-1)!\)</span></p><h2 id="习题1.1.3">习题1.1.3</h2><p>设 <span class="math inline">\(m\)</span> 和 <spanclass="math inline">\(n\)</span> 为正整数, <span class="math inline">\(m\geqslant 3\)</span>. 证明: <span class="math inline">\(2^{m}-1 \not\mid2^{n}+1\)</span>.</p><hr /><blockquote><p>引理 <span class="math inline">\(1.1.1\)</span> <spanclass="math inline">\(q\in Z,x-1\mid x^{q}-1\)</span>，这是由于 <spanclass="math inline">\(1+x+\cdots+x^{q-1}=\dfrac{x^{q}-1}{x-1}\inZ\)</span></p></blockquote><p>证明：显然当 <span class="math inline">\(m&gt;n\)</span>时结论不成立，假设结论不成立 <span class="math inline">\(2^{m}-1\mid2^{n}+1\)</span>，由带余除法定理有 <spanclass="math inline">\(n=mq+r,r&lt;m\)</span> <spanclass="math display">\[\because 2^{n}+1=2^{mq+r}+1=2^{r}\cdot (2^{mq}-1)+2^{r}+1,2^{m}-1\mid2^{mq}-1\\\therefore 2^{m}-1\mid 2^{r}+1\ 而\r&lt;m,2^{m}-1&gt;2^{r}+1\Longleftrightarrow2^{m}&gt;2^{r}+2\Longleftrightarrow 2^{m}-2^{r}&gt;2^{m-1}\geq4&gt;2\]</span> 从而假设不成立，<span class="math inline">\(2^{m}-1\nmid2^{n}+1\)</span></p><h2 id="习题1.1.4">习题1.1.4</h2><p>设 <span class="math inline">\(q\)</span> 是大于 1 的整数. 证明:</p><p><span class="math inline">\((i)\)</span> 每个正整数 <spanclass="math inline">\(n\)</span> 可以惟一地表示成 <spanclass="math display">\[n=a_{0}+a_{1} q+a_{2} q^{2}+\cdots+a_{k} q^{k},\]</span> 其中 <span class="math inline">\(a_{i}\)</span> 是满足 <spanclass="math inline">\(0 \leqslant a_{i} \leqslant q-1\)</span> 的整数<span class="math inline">\((0 \leqslant i \leqslant k)\)</span>, 并且<span class="math inline">\(a_{k} \neq\)</span> 0. 这叫作 <spanclass="math inline">\(n\)</span> 的 <spanclass="math inline">\(q\)</span> 进制表示.</p><p><span class="math inline">\((ii)\)</span> <spanclass="math inline">\(a_{i}=\left[\dfrac{n}{q^{i}}\right]-q\left[\dfrac{n}{q^{i+1}}\right](0\leqslant i \leqslant k)\)</span>.</p><hr /><p>证明：<span class="math inline">\((i)\)</span> 带余除法定理令 <spanclass="math inline">\(n=b_0+m_1q,0\leq b_0\leq q-1\)</span>，对 <spanclass="math inline">\(m_i\)</span> 重复上述步骤有 <spanclass="math display">\[m_1=b_1+m_2q,0\leq b_1\leq q-1\cdots ,m_k=b_k,0\leq b_k\leq q-1\]</span> 则回代得到 <spanclass="math inline">\(n=b_0+q(b_1+q(b_2+\cdots+(b_k)))\)</span>，展开得到<span class="math inline">\(n=a_0+a_1q+\cdots+a_kq^k\)</span></p><p>唯一性的证明：若有两种表示方法 <spanclass="math inline">\(n=a_0+a_1q+\cdots+a_kq^k=c_0+c_1q+\cdots+c_kq^k\)</span>，有<span class="math inline">\(q\mid a_0-c_0\)</span>，则由于 <spanclass="math inline">\(0\leq a_0,c_0\leq q-1\)</span> 得 <spanclass="math inline">\(a_0=c_0\)</span>，代入消去有 <spanclass="math inline">\(a_1+a_2q+\cdots+a_kq^k=c_1+c_2q+\cdots+c_kq^k\)</span>，同理有<span class="math inline">\(a_i=c_i\)</span>，则表示方法唯一</p><p><span class="math inline">\((ii)\)</span> 由 <spanclass="math inline">\((i)\)</span> 中表示有 <spanclass="math inline">\(n=a_0+a_1q+\cdots+a_kq^k\)</span>，两边除以 <spanclass="math inline">\(q^{i}\)</span> 有 <span class="math display">\[\dfrac{n}{q^{i}}=\dfrac{a_0}{q^{i}}+\dfrac{a_1}{q^{i-1}}+\cdotsa_i+a_{i+1}q+a_{i+2}q^2+\cdots+a_{k}q^{k-i}\]</span> 由 <span class="math inline">\(0\leq a_i\leq q-1\)</span>且有取整函数的定义可知 <spanclass="math inline">\([\dfrac{n}{q^{i}}]=a_i+a_{i+1}q+a_{i+2}q^2+\cdots+a_{k}q^{k-i}\)</span></p><p>除以 <span class="math inline">\(q^{i+1}\)</span> 重复上述步骤得<spanclass="math inline">\([\dfrac{n}{q^{i+1}}]=a_{i+1}+a_{i+2}q+\cdots+a_{k}q^{k-i-1}\)</span>，比对上述两式得<spanclass="math inline">\(a_i=[\dfrac{n}{q^{i}}]-q[\dfrac{n}{q^{i+1}}]\)</span></p><h2 id="习题1.1.5">习题1.1.5</h2><p>设 <span class="math inline">\(\alpha_{1}, \cdots,\alpha_{n}\)</span> 为实数 <span class="math inline">\((n \geqslant2)\)</span>, 证明： <span class="math display">\[\begin{aligned}{\left[\alpha_{1}\right]+\left[\alpha_{2}\right]+\cdots+\left[\alpha_{n}\right]} &amp; \leqslant\left[\alpha_{1}+\alpha_{2}+\cdots+\alpha_{n}\right] \\&amp;\leqslant\left[\alpha_{1}\right]+\left[\alpha_{2}\right]+\cdots+\left[\alpha_{n}\right]+n-1\end{aligned}\]</span></p><hr /><p>证明：记 <spanclass="math inline">\(\alpha_i=[\alpha_i]+\{\alpha_i\},\forall \ x\inR,\{x\}\in[0,1)\)</span>，从而有 <spanclass="math inline">\(\displaystyle[\sum_{i=1}^n\alpha_i]=\sum_{i=1}^n[\alpha_i]+[\sum_{i=1}^{n}\{\alpha_i\}]\geq\sum_{i=1}^n[\alpha_i]\)</span></p><p>而 <span class="math inline">\(\displaystyle[\sum_{i=1}^{n}\{\alpha_i\}]&lt;[\sum_{i=1}^{n}1]=n\)</span>，由取整特性<span class="math inline">\(\displaystyle[\sum_{i=1}^{n}\{\alpha_i\}]\leq n-1\)</span>，则 <spanclass="math inline">\(\displaystyle\sum_{i=1}^n[\alpha_i]\leq[\sum_{i=1}^n\alpha_i]\leq\displaystyle\sum_{i=1}^n[\alpha_i]+n-1\)</span></p><h2 id="习题1.1.11">习题1.1.11</h2><p>设 <span class="math inline">\(n\)</span> 为正整数, <spanclass="math inline">\(n \geqslant 2\)</span>. 如果 <spanclass="math inline">\(n\)</span> 没有小于或等于 <spanclass="math inline">\(\sqrt{n}\)</span> 的素数因子, 则 <spanclass="math inline">\(n\)</span> 为素数.</p><hr /><p>证明：反证法，若 <span class="math inline">\(n\)</span> 为合数，则<span class="math inline">\(n\)</span> 有素因子 <spanclass="math inline">\(q\)</span>，则 <spanclass="math inline">\(n=mq,m,q\in Z\)</span>，由于 <spanclass="math inline">\(n\)</span> 没有 <spanclass="math inline">\(\leq\sqrt{n}\)</span> 的素数因子 <spanclass="math display">\[\therefore m,q&gt;\sqrt{n},mq&gt;n\]</span> 与假设矛盾，从而 <span class="math inline">\(n\)</span>为素数</p><h2 id="习题1.1.12">习题1.1.12</h2><p>对每个整数 <span class="math inline">\(n \geqslant 3, n\)</span> 和<span class="math inline">\(n !\)</span> 之间必有素数.由此证明素数有无限多个.</p><hr /><p>证明：反证法，假设 <span class="math inline">\(n\)</span> 和 <spanclass="math inline">\(n!\)</span> 之间全为合数，则 <spanclass="math inline">\(n!-1\)</span> 为合数，其一定有素数因子，由假设知<span class="math inline">\(n+1，n+2,\cdots,n!\)</span>全为合数，不可能是 <span class="math inline">\(n!-1\)</span>的素数因子，另一方面，<span class="math inline">\(\forall \ n\geq a\geq2,a\mid n!\)</span>，从而 <span class="math display">\[P=\{p\mid p\in[2,n]\ \cap\ \mbox{p is prime} \},\forall \ x\in P,x\nmidn!-1\]</span> 则 <span class="math inline">\(n!-1\)</span>没有小于其自身的素数因子，从而 <span class="math inline">\(n!-1\)</span>为素数，与假设矛盾，从而 <span class="math inline">\(n\)</span> 和 <spanclass="math inline">\(n!\)</span> 之间一定有素数</p><p>从 <span class="math inline">\(3\)</span> 开始， <spanclass="math inline">\((3,3!)\)</span> 之间有素数，<spanclass="math inline">\((3!,(3!)!)\)</span> 之间有素数，进而构造数列 <spanclass="math display">\[a_1=3,a_{n+1}=a_n!\]</span> 有 <span class="math inline">\((a_n,a_{n+1})\)</span>之间必有素数，且区间之间无交集，将自然数集分成无穷多个区间，从而有无穷多个素数</p><h2 id="习题1.2.1">习题1.2.1</h2><p>设 <span class="math inline">\(n\)</span> 是正整数, 证明: <spanclass="math inline">\(\dfrac{21 n+4}{14 n+3}\)</span> 是既约分数.</p><hr /><p>证明：反证法，假设 <spanclass="math inline">\(\dfrac{21n+4}{14n+3}\)</span> 不是既约分数，则<span class="math inline">\(21n+4\)</span> 和 <spanclass="math inline">\(14n+3\)</span> 有共同素因子 <spanclass="math inline">\(d\)</span> ，即 <span class="math display">\[\because (21n+4,14n+3)=d,21n+4=dm,14n+3=dn\\\therefore 3\cdot dn-2\cdot dm=42n+9-(42n+8)=1=d(3n-2m)\]</span> 而 <span class="math inline">\(d\)</span> 为大于 <spanclass="math inline">\(1\)</span> 的素因子，<spanclass="math inline">\(1\nmid d\)</span>，从而与假设矛盾，则 <spanclass="math inline">\(\dfrac{21n+4}{14n+3}\)</span> 是既约分数</p><h2 id="习题1.2.2">习题1.2.2</h2><p>设 <span class="math inline">\(m, n\)</span> 为正整数, <spanclass="math inline">\(m\)</span> 为奇数,证明： <spanclass="math display">\[\left(2^{m}-1,2^{n}+1\right)=1\]</span></p><hr /><p>证明：令 <spanclass="math inline">\((2^{m}-1,2^{n}+1)=d\)</span>，且有 <spanclass="math inline">\(2^{m}-1=dx,2^{n}+1=dy,x,y\in Z\)</span>，<spanclass="math inline">\(d\)</span> 为奇数 <span class="math display">\[\because 2^m=dx+1,2^n=dy-1\ \therefore 2^{mn}=(dx+1)^{n}=(dy-1)^m\]</span> 将其二项式展开有 <span class="math inline">\(\displaystyle\sum_{i=0}^nC_n^i(dx)^i=\sum_{i=0}^mC_m^i(dy)^i(-1)^{m-i}\)</span>，两边同时除以<span class="math inline">\(d\)</span> 得到 <spanclass="math display">\[\displaystyle\sum_{i=1}^nC_n^id^{i-1}x^{i}+\dfrac{1}{d}=\sum_{i=1}^mC_m^id^{i-1}y^i(-1)^{m-i}+(-1)^m\cdotd^{-1}\]</span> 由于 <span class="math inline">\(m\)</span> 是奇数，若 <spanclass="math inline">\(d\geq 3\)</span>，两边取整有 <spanclass="math inline">\(\dfrac{1}{d}=1-\dfrac{1}{d}\)</span>，矛盾，从而<span class="math inline">\(d=1\)</span></p><h2 id="习题1.2.3">习题1.2.3</h2><p>设 <span class="math inline">\(m, n, a\)</span> 均为正整数, <spanclass="math inline">\(a \geqslant 2\)</span>, 证明: <spanclass="math display">\[\left(a^{m}-1, a^{n}-1\right)=a^{(m, n)}-1 \text {. }\]</span></p><hr /><p>证明：令 <span class="math inline">\((m,n)=d\)</span>，且有 <spanclass="math inline">\(m=dx,n=dy,(x,y)=1\)</span>，由引理 <spanclass="math inline">\(1.1.1\)</span> 知 <span class="math display">\[a^{d}-1\mid a^{dx}-1,\a^{dx}-1=(a^d-1)\cdot(1+a^d+a^{2d}+\cdots+a^{(x-1)d})\\a^{d}-1\mid a^{dy}-1,\a^{dy}-1=(a^d-1)\cdot(1+a^d+a^{2d}+\cdots+a^{(y-1)d}),\\\]</span> 考虑辗转相除法，不妨设 <spanclass="math inline">\(x&gt;y\)</span>， <span class="math display">\[1+a^d+a^{2d}+\cdots+a^{(x-1)d}=a^{(x-y)d}(1+a^d+\cdots+a^{(y-1)d})+1+a^d+a^{2d}+\cdots+a^{(x-y-1)d}\]</span> 继续判断 <span class="math inline">\(x\)</span> 和 <spanclass="math inline">\(y\)</span> 的大小关系，辗转相除，而 <spanclass="math inline">\((x,y)=1\)</span>，则 <span class="math display">\[(1+a^d+a^{2d}+\cdots+a^{(x-1)d},1+a^d+a^{2d}+\cdots+a^{(y-1)d})=1\]</span> 从而 <span class="math inline">\(a^{d}-1=a^{(m,n)}-1\)</span>即为 <span class="math inline">\(a^{m}-1\)</span> 和 <spanclass="math inline">\(a^{n}-1\)</span> 的最大公因数</p><h1id="largetextcolorblue初等数论第二次作业-_textcolorblue2022.3.2"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第二次作业}\ \ \ \\ \ _\textcolor{blue}{2022.3.2}\)</span></h1><h2 id="习题1.2.4">习题1.2.4</h2><p>设 <span class="math inline">\(a,b,c\in Z,a\neq 0\)</span>。则 <spanclass="math inline">\(a\mid bc\)</span> 当且仅当 <spanclass="math inline">\(\dfrac{a}{(a,b)}\mid c\)</span></p><hr /><p>证明：取 <span class="math inline">\(d=(a,b)\)</span>，令 <spanclass="math inline">\(a=dx,b=dy\)</span>，且有 <spanclass="math inline">\((x,y)=1\)</span></p><p><span class="math inline">\((1)\)</span> 若 <spanclass="math inline">\(a\mid bc\)</span>， <spanclass="math inline">\(\exists \ t\in Z,\ bc=at\ \therefore yc=xt \ \x\mid yc\)</span>，由于 <span class="math inline">\((x,y)=1\)</span>，得<span class="math inline">\(x\mid c\)</span>，即 <spanclass="math inline">\(\dfrac{a}{(a,b)}\mid c\)</span>；</p><p><span class="math inline">\((2)\)</span> 若 <spanclass="math inline">\(\dfrac{a}{(a,b)}\mid c\)</span>，则 <spanclass="math inline">\(\exists \ t\in Z,\ c=\dfrac{a}{(a,b)}\cdot t\\therefore (a,b)\cdot c=at=dc=dxt\)</span>，即 <spanclass="math inline">\(c=xt\)</span>， 两边乘</p><p>以 <span class="math inline">\(b=dy\)</span> 得 <spanclass="math inline">\(bc=xydt=ayt\)</span>，从而 <spanclass="math inline">\(a\mid bc\)</span>。</p><p>综上，<span class="math inline">\(a\mid bc \Longleftrightarrow\dfrac{a}{(a,b)}\mid c\)</span></p><h2 id="习题1.2.5">习题1.2.5</h2><p><span class="math inline">\(m\)</span> 和 <spanclass="math inline">\(n\)</span> 是互素的正整数，证明：</p><p><span class="math inline">\(\ \ \ (1)\)</span> 对每个整数 <spanclass="math inline">\(a\)</span>，<spanclass="math inline">\((a,mn)=(a,m)(a,n)\)</span>；</p><p><span class="math inline">\(\ \ \ (2)\)</span> <spanclass="math inline">\(mn\)</span> 的每个正因子 <spanclass="math inline">\(d\)</span> 均可唯一地表示成 <spanclass="math inline">\(d=d_1d_2\)</span>，其中 <spanclass="math inline">\(d_1\)</span> 和 <spanclass="math inline">\(d_2\)</span> 分别为 <spanclass="math inline">\(m\)</span> 和 <spanclass="math inline">\(n\)</span> 的正因子。</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 对 <spanclass="math inline">\((a,mn)=(a,m)\cdot(\dfrac{a}{(a,m)},\dfrac{mn}{(a,m)})\)</span>，由于<span class="math inline">\(\dfrac{a}{(a,m)}\)</span> 和 <spanclass="math inline">\(\dfrac{m}{(a,m)}\)</span> 互素，则 <spanclass="math display">\[(a,mn)=(a,m)\cdot (\dfrac{a}{(a,m)},\dfrac{mn}{(a,m)})=(a,m)\cdot\normalsize (\dfrac{a}{(a,m)},n)令\ a=k_1x,m=k_2x\ \\\because(m,n)=1\therefore(k_2x,n)=(x,n)=1,(\dfrac{a}{(a,m)},n)=(k_1,n)=(k_1x,n)=(a,n)\]</span> 则有 <spanclass="math inline">\((a,mn)=(a,m)(a,n)\)</span></p><p><span class="math inline">\((2)\)</span> 由算术基本定理，令$m=p_1^{_1}p_2^{_2}p_r^{_r},n=q_1^{_1}q_2^{_2}q_k^{_k},1_i,_i $，由<span class="math inline">\((m,n)=1\)</span></p><p><span class="math inline">\(\forall \ 1\leq i\leq r,1\leq j\leqk,p_i\neq q_j\)</span>，否则设相等素数为 <spanclass="math inline">\(p_{i_{0}}\)</span> <spanclass="math inline">\((m,n)\geq p_{i_0}&gt;1\)</span>矛盾，则有新序列集合</p><p><spanclass="math inline">\(\mathbb{S}=\{p_1,\cdots,p_r,q_1,\cdots,q_k\}\)</span>，有<span class="math inline">\(mn=p_1^{\alpha_1}\cdots p_r^{\alpha_r}\cdotq_1^{\beta_1}\cdots q_k^{\beta_k}\)</span>，若 <spanclass="math inline">\(d\)</span> 为 <spanclass="math inline">\(mn\)</span> 的因子，则</p><p>总有 <span class="math inline">\(d=p_1^{\gamma_1}\cdotsp_{r}^{\gamma_{r}}\cdot q_{1}^{\lambda_{1}}\cdotsq_{k}^{\lambda_{k}},0\leq\gamma_{i},\lambda_{i}\)</span>，则分离 <spanclass="math inline">\(d_1=p_1^{\gamma_1}\cdotsp_{r}^{\gamma_{r}},d_2=q_{1}^{\lambda_{1}}\cdotsq_{k}^{\lambda_{k}}\)</span></p><p>使得 <span class="math inline">\(d=d_1d_2\)</span>，且由于 <spanclass="math inline">\(p_i\)</span> 和 <spanclass="math inline">\(q_i\)</span> 完全不同，该分解存在且唯一</p><h2 id="习题1.2.6">习题1.2.6</h2><p>设 <span class="math inline">\(n\)</span> 为正整数，<spanclass="math inline">\(a,b\)</span> 是不全为零的整数，证明：</p><p><span class="math inline">\(\ \ \ (1)\)</span> <spanclass="math inline">\((a^n,b^n)=(a,b)^n\)</span>；</p><p><span class="math inline">\(\ \ \ (2)\)</span> 若 <spanclass="math inline">\(a\)</span> 和 <spanclass="math inline">\(b\)</span> 是互素的正整数，<spanclass="math inline">\(ab=c^n,c\in Z\)</span>，则 <spanclass="math inline">\(a\)</span> 和 <spanclass="math inline">\(b\)</span> 都是正整数的 <spanclass="math inline">\(n\)</span> 次方幂。</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 记 <spanclass="math inline">\((a,b)=d\)</span>，则有 <spanclass="math inline">\(a=dx,b=dy,x,y\in Z\)</span>，从而 <spanclass="math inline">\(a^n=d^nx^n,b^n=d^ny^n\)</span></p><p>从而 <span class="math inline">\(d^n\mid a^n,d^n\mid b^n,d^n\mid(a^n,b^n)\)</span>，则令 <span class="math inline">\((a^n,b^n)=td^n,t\inZ\)</span>，代入上式有</p><p><span class="math inline">\(\dfrac{a^n}{(a^n,b^n)}=tx^n,\\dfrac{b^n}{(a^n,b^n)}=ty^n\)</span>，结合 <spanclass="math inline">\((x^n,y^n)=1\)</span> 有 <spanclass="math inline">\(1=(\dfrac{a^n}{(a^n,b^n)},\dfrac{b^n}{(a^n,b^n)})=t\)</span>，</p><p><span class="math inline">\(\therefore (a^n,b^n)=1\cdotd^n=(a,b)^n\)</span></p><p><span class="math inline">\((2)\)</span> 由算术基本定理，令$a=p_1^{_1}p_2^{_2}p_r^{_r},b=q_1^{_1}q_2^{_2}q_k^{_k},1_i,_i $，由<span class="math inline">\((a,b)=1\)</span></p><p><span class="math inline">\(\forall \ 1\leq i\leq r,1\leq j\leqk,p_i\neq q_j\)</span>​，否则设相等素数为 <spanclass="math inline">\(p_{i_{0}}\)</span> <spanclass="math inline">\((m,n)\geq p_{i_0}&gt;1\)</span>矛盾，则有新序列集合</p><p><spanclass="math inline">\(\mathbb{S}=\{p_1,\cdots,p_r,q_1,\cdots,q_k\}\)</span>，有<span class="math inline">\(ab=p_1^{\alpha_1}\cdots p_r^{\alpha_r}\cdotq_1^{\beta_1}\cdots q_k^{\beta_k}=c^n\)</span>，同理对 <spanclass="math inline">\(c\)</span> 分解有</p><p><span class="math inline">\(c=m_1^{\gamma_1}\cdotsm_l^{\gamma_{l}}\)</span>，代入有 <spanclass="math inline">\(p_1^{\alpha_1}\cdots p_r^{\alpha_r}\cdotq_1^{\beta_1}\cdots q_k^{\beta_k}=m_1^{n\gamma_1}\cdotsm_l^{n\gamma_{l}}\)</span>，由算术基本定理有</p><p><spanclass="math inline">\(\alpha_{i}=n\gamma_{a_{i}},\beta_{i}=n\gamma_{b_{i}}\)</span>，则<span class="math inline">\(a\)</span> 和 <spanclass="math inline">\(b\)</span> 均能写成某个正整数的 <spanclass="math inline">\(n\)</span> 次幂</p><h2 id="习题1.29">习题1.29</h2><p>求 <span class="math inline">\(963x+657y=(963,657)\)</span>的全部整数解。</p><hr /><p>解：由欧几里得辗转相除法有 <span class="math display">\[963=657+306\longrightarrow 657=306\times 2+45\longrightarrow306=45\times 6+36\\\longrightarrow 45=36\times 1+9\longrightarrow 36=9\times 4\]</span> 从而 <spanclass="math inline">\((963,657)=9\)</span>，依次反向欧几里得算法有 <spanclass="math display">\[9=45-36\times 1=45-(306-45\times 6)=45\times 7-306=(657-306\times2)\times7-306\\=657\times 7-306\times 15=657\times 7-306\times 15=657\times7-(963-657)\times 15\\=963\times(-15)+657\times22\]</span> 则 <spanclass="math inline">\(963x+657y=(963,657)=9\)</span>，可以化为 <spanclass="math inline">\(107x+73y=1\)</span>，从而其解为 <spanclass="math display">\[\begin{cases}x=-15+73t\\y=22-107t\end{cases}\ \ \ \ t\in Z\]</span></p><h2 id="习题1.2.10">习题1.2.10</h2><p>求下列方程的全部整数解：</p><p><span class="math inline">\(\ \ \ (1)\)</span> <spanclass="math inline">\(6x+20y-15z=23\)</span>；</p><p><span class="math inline">\(\ \ \ (2)\)</span> <spanclass="math inline">\(25x+13y+7z=2\)</span>。</p><hr /><p><span class="math inline">\((1)\)</span> 由 <spanclass="math inline">\((20,15)=5\)</span>，则 <spanclass="math inline">\(6x+20y-15z=23\Longleftrightarrow\begin{cases}20y-15z=5\omega\cdots\boldsymbol①\\6x+5\omega=23\cdots\boldsymbol ②\end{cases}\)</span></p><p>对 <span class="math inline">\(\boldsymbol ②\)</span>，由 <spanclass="math inline">\(6=5\times 1+1\)</span>，则 <spanclass="math inline">\(1=6\times1+5\times(-1)\)</span>，则 <spanclass="math inline">\(\boldsymbol ②\)</span> 解为 <spanclass="math inline">\(\begin{cases}x=23+5t\\\omega=-23-6t\end{cases}\)</span></p><p>代入 <span class="math inline">\(\boldsymbol ①\)</span> 变形为 <spanclass="math inline">\(4y-3z=\omega=-23-6t\)</span>，由 <spanclass="math inline">\(4=3\times1+1\)</span>，则解 <spanclass="math inline">\(\begin{cases}y=\omega+3u\\z=\omega+4u\end{cases}\)</span></p><p>从而 <span class="math inline">\(6x+20y-15z=23\)</span> 的通解为<spanclass="math inline">\(\begin{cases}x=23+5t\\y=-23-6t+3u\\z=-23-6t+4u\end{cases}\\ \ \ \ t,u\in Z\)</span></p><p><span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\((13,7)=1\)</span>，则 <spanclass="math inline">\(25x+13y+7z=2\Longleftrightarrow\begin{cases}13y+7z=\omega\cdots\boldsymbol①\\25x+\omega=1\cdots\boldsymbol ②\end{cases}\)</span></p><p>对 <span class="math inline">\(\boldsymbol ②\)</span>，由 <spanclass="math inline">\(25=25\times 1\)</span>，则 <spanclass="math inline">\(1=25\times 0+1\times1\)</span>，则 <spanclass="math inline">\(\boldsymbol ②\)</span> 解为 <spanclass="math inline">\(\begin{cases}x=t\\\omega=1-25t\end{cases}\)</span></p><p>代入 <span class="math inline">\(\boldsymbol ①\)</span> 变形为 <spanclass="math inline">\(13y+7z=\omega=1-25t\)</span>，由 <spanclass="math inline">\(1=7\times 2-13\)</span>，则解 <spanclass="math inline">\(\begin{cases}y=-\omega+7u\\z=2\omega-13u\end{cases}\)</span></p><p>从而 <span class="math inline">\(25x+13y+7z=2\)</span> 的通解为 <spanclass="math inline">\(\begin{cases}x=t\\y=-1+25t+7u\\z=2-50t-13u\end{cases}\\ \ \ \ t,u\in Z\)</span></p><h2 id="习题1.2.12">习题1.2.12</h2><p>设 <span class="math inline">\(f(x)=x^n+a_1x^{n-1}+\cdots+a_{n-1}x+a_n\)</span> 为首项系数为 <spanclass="math inline">\(1\)</span> 的整系数多项式，</p><p>则 <span class="math inline">\(f(x)\)</span>的每个有理根必为整数。</p><hr /><p>证明：若整系数多项式 <spanclass="math inline">\(x^n+a_1x^{n-1}+\cdots+a_{n-1}x+a_n=0\)</span>有理根为 <span class="math inline">\(\dfrac{p}{q}(p,q\in Z,q\neq0)\)</span> <span class="math display">\[\because(p,q)=1,(\dfrac{p}{q})^{n}+a_1(\dfrac{p}{q})^{n-1}+\cdots+a_{n-1}\dfrac{p}{q}+a_n=0\\\thereforep^{n}=-(a_1p^{n-1}q+\cdots+a_{n-1}pq^{n-1}+a_nq^{n})\therefore q\midp^{n}\Longrightarrow q=1\]</span> 从而所有有理根必为整数</p><h2 id="习题1.2.13">习题1.2.13</h2><p>设 <span class="math inline">\(m\)</span> 和 <spanclass="math inline">\(n\)</span> 为正整数，则在 <spanclass="math inline">\(n,2n,\cdots,mn\)</span> 这 <spanclass="math inline">\(m\)</span> 个数当中恰有 <spanclass="math inline">\((m,n)\)</span> 个是 <spanclass="math inline">\(m\)</span> 的倍数。</p><hr /><p>证明：令 <span class="math inline">\(d=(m,n)\)</span>，且 <spanclass="math inline">\(m=dx,n=dy,(x,y)=1\)</span>，从而 <spanclass="math inline">\(kn,k=1,2,\cdots,m\)</span> 满足</p><p><span class="math inline">\(m\mid kn,dx\mid kdy\Longrightarrow x\midky\)</span>，由于 <span class="math inline">\((x,y)=1\)</span>，则 <spanclass="math inline">\(x\mid k\)</span>，即 <spanclass="math inline">\(k\)</span> 是 <spanclass="math inline">\(x\)</span> 的倍数，即 <spanclass="math inline">\(k=xt,t\in Z\)</span></p><p>而 <span class="math inline">\(m=dx\)</span>，恰好为 <spanclass="math inline">\(1\cdot x,2\cdot x\cdots ,d\cdot x\)</span>，恰共有 <span class="math inline">\(d =(m,n)\)</span> 个</p><h2 id="习题1.2.16">习题1.2.16</h2><p>设 <span class="math inline">\(m\)</span> 和 <spanclass="math inline">\(n\)</span> 是互素的非零整数。证明对整数 <spanclass="math inline">\(a\)</span>，若 <span class="math inline">\(m\mida,n\mid a\)</span>，则 <span class="math inline">\(mn\mid a\)</span></p><hr /><p>证明：已知 <span class="math inline">\((m,n)=1\)</span>，由 <spanclass="math inline">\(m,n\mid a\)</span>，设 <spanclass="math inline">\(a=mx=ny,x,y\in Z\)</span>，有 <spanclass="math inline">\((mx,nx)=x(m,n)=x\)</span></p><p>代入 <span class="math inline">\(mx=ny\)</span> 得 <spanclass="math inline">\(x=(ny,nx)=n(y,x)\)</span>，则 <spanclass="math inline">\(n\mid x,mn\mid mx=a\)</span>，即 <spanclass="math inline">\(mn\mid a\)</span></p><h2 id="习题1.3.3">习题1.3.3</h2><p>设 <span class="math inline">\(a,b,c\)</span> 为正整数，证明</p><p><span class="math inline">\(\ \ \ (1)\)</span> <spanclass="math inline">\((a,[b,c])=[(a,b),(a,c)]\)</span>；</p><p><span class="math inline">\(\ \ \ (2)\)</span> <spanclass="math inline">\([a,(b,c)]=([a,b],[a,c])\)</span>。</p><hr /><p>证明：由算术基本定理，设 <span class="math inline">\(a,b,c\)</span>三者分解下所有质因数的交集为 <span class="math inline">\(\{p_1\cdotsp_N\}\)</span>，且三者对应的</p><p>幂次为 <span class="math inline">\(\{a_n\},\{b_n\},\{c_{n}\},0\leqa_i,b_i,c_i\in Z\)</span>，即 <spanclass="math inline">\(a,b,c=\displaystyle \prodp_{i}^{a_i,b_i,c_i}\)</span></p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\((a,[b,c])=\displaystyle \prodp_{i}^{\min(a_i,\max({b_i,c_i}))}\)</span> 和 <spanclass="math inline">\([(a,b),(a,c)]=\displaystyle \prodp_{i}^{\max(\min(a_i,b_i),\min(a_i,c_i))}\)</span></p><p><spanclass="math inline">\((a,[b,c])=[(a,b),(a,c)]\Longleftrightarrow\min(a_i,\max(b_i,c_i))=\max(\min(a_i,b_i),\min(a_i,c_i))\)</span></p><p>而对后者，调换 <span class="math inline">\(b\)</span> 和 <spanclass="math inline">\(c\)</span> 对等式左右两边都不变，不妨设 <spanclass="math inline">\(b\leq c\)</span>，从而分类以下三种情况： <spanclass="math display">\[\begin{gathered}i) a \leq b \leq c;\ \ \ \ii) b \leq a \leq c;\ \ \ \iii) b \leq c \leq a\\i) \max \{a, \min \{b, c\}\}=\max \{a, b\}=b, \min \{\max \{a, b\}, \max\{a, c\}\}=\min \{b, c\}=b;\\ii) \max \{a, \min \{b, c\}\}=\max \{a, b\}=a, \min \{\max \{a, b\},\max \{a, c\}\}=\min \{a, c\}=a;\\iii) \max \{a, \min \{b, c\}\}=\max \{a, b\}=a, \min \{\max \{a, b\},\max \{a, c\}\}=\min \{a, a\}=a;\end{gathered}\]</span> 从而后者成立，有 <spanclass="math inline">\((a,[b,c])=[(a,b),(a,c)]\)</span> 成立</p><p><span class="math inline">\((2)\)</span> 仿照 <spanclass="math inline">\(\small (1)\)</span> 讨论 <spanclass="math inline">\(\max(a_i,\min(b_i,c_i))=\min(\max(a_i,b_i),\max(a_i,c_i))\)</span>，也不妨设<span class="math inline">\(b\leq c\)</span> <spanclass="math display">\[\begin{gathered}i) a \leq b \leq c;\ \ \ \ii) b \leq a \leq c;\ \ \ \iii) b \leq c \leq a\\i) \min \{a, \max \{b, c\}\}=\min \{a, c\}=a, \max \{\min \{a, b\}, \min\{a, c\}\}=\max \{a, a\}=a;\\ii) \min \{a, \max \{b, c\}\}=\min \{a, c\}=a, \max \{\min \{a, b\},\min \{a, c\}\}=\max \{b, a\}=a;\\iii) \min \{a, \max \{b, c\}\}=\min \{a, c\}=c, \max \{\min \{a, b\},\min \{a, c\}\}=\max \{b, c\}=c;\\\end{gathered}\]</span> 从而同理可得 <spanclass="math inline">\([a,(b,c)]=([a,b],[a,c])\)</span></p><h2 id="习题1.3.4">习题1.3.4</h2><p>不存在整数 <span class="math inline">\(m\geq 2\)</span> ，使得 <spanclass="math inline">\(m^2\mid n\)</span> 的正整数 <spanclass="math inline">\(n\)</span> 为无平方因子，证明：</p><p><span class="math inline">\(\ \ \ (1)\)</span> 正整数 <spanclass="math inline">\(n\)</span> 是无平方因子当且仅当 <spanclass="math inline">\(n=1\)</span> 或者是不素因子的乘积；</p><p><span class="math inline">\(\ \ \ (2)\)</span> 每个正整数 <spanclass="math inline">\(n\)</span> 可以唯一地表示成 <spanclass="math inline">\(n=m^2\cdot n&#39;\)</span>，其中 <spanclass="math inline">\(m^2\)</span> 为平方数，而 <spanclass="math inline">\(n&#39;\)</span> 为无平方因子整数。</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 若 <spanclass="math inline">\(n=1\)</span> ，<span class="math inline">\(\forallm\geq 2,\ m^2\nmid n\)</span>，从而 <spanclass="math inline">\(1\)</span> 为无平方因子，若 <spanclass="math inline">\(n\geq 2\)</span>，由算术基本定理</p><p>令 <span class="math inline">\(n=p_1^{\alpha_1}\cdotp_2^{\alpha_2}\cdots p_r^{\alpha_r}\)</span>，若 <spanclass="math inline">\(\exists\ \alpha _i\geq 2\)</span>，则取 <spanclass="math inline">\(p_i^{2}\mid p_{i}^{\alpha_{i}}\midn\)</span>，则不是无平方因子，从而</p><p><span class="math inline">\(\forall \ \alpha_{i}\leq 1\)</span>，而<span class="math inline">\(\alpha_i=0\)</span> 无意义（<spanclass="math inline">\(p_{i}^{0}=1\)</span>），从而此时 <spanclass="math inline">\(n\)</span> 为不同素因子乘积</p><p>又若 <span class="math inline">\(n=1\)</span> 或者 <spanclass="math inline">\(n\)</span>为不同素因子乘积，显然满足无平方因子条件，从而两者等价</p><p><span class="math inline">\((2)\)</span> 若 <spanclass="math inline">\(n\)</span> 为无平方因子，则 <spanclass="math inline">\(n=1^2\cdot n&#39;\)</span> 满足条件，若 <spanclass="math inline">\(n\)</span> 不为无平方因子，由 <spanclass="math inline">\(\small (1)\)</span> 得，<spanclass="math inline">\(\exists\ \alpha_i\geq 2\)</span></p><p>则挑选 <span class="math inline">\(\mathbb{A}=\{i\mid \alpha_i\geq2\}\)</span>，对 <span class="math inline">\(\forall\ x\in\mathbb{A}\)</span> 取 $<em>{i}=2,</em>{i}=_i-_i=0,1 $</p><p>则所有非 <span class="math inline">\(\mathbb{A}\)</span> 中的 <spanclass="math inline">\(\alpha_{j}\)</span> 以及 <spanclass="math inline">\(\gamma_{i}\)</span>对应素数幂次的乘积组成无平方因子 <spanclass="math inline">\(n&#39;=\displaystyle\prod_{\alpha_{j}\notin\mathbb{A}}p_{j}^{\alpha_{j}}\cdot\prod_{\alpha_{i}\in\mathbb{A}}p_{i}^{\gamma_{i}}\)</span></p><p>其余组成完全平方数 <span class="math inline">\(m^2=\displaystyle\prod_{\alpha_{i}\in\mathbb{A}}p_{i}^{\beta_{i}}=\prod_{\alpha_{i}\in\mathbb{A}}p_{i}^{2\lfloor\frac{\alpha_i}{2}\rfloor}\)</span>，即<span class="math inline">\(m=\displaystyle\prod_{\alpha_{i}\in\mathbb{A}}p_{i}^{\lfloor\frac{\alpha_i}{2}\rfloor}\)</span>，使得<span class="math inline">\(n=m^2\cdot n&#39;\)</span></p><p>下证其唯一性：若有两组 <spanclass="math inline">\((m_1,n&#39;_1),(m_2,n_2&#39;)\)</span> 使得 <spanclass="math inline">\(n=m_1^2n_1&#39;=m_2^2n_2&#39;\)</span>，由 <spanclass="math inline">\(\small(1)\)</span> 知</p><p><span class="math inline">\(n_1\)</span> 和 <spanclass="math inline">\(n_2\)</span> 为 <spanclass="math inline">\(1\)</span>或者是不同素数的乘积，若两者不相同，则两边消去相同部分后总会剩余成单素数</p><p>即 <span class="math inline">\(n&#39;&#39;=m_1^2\displaystyle \prodp_i=m_2^2\prod q_i\)</span>，考察 <spanclass="math inline">\(p_i\)</span>对应的幂次有左侧为奇次幂，右侧为偶次幂</p><p>这与 <span class="math inline">\(n&#39;&#39;\)</span>的算术基本定理矛盾，从而每个正整数能唯一地表示成完全平方数和无平方因子的乘积</p><h1id="largetextcolorblue初等数论第三次作业-_textcolorblue2022.3.8"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第三次作业}\ \ \ \\ \ _\textcolor{blue}{2022.3.8}\)</span></h1><h2 id="习题1.2.1-1">习题1.2.1</h2><p>设 <span class="math inline">\(m\)</span> 为正整数, <spanclass="math inline">\((a, m)=1\)</span>. 我们用 <spanclass="math inline">\(a^{-1}\)</span> 表示同余方程 <spanclass="math inline">\(a x \equiv 1\)</span> <spanclass="math inline">\((\bmod m)\)</span> 的任何一个整数解 (即</p><p><span class="math inline">\(\left.a^{-1} \in \mathbf{Z}, a a^{-1}\equiv 1(\bmod m)\right)\)</span>. 证明：</p><ol type="1"><li><p>若 <span class="math inline">\((a, m)=(b, m)=1\)</span>, 则 <spanclass="math inline">\(a \equiv b(\bmod m)\)</span> $$ <spanclass="math inline">\(a^{-1} \equiv\)</span> <spanclass="math inline">\(b^{-1}(\bmod m)\)</span>；</p></li><li><p>若 <span class="math inline">\(\{r_{1}, r_{2}, \cdots,r_{\varphi(m)}\}\)</span> 是模 <span class="math inline">\(m\)</span>的缩系, 则 <span class="math inline">\(\{r_{1}^{-1}, r_{2}^{-1}, \cdots,r_{\varphi(m)}^{-1}\}\)</span> 也是模 <spanclass="math inline">\(m\)</span> 的缩系。</p></li></ol><hr /><p>证明：<span class="math inline">\((1)\)</span> 若 <spanclass="math inline">\(a\equiv b(\mbox{mod}\  m)\)</span>，即 <spanclass="math inline">\(a-b=k_1m,k_1\in Z\)</span>，令 <spanclass="math inline">\(a^{-1}\)</span> 与 <spanclass="math inline">\(b^{-1}\)</span> 中最小的正整数为</p><p><span class="math inline">\(a_{-},b_{-}\)</span>，对上式乘以 <spanclass="math inline">\(a_{-},b_{-}\)</span> 得 <spanclass="math inline">\(aa_{-}b_{-}-a_{-}(bb_{-})=k_1ma_{-}b_{-}\)</span>，两边对<span class="math inline">\(m\)</span> 求同余有</p><p><span class="math inline">\(a_{-}\equiv b_{-}(\mbox{mod}\m)\)</span>，而 <spanclass="math inline">\(\overline{a^{-1}}=a_{-}+km,k\inZ,\overline{b^{-1}}=b_{-}+km,k\in Z\)</span></p><p>则 <span class="math inline">\(a\equivb(\mbox{mod}\  m)\Longrightarrow a^{-1}\equivb^{-1}(\mbox{mod}\  m)\)</span>，由对称性（<spanclass="math inline">\((a^{-1})^{-1}=a\)</span>），两者等价</p><p><span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\(r_{i}r_{i}^{-1}\equiv 1(\mbox{mod}\m)\)</span>，若 <span class="math inline">\((r_{i}^{-1},m)\geq2\)</span>，则 <span class="math inline">\((r_{i}r_{i}^{-1},m)\geq2\)</span>，与 <span class="math inline">\(r_{i}r_{i}^{-1}\equiv1(\mbox{mod}\ m)\)</span></p><p>矛盾，从而所有的 <span class="math inline">\(r_{i}^{-1}\)</span> 与<span class="math inline">\(m\)</span> 互素；又若$ ij,r_{i}<sup>{-1}=r_{j}</sup>{-1} $，由 <spanclass="math inline">\((1)\)</span> 得 <spanclass="math inline">\(r_{i}=r_{j}\)</span> ，矛盾</p><p>而 <span class="math inline">\(m\)</span> 的缩系有 <spanclass="math inline">\(\varphi(m)\)</span> 个，从而 <spanclass="math inline">\(\{r_{1}^{-1},\cdots ,r_{\varphi(m)}^{-1}\}\)</span> 也为缩系</p><h2 id="习题1.2.2-1">习题1.2.2</h2><p>设正整数 <span class="math inline">\(n\)</span> 的十进制表示为</p><p><span class="math display">\[n=a_{0}+a_{1} \cdot 10+a_{2} \cdot 10^{2}+\cdots+a_{k} \cdot 10^{k},\]</span></p><p>证明: <span class="math inline">\(\left\{\begin{array}{l}n \equiva_{0}+a_{1}+\cdots+a_{k}(\bmod 9), \\ n \equiva_{0}-a_{1}+a_{2}-\cdots+(-1)^{k} a_{k}(\bmod 11).\end{array}\right.\)</span> 用这些结果来计算 <spanclass="math inline">\(12345 \times 6789\)</span> 被 <spanclass="math inline">\(9\)</span> 和</p><p>被 <span class="math inline">\(11\)</span> 除所得的余数。</p><hr /><p>证明：由 <span class="math inline">\(u=\displaystyle\sum_{i=0}^ka_i10^{i}\)</span>，且 <spanclass="math inline">\(10^{i}\equiv(9+1)^{i}\equiv1+9^{i}\equiv1(\mbox{mod}\m)\)</span></p><p><span class="math inline">\(10^{i}\equiv(11-1)^{i}\equiv(-1)^{i}+11^{i}\equiv (-1)^{i}(\mbox{mod}\m)\)</span>，代入则得到</p><p><span class="math display">\[\left\{\begin{array}{l}n \equiv \displaystyle \sum_{i=0}^ka_i(\bmod 9),\\ n \equiv \displaystyle \sum_{i=0}^k(-1)^{i}a_i(\bmod 11).\end{array}\right.\]</span> 代入计算 <span class="math inline">\(12345\times 6789\equiv15\times 30\equiv 0(\mbox{mod}\ 9)\)</span>，<spanclass="math inline">\(12345\times 6789\equiv 3\times2\equiv6(\mbox{mod}\ 11)\)</span></p><h2 id="习题1.2.6-1">习题1.2.6</h2><p>证明：当 <span class="math inline">\(n \geqslant 3\)</span> 时, <spanclass="math inline">\(\varphi(n)\)</span> 为偶数。</p><hr /><p>证明：<span class="math inline">\(\boldsymbol ①\)</span> 若 <spanclass="math inline">\(n\)</span> 有奇素数因子，则 <spanclass="math inline">\(\varphi(n)=\displaystyle\prod_{i}(p_{i}^{\alpha_{i}}-p_{i}^{\alpha _{i}-1})\)</span>中对奇素数因子 <spanclass="math inline">\((p_{i}^{\alpha_{i}}-p_{i}^{\alpha_{i}-1})\)</span></p><p>总为偶数，从而此时 $(n)( 2) $</p><p><span class="math inline">\(\boldsymbol ②\)</span> 若 <spanclass="math inline">\(n\)</span> 没有奇素数因子，由于 <spanclass="math inline">\(n\geq 3\)</span>，则 <spanclass="math inline">\(n=2^{k},k\geq 2\)</span>，此时 <spanclass="math inline">\(\varphi(n)=2^{k-1}\)</span> 也为偶数</p><p>从而 <span class="math inline">\(\forall\ n\geq 3\)</span>，<spanclass="math inline">\(\varphi(n)\)</span> 为偶数</p><h2 id="习题1.2.7">习题1.2.7</h2><p>设 <span class="math inline">\(m\)</span> 和 <spanclass="math inline">\(n\)</span> 是正整数，<spanclass="math inline">\(m=n t(t \in \mathbf{Z})\)</span>. 证明: 模 <spanclass="math inline">\(n\)</span> 的每个同余类都是模 <spanclass="math inline">\(m\)</span> 的 <spanclass="math inline">\(t\)</span> 个同余类之并。</p><hr /><p>证明：对 <span class="math inline">\(m\)</span> 中特定 <spanclass="math inline">\(\overline{a}\)</span> ，取 <spanclass="math inline">\(\overline{a},\overline{a}+\overline{n},\cdots,\overline{a}+(t-1)\overline{n}\)</span> 共 <spanclass="math inline">\(t\)</span> 个同余类，这些元素均模 <spanclass="math inline">\(n\)</span> 余数为 <spanclass="math inline">\(a\)</span> 模</p><p><span class="math inline">\(n\)</span>，而 <spanclass="math inline">\(\overline{a}\)</span> 取遍 <spanclass="math inline">\(0,1,\cdots,n-1\)</span>，得到模 <spanclass="math inline">\(n\)</span> 的每个同余类。</p><h2 id="习题1.2.10-1">习题1.2.10</h2><p>设 <span class="math inline">\(a, m \in \mathbf{Z}, m \geqslant 2,(a,m)=1\)</span>. 计算 <span class="math inline">\(\displaystyle\sum_{x=0}^{m-1}\left[\frac{a x}{m}\right]\)</span>.</p><hr /><p>解：由于 <span class="math inline">\(\{ax\big |x=0,1,\cdots,m-1\}\)</span> 为 <span class="math inline">\(m\)</span> 的完系，则拆开<span class="math inline">\(\displaystyle \left[\frac{ax}{m}\right]=\dfrac{ax}{m}-\{\dfrac{ax}{m}\}\)</span>，则 <spanclass="math display">\[\begin{gathered}\displaystyle \sum_{x=0}^{m-1}\left[\frac{ax}{m}\right]=\dfrac{a}{m}\sum_{x=0}^{m-1}x-\dfrac{1}{m}(0+1+\cdots+(m-1))=\dfrac{a}{m}\cdot\dfrac{m(m-1)}{2}-\dfrac{m(m-1)}{2m}\\=\dfrac{a(m-1)}{2}-\dfrac{m-1}{2}=\dfrac{(a-1)(m-1)}{2}\end{gathered}\]</span></p><blockquote><p>更一般地，对 <span class="math inline">\(\forall \ a,m\in\mathbf{Z}\)</span>，都有 <span class="math inline">\(\displaystyle\sum_{x=0}^{m-1}\left[\frac{ax}{m}\right]=\dfrac{am-a-m+(a,m)}{2}\)</span></p></blockquote><h2 id="习题2.2.1">习题2.2.1</h2><p>设 <span class="math inline">\(\alpha\)</span> 是环 <spanclass="math inline">\(Z_{m}\)</span> 中非零元素。若存在 <spanclass="math inline">\(Z_{m}\)</span> 中非零元素 <spanclass="math inline">\(\beta(\neq \overline{0})\)</span>, 使得 <spanclass="math inline">\(\alpha \beta=\overline{0}\)</span>, 称 <spanclass="math inline">\(\alpha\)</span> 是零因子，证明：</p><p><span class="math inline">\((1)\)</span> 非零元素 <spanclass="math inline">\(\alpha\)</span> 是零因子当且仅当 <spanclass="math inline">\(\alpha\)</span> 不可逆. 从而 <spanclass="math inline">\(Z_{m}\)</span> 由彼此不同的三类元素构成：<spanclass="math inline">\(\overline{0}, \varphi(m)\)</span> 个可逆</p><p>元和 <span class="math inline">\(m-\varphi(m)-1\)</span>个零因子;</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(Z_{m}\)</span> 中没有零因子当且仅当 <spanclass="math inline">\(m\)</span> 是素数。</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 若 <spanclass="math inline">\(\alpha (\neq \overline{0})\)</span>是零因子，反证法，若 $$ 可逆，则 <spanclass="math inline">\(\alpha\alpha^{-1}\equiv 1(\mbox{mod}\m)\)</span>，两边乘以 <span class="math inline">\(\beta(\neq\overline{0})\)</span></p><p>得 <span class="math inline">\(\alpha \beta \alpha^{-1}\equiv\beta(\mbox{mod}\ m)\)</span>，左边为 <spanclass="math inline">\(0\)</span>，右边不为 <spanclass="math inline">\(0\)</span>，矛盾，从而 $$ 不可逆；又若 $$不可逆，则有</p><p><span class="math inline">\(\forall \ \beta\neq 0,\alpha \beta\neq1\)</span>。则考虑 <span class="math inline">\(\{0,\overline{\alpha},\overline{2\alpha},\cdots,\overline{(m-1)\alpha}\}\)</span>，该集合不为模 <span class="math inline">\(m\)</span>的同余类，否则一定能</p><p>找到 <span class="math inline">\(\overline{1}\)</span> 与 $$不可逆的条件矛盾，则 <span class="math inline">\(\exists\i,j\in[1,m-1],\overline{i\alpha}=\overline{j\alpha}\)</span>，从而取<span class="math inline">\(\beta=i-j\)</span>，$$ 为零因子</p><p><span class="math inline">\((2)\)</span> 若 <spanclass="math inline">\(m\)</span> 为素数，<spanclass="math inline">\(\varphi(m)=m-1\)</span>，则有 <spanclass="math inline">\(m-\varphi(m)-1=0\)</span> 个零因子</p><p>若 <span class="math inline">\(m-\varphi(m)-1=0\)</span> 成立，则<span class="math inline">\(\varphi(m)=m-1\)</span>，若 <spanclass="math inline">\(m\)</span> 为合数，<spanclass="math inline">\(m=ab\)</span>，则 <spanclass="math inline">\(a\)</span> 和 <spanclass="math inline">\(b\)</span> 为零因子，</p><p><span class="math inline">\(\varphi(m)\leq m-1-2\)</span> 矛盾</p><h2 id="习题2.2.2">习题2.2.2</h2><p><span class="math inline">\((1)\)</span> 对于环 <spanclass="math inline">\(Z_{m}\)</span> 中任何元素 <spanclass="math inline">\(\alpha\)</span>，<spanclass="math inline">\(m\)</span> 个 <spanclass="math inline">\(\alpha\)</span> 相加为 <spanclass="math inline">\(\overline{0}\)</span>.</p><p><span class="math inline">\((2)\)</span> 设 <spanclass="math inline">\(p\)</span> 为素数. 对于域 <spanclass="math inline">\(Z_{p}\)</span> 中非零元素 <spanclass="math inline">\(\alpha\)</span> 和正整数 <spanclass="math inline">\(n\)</span>，证明： <spanclass="math inline">\(n\)</span> 个 <spanclass="math inline">\(\alpha\)</span> 相加为 <spanclass="math inline">\(\overline{0}\)</span> 当且仅当 <spanclass="math inline">\(p \mid n\)</span>。</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 由 <spanclass="math inline">\(\alpha_{i}=\alpha_{0}+k_{i}\cdot m\)</span>，这些<span class="math inline">\(m\)</span> 个 $$ 之和为 <spanclass="math inline">\(m\alpha_{0}+m\displaystyle\sum_{i=1}^{m}k_{i}\)</span>，均模 <spanclass="math inline">\(m\)</span> 余 <spanclass="math inline">\(0\)</span></p><p>而且对于 <span class="math inline">\(\overline{0}\)</span>中的所有元素 <span class="math inline">\(Km\)</span>，都能找到 <spanclass="math inline">\(k_{i}\)</span> 使得 <spanclass="math inline">\(\alpha_{0}+\displaystyle\sum_{k=1}^{m}k_{i}=K\)</span>，则相加为 <spanclass="math inline">\(\overline{0}\)</span></p><p><span class="math inline">\((2)\)</span> 若 <spanclass="math inline">\(p\mid n\)</span>，有 <spanclass="math inline">\(n\)</span> 个 $$ 相加后模 <spanclass="math inline">\(m\)</span> 为 <spanclass="math inline">\(0\)</span>，则 <spanclass="math inline">\(n\)</span> 个 <spanclass="math inline">\(\alpha\)</span> 相加为 <spanclass="math inline">\(\overline{0}\)</span>；又若 <spanclass="math inline">\(n\)</span> 个 <spanclass="math inline">\(\alpha\)</span> 相加为 <spanclass="math inline">\(\overline{0}\)</span> 时</p><p>令 <span class="math inline">\(\alpha_{i}=\alpha_{0}+k_{i}\cdotm\)</span>，相加后模 <span class="math inline">\(m\)</span> 得 <spanclass="math inline">\(n\alpha_{0}\equiv 0(\mbox{mod}\ p)\)</span>，而<span class="math inline">\(\alpha_{0}=0,1,\cdots ,p-1\)</span></p><p><span class="math inline">\((\alpha_{0},p)=1\)</span>，则 <spanclass="math inline">\(n\equiv 0(\mbox{mod}\ p)\)</span>，即 <spanclass="math inline">\(p\mid n\)</span></p><h2 id="习题2.2.3">习题2.2.3</h2><p>证明当 <span class="math inline">\(p\)</span> 为奇素数时，<spanclass="math inline">\(2^{p-1} \cdot\left(\left(\dfrac{p-1}{2}\right)!\right)^{2} \equiv(-1)^{\frac{p+1}{2}}(\bmod p)\)</span>。</p><hr /><p>证明：<spanclass="math inline">\(2^{p-1}(\dfrac{p-1}{2}\cdot\dfrac{p-3}{2}\cdots\dfrac{4}{2}\cdot\dfrac{2}{2})^{2}=(p-1)^{2}(p-3)^2\cdots 4^2\cdot2^2\)</span>，使用<strong>补偿法</strong>有 <spanclass="math display">\[\begin{gathered}(p-1)^2(p-3)^2\cdots4^2\cdot2^2\equiv2\cdot 4\cdot 6\cdots(p-1)\cdot(p-1)\cdot (p-3)\cdots 4\cdot 2\\\equiv2\cdot 4\cdot 6\cdots (p-1)\cdot (p-(p-1))\cdot (p-(p-3))\cdots(p-4)\cdot (p-2)\cdot (-1)^{\frac{p-1}{2}}\\\equiv2\cdot 4\cdots (p-1)\cdot 3\cdot 5\cdots (p-2)\cdot(-1)^{\frac{p-1}{2}}\equiv (p-1)!(-1)^{\frac{p-1}{2}}\equiv (-1)^{\frac{p+1}{2}}(\mbox{mod}\p)\end{gathered}\]</span> 其中使用威尔逊定理，对素数 <spanclass="math inline">\(p\)</span> ，有 <spanclass="math inline">\((p-1)!\equiv-1(\mbox{mod}\ p)\)</span></p><h2 id="习题2.2.4">习题2.2.4</h2><p>对于整数 <span class="math inline">\(m \geqslant 2\)</span>, 证明:<span class="math inline">\((m-1) ! \equiv-1(\bmod m)\)</span> 当且仅当<span class="math inline">\(m\)</span> 是素数。 (判别 <spanclass="math inline">\(m\)</span> 是否为素数)</p><hr /><p>证明：若 <span class="math inline">\(m\)</span>为素数，则由威尔逊定理得 <span class="math inline">\((m-1)!\equiv-1(\mbox{mod}\ m)\)</span>；若 <span class="math inline">\(m\)</span>为合数，则 <span class="math inline">\(m=ab\)</span>，</p><p>其中 <span class="math inline">\(2\leq a\leq b\)</span>，则 <spanclass="math inline">\(1\leq a,b\leq m-1\)</span>，从而 <spanclass="math inline">\((m-1)!\)</span> 中一定能凑齐 <spanclass="math inline">\(m\)</span>，此时模为 <spanclass="math inline">\(0\)</span></p><h2 id="习题2.2.5">习题2.2.5</h2><p>若 <span class="math inline">\(Z_{m}^{*}=\left\{\alpha_{1}, \cdots,\alpha_{\phi(m)}\right\}\)</span>，则 <spanclass="math inline">\(Z_{m}^{*}=\left\{\alpha_{1}^{-1}, \cdots,\alpha_{\phi(m)}^{-1}\right\}\)</span>。如何将它转述成同余的语言?</p><hr /><p>证明：缩系等价性证明在习题 <span class="math inline">\(1.2.1\)</span>中。定义 <span class="math inline">\(\alpha_{i}x_i\equiv 1(\mbox{mod}\m)\)</span> 中 <span class="math inline">\(x_{i}\)</span> 的可取值为<span class="math inline">\(\alpha_{i}^{-1}\)</span></p><p>转述为 <span class="math inline">\((\alpha_{i},m)=1\)</span>，所有<span class="math inline">\(\alpha_{i}\)</span> 构成 <spanclass="math inline">\(Z_{m}^*\)</span>，由 <spanclass="math inline">\(\alpha_{i}x_{i}\equiv 1(\mbox{mod}\m)\)</span>中，所有 <span class="math inline">\(x_{i}\)</span> 也构成<span class="math inline">\(Z_{m}^*\)</span></p><h2 id="习题2.3.1">习题2.3.1</h2><p>设 <span class="math inline">\(n\)</span> 和 <spanclass="math inline">\(m\)</span> 是互素的正整数，证明： <spanclass="math inline">\(m^{\varphi(n)}+n^{\varphi(m)}\equiv1(\bmod mn)\)</span>。</p><hr /><p>证明：由欧拉-费马定理，<spanclass="math inline">\(m^{\varphi(n)}\equiv1(\mbox{mod}\n),n^{\varphi(m)}\equiv1(\mbox{mod}\ m)\)</span>，且由<spanclass="math inline">\(\varphi(x)\geq 1\)</span>，得</p><p><span class="math inline">\(m^{\varphi(n)}\equiv0(\mbox{mod}\m),n^{\varphi(m)}\equiv0(\mbox{mod}\ n)\)</span>，从而 <spanclass="math display">\[m^{\varphi(n)}+n^{\varphi(m)}\equiv 1(\bmodm),m^{\varphi(n)}+n^{\varphi(m)}\equiv 1(\bmod n)\]</span> 则 <spanclass="math inline">\(m^{\varphi(n)}+n^{\varphi(m)}=1+mk_1=1+nk_2\)</span>，由于<span class="math inline">\((m,n)=1\)</span>，则 <spanclass="math inline">\(n\mid k_1\)</span>，原式成立</p><h2 id="习题2.3.2">习题2.3.2</h2><p><span class="math inline">\((1)\)</span> 对每个与 <spanclass="math inline">\(10\)</span> 互素的整数 <spanclass="math inline">\(a\)</span>, 证明: <spanclass="math inline">\(a^{20} \equiv 1(\bmod 100)\)</span>；</p><p><span class="math inline">\((2)\)</span> 求 <spanclass="math inline">\(3^{193}\)</span>的十进制表达式中的个位和十位数字。</p><hr /><p>解：<span class="math inline">\((1)\)</span> 由 <spanclass="math inline">\(\varphi(4)=2,\varphi(25)=20\)</span>，结合 <spanclass="math inline">\((a,4)=(a,25)=1\)</span> 有 <spanclass="math inline">\(a^{20}\equiv 1(\bmod 25)\)</span>，</p><p><span class="math inline">\(a^2\equiv 1(\bmod 4)\)</span>，<spanclass="math inline">\(a^{20}\equiv (a^2)^{10}\equiv 1(\bmod4)\)</span>，而 <span class="math inline">\((4,25)=1\)</span>，则 <spanclass="math inline">\(a^{20}\equiv 1(\bmod 100)\)</span></p><p><span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\(3^{193}\equiv 3^{160}\cdot 3^{33}\equiv27^{11}\equiv 2^{11}\equiv 23(\bmod 25)\)</span>，且 <spanclass="math inline">\(3^{193}\equiv (-1)^{193}\equiv 3(\bmod4)\)</span>，</p><p>从而最后两位为 <span class="math inline">\(23\)</span></p><h2 id="习题2.3.3">习题2.3.3</h2><p><span class="math inline">\((1)\)</span> 设 <spanclass="math inline">\(a, b \in \mathbf{Z}, n \geqslant 1, p\)</span>为素数。如果 <span class="math inline">\(a \equiv b\left(\bmodp^{n}\right)\)</span>，证明：对每个整数 <span class="math inline">\(k\geqslant 0\)</span>，</p><p><span class="math display">\[a^{p^{k}} \equiv b^{p^{k}}\left(\bmod p^{n+k}\right)\]</span> <span class="math inline">\((2)\)</span> 证明: 对每个奇数<span class="math inline">\(a\)</span> 和 <span class="math inline">\(k\geqslant 1, a^{2^{k}} \equiv 1\left(\bmod 2^{k+2}\right)\)</span>.</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 令 <spanclass="math inline">\(b=a+x\cdot p^{n},x\inZ\)</span>，代入使用二项式展开有 <span class="math display">\[b^{p^{k}}-a^{p^{k}}=(a+x\cdot p^{n})^{p^{k}}-a^{p^{k}}=\displaystyle\sum_{i=1}^{k}C_{p^{k}}^{i}b^{i}(x\cdot p^{n})^{p^{k}-i}\]</span> 其中 <span class="math inline">\(p^{k}\midC_{p^{k}}^{i}\)</span>，且有 <span class="math inline">\(p^{n}\mid(x\cdot p^{n})^{p^{k}-i}\)</span>，从而 <spanclass="math inline">\(a^{p^{k}} \equiv b^{p^{k}}\left(\bmodp^{n+k}\right)\)</span></p><p><span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\(a\)</span> 为奇数，令 <spanclass="math inline">\(a=2i+1\)</span>，则 <spanclass="math inline">\(a^{2}=4i(i+1)+1\)</span>，且 <spanclass="math inline">\(i\)</span> 和 <spanclass="math inline">\(i+1\)</span> 一奇一偶，从而</p><p><span class="math inline">\(a^{2}\equiv 1(\bmod 2^{3})\)</span>，代入<span class="math inline">\(\small (1)\)</span> 中结论有 <spanclass="math inline">\((a^2)^{2^k}\equiv 1(\bmod 2^{3+k})\)</span>，令<span class="math inline">\(k&#39;=k+1\geq 1\)</span> 则有</p><p><span class="math inline">\(k&#39; \geqslant 1, a^{2^{k&#39;}} \equiv1\left(\bmod 2^{k&#39;+2}\right)\)</span>，得证</p><h1id="largetextcolorblue初等数论第四次作业-_textcolorblue2022.3.15"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第四次作业}\ \ \ \\ \ _\textcolor{blue}{2022.3.15}\)</span></h1><h2 id="习题2.1.3">习题2.1.3</h2><p>解下列同余方程。</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(8 x \equiv 5(\bmod 23)\)</span>; <spanclass="math inline">\((2)\)</span> <span class="math inline">\(60 x\equiv 7(\bmod 37)\)</span>.</p><hr /><p>解：<span class="math inline">\((1)\)</span> 由 <spanclass="math inline">\((8,23)=1\)</span>，则在 <spanclass="math inline">\(Z_{23}\)</span> 中有唯一解，利用费马小定理 <spanclass="math display">\[x\equiv 8^{\varphi(23)-1}\cdot 5\equiv 8^{21}\cdot 5\equiv 64^{10}\cdot40\equiv 5^{10}\cdot( -6)\equiv -(25)^{5}\cdot 6\equiv -2^{5}\cdot6\equiv 15\pmod {23}\]</span> <span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\((60,37)=1\)</span>，则在 <spanclass="math inline">\(Z_{37}\)</span> 中有唯一解，利用费马小定理 <spanclass="math display">\[\begin{gathered}x\equiv 60^{\varphi(37)-1}\cdot 7\equiv(-14)^{35}\cdot 7\equiv196^{17}\cdot 13\equiv 11^{17}\cdot 13\\\equiv 10^{8}\cdot (-5)\equiv-5\cdot 11^4 \equiv -5\cdot 10^2\equiv (-5)\cdot (-11)\equiv 18\pmod{37}\end{gathered}\]</span></p><h2 id="习题2.1.4">习题2.1.4</h2><p>对每个整数 <span class="math inline">\(n\)</span>，证明： <spanclass="math display">\[\begin{gathered}(1) n^{2} \neq 2(\bmod 3);&amp;(2) n^{2} \equiv 0 或 1(\bmod 4);\\(3) n^{3} \equiv 0,1 或 -1(\bmod 9) ;&amp;(4) n^{4} \equiv 0 或 1(\bmod16).\end{gathered}\]</span></p><hr /><p>证明：<span class="math inline">\((1)\)</span> 由费马小定理，若 <spanclass="math inline">\((n,3)=1,n^{\varphi(3)}\equiv n^2\equiv 1\pmod3\)</span>，且若 <span class="math inline">\((n,3)&gt;1\)</span>，则<span class="math inline">\(3\mid n\)</span>，</p><p>此时有 <span class="math inline">\(n^2\equiv 0\pmod 3\)</span>，则<span class="math inline">\(n^2\neq2 \pmod 3\)</span></p><p><span class="math inline">\((2)\)</span> 由费马小定理，若 <spanclass="math inline">\((n,4)=1,n^{\varphi(4)}\equiv n^2\equiv 1\pmod4\)</span>，且若 <span class="math inline">\((n,4)&gt;0\)</span>，有<span class="math inline">\(2\mid 4\)</span></p><p>此时有 <span class="math inline">\(n^2\equiv 0\pmod 4\)</span>，则<span class="math inline">\(n^2\equiv 0或1 \pmod 4\)</span></p><p><span class="math inline">\((3)\)</span> 由费马小定理，若 <spanclass="math inline">\((n,9)=1,n^{\varphi(9)}\equiv n^6\equiv 1\pmod9\)</span>，即此时 <span class="math inline">\(n^{3}\equiv \pm 1\pmod9\)</span></p><p>若 <span class="math inline">\((n,9)&gt;1\)</span>，则 <spanclass="math inline">\(3\mid 9\)</span>，此时 <spanclass="math inline">\(n^3\equiv 0\pmod 9\)</span>，则 <spanclass="math inline">\(n^3\equiv 0,\pm 1\pmod 9\)</span></p><p><span class="math inline">\((4)\)</span> 由费马小定理，若 <spanclass="math inline">\((n,16)=1,n^{\varphi(16)}\equiv n^{8}\equiv 1\pmod{16}\)</span>，此时分解因式有 <span class="math display">\[(n^4-1)(n^4+1)\equiv 0\pmod{16}\]</span> 而 <span class="math inline">\(n^4\equiv1\pmod{8}\)</span>，故 <span class="math inline">\(n^4\equiv1,9\pmod{16}\)</span> 综上有 <span class="math inline">\(n^4\equiv0,1\pmod{16}\)</span></p><h2 id="习题2.1.5">习题2.1.5</h2><p>设 <span class="math inline">\(a\)</span> 为奇数, <spanclass="math inline">\(n \geqslant 1 .\)</span> 证明: <spanclass="math inline">\(a^{2^{n}} \equiv 1\left(\bmod2^{n+2}\right)\)</span></p><hr /><p>证明：（<strong>使用归纳法，二项式展开较复杂</strong>）对 <spanclass="math inline">\(n=1\)</span> 时成立（第一次作业第一题）</p><p>若 <span class="math inline">\(n=k\)</span> 时成立，即 <spanclass="math inline">\(a^{2^{k}}\equiv 1\pmod {2^{k+2}}\)</span>则存在<span class="math inline">\(t\in Z ,a^{2^{k}}=1+2^{k+2}\cdott\)</span>，则 <span class="math display">\[a^{2^{k+1}}\equiv(a^{2^{k}})^2\equiv(1+2^{k+2}t)^2\equiv1+2^{k+3}t+2^{2k+4}t^2\equiv1\pmod{2^{k+3}}\]</span> 由数学归纳法知，对 <span class="math inline">\(\forall \ n\geq1\)</span> 均成立</p><h2 id="习题2.4.1">习题2.4.1</h2><p>解下列同余方程：<span class="math inline">\((1)\)</span> <spanclass="math inline">\(32 x \equiv 12(\bmod 8)\)</span>; <spanclass="math inline">\((2)\)</span> <span class="math inline">\(28 x\equiv 124(\bmod 116)\)</span>; $ 5 x ()$</p><hr /><p>解：<span class="math inline">\((1)\)</span> 由判定 <spanclass="math inline">\((32,8)=8\nmid 12\)</span>，则在 <spanclass="math inline">\(Z_{8}\)</span> 下无解</p><p><span class="math inline">\((2)\)</span> 由判定 <spanclass="math inline">\((28,116)=4\mid 124\)</span>，则在 <spanclass="math inline">\(Z_{116}\)</span> 下有 <spanclass="math inline">\(4\)</span> 组解， <spanclass="math inline">\(7x\equiv 31\pmod{29}\)</span>，由费马小定理 <spanclass="math display">\[x\equiv 7^{\varphi(29)-1}\cdot 31\equiv 7^{27}\cdot 2\equiv 49^{13}\cdot14\equiv -9^{13}\cdot 14\equiv 6^{6}\cdot 19\equiv 7^{3}\cdot 19\equiv21\pmod {29}\]</span> 则解为 <span class="math inline">\(x\equiv21,50,79,108\)</span></p><p><span class="math inline">\((3)\)</span> 由判定 <spanclass="math inline">\((5,81)=1\mid 44\)</span>，则在 <spanclass="math inline">\(Z_{81}\)</span> 下有 <spanclass="math inline">\(1\)</span> 组解，有 <spanclass="math inline">\(5x\equiv 44\equiv 125\pmod{81}\)</span></p><p>得 <span class="math inline">\(x\equiv 25\pmod{81}\)</span></p><h2 id="习题2.4.2">习题2.4.2</h2><p>解下列同余方程组：</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(\left\{\begin{array}{l}x \equiv 1(\bmod 3), \\ x\equiv 1(\bmod 5), \\ x \equiv 2(\bmod 7) ;\end{array}\quad\right.\)</span> <span class="math inline">\((2)\)</span> <spanclass="math inline">\(\left\{\begin{array}{l}x \equiv 2(\bmod 4), \\ x\equiv 3(\bmod 5) \\ x \equiv 7(\bmod 9)\end{array}\right.\)</span></p><hr /><p>解：<span class="math inline">\((1)\)</span> 由中国剩余定理，有 <spanclass="math inline">\(M_1=35,M_2=21,M_3=15\)</span>，而对应有 <spanclass="math display">\[35M_1^{-1}\equiv 1\pmod{3},\ 21M_{2}^{-1}\equiv 1\pmod{5},\15M_{3}^{-1}\equiv 1\pmod{7}\]</span> 得 <spanclass="math inline">\(M_1^{-1}=2,M_{2}^{-1}=1,M_{3}^{-1}=1\)</span>，则<span class="math inline">\(x\equiv 35\cdot 2\cdot 1+21\cdot 1\cdot1+15\cdot 1\cdot 2\equiv 16\pmod{105}\)</span></p><p><span class="math inline">\((2)\)</span> 由中国剩余定理，有 <spanclass="math inline">\(M_1=45,M_2=36,M_3=20\)</span>，而对应有 <spanclass="math display">\[45M_1^{-1}\equiv 1\pmod{4},\ 36M_{2}^{-1}\equiv 1\pmod{5},\20M_{3}^{-1}\equiv 1\pmod{9}\]</span> 得 <spanclass="math inline">\(M_1^{-1}=1,M_{2}^{-1}=1,M_{3}^{-1}=5\)</span>，则<span class="math inline">\(x\equiv 45\cdot 1\cdot 2+36\cdot 1\cdot3+20\cdot 5\cdot 7\equiv 178\pmod{180}\)</span></p><h2 id="习题2.4.3">习题2.4.3</h2><p>用中国剩余定理解同余方程 <span class="math inline">\(37 x \equiv31(\bmod 77)\)</span>.</p><hr /><p>解：由 <span class="math inline">\(77=7\cdot 11\)</span>，对质因数<span class="math inline">\(7\)</span> 而言， <spanclass="math inline">\(37x\equiv 31\equiv185\pmod{7}\)</span>，则 <spanclass="math inline">\(x\equiv 5\pmod{7}\)</span></p><p>对质因数 <span class="math inline">\(11\)</span> 而言，<spanclass="math inline">\(37x\equiv 31\equiv 185\pmod{11}\)</span>，则 <spanclass="math inline">\(x\equiv 5\pmod{11}\)</span></p><p>则由中国剩余定理，显然 <span class="math inline">\(x\equiv5\pmod{77}\)</span>，为原方程的解，且该解唯一</p><h2 id="习题2.4.4">习题2.4.4</h2><p>求 <span class="math inline">\(2^{400}\)</span> 被 <spanclass="math inline">\(319\)</span> 除的余数.</p><hr /><p>解：<span class="math inline">\(319=11\cdot 29\)</span>，对质因数<span class="math inline">\(11\)</span> ，<spanclass="math inline">\(2^{400}\equiv32^{80}\equiv (-1)^{80}\equiv1\pmod{11}\)</span>，对质因数 <span class="math inline">\(29\)</span><span class="math display">\[2^{400}\equiv 32^{80}\equiv 3^{80}\equiv 27^{26}\cdot 9\equiv2^{26}\cdot 9\equiv 32^{5}\cdot 18\equiv 3^{5}\cdot 18\equiv 27^2\cdot6\equiv 24\pmod{29}\]</span> 则转化成一次同余方程组 <spanclass="math inline">\(\begin{cases}2^{400}\equiv1\pmod{11}\\2^{400}\equiv24\pmod{29}\end{cases}\)</span>，由中国剩余定理有</p><p><span class="math inline">\(M_1=29,M_2=11,M_1^{-1}\cdot 29\equiv1\pmod{11},M_2^{-1}\cdot 11\equiv 1\pmod{29}\)</span></p><p>解得 <span class="math inline">\(M_1^{-1}=8,M_{2}^{-1}=8\)</span>，则<span class="math inline">\(2^{400}\equiv 29\cdot 8+11\cdot 8\cdot24\equiv 2344\equiv 111\pmod{319}\)</span></p><h2 id="习题2.4.5">习题2.4.5</h2><p>设 <span class="math inline">\(m_{1}, m_{2}\)</span> 是正整数, <spanclass="math inline">\(b_{1}, b_{2} \in \mathbf{Z}\)</span>. 证明:同余方程组 <span class="math display">\[\left\{\begin{array}{l}x \equiv b_{1}\left(\bmod m_{1}\right), \\x\equiv b_{2}\left(\bmod m_{2}\right)\end{array}\right.\]</span> 有整数解的充分必要条件是 <spanclass="math inline">\(\left(m_{1}, m_{2}\right) \midb_{1}-b_{2}\)</span>，且此条件成立时, 解为模 <spanclass="math inline">\(\left[m_{1}, m_{2}\right]\)</span>的一个同余类.</p><hr /><p>证明：<span class="math inline">\((1)\)</span><strong>充要性</strong>：若 <spanclass="math inline">\(\left\{\begin{array}{l}x \equiv b_{1}\left(\bmodm_{1}\right), \\x \equiv b_{2}\left(\bmodm_{2}\right)\end{array}\right.\)</span> 有整数解，则 <spanclass="math inline">\(x=m_1y_1+b_1=m_2y_2+b_2\)</span>，</p><p>两边除以 <span class="math inline">\((m_1,m_2)\)</span> 得到 <spanclass="math inline">\(\dfrac{b_1-b_2}{(m_1,m_2)}=\dfrac{m_2y_2-m_1y_1}{(m_1,m_2)}\inZ\)</span>，此时有 <span class="math inline">\((m_1,m_2)\midb_1-b_2\)</span></p><p>若 <span class="math inline">\((m_1,m_2)\mid b_1-b_2\)</span>，有<spanclass="math inline">\(\dfrac{m_2y_2-m_1y_1}{(m_1,m_2)}=\dfrac{b_1-b_2}{(m_1,m_2)}\inZ\)</span>，而 <spanclass="math inline">\((\dfrac{m_1}{(m_1,m_2)},\dfrac{m_2}{(m_1,m_2)})=1\)</span></p><p>由辗转相除法知，一定存在 <spanclass="math inline">\(y_{10},y_{20}\)</span>，使得 <spanclass="math inline">\(\dfrac{-m_1}{(m_1,m_2)}y_{10}+\dfrac{m_2}{(m_1,m_2)}y_{20}=1\)</span></p><p>则扩大 <spanclass="math inline">\(\dfrac{b_1-b_2}{(m_1,m_2)}\)</span> 倍得到 <spanclass="math inline">\(y_1,y_2\)</span> 的解，从而原同余方程组有解</p><p><span class="math inline">\((2)\)</span><strong>同余类</strong>：若上述条件成立时，对 <spanclass="math inline">\(\dfrac{-m_1}{(m_1,m_2)}y_{10}+\dfrac{m_2}{(m_1,m_2)}y_{20}=1\)</span>有 <span class="math inline">\(y_{10}\)</span> 对应解</p><p>所在同余类为模 <spanclass="math inline">\(\dfrac{m_2}{(m_1,m_2)}\)</span> ，而 <spanclass="math inline">\(x=m_1y_1+b_1\)</span> 则解为模 <spanclass="math inline">\(\dfrac{m_1m_2}{(m_1,m_2)}=[m_1,m_2]\)</span></p><h2 id="习题2.4.6">习题2.4.6</h2><p>设 <span class="math inline">\(m_{1}\)</span> 和 <spanclass="math inline">\(m_{2}\)</span> 是互素的正整数. 证明:</p><p><span class="math inline">\((1)\)</span> 若 <spanclass="math inline">\(S_{1}\)</span> 和 <spanclass="math inline">\(S_{2}\)</span> 分别是模 <spanclass="math inline">\(m_{1}\)</span> 和模 <spanclass="math inline">\(m_{2}\)</span> 的完系. 则 <spanclass="math display">\[S=\left\{m_{1} x_{1}+m_{2} x_{2} \mid x_{1} \in S_{2}, x_{2} \inS_{1}\right\}\]</span> 是模 <span class="math inline">\(m_{1} m_{2}\)</span>的完系;</p><ol start="2" type="1"><li>若 <span class="math inline">\(S_{1}\)</span> 和 <spanclass="math inline">\(S_{2}\)</span> 分别是模 <spanclass="math inline">\(m_{1}\)</span> 和模 <spanclass="math inline">\(m_{2}\)</span> 的缩系, 则 <spanclass="math display">\[S=\left\{m_{1} x_{1}+m_{2} x_{2} \mid x_{1} \in S_{2}, x_{2} \inS_{1}\right\}\]</span> 是模 <span class="math inline">\(m_{1} m_{2}\)</span> 的缩系.(由此可知 <span class="math inline">\(\varphi\left(m_{1}m_{2}\right)=\varphi\left(m_{1}\right)\varphi\left(m_{2}\right)\)</span> )</li></ol><hr /><p>解：<span class="math inline">\((1)\)</span> 对 <spanclass="math inline">\(S\)</span> 中的每个元素 <spanclass="math inline">\(x_1=m_2y_1+t_1\in S_2,x_2=m_1y_2+t_2\inS_1\)</span></p><p><spanclass="math inline">\(m_1x_1+m_2x_2=m_1m_2(y_1+y_2)+t_1m_1+t_2m_2\)</span>，其中，<span class="math inline">\(y_1+y_2\in Z\)</span> 能取遍所有整数</p><p>又由 <span class="math inline">\((m_1,m_2)=1\)</span>，由辗转相除法知<span class="math inline">\(\exists\ t_{10},t_{20}\in Z\)</span>，使得<span class="math inline">\(t_{10}m_1+t_{20}m_2=1\)</span>，</p><p>从而 <span class="math inline">\(t_1m_1+t_2m_2\)</span> 也能取遍<span class="math inline">\(0,1,\cdots ,m_1m_2-1\)</span>，则 <spanclass="math inline">\(S\)</span> 为模 <spanclass="math inline">\(m_1m_2\)</span> 的完系</p><p><span class="math inline">\((2)\)</span> 与 <spanclass="math inline">\(\small(1)\)</span> 相比，对 <spanclass="math inline">\(t_1m_1+t_2m_2\)</span> 中 <spanclass="math inline">\(t_1,t_2\)</span> 不是任意整数，需满足 <spanclass="math inline">\((t_1,m_2)=1,(t_2,m_1)=1\)</span></p><p>此时 <span class="math inline">\(t_1m_1+t_2m_2\nmidm_1m_2\)</span>，且由辗转相除法知，存在 <spanclass="math inline">\(t_{10},t_{20}\)</span> 使得 <spanclass="math inline">\(t_{10}m_1+t_{20}m_2=1\)</span></p><p>且反证法若 <spanclass="math inline">\(d=(t_{10},m_2)&gt;1\)</span>，则上式对 <spanclass="math inline">\(d\)</span> 同余有 <spanclass="math inline">\(1\equiv 0\pmod{d}\)</span>，矛盾，<spanclass="math inline">\(t_{10},t_{20}\)</span> 满足条件</p><p>对 <span class="math inline">\(\forall \ 0\leq x\leqm_1m_2-1,(x,m_1m_2)=1\)</span> <spanclass="math inline">\((x,m_1)=(x,m_2)=1\)</span>，取 <spanclass="math inline">\(xt_{10},xt_{20}\)</span> 满足条件</p><p>从而 <span class="math inline">\(S\)</span> 为 <spanclass="math inline">\(m_1m_2\)</span> 的缩系</p><h2 id="习题2.4.7">习题2.4.7</h2><p>设 <span class="math inline">\(n\)</span> 为正整数，证明：必有连续<span class="math inline">\(n\)</span>个正整数，其中每个整数均被某个大于 <spanclass="math inline">\(1\)</span> 的整数的平方所除尽。</p><hr /><p>证明：构造一次同余方程 <spanclass="math inline">\(\begin{cases}x\equiv 0\pmod{2^2}\\x\equiv-1\pmod{3^2}\\x\equiv -2\pmod{5^2}\\\qquad\vdots\\x\equiv-(n-1)\pmod{p_{n}^2}\end{cases}\)</span>，其中 <spanclass="math inline">\(p_n\)</span> 为第 <spanclass="math inline">\(n\)</span> 个素数</p><p>对 <span class="math inline">\(\forall \p_i,p_j,(p_i^{2},p_j^2)=1\)</span>，由中国剩余定理，一定有最小正整数解<span class="math inline">\(x_{min}(n)\)</span> 满足上述方程</p><p>该 <span class="math inline">\(x_{min}\)</span> 能保证序列 <spanclass="math inline">\(x_{min},x_{min}+1,\cdots,x_{min}+(n-1)\)</span>中任何数能被某个大于 <span class="math inline">\(1\)</span>的整数平方整除</p><h1id="largetextcolorblue初等数论第五次作业-_textcolorblue2022.3.22"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第五次作业}\ \ \ \\ \ _\textcolor{blue}{2022.3.22}\)</span></h1><h2 id="习题3.1.2">习题3.1.2</h2><p><span class="math inline">\(a\)</span> 对模 <spanclass="math inline">\(m\)</span> 和模 <spanclass="math inline">\(n\)</span> 的阶分别为 <spanclass="math inline">\(s\)</span> 和 <spanclass="math inline">\(t\)</span>, 证明: <spanclass="math inline">\(a\)</span> 对模 <span class="math inline">\([m,n]\)</span> 的阶为 <span class="math inline">\([s, t]\)</span>.</p><hr /><p>证明：由 <span class="math inline">\(a\)</span> 对模 <spanclass="math inline">\(m\)</span> 和 模 <spanclass="math inline">\(n\)</span> 的阶为 <spanclass="math inline">\(s,t\)</span>，则 <spanclass="math inline">\(a^{s}\equiv 1\pmod m,a^{t}\equiv 1\pmodn\)</span></p><p>则令 <span class="math inline">\(a\)</span> 对 <spanclass="math inline">\([m,n]\)</span> 的阶为 <spanclass="math inline">\(r\)</span>，即 <spanclass="math inline">\(a^{r}\equiv 1\pmod{[m,n]}\)</span>，有 <spanclass="math inline">\(m,n\mid [m,n]\)</span>，则 <spanclass="math inline">\(s,t\mid r\)</span>，则 <spanclass="math inline">\([s,t]\mid r\)</span></p><p>又 <span class="math inline">\(a^{[s,t]}\equiv(a^{s})^{\frac{[s,t]}{s}}\equiv 1\pmod{m},a^{[s,t]}\equiv(a^{t})^{\frac{[s,t]}{t}}\equiv 1\pmod{n}\)</span>，则 <spanclass="math inline">\(a^{[s,t]}\equiv 1\mod{[m,n]}\)</span></p><p>从而 <span class="math inline">\(r\mid [s,t]\)</span>，则 <spanclass="math inline">\(r=[s,t]\)</span>，即 <spanclass="math inline">\(a\)</span> 对模 <spanclass="math inline">\([m,n]\)</span> 的阶为 <spanclass="math inline">\([s,t]\)</span></p><h2 id="习题3.1.5">习题3.1.5</h2><p>若 <span class="math inline">\(n\)</span> 和 <spanclass="math inline">\(a\)</span> 均是正整数, <spanclass="math inline">\(a \geqslant 2\)</span>. 证明: <spanclass="math inline">\(n \mid \varphi\left(a^{n}-1\right)\)</span>.</p><hr /><p>证明：考虑 <span class="math inline">\(a\)</span> 模 <spanclass="math inline">\(a^{n}-1\)</span> 的阶 <spanclass="math inline">\(r\)</span>，有 <spanclass="math inline">\(a^{n}\equiv 1\pmod{a^{n}-1}\)</span>，则 <spanclass="math inline">\(r\mid n\)</span>，若 <spanclass="math inline">\(r=\dfrac{n}{d},d\geq 2\)</span></p><p>但 <span class="math inline">\(a^{r}=\sqrt[d]{a^{n}}\leqa^{n}-1\)</span>，则此时 <span class="math inline">\(a^{r}\not\equiv1\pmod{a^{n}-1}\)</span>，从而 <spanclass="math inline">\(d=1\)</span>，即 <spanclass="math inline">\(a\)</span> 模 <spanclass="math inline">\(a^{n}-1\)</span> 阶为 <spanclass="math inline">\(n\)</span></p><p>由 <span class="math inline">\(a\)</span> 模 <spanclass="math inline">\(a^{n}-1\)</span> 阶一定为 <spanclass="math inline">\(\varphi(a^{n}-1)\)</span> 的因子，从而 <spanclass="math inline">\(n\mid \varphi(a^{n}-1)\)</span></p><h2 id="习题3.1.6">习题3.1.6</h2><p>如果 <span class="math inline">\(n \geqslant 2\)</span>, 证明: <spanclass="math inline">\(n \not\mid 2^{n}-1\)</span>.</p><hr /><p>证明：由于 <span class="math inline">\(2^n-1\equiv1\pmod{2}\)</span>，若 <span class="math inline">\(2\mid n\)</span>，则<span class="math inline">\(n\not\mid 2^{n}-1\)</span>，若 <spanclass="math inline">\(2\not\mid n\)</span>，令 <spanclass="math inline">\(n\)</span> 最小奇素数因子 <spanclass="math inline">\(p\)</span></p><p>则 <span class="math inline">\(n=pt,t\in Z\)</span>，反证法若 <spanclass="math inline">\(n\mid 2^n-1\)</span>，令 <spanclass="math inline">\(2^n=1+nx=2^{pt}=1+ptx,x\in Z\)</span></p><p>有 <span class="math inline">\(2^{pt}\equiv1\pmod{p}\)</span>，而费马小定理给出 <spanclass="math inline">\(2^{p-1}\equiv 1\pmod{p},2^p\equiv2\pmod{p}\)</span> 由 <span class="math inline">\(pt\mid p-1\)</span>矛盾</p><h2 id="习题3.1.7">习题3.1.7</h2><p>设 <span class="math inline">\(p\)</span> 是奇素数, <spanclass="math inline">\(n \geqslant 1\)</span>. 证明: <spanclass="math display">\[\sum_{k=1}^{p-1} k^{n} \equiv \begin{cases}-1(\bmod p), &amp; \text {如果 } p-1 \mid n, \\ 0(\bmod p), &amp; \text { 如果 } p-1 \not\mid n.\end{cases}\]</span></p><hr /><p>证明：由于 <span class="math inline">\(p\)</span>为奇素数，令其原根为 <span class="math inline">\(g\)</span>，则 <spanclass="math inline">\(Z_{p}=\{1,2,\cdots,p-1\}=\{g,g^2,\cdots,g^{p-1}\}\)</span></p><p>从而求和式 <span class="math inline">\(\displaystyle\sum_{k=1}^{p-1}k^{n}\equiv \sum_{k=1}^{p-1}g^{n}\pmod{p}\)</span>，若<span class="math inline">\(p-1\mid n\)</span>，由费马小定理 <spanclass="math inline">\(g^{n}\equiv g^{p-1}\equiv 1\pmod{p}\)</span></p><p>此时 <span class="math inline">\(\displaystyle\sum_{k=1}^{p-1}k^{n}\equiv \sum_{k=1}^{p-1}1\equiv-1\pmod{p}\)</span>，若 <span class="math inline">\(p-1\not\midn\)</span>，则由等比数列求和 <span class="math display">\[\sum_{k=1}^{p-1}g^n\equiv \dfrac{g^{n}(1-g^{p-1})}{1-g^{n}}\equiv\dfrac{g^{n}\cdot 0}{1-g^{n}}(1-g^{n}\neq 0)\equiv 0\pmod{p}\]</span> 从而 <span class="math inline">\(\sum_{k=1}^{p-1} k^{n} \equiv\begin{cases}-1(\bmod p), &amp; \text { if } p-1 \mid n, \\ 0(\bmod p),&amp; \text { if } p-1 \not\mid n .\end{cases}\)</span></p><h2 id="习题3.1.8">习题3.1.8</h2><p><span class="math inline">\((1)\)</span> 设 <spanclass="math inline">\(F_{n}=2^{2^{n}}+1\)</span> (费马数), <spanclass="math inline">\(n \geqslant 1\)</span>. 证明: <spanclass="math inline">\(F_{n}\)</span> 的每个素因子都有形式 <spanclass="math inline">\(2^{n+1} x+1(x \in \mathbf{Z})\)</span>.</p><p><span class="math inline">\((2)\)</span> 对任意给定的整数 <spanclass="math inline">\(l \geqslant 1\)</span>, 证明: 有无穷多个素数模<span class="math inline">\(2^{l}\)</span> 余 1 .</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 对每个 <spanclass="math inline">\(F_{n}\)</span> 的奇素数因子 <spanclass="math inline">\(p\)</span>，有 <spanclass="math inline">\(2^{p-1}\equiv 1\pmod{p}\)</span>，而 <spanclass="math inline">\(2^{2^{n}}\equiv -1\pmod{p}\)</span>，两边平方</p><p><span class="math inline">\(2^{2^{n+1}}\equiv1\pmod{p}\)</span>，从而令 <span class="math inline">\(2\)</span> 模<span class="math inline">\(p\)</span> 的次数为 <spanclass="math inline">\(r\)</span>，则 <spanclass="math inline">\(r\mid2^{n+1}\)</span>，<spanclass="math inline">\(r=2^{k}\)</span>，显然 <spanclass="math inline">\(k\neq n\)</span>，因为</p><p><span class="math inline">\(2^{2^{n}}\equiv -1\pmod{p}\)</span>，若<span class="math inline">\(k&lt;n\)</span>，则重复 <spanclass="math inline">\(n-k\)</span> 次平方操作得到 <spanclass="math inline">\(2^{2^{n}}\equiv 1\pmod{p}\)</span> 与条件矛盾</p><p>从而 <span class="math inline">\(r=2^{n+1}\)</span>，结合 <spanclass="math inline">\(2^{p-1}\equiv 1\pmod{p}\)</span> 可得 <spanclass="math inline">\(2^{n+1}\mid p-1\)</span></p><p><span class="math inline">\((2)\)</span>对任意两个不相同的费马数，<spanclass="math inline">\(F_{m},F_{n}\)</span> ，不妨设 <spanclass="math inline">\(m\geq n,m=n+k,k\geq 1\in Z\)</span></p><p>则 <spanclass="math inline">\(F_{m}=2^{2^{m+n}}+1=(2^{2^{n}})^{2^k}+1=(F_{n}-1)^{2^k}+1=p(F_n)+2\)</span>，其中<span class="math inline">\(p(F_n)\)</span> 为多项式</p><p>从而 <span class="math inline">\((F_{m},F_n)\mid 2\)</span>，又 <spanclass="math inline">\(x\not\mid F_{n},F_m\)</span>，则 <spanclass="math inline">\((F_m,F_n)=1\)</span>，即所有费马数两两互素，而每个<span class="math inline">\(F_n\)</span></p><p>都至少有一个素因子模 <span class="math inline">\(2^{n+1}\)</span> 余<spanclass="math inline">\(1\)</span>，且不同费马数素因子不重合，则对给定的<span class="math inline">\(l\)</span>，取 <spanclass="math inline">\(n\geq l-1\)</span></p><p>则这些无穷个的费马数模 <span class="math inline">\(2^{n+1}\)</span>余 <span class="math inline">\(1\)</span>，则也模 <spanclass="math inline">\(2^{l}\)</span> 余 <spanclass="math inline">\(1\)</span></p><h2 id="习题3.1.9">习题3.1.9</h2><p><span class="math inline">\((1)\)</span> 设 <spanclass="math inline">\(p\)</span> 为奇素数, <span class="math inline">\(a\geqslant 2\)</span>. 证明: 若 <spanclass="math inline">\(a^{p}-1\)</span> 的素因子 <spanclass="math inline">\(q\)</span> 不整除 <spanclass="math inline">\(a-1\)</span>，则必有形式 <spanclass="math inline">\(q=2 p x+1(x \in Z)\)</span>.</p><p><span class="math inline">\((2)\)</span> 设 <spanclass="math inline">\(p\)</span> 为给定的奇素数, 证明：形如 <spanclass="math inline">\(2 p x+1(x \in \mathbb{Z})\)</span>的素数有无限多个.</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 由于 <spanclass="math inline">\(q\)</span> 为 <spanclass="math inline">\(a^{p}-1\)</span> 素因子，则 <spanclass="math inline">\(a^p\equiv 1\pmod{q}\)</span>，由 <spanclass="math inline">\(q\not\mid a-1\)</span>，得 <spanclass="math inline">\(a\not\equiv 1\pmod{q}\)</span></p><p>设 <span class="math inline">\(a\)</span> 为模 <spanclass="math inline">\(q\)</span> 的阶为 <spanclass="math inline">\(r\)</span>，则有 <span class="math inline">\(r\midp\)</span>，又 <span class="math inline">\(r\neq 1\)</span>，从而 <spanclass="math inline">\(r=p\)</span>，有费马小定理 <spanclass="math inline">\(a^{q-1}\equiv 1\pmod{q}\)</span></p><p>从而 <span class="math inline">\(r=p\midq-1\)</span>；另一方面考虑奇偶性，若 <span class="math inline">\(2 \mida\)</span>，<span class="math inline">\(2\not \mida^{p}-1\)</span>，素因子 <span class="math inline">\(q\)</span>为奇数，若 <span class="math inline">\(2\not\mid a\)</span>，</p><p><span class="math inline">\(a^{p}-1\)</span> 有素因子 <spanclass="math inline">\(2\)</span>，但此时要求 <spanclass="math inline">\(q\)</span> 不整除 <spanclass="math inline">\(a-1\)</span>，从而 <spanclass="math inline">\(q\neq 2\)</span>，素因子 <spanclass="math inline">\(q\)</span> 也为奇数，则 <spanclass="math inline">\(q-1\)</span> 中</p><p>有素因子 <span class="math inline">\(2\)</span>，而 <spanclass="math inline">\(p\)</span> 为奇素数，从而 <spanclass="math inline">\(2p \mid q-1\)</span></p><p><span class="math inline">\((2)\)</span> 构造 <spanclass="math inline">\(a_1=2^{p}-1,a_n=(\displaystyle\prod_{i=1}^{n-1}a_i)^{p}-1\)</span>，满足两两互素，<spanclass="math inline">\(a^{p}-1\)</span> 总能有不整除 <spanclass="math inline">\(a-1\)</span> 的素因子</p><p>否则所有素因子 <spanclass="math inline">\(p_i=\dfrac{a-1}{k_i},k_i\geq 2\inZ\)</span>，相乘有 <spanclass="math inline">\(a^p-1=\dfrac{(a-1)^{x}}{\displaystyle\prod_{i=1}^{x}k_i}\)</span> 移项后有</p><p><span class="math inline">\((a^p-1)\displaystyle \prod_{i=1}^{x}k_i=(a-1)^x\)</span>，两边对 <spanclass="math inline">\(a\)</span> 取模得 <spanclass="math inline">\(-\displaystyle \prod_{i=1}^xk_i\equiv(-1)^x\pmod{a}\)</span> 矛盾</p><p>则两两互素的无穷整数数列 <span class="math inline">\(\{a_n\}\)</span>中每个数都存在形如 <span class="math inline">\(2px+1\)</span>的素因子，共无穷多个</p><h2 id="柯召讲义5.1">柯召讲义5.1</h2><p>证明: <span class="math inline">\(m\)</span>是一个素数的充分必要条件是存在某个整数 <span class="math inline">\(a,a\)</span> 对模数 <span class="math inline">\(m\)</span> 的次数为 <spanclass="math inline">\(m-1\)</span>.</p><hr /><p>证明：<span class="math inline">\(1^{\circ}\)</span> 若 <spanclass="math inline">\(m\)</span> 为一个素数，由素数必有原根可知，<spanclass="math inline">\(\exists\ a\in Z\)</span>，使得 <spanclass="math inline">\(a\)</span> 模 <spanclass="math inline">\(m\)</span> 的阶数为 <spanclass="math inline">\(m-1\)</span></p><p><span class="math inline">\(2^{\circ}\)</span> 若对某个 <spanclass="math inline">\(a\in Z\)</span>，<spanclass="math inline">\(a^{r}\equiv 1\pmod{m}\)</span> 的最小正整数（阶数<span class="math inline">\(r\)</span> ）为 <spanclass="math inline">\(m-1\)</span>，有 <spanclass="math inline">\((a,m)=1\)</span></p><p>由费马小定理 <span class="math inline">\(a^{\varphi(m)}\equiv1\pmod{m}\)</span>，得 <span class="math inline">\(m-1\mid\varphi(m)\)</span>，若 <span class="math inline">\(m\)</span>不是素数，<span class="math inline">\(m\geq 2\)</span>，令 <spanclass="math display">\[m=p_1^{l_1}\cdots p_{s}^{l_s},\varphi(m)=m\prod_{i=1}^{s}(1-\dfrac{1}{p_i})\leq m\prod_{i=1}^{s}(1-\dfrac{1}{p_i^{l_i}})&lt;m(1-\prod_{i=1}^{s}\dfrac{1}{p_i^{l_i}})=m-1\]</span> 从而 <span class="math inline">\(m\)</span> 为素数</p><h2 id="柯召讲义5.2">柯召讲义5.2</h2><p>设 <span class="math inline">\(g\)</span> 是奇素数 <spanclass="math inline">\(p\)</span> 的一个原根, 证明: 当 <spanclass="math inline">\(p \equiv 1(\bmod 4)\)</span> 时, <spanclass="math inline">\(-g\)</span> 也是 <spanclass="math inline">\(p\)</span> 的一个原根; 当 <spanclass="math inline">\(p \equiv 3(\bmod 4)\)</span> 时, <spanclass="math inline">\(-g\)</span> 对 <spanclass="math inline">\(p\)</span> 的次数为 <spanclass="math inline">\(\dfrac{p-1}{2}\)</span>.</p><hr /><p>证明：若 <span class="math inline">\(g\)</span> 是奇素数 <spanclass="math inline">\(p\)</span> 的一个原根，则满足 <spanclass="math inline">\(g^{r}\equiv 1\pmod{p}\)</span> 的最小 <spanclass="math inline">\(r=p-1\)</span>，而 <spanclass="math inline">\(2\mid p-1\)</span></p><p>则 <span class="math inline">\((-g)^{p-1}\equiv g^{p-1}\equiv1\pmod{p}\)</span>，且若存在 <span class="math inline">\(1\leqr&#39;&lt; p-1\)</span>，使得 <spanclass="math inline">\((-g)^{r&#39;}\equiv 1\pmod{p}\)</span></p><p><span class="math inline">\(r&#39;\)</span>不能是偶数，否则与阶数矛盾，则 <span class="math inline">\(2\not \midp\)</span>，有 <span class="math inline">\(g^{r&#39;}\equiv-1\pmod{p}\)</span>，则 <span class="math display">\[g^{2r&#39;}-1\equiv (g^{r&#39;}+1)\cdot (g^{r&#39;}-1)\equiv0\pmod{p},g^{2r&#39;}\equiv 1\pmod{p}\]</span> 则 <span class="math inline">\(2r&#39;\mid r\)</span>，由于<span class="math inline">\(r&#39;\)</span> 为奇数，若 <spanclass="math inline">\(p\equiv 1\pmod{4}\)</span>，则 <spanclass="math inline">\(4\mid p-1\)</span>，此时 <spanclass="math inline">\(r&#39;\)</span> 不存在，从而 <spanclass="math inline">\(-g\)</span> 也为原根</p><p>若 <span class="math inline">\(p\equiv 3\pmod{4}\)</span> ，有 <spanclass="math display">\[g^{p-1}-1\equiv (g^{\frac{p-1}{2}}-1)\cdot (g^{\frac{p-1}{2}}+1)\equiv0\pmod{p}\]</span> 且 <span class="math inline">\(g^{\frac{p-1}{2}}\not \equiv1\pmod{p}\)</span> 否则不满足阶数的性质，则 <spanclass="math inline">\((-g)^{\frac{p-1}{2}}\equiv 1\pmod{p}\)</span>，若<span class="math inline">\(1\leq r&#39;&#39;&lt;\dfrac{p-1}{2}\)</span></p><p>使得 <span class="math inline">\((-g)^{r&#39;&#39;}\equiv1\pmod{p}\)</span>，首先 <spanclass="math inline">\(r&#39;&#39;\)</span> 不为偶数，若 <spanclass="math inline">\(r&#39;&#39;\)</span> 为奇数，则 <spanclass="math inline">\(g^{r&#39;&#39;}\equiv -1\pmod{p}\)</span></p><p>从而平方 <span class="math inline">\(g^{2r&#39;&#39;}\equiv1\pmod{p}\)</span>，则有 $22r''&lt;p-1 $ 使得 <spanclass="math inline">\(g^{2r&#39;&#39;}\equiv 1\pmod{p}\)</span>与阶数矛盾</p><p>从而此时 <span class="math inline">\(-g\)</span> 对 <spanclass="math inline">\(p\)</span> 的阶数为 <spanclass="math inline">\(\dfrac{p-1}{2}\)</span></p><h1id="largetextcolorblue初等数论第六次作业-_textcolorblue2022.4.1"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第六次作业}\ \ \ \\ \ _\textcolor{blue}{2022.4.1}\)</span></h1><h2 id="习题3.1.1">习题3.1.1</h2><p>设 <span class="math inline">\(m \geqslant 2\)</span>, 整数 <spanclass="math inline">\(a\)</span> 和 <spanclass="math inline">\(b\)</span> 模 <spanclass="math inline">\(m\)</span> 的阶分别为 <spanclass="math inline">\(s\)</span> 和 <spanclass="math inline">\(t\)</span>, 并且 <span class="math inline">\((s,t)=1\)</span>. 证明 <span class="math inline">\(a b\)</span> 模 <spanclass="math inline">\(m\)</span> 的阶为 <span class="math inline">\(st\)</span>.</p><hr /><p>证明：设 <span class="math inline">\(ab\)</span> 模 <spanclass="math inline">\(m\)</span> 的阶为 <spanclass="math inline">\(r\)</span>，<spanclass="math inline">\((ab)^{r}\equiv 1\pmod{m}\)</span>，由 <spanclass="math inline">\((ab)^{st}\equiv (a^{s})^{r}\cdot (b^r)^{s}\equiv1\pmod{m}\)</span></p><p>得 <span class="math inline">\(r\mid st\)</span>，则设 <spanclass="math inline">\(st=pr,p\in Z \mbox{\ and \ pis\  prime}\)</span>，由 <spanclass="math inline">\((s,t)=1\)</span>，则 <spanclass="math inline">\(p\mid s\)</span> 或 <span class="math inline">\(p\mid t\)</span>，不妨设 $ ps$</p><p>令 <span class="math inline">\(s=px,xt=r\)</span>，有 <spanclass="math inline">\((ab)^{r}\equiv (ab)^{xt}\equiv a^{xt}\cdot 1\equiv1 \pmod{m}\)</span></p><p>则 <span class="math inline">\(s\mid xt\)</span>，由 <spanclass="math inline">\((s,t)=1\)</span>，得 <spanclass="math inline">\(s\mid x\)</span>，又 <spanclass="math inline">\(x\mid s\)</span>，可得 <spanclass="math inline">\(s=x,p=1\)</span>，即 <spanclass="math inline">\(r=st\)</span></p><h2 id="习题3.1.4">习题3.1.4</h2><p><span class="math inline">\((1)\)</span> 对于 <spanclass="math inline">\(p=5,7,11,13,23\)</span>, 求模 <spanclass="math inline">\(p\)</span> 的最小正原根.</p><p><span class="math inline">\((2)\)</span> 求模 <spanclass="math inline">\(7^{2}\)</span> 的全部原根.</p><hr /><p>解：<span class="math inline">\((1)\)</span> 由在 <spanclass="math inline">\(Z_5\)</span> 下 <spanclass="math inline">\(\{2,2^2,2^3,2^4\}=\{2,4,3,1\}\)</span> ，则 <spanclass="math inline">\(2\)</span> 为 <spanclass="math inline">\(5\)</span> 的最小正原根</p><p>在 <span class="math inline">\(Z_7\)</span> 下 <spanclass="math inline">\(\{2,2^2,2^3,2^4,2^5,2^6\}=\{2,4,1,2,4,1\},\{3,3^2,3^3,3^4,3^5,3^6\}=\{3,2,6,4,5,1\}\)</span></p><p>则 <span class="math inline">\(3\)</span> 为 <spanclass="math inline">\(7\)</span> 的最小正原根</p><p>在 <span class="math inline">\(Z_{11}\)</span> 下 <spanclass="math inline">\(\{2,2^2,2^3,2^4,2^5,2^6,2^7,2^8,2^9,2^{10}\}=\{2,4,8,5,10,9,7,3,6,1\}\)</span>，则 <span class="math inline">\(2\)</span> 为 <spanclass="math inline">\(11\)</span> 的</p><p>最小正原根</p><p>在 <span class="math inline">\(Z_{13}\)</span> 下 <spanclass="math inline">\(\{2,2^2,2^3,2^4,2^5,2^6,2^7,2^8,2^9,2^{10},2^{11},2^{12}\}=\{2,4,8,3,6,12,11,9,5,10,7,1\}\)</span></p><p>则 <span class="math inline">\(2\)</span> 为 <spanclass="math inline">\(13\)</span> 的最小正原根</p><p>在 <span class="math inline">\(Z_{23}\)</span> 下 <spanclass="math inline">\(\{2,2^2,2^3,2^4,2^5,2^6,2^7,2^8,2^9,2^{10},2^{11}\}=\{2,4,8,16,9,18,13,3,6,12,1\}\)</span></p><p><span class="math inline">\(\{3,3^2,3^3,3^4\}=\{3,6,12,1\}\)</span>对 <span class="math inline">\(5\)</span> 而言 <spanclass="math display">\[\begin{gathered}\{5,5^2,5^3,5^4,5^5,5^6,5^7,5^8,5^9,5^{10},5^{11},5^{12},5^{13},5^{14},5^{15},5^{16},5^{17},5^{18},5^{19},5^{20},5^{21},5^{22}\}=\\\{5,2,10,4,20,8,17,16,11,9,22,18,21,13,19,3,15,6,7,12,14,1\}\end{gathered}\]</span> 则 <span class="math inline">\(5\)</span> 为 <spanclass="math inline">\(23\)</span> 的最小正原根</p><p><span class="math inline">\((2)\)</span> 由定理， <spanclass="math inline">\(7\)</span> 有原根 <spanclass="math inline">\(3\)</span>，则 <spanclass="math inline">\(3\)</span> 和 <spanclass="math inline">\(10\)</span> 必有一个为 <spanclass="math inline">\(49\)</span> 的原根，有 <spanclass="math display">\[3^{2},3^{4},3^{6},3^{8},3^{12},3^{16},3^{24}\equiv9,32,43,44,36,25,22\pmod{49}\]</span> 从而 <span class="math inline">\(3\)</span> 为 <spanclass="math inline">\(49\)</span> 的原根，有 <spanclass="math inline">\(\varphi(\varphi(49))=\varphi(42)=12\)</span>个原根，有 <span class="math inline">\(3^{r},(r,42)=1\)</span>均为原根，计算有</p><p><spanclass="math inline">\(\{3,3^{5},3^{11},3^{13},3^{17},3^{19},3^{23},3^{25},3^{29},3^{31},3^{37},3^{41}\}=\{3,47,12,10,26,38,40,17,5,45,24,33\}\)</span></p><p>则 <span class="math inline">\(49\)</span> 的所有原根为 <spanclass="math inline">\(\begin{equation}\boxed{3, 5, 10 , 12, 17 , 24 , 26, 33 , 38 , 40 , 45, 47}\end{equation}\)</span>，共 <spanclass="math inline">\(12\)</span> 个</p><h2 id="习题3.2.1">习题3.2.1</h2><p>解同余方程:</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(x^{8} \equiv 3 \pmod{13}\)</span>;</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(x^{8} \equiv 3\pmod {143}\)</span>;</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(7^{x} \equiv 4\pmod{17}\)</span>.</p><hr /><p>解：<span class="math inline">\((1)\)</span> 由上题知 <spanclass="math inline">\(2\)</span> 为 <spanclass="math inline">\(13\)</span> 的一个原根，则原式等价于 <spanclass="math inline">\(8\mbox{ind}_2x\equiv\mbox{ind}_{2}3\pmod{12}\)</span></p><p>由 <span class="math inline">\(2^{4}\equiv 3\pmod{13}\)</span> 得<span class="math inline">\(8\mbox{ind}_2x\equiv 4\pmod{12}\)</span> 且<span class="math inline">\((8,12)=4\mid 4\)</span>，代换有</p><p><span class="math inline">\(2\mbox{ind}_2x\equiv 1\equiv4\pmod{3}\)</span>，<span class="math inline">\(\mbox{ind}_2{x}\equiv2,5,8,11\)</span>，得解为 <span class="math inline">\(x_1\equiv4,6,7,9\pmod{13}\)</span></p><p><span class="math inline">\((2)\)</span> 结合 <spanclass="math inline">\(x^8\equiv 3\pmod{11}\)</span>，由 <spanclass="math inline">\(2\)</span> 为 <spanclass="math inline">\(11\)</span> 的一个原根，等价于 <spanclass="math inline">\(8\mbox{ind}_2x\equiv \mbox{ind}_23\equiv8\pmod{10}\)</span></p><p>由 <span class="math inline">\((8,10)=2\mid10\)</span>，则有两个解，<span class="math inline">\(\mbox{ind}_2x\equiv1,6\pmod{10}\)</span>，则 <span class="math inline">\(x_2\equiv2,9\pmod{11}\)</span></p><p>使用中国剩余定理，<span class="math inline">\(11^{-1}\equiv6\pmod{13},13^{-1}\equiv 6\pmod{11}\)</span> 对应计算 <spanclass="math inline">\(x_1\cdot 6\cdot 13+x_2\cdot 6\cdot 11\)</span><span class="math display">\[x\equiv 9,20,35,46,97,108,123,134 \pmod{143}\]</span> <span class="math inline">\((3)\)</span> 对 <spanclass="math inline">\(2\)</span> 计算 <spanclass="math inline">\(2^1,2^2,2^4,2^8\equiv2,4,16,1\pmod{17}\)</span>，则 <span class="math inline">\(2\)</span>不是 <span class="math inline">\(17\)</span> 的原根，同理对 <spanclass="math inline">\(3\)</span> 计算有</p><p><span class="math inline">\(3^1,3^2,3^4,3^8\equiv3,9,13,16\pmod{17}\)</span>，则 <span class="math inline">\(3\)</span>是 <span class="math inline">\(17\)</span> 的原根，则对 <spanclass="math inline">\(7^{x} \equiv 4\pmod{17}\)</span> 变换有</p><p><span class="math inline">\(x\mbox{ind}_{3}7\equiv\mbox{ind}_34\pmod{16}\)</span> 有 <spanclass="math inline">\(\mbox{ind}_37=11,\mbox{ind}_34=12\)</span>，则<span class="math inline">\(11x\equiv 12\pmod{16}\)</span></p><p><span class="math inline">\((11,16)=1\mid 12\)</span>只有一个整数解，得 <span class="math inline">\(x\equiv4\pmod{17}\)</span></p><h2 id="习题3.2.2">习题3.2.2</h2><p><span class="math inline">\((1)\)</span> 写出模 <spanclass="math inline">\(37\)</span> 的全部 <spanclass="math inline">\(8\)</span> 次剩余和 <spanclass="math inline">\(15\)</span> 次剩余.</p><p><span class="math inline">\((2)\)</span> 写出模 <spanclass="math inline">\(11\)</span> 的全部二次剩余.</p><hr /><p>解：<span class="math inline">\((1)\)</span> 取 <spanclass="math inline">\(37\)</span> 的一个原根 <spanclass="math inline">\(2\)</span>，由 <spanclass="math inline">\((8,36)=4\)</span>，因此八次剩余 <spanclass="math inline">\(a\)</span> 满足的条件为： <spanclass="math inline">\(4 \mid \operatorname{ind}_{2} a\)</span> ，故</p><p><span class="math inline">\(\operatorname{ind}_{2} a=4,8,12, \cdots,36\)</span> ，因此模 <span class="math inline">\(37\)</span> 的全部<span class="math inline">\(8\)</span> 次剩余为: <spanclass="math inline">\(a \equiv 2^{4}, 2^{8}, \cdots, 2^{36}(\bmod37)\)</span>； <span class="math display">\[a\equiv 16,34,26,9,33,10,12,7,1\pmod{37}\]</span> 而 <span class="math inline">\((15,36)=3\)</span> ，因此 <spanclass="math inline">\(15\)</span> 剩余 <spanclass="math inline">\(a\)</span> 满足的条件为：<spanclass="math inline">\(3 \operatorname{ind}_{2} a\)</span> ，故 <spanclass="math inline">\(\operatorname{ind}_{2} a=3,6, \cdots, 36\)</span>，因此解为:</p><p><span class="math display">\[a \equiv 2^{3}, 2^{6}, \cdots, 2^{36}\equiv8,27,31,26,23,36,29,10,6,11,14,1 (\bmod 37)\]</span> <span class="math inline">\((2)\)</span> 模 <spanclass="math inline">\(11\)</span> 的全部二次剩余为: <spanclass="math inline">\(1^{2}, 2^{2}, \cdots, 5^{2}\)</span> ，即 <spanclass="math inline">\(1,3,4,5,9\)</span></p><h2 id="习题3.2.3">习题3.2.3</h2><p>设 <span class="math inline">\(p\)</span> 为素数, <spanclass="math inline">\(p \equiv 2(\bmod 3), a\)</span> 和 <spanclass="math inline">\(b\)</span> 是整数. 证明： <spanclass="math inline">\(a^{3} \equiv b^{3}(\bmod p)\)</span> 当且仅当<span class="math inline">\(a \equiv b(\bmod p)\)</span>.</p><hr /><p>证明：若 <span class="math inline">\((a,p)=p\)</span>，则 <spanclass="math inline">\(a\equiv b\equiv 0\pmod{p}\)</span>，否则 <spanclass="math inline">\((a,p)=1\)</span> 令 <spanclass="math inline">\(p=3k+2,k\geq 1\)</span>，有</p><p><span class="math inline">\(a^{3}\equiv b^{3}\equivc\pmod{p}\)</span>，且 <spanclass="math inline">\((c,p)=1\)</span>，由欧拉定理 <spanclass="math inline">\(a^{3k+1}\equiv b^{3k+1}\equiv c^ka\equivc^kb\equiv 1\pmod{p}\)</span></p><p>从而 <span class="math inline">\(a\equiv c^{-k}\equivb\pmod{p}\)</span></p><blockquote><p>设 <span class="math inline">\(a^{3} \equiv b^{3} \equiv k(\bmodp)\)</span> ，因为 <span class="math inline">\((3, p-1)=1\)</span> ，故<span class="math inline">\(x^{3} \equiv k(\bmod p)\)</span> 在模 <spanclass="math inline">\(p\)</span> 意义下仅有一个解， 故得证</p></blockquote><h2 id="习题3.2.4">习题3.2.4</h2><p>设 <span class="math inline">\(p\)</span> 为奇素数, 整数 <spanclass="math inline">\(a\)</span> 模 <spanclass="math inline">\(p\)</span> 的阶为 <spanclass="math inline">\(3\)</span>，求 <spanclass="math inline">\(\dfrac{a}{a+1}\)</span> 模 <spanclass="math inline">\(p\)</span> 的阶.</p><hr /><p>解：由题设定义 <span class="math inline">\(a\)</span> 的数论倒数为<span class="math inline">\(b\)</span>，即 <spanclass="math inline">\(ab\equiv 1\pmod{p}\)</span>，有 <spanclass="math inline">\((\dfrac{a}{a+1})^{-1}=1+\dfrac{1}{a}=1+b\)</span></p><p>由 <span class="math inline">\(x\)</span> 与 <spanclass="math inline">\(x^{-1}\)</span> 模 <spanclass="math inline">\(p\)</span> 的阶是一样的，从而考虑 <spanclass="math inline">\(1+b\)</span> 模 <spanclass="math inline">\(p\)</span> 的阶，由满足 <spanclass="math inline">\(a^{r}\equiv 1\pmod{p}\)</span> 的最小正整数</p><p>为 <span class="math inline">\(3\)</span> ，也有 <spanclass="math inline">\(b^3\equiv 1\pmod{p}\)</span>，<spanclass="math inline">\(b^2+b+1\equiv 0\pmod{p}\)</span>，令 <spanclass="math inline">\(1+b\)</span> 模 <spanclass="math inline">\(p\)</span> 的阶为 <spanclass="math inline">\(r&#39;\)</span>，</p><p>有 <span class="math inline">\((1+b)^{r&#39;}\equiv1\pmod{p}\)</span> ，有 <span class="math inline">\((1+b)^{1}\not\equiv1\pmod{p},(1+b)^2\equiv b\not\equiv 1\pmod{p}\)</span></p><p>但 <span class="math inline">\((1+b)^3\equiv 3(b^2+b+1)-2+b^3\equiv-1\pmod{p}\)</span>，而 <span class="math inline">\((1+b)^4\equiv-1\not\equiv 1\pmod{p}\)</span></p><p><span class="math inline">\((1+b)^5\equiv -b\not\equiv1\pmod{p}\)</span>，且 <span class="math inline">\((1+b)^{6}\equiv1\pmod{p}\)</span>，则 <spanclass="math inline">\(\dfrac{a}{a+1}\)</span> 模 <spanclass="math inline">\(p\)</span> 的阶为 <spanclass="math inline">\(6\)</span></p><h2 id="习题4.1.2">习题4.1.2</h2><p>设 <span class="math inline">\(p\)</span> 为奇素数, <spanclass="math inline">\(n\)</span> 是最小正整数使得 <spanclass="math inline">\(\left(\dfrac{n}{p}\right)=-1\)</span>. 证明: <spanclass="math inline">\(n\)</span> 为素数</p><hr /><p>证明：由勒让德符号定义不存在整数 <spanclass="math inline">\(x\)</span> 使得 <spanclass="math inline">\(x^2\equiv n\pmod{p}\)</span>，取 <spanclass="math inline">\(p\)</span> 的原根 <spanclass="math inline">\(g\)</span> 有 <spanclass="math inline">\(n=g^{2j+1}\)</span></p><p>若 <span class="math inline">\(n\)</span> 为合数，即 <spanclass="math inline">\(n=n_1n_2\)</span>，由 <spanclass="math inline">\(\left(\dfrac{n}{p}\right)=\left(\dfrac{n_1}{p}\right)\left(\dfrac{n_2}{p}\right)\)</span>可知 <span class="math inline">\(n_1\)</span> 和 <spanclass="math inline">\(n_2\)</span> 一定一者为 <spanclass="math inline">\(1\)</span>，另一者为 <spanclass="math inline">\(-1\)</span></p><p>而显然为 <span class="math inline">\(-1\)</span> 的一者对应的 <spanclass="math inline">\(n_i\)</span> 更小，与题设矛盾，从而 <spanclass="math inline">\(n\)</span> 为素数</p><h1id="largetextcolorblue初等数论第七次作业-_textcolorblue2022.4.16"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第七次作业}\ \ \ \\ \ _\textcolor{blue}{2022.4.16}\)</span></h1><h2 id="习题4.1.1">习题4.1.1</h2><p>设 <span class="math inline">\(p\)</span> 为奇素数, <spanclass="math inline">\(a, b \in \mathbf{Z},(a, p)=1\)</span>. 证明：<span class="math display">\[\sum_{n=0}^{p-1}\left(\frac{a n+b}{p}\right)=0\]</span></p><hr /><p>证明：由于 <span class="math inline">\((a,p)=1\)</span>，则 <spanclass="math inline">\(a,a+b,\cdots,a(p-1)+b\)</span> 构成模 <spanclass="math inline">\(p\)</span> 的完系，可用反证法证明</p><p>其中模 <span class="math inline">\(p\)</span>的二次剩余和非二次剩余都为 <spanclass="math inline">\(\dfrac{p-1}{2}\)</span> 个，最后剩一个能被 <spanclass="math inline">\(p\)</span> 整除的</p><p>则 <span class="math inline">\(\displaystyle\sum_{n=0}^{p-1}\left(\frac{a n+b}{p}\right)=\dfrac{p-1}{2}+(-1)\cdot\dfrac{p-1}{2}+0=0\)</span></p><h2 id="习题4.1.3">习题4.1.3</h2><p>证明形如 <span class="math inline">\(8m+3,8m+5,8m+7\)</span>的素数均有无穷多个</p><hr /><p>解：<span class="math inline">\((1)\)</span> 反证，假设 <spanclass="math inline">\(8m+3\)</span> 的素数有限个，设为 <spanclass="math inline">\(p_1.p_2,\cdots ,p_s\)</span> 构造 <spanclass="math inline">\(n=2(p_1p_2\cdots p_s)^2+1\)</span> ，</p><p>由 <span class="math inline">\(n\equiv 2\cdot (3^2)^{s}+1\equiv3\pmod{8}\)</span>，则由假设 <span class="math inline">\(n\)</span>为合数</p><p>设其素因子为 <span class="math inline">\(p\)</span>，有 <spanclass="math inline">\(2(p_1p_2\cdots p_s)^2\equiv-1\pmod{p}\)</span>，两边乘以 <spanclass="math inline">\(2\)</span>，取勒让德符号 <spanclass="math display">\[(\dfrac{-2}{p})=1=(\dfrac{2}{p})(\dfrac{-1}{p})=(-1)^{\frac{p^2-1}{8}+\frac{p-1}{2}}=(-1)^{\frac{(p-1)(p+5)}{8}}\]</span> 从而 <span class="math inline">\(2\mid\dfrac{(p-1)(p+5)}{8}\)</span>，从而 <span class="math inline">\(p\equiv1,3\pmod{8}\)</span>。但 <span class="math inline">\(n\equiv3\pmod{8}\)</span>，<span class="math inline">\(n\)</span>的所有素因子不可能</p><p>均模 <span class="math inline">\(8\)</span> 余 <spanclass="math inline">\(3\)</span>，从而一定存在一个模 <spanclass="math inline">\(8\)</span> 余 <spanclass="math inline">\(3\)</span> 的素因子，而该素因子不为 <spanclass="math inline">\(p_1,\cdots ,p_s\)</span>，这是因为</p><p><span class="math inline">\(n\equiv1\pmod{p_i}\)</span>，从而矛盾，<spanclass="math inline">\(8m+3\)</span> 型素数有无穷多个</p><p><span class="math inline">\((2)\)</span> 假设 <spanclass="math inline">\(8m+5\)</span> 的素数有限个，设为 <spanclass="math inline">\(p_1,p_2,\cdots,p_s\)</span>，构造 <spanclass="math inline">\(n=4(p_1\cdots p_s)^2+1\)</span> 有</p><p><span class="math inline">\(n\equiv5\pmod{8}\)</span>，其为合数，设其素因子为 <spanclass="math inline">\(p\)</span></p><p>有 <span class="math inline">\((2p_1\cdots p_s)^2\equiv-1\pmod{p}\)</span>，取勒让德符号有 <spanclass="math inline">\((\dfrac{-1}{p})=1=(-1)^{\frac{p-1}{2}}\)</span></p><p>则 <span class="math inline">\(p\equiv 1,5\pmod{8}\)</span> 而 <spanclass="math inline">\(n\equiv 5\pmod{5}\)</span>，<spanclass="math inline">\(n\)</span> 的所有素因子不可能全为 <spanclass="math inline">\(1\)</span>，则其存在一个</p><p>不为 <span class="math inline">\(p_i\)</span>的素因子，与假设矛盾，从而 <span class="math inline">\(8m+5\)</span>型素数有无穷多个</p><p><span class="math inline">\((3)\)</span> 假设 <spanclass="math inline">\(8m+7\)</span> 的素数有限个，设为 <spanclass="math inline">\(p_1,p_2,\cdots,p_s\)</span>，构造 <spanclass="math inline">\(n=8(p_1\cdots p_s)^2-1\)</span> 有</p><p><span class="math inline">\(n\equiv7\pmod{8}\)</span>，其为合数，设其素因子为 <spanclass="math inline">\(p\)</span></p><p>有 <span class="math inline">\((4p_1\cdots p_s)^2\equiv2\pmod{p}\)</span>，使用勒让德符号有 <spanclass="math inline">\((\dfrac{2}{p})=1=(-1)^{\frac{p^2-1}{8}}\)</span></p><p>则 <span class="math inline">\(p\equiv 1,7\)</span>，又由于 <spanclass="math inline">\(n\equiv 7\pmod{8}\)</span>，<spanclass="math inline">\(n\)</span> 所有素因子不可能全为 <spanclass="math inline">\(1\)</span>，则其存在一个</p><p>不为 <span class="math inline">\(p_i\)</span>的素因子，与假设矛盾，从而 <span class="math inline">\(8m+7\)</span>型素数有无穷多个</p><h2 id="习题4.1.4">习题4.1.4</h2><p>设 <span class="math inline">\(p\)</span> 为奇素数. 证明:有无穷多的素数是模 <span class="math inline">\(p\)</span>的二次非剩余.</p><hr /><p>证明：假设满足是模 <span class="math inline">\(p\)</span>二次非剩余的素数有限，为 <span class="math inline">\(p_1,p_2,\cdotsp_s\)</span>，有 <spanclass="math inline">\((\dfrac{p_i}{p})=-1\)</span>，取模 <spanclass="math inline">\(p\)</span> 的</p><p>一个二次非剩余 <spanclass="math inline">\(a\)</span>，由中国剩余定理，满足 <spanclass="math inline">\(x\equiv a\pmod{p},x\equiv 1\pmod{p_i}\)</span>同余方程的解</p><p>存在，设其中一个解为 <span class="math inline">\(x\)</span></p><p>则 <spanclass="math inline">\((\dfrac{x}{p})=(\dfrac{a}{p})=-1\)</span>，<spanclass="math inline">\(x\)</span>必有素因子为二次非剩余，且使得该素因子与 <spanclass="math inline">\(p_i\)</span> 均互素，这样与</p><p>有限个满足条件的素数矛盾，从而有无穷多个素数模 <spanclass="math inline">\(p\)</span> 二次剩余</p><h2 id="习题4.1.5">习题4.1.5</h2><p>设 <span class="math inline">\(p\)</span> 和 <spanclass="math inline">\(q=2 p+1\)</span> 都是素数. 证明:</p><p><span class="math inline">\((1)\)</span> 当 <spanclass="math inline">\(p \equiv 1(\bmod 4)\)</span> 时, <spanclass="math inline">\(2\)</span> 是模 <spanclass="math inline">\(q\)</span> 的原根;</p><p><span class="math inline">\((2)\)</span> 当 <spanclass="math inline">\(p \equiv 3(\bmod 4)\)</span> 时,<spanclass="math inline">\(-2\)</span> 是模 <spanclass="math inline">\(q\)</span> 的原根.</p><hr /><p>解：<span class="math inline">\((1)\)</span> 由于 <spanclass="math inline">\(q-1=2p\)</span> 只有素因子 <spanclass="math inline">\(2\)</span> 和 <spanclass="math inline">\(p\)</span> ，有 <spanclass="math inline">\(2^2\equiv 4\not\equiv 1\pmod{q}\)</span> 而对<spanclass="math inline">\(2^{p}\equiv 2^{\frac{q-1}{2}}\)</span>，计算</p><p><spanclass="math inline">\((\dfrac{2}{q})=(-1)^{\frac{q^2-1}{8}}=(-1)^{\frac{p(p+1)}{2}}=-1\)</span>，则<span class="math inline">\(2\)</span> 为模 <spanclass="math inline">\(q\)</span> 的二次非剩余，则取 <spanclass="math inline">\(q\)</span> 的原根 <spanclass="math inline">\(g\)</span>，有 <spanclass="math inline">\(2=g^{2j+1}\)</span>，代入计算 <spanclass="math inline">\(2^{p}=g^{(2j+1)p}=(g^{p})^{2j+1}=(g^{\frac{q-1}{2}})^{2j+1}=(-1)^{2j+1}=-1\)</span>，从而<span class="math inline">\(2,p\)</span> 均不是模 <spanclass="math inline">\(p\)</span></p><p>下 <span class="math inline">\(2\)</span> 的阶数，从而 <spanclass="math inline">\(2\)</span> 为模 $p $ 的原根</p><p><span class="math inline">\((2)\)</span> 同上，只需考虑 <spanclass="math inline">\((-2)^{p}\)</span>，<spanclass="math inline">\(p\neq 2\)</span>，计算 <spanclass="math inline">\((\dfrac{-2}{q})=(\dfrac{-1}{q})(\dfrac{2}{q})=(-1)^{\frac{q-1}{2}}(-1)^{\frac{q^2-1}{8}}=-1\)</span>，</p><p>则取 <span class="math inline">\(q\)</span> 的原根 <spanclass="math inline">\(g\)</span>，有 <spanclass="math inline">\(-2=g^{2j+1}\)</span>，代入 <spanclass="math inline">\((-2)^{p}=(g^{\frac{q-1}{2}})^{2j}=(-1)^{2j+1}=-1\)</span></p><p>从而 <span class="math inline">\(2,p\)</span> 均不是模 <spanclass="math inline">\(p\)</span> 下 <spanclass="math inline">\(-2\)</span> 的阶数，从而 <spanclass="math inline">\(-2\)</span> 为模 $p $ 的原根</p><h2 id="习题4.1.6">习题4.1.6</h2><p>设 <span class="math inline">\(p\)</span> 为素数, <spanclass="math inline">\(p \equiv 3(\bmod 4)\)</span>. 记 <spanclass="math inline">\(q=2 p+1\)</span>. 则 <spanclass="math inline">\(q\)</span> 为素数当且仅当 <spanclass="math inline">\(q \mid 2^{p}-1\)</span>.</p><hr /><p>证明：由上题知，若 <span class="math inline">\(q\)</span>为素数，<span class="math inline">\(-2\)</span> 为 <spanclass="math inline">\(q\)</span> 的原根 <span class="math display">\[2^{p}\equiv -(-2)^{p}\equiv -(-2)^{\frac{q-1}{2}}\equiv -(-1)\equiv1\pmod{p}\]</span> 则 <span class="math inline">\(q\mid 2^{p}-1\)</span> 。又若<span class="math inline">\(q\mid 2^{p}-1\)</span> ，由欧拉定理 <spanclass="math inline">\(2^{\varphi(q)}\equiv 1\pmod{q}\)</span>，即 <spanclass="math inline">\(q\mid 2^{\varphi(q)}-1\)</span></p><p>则 <span class="math inline">\(p\mid\varphi(q)=\varphi(2p+1)\)</span>，若 <spanclass="math inline">\(q\)</span> 不是素数，<spanclass="math inline">\(\varphi(2p+1)&lt;2p\)</span>，则 <spanclass="math inline">\(p=\varphi(2p+1)\)</span>，而对于奇数</p><p>的欧拉函数为偶数，从而矛盾，则 <span class="math inline">\(q\)</span>为素数</p><h2 id="习题4.1.7">习题4.1.7</h2><p>设 <span class="math inline">\(p\)</span> 为奇素数. 证明： <spanclass="math display">\[\large \prod_{\substack{r=1 \\ \\ \\  \large (\frac{r}{p})=1}}^{p-1}\normalsize r \equiv-\left(\frac{-1}{p}\right)(\bmod p)\]</span></p><hr /><p>解：满足 <span class="math inline">\((\dfrac{r}{p})=1\)</span> 的所有<span class="math inline">\(r\)</span> 为 <spanclass="math inline">\(g^0,g^2,\cdots ,g^{p-3}\)</span>。其中 <spanclass="math inline">\(g\)</span> 为 <spanclass="math inline">\(p\)</span> 的一个原根，则 <spanclass="math display">\[\displaystyle \prod r =g^{0+2+\cdotsp-3}=g^{\frac{(p-3)(p-1)}{4}}=(g^{\frac{p-1}{2}})^{\frac{p-3}{2}}=(-1)^{\frac{p-3}{2}}\]</span> 而 <spanclass="math inline">\(-(\dfrac{-1}{p})=-(-1)^{\frac{p-1}{2}}=(-1)^{\frac{p-3}{2}}\)</span>，两者相等</p><h2 id="习题4.1.8">习题4.1.8</h2><p>设 <span class="math inline">\(p\)</span> 为素数,</p><p><span class="math inline">\((1)\)</span> 若 <spanclass="math inline">\(p \equiv 1(\bmod 4)\)</span>, 则 <spanclass="math display">\[\sum_{\substack{r=1 \\\left(\frac{r}{p}\right)=1}}^{p-1}r=\frac{p(p-1)}{4}, \quad \sum_{a=1}^{p-1} a\left(\frac{a}{p}\right)=0\]</span> (2) 若 <span class="math inline">\(p \equiv 3(\bmod4)\)</span>, 并且 <span class="math inline">\(p \geqslant 7\)</span>, 则<span class="math display">\[\sum_{\substack{r=1 \\\left(\frac{r}{p}\right)=1}}^{p-1} r \equiv0(\bmod p), \sum_{r=1}^{p-1} a\left(\frac{a}{p}\right) \equiv 0(\bmod p).\]</span></p><hr /><p>证明：<span class="math inline">\((1)\)</span> 由 <spanclass="math inline">\((\dfrac{p-x}{p})=(\dfrac{-x}{p})=(\dfrac{x}{p})(\dfrac{-1}{p})=(\dfrac{x}{p})(-1)^{\frac{p-1}{2}}=(\dfrac{x}{p})\)</span></p><p>从而 <span class="math inline">\((i,p-i)\)</span>每对勒让德符号相同，从而所有满足 <spanclass="math inline">\((\dfrac{r}{p})=1\)</span> 的 <spanclass="math inline">\(r\)</span> 一定能配成和为 <spanclass="math inline">\(p\)</span> 的 <spanclass="math inline">\(\mbox{pairs}\)</span></p><p>且共有 <span class="math inline">\(\dfrac{p-1}{4}\)</span> 对，求和为<span class="math inline">\(\dfrac{p(p-1)}{4}\)</span>，同理分离得到<span class="math inline">\(\displaystyle\sum_{a=1}^{p-1}a(\dfrac{a}{p})=0+\sum_{\substack{r=1\\\left(\frac{r}{p}\right)=1}}^{p-1} r-\sum_{\substack{r=1\\\left(\frac{r}{p}\right)\neq 1}}^{p-1} r=0\)</span></p><p><span class="math inline">\((2)\)</span> 和上题类似，得到 <spanclass="math inline">\((\dfrac{p-x}{p})=-(\dfrac{x}{p})\)</span>，从而<span class="math inline">\((i,p-i)\)</span> 勒让德符号相反，有记 <spanclass="math display">\[\sum_{\substack{r=1 \\\left(\frac{r}{p}\right)=1}}^{p-1} r \equivA(\bmod p),\sum_{\substack{r=1 \\\left(\frac{r}{p}\right)\neq 1}}^{p-1}r \equiv B(\bmod p)\]</span> 取模 <span class="math inline">\(p\)</span> 的一个原根 <spanclass="math inline">\(g\)</span> ，则 <spanclass="math inline">\(g\)</span> 是模 <spanclass="math inline">\(p\)</span> 的一个二次非剩，<spanclass="math inline">\((\dfrac{g}{p})=-1\)</span> <spanclass="math display">\[\begin{aligned}&amp;\sum_{r=1,\left(\frac{r}{p}\right)=1}^{p-1} r \equiv1+g^{2}+\cdots+g^{p-3} \equiv \frac{1-g^{\frac{p-1}{2}\cdot 2}}{1-g^{2}}\equiv 0 \quad(\bmod p) \\&amp;\sum_{a=1}^{p-1} a\left(\frac{a}{p}\right) \equiv \sum_{i=0}^{p-2}g^{i}\left(\frac{g^{i}}{p}\right) \equiv \sum_{i=0}^{p-2} g^{i}(-1)^{i}\equiv \sum_{i=0}^{p-1}(-g)^{i} \equiv \frac{1-g^{p-1}}{1+g} \equiv 0\quad(\bmod p) .\end{aligned}\]</span></p><h2 id="习题4.2.1">习题4.2.1</h2><p>计算 <spanclass="math inline">\(\left(\dfrac{17}{23}\right),\left(\dfrac{19}{37}\right),\left(\dfrac{92}{101}\right)\)</span>.</p><hr /><p>由二次互反律计算有 <span class="math display">\[\left(\dfrac{17}{23}\right)=\left(\dfrac{23}{17}\right)(-1)^{11 \cdot8}=\left(\dfrac{23}{17}\right)=\left(\dfrac{6}{17}\right)=\left(\dfrac{2}{17}\right)\left(\dfrac{3}{17}\right)\\=(-1)^{\frac{17^{2}-1}{8}}\left(\dfrac{17}{3}\right)(-1)^{8}=\left(\dfrac{17}{3}\right)=\left(\dfrac{2}{3}\right)=-1\\\left(\dfrac{19}{37}\right)=\left(\dfrac{37}{19}\right)(-1)^{9 \cdot18}=\left(\dfrac{37}{19}\right)=\left(\dfrac{-1}{19}\right)=(-1)^{9}=-1\\\left(\dfrac{92}{101}\right)=\left(\dfrac{2}{101}\right)^{2}\left(\dfrac{23}{101}\right)=(-1)^{\dfrac{101^{2}-1}{8}}\left(\dfrac{23}{101}\right)=\\\left(\dfrac{23}{101}\right)=\left(\dfrac{101}{23}\right)(-1)^{50\cdot11}=\left(\dfrac{101}{23}\right)=\left(\dfrac{9}{23}\right)=\left(\dfrac{3}{23}\right)^{2}=1\]</span></p><h2 id="习题4.2.4">习题4.2.4</h2><p>若 <span class="math inline">\(p=10 m-1\)</span> 为素数, 证明: <spanclass="math inline">\(p \mid 5^{5 m-1}-1\)</span>.</p><hr /><p>证明：计算 <spanclass="math inline">\((\dfrac{5}{p})=(\dfrac{p}{5})(-1)^{2\cdot\frac{p-1}{2}}=(\dfrac{p}{5})=(\dfrac{-1}{5})=(-1)^2=1\)</span>，则<span class="math inline">\(5\)</span> 是 <spanclass="math inline">\(p\)</span> 的二次剩余</p><p>令 <span class="math inline">\(g\)</span> 为 <spanclass="math inline">\(p\)</span> 的二次剩余，<spanclass="math inline">\(5\equiv g^{2j}\)</span>，有 <spanclass="math inline">\(5^{5m-1}\equiv (g^{2j})^{\frac{p-1}{2}}\equiv(g^{p-1})^{j}\equiv 1\pmod{p}\)</span></p><h2 id="习题4.2.5">习题4.2.5</h2><p>设 <span class="math inline">\(n \geqslant 2, p=2^{n}+1\)</span>为素数. 证明：</p><p><span class="math inline">\((1)\)</span> 对每个 <spanclass="math inline">\(a \in \mathbf{Z}, a\)</span> 为模 <spanclass="math inline">\(p\)</span> 的原根当且仅当 <spanclass="math inline">\(\left(\dfrac{a}{p}\right)=-1\)</span>;</p><p><span class="math inline">\((2)\)</span> 证明 <spanclass="math inline">\(3\)</span> 和 <spanclass="math inline">\(7\)</span> 均为模 <spanclass="math inline">\(p\)</span> 的原根.</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 若 <spanclass="math inline">\(a\)</span> 为模 <spanclass="math inline">\(p\)</span> 的原根，有 <spanclass="math inline">\((\dfrac{a}{p})=-1\)</span>；若 <spanclass="math inline">\((\dfrac{a}{p})=-1\)</span>，若 <spanclass="math inline">\(a\)</span> 不是模 <spanclass="math inline">\(p\)</span> 的原根，则对</p><p><span class="math inline">\(p-1=2^n\)</span> 的因子为对应的阶，总有<span class="math inline">\(a^{2}\equiv 1\pmod{p}\)</span>，这与 <spanclass="math inline">\((\dfrac{a}{p})=-1\)</span> 矛盾，从而 <spanclass="math inline">\(a\)</span> 是模 <spanclass="math inline">\(p\)</span> 的原根</p><p><span class="math inline">\((2)\)</span> 由于 <spanclass="math inline">\(p=2^{n}+1\)</span> 为素数，故 <spanclass="math inline">\(n=2^{k}\)</span> ，其中 <spanclass="math inline">\(k \geq 1\)</span>.</p><p>由 <spanclass="math inline">\((\dfrac{3}{p})=(\dfrac{p}{3})(-1)^{1\cdot\frac{p-1}{2}}=(\dfrac{p}{3})\)</span> ，而 <spanclass="math inline">\(2^{2^n}+1\equiv (-1)^{2^n}+1\equiv2\pmod{3}\)</span></p><p>有 <span class="math inline">\((\dfrac{2}{3})=-1\)</span>，则 <spanclass="math inline">\((\dfrac{3}{p})=-1\)</span>，从而 <spanclass="math inline">\(3\)</span> 为模 <spanclass="math inline">\(p\)</span> 的原根；同理 <spanclass="math inline">\((\dfrac{7}{p})=(\dfrac{p}{7})\)</span></p><p>若 <span class="math inline">\(2^{k} \equiv 1(\bmod 3)\)</span> ，则<spanclass="math inline">\(\left(\dfrac{2^{2^{k}}+1}{7}\right)=\left(\dfrac{\left(2^{3}\right)^{t}\cdot2+1}{7}\right)=\left(\dfrac{3}{7}\right)=-\left(\dfrac{7}{3}\right)=-1\)</span>.</p><p>若 <span class="math inline">\(2^{k} \equiv-1(\bmod 3)\)</span> ，则<spanclass="math inline">\(\left(\dfrac{2^{2^{k}}+1}{7}\right)=\left(\dfrac{\left(2^{3}\right)^{t}\cdot2^{2}+1}{7}\right)=\left(\dfrac{5}{7}\right)=\left(\dfrac{7}{5}\right)=\left(\dfrac{2}{5}\right)=(-1)^{\frac{5^{2}-1}{8}}=-1\)</span>.</p><p>因此 <spanclass="math inline">\(\left(\dfrac{7}{p}\right)=-1\)</span> ，故 <spanclass="math inline">\(7\)</span> 是模 <spanclass="math inline">\(p\)</span> 的原根.</p><h1id="largetextcolorblue初等数论第八次作业-_textcolorblue2022.4.23"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第八次作业}\ \ \ \\ \ _\textcolor{blue}{2022.4.23}\)</span></h1><h2 id="习题4.2.2">习题4.2.2</h2><p>确定以 <span class="math inline">\(a\)</span> 为二次剩余的素数, 其中<span class="math inline">\(a=-3,5\)</span> 和 <spanclass="math inline">\(15\)</span> .</p><hr /><p><span class="math inline">\(a=-3\)</span> 时，<spanclass="math inline">\(2\)</span> 满足题意，此外， <spanclass="math inline">\(\dfrac{1}{2} \varphi(3)=1\)</span>. 且 <spanclass="math inline">\(7\)</span> 满足题意，则解为奇素数 <spanclass="math inline">\(p=3 k+1\)</span> 和 <spanclass="math inline">\(2\)</span></p><p><span class="math inline">\(a=5\equiv 1\pmod{4}\)</span>，<spanclass="math inline">\(2\)</span> 满足题意. 此外， <spanclass="math inline">\(\dfrac{1}{2} \varphi(5)=2\)</span> ，且 <spanclass="math inline">\(11,19\)</span> 均满足题意. 故 <spanclass="math inline">\(2\)</span> 和奇素数 <span class="math inline">\(5k \pm 1\)</span> 满足题意.</p><p><span class="math inline">\(a=15\)</span> 时， <spanclass="math inline">\(2\)</span> 满足题意. <spanclass="math inline">\(\dfrac{1}{2} \varphi(60)=8\)</span> ，且经过验证，<span class="math inline">\(7,11,17,43,53,59,109,181\)</span>都满足.</p><p>解为 <span class="math inline">\(2\)</span> 和素数 <spanclass="math inline">\(60 k+1,60 k+7,60 k+11,60 k+17,60 k+43,60 k+49,60k+53,60 k+59\)</span></p><h2 id="习题4.2.3">习题4.2.3</h2><p>设 <span class="math inline">\(p=4 k+1\)</span> 是素数, <spanclass="math inline">\(a\)</span> 是 <spanclass="math inline">\(k\)</span> 的因子, 证明: <spanclass="math inline">\(\left(\dfrac{a}{p}\right)=1\)</span>.</p><hr /><p>证明：由二次互反律 <spanclass="math inline">\((\dfrac{a}{p})=(\dfrac{p}{a})(-1)^{\frac{p-1}{2}\frac{a-1}{2}}=(\dfrac{p}{a})=(\dfrac{4k+1}{a})=(\dfrac{4ax+1}{a})=(\dfrac{1}{a})=1\)</span></p><h2 id="习题4.2.6">习题4.2.6</h2><p><span class="math inline">\((1)\)</span> 设 <spanclass="math inline">\(n=2^{m} a+1\)</span>, 其中 <spanclass="math inline">\(m \geqslant 2,1 \leqslant a&lt;2^{m}\)</span>.如果 <span class="math inline">\(p\)</span> 为奇素数, 并且 <spanclass="math inline">\(\left(\dfrac{n}{p}\right)=-1\)</span>, 证明: <spanclass="math inline">\(n\)</span> 是素数当且仅当 <spanclass="math inline">\(p^{\frac{n-1}{2}} \equiv-1(\bmod n)\)</span>.</p><p><span class="math inline">\((2)\)</span> 设 <spanclass="math inline">\(n=2^{m}+1, m \geqslant 2\)</span>. 证明: <spanclass="math inline">\(n\)</span> 为素数当且仅当 <spanclass="math inline">\(3^{\frac{n-1}{2}} \equiv-1\)</span> <spanclass="math inline">\((\bmod n)\)</span>.</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 若 <spanclass="math inline">\(n\)</span> 为素数，由于 <spanclass="math inline">\(n=2^ma+1\)</span> 故 <spanclass="math inline">\(\left(\dfrac{n}{p}\right)=\left(\dfrac{p}{n}\right)=-1\)</span>，故 <span class="math inline">\(p^{\frac{n-1}{2}} \equiv-1(\bmodn)\)</span>.</p><p>另一方面，若 <span class="math inline">\(p^ \frac{n-1}{2}\equiv-1(\bmod n)\)</span> ，任取 <span class="math inline">\(n\)</span>的一个素因子 <span class="math inline">\(q ， q \geq 3\)</span>. 令<span class="math inline">\(d\)</span> 为 <spanclass="math inline">\(p\)</span> 模 <spanclass="math inline">\(q\)</span> 的阶，由于</p><p><span class="math inline">\(p^{\frac{n-1}{2}} \equiv-1(\bmodq)\)</span> ，故 <span class="math inline">\(p^{2^{m-1} a}\equiv-1(\bmod q)\)</span> ，因此 <span class="math inline">\(2^{m}\midd\)</span> ，又 <span class="math inline">\(d \mid q-1\)</span> ，则<span class="math inline">\(2^{m} \mid q-1\)</span></p><p><span class="math inline">\(q \geq 2^{m}+1\)</span>. 由于 <spanclass="math inline">\(n=2^{m} a+1 ， a&lt;2^{m}\)</span> ，所以 <spanclass="math inline">\(q^2&gt;n\)</span>，这样的 <spanclass="math inline">\(q\)</span> 只能为 <spanclass="math inline">\(n\)</span> 本身，则 <spanclass="math inline">\(n\)</span> 为素数</p><p><span class="math inline">\((2)\)</span> 在 <spanclass="math inline">\(\small(1)\)</span> 中取 <spanclass="math inline">\(a=1, p=3\)</span> 当 <spanclass="math inline">\(n\)</span> 为素数时，满足 <spanclass="math inline">\(m\)</span> 为奇数，否则 <spanclass="math inline">\(3\)</span> 为 <spanclass="math inline">\(n\)</span> 的素因子，此时</p><p><spanclass="math inline">\(\left(\dfrac{2^{m}+1}{3}\right)=\left(\dfrac{2}{3}\right)=-1\)</span>，故满足 <span class="math inline">\(\small(1)\)</span> 的条件，则 <spanclass="math inline">\(3^{\frac{n-1}{2}} \equiv-1\)</span></p><p>若 <span class="math inline">\(3^{\frac{n-1}{2}}\equiv-1\)</span>，由 <span class="math inline">\(\small (1)\)</span>中的推导中没有使用到 <spanclass="math inline">\(\left(\dfrac{n}{p}\right)=-1\)</span> 条件知 <spanclass="math inline">\(n\)</span> 为素数</p><h2 id="习题4.3.2">习题4.3.2</h2><p>设 <span class="math inline">\(f(x, y)\)</span> 是关于 <spanclass="math inline">\(x, y\)</span> 的整系数多项式. <spanclass="math inline">\((x, y)=(a, b)\)</span> 和 <spanclass="math inline">\((c, d)\)</span> 均是同余方程</p><p><span class="math inline">\(f(x, y) \equiv 0(\bmod m)\)</span>的整数解, 即 <span class="math inline">\(f(a, b) \equiv 0\)</span> <spanclass="math inline">\((\bmod m), f(c, d) \equiv 0(\bmod m)\)</span>.</p><p>称这两组解为模 <span class="math inline">\(m\)</span> 的同一个解,是指 <span class="math inline">\(a \equiv c(\bmod m)\)</span>, 并且<span class="math inline">\(b \equiv d(\bmod m)\)</span>.</p><p><span class="math inline">\((1)\)</span> 设 <spanclass="math inline">\(p\)</span> 为奇素数, <spanclass="math inline">\(a\)</span> 为整数. 证明:同余方程 <spanclass="math display">\[x^{2}-y^{2} \equiv a \quad(\bmod p)\]</span> 的模 <span class="math inline">\(p\)</span> 解数为 <spanclass="math inline">\(p-1\)</span> （若 <spanclass="math inline">\(p\not\mid a\)</span>） 或 <spanclass="math inline">\(2 p-1\)</span> （若 <spanclass="math inline">\(p\mid a\)</span>）.</p><p><span class="math inline">\((2)\)</span> 证明： <spanclass="math display">\[\sum_{y=0}^{p-1}\left(\frac{y^{2}+a}{p}\right)= \begin{cases}-1, &amp;\text { 若 } p \nmid a, \\ p-1, &amp; \text { 若 } p \mid a .\end{cases}\]</span></p><hr /><p>证明：<span class="math inline">\((1)\)</span> 当 <spanclass="math inline">\(p \nmid a\)</span> 时， <spanclass="math inline">\((x+y)(x-y) \equiv a(\bmod p)\)</span>. 设 <spanclass="math inline">\(x+y \equiv b(\bmod p)\)</span> ，其中 <spanclass="math inline">\((b, p)=1\)</span>.</p><p>则 <span class="math inline">\(x-y \equiv a b^{-1}(\bmod p)\)</span>.从而 <span class="math inline">\((x, y)=\left(\dfrac{b+a b^{-1}}{2},\dfrac{b-a b^{-1}}{2}\right)\)</span>. 因此解数为 <spanclass="math inline">\(b\)</span> 的个数 <spanclass="math inline">\(p-1\)</span>.</p><p>当 <span class="math inline">\(p \mid a\)</span> 时， <spanclass="math inline">\(p \mid(x+y)(x-y)\)</span> ，所以 <spanclass="math inline">\(x \equiv y(\bmod p)\)</span> 或 <spanclass="math inline">\(x \equiv-y(\bmod p)\)</span>.</p><p>共有 <span class="math inline">\((0,0),(b,-b),(-b, b)\)</span> 即<span class="math inline">\(2\cdotp(p-1)+1=2p-1\)</span> 组解.</p><p><span class="math inline">\((2)\)</span> 设 <spanclass="math inline">\(x^{2} \equiv y^{2}+a(\bmod p).\left(\dfrac{y^{2}+a}{p}\right)=1\)</span> 时，有两组解， <spanclass="math inline">\(\left(\dfrac{y^{2}+a}{p}\right)=-1\)</span>时，无解</p><p>计算其总解数为 <spanclass="math inline">\(\sum_{y=0}^{p-1}\left(1+\left(\frac{y^{2}+a}{p}\right)\right)=p+\sum_{y=0}^{p-1}\left(\frac{y^{2}+a}{p}\right)=\begin{cases}p-1, &amp; p \nmid a \\ 2 p-1, &amp; p \mida\end{cases}\)</span> 因此 <spanclass="math inline">\(\sum_{y=0}^{p-1}\left(\frac{y^{2}+a}{p}\right)=\begin{cases}-1, &amp; p \nmid a \\ p-1, &amp; p \mida\end{cases}\)</span></p><h2 id="习题4.3.3">习题4.3.3</h2><p>设 <span class="math inline">\(p\)</span> 为奇素数, <spanclass="math inline">\(a, b, c \in \mathbf{Z}, p \nmid a, D=b^{2}-4 ac\)</span>. 证明: <span class="math display">\[\sum_{x=0}^{p-1}\left(\frac{a x^{2}+bx+c}{p}\right)=\left\{\begin{array}{l}-\left(\dfrac{a}{p}\right), \quad \text { 若 } p \not\mid D, \\(p-1)\left(\dfrac{a}{p}\right), \text { 若 } p \mid D .\end{array}\right.\]</span></p><hr /><p>证明：令 <span class="math inline">\(y=x+\dfrac{b}{2a}=x+b\cdot2^{-1}\cdot a^{-1},a^{\prime}=c-b^2\cdot 4^{-1}\cdot a^{-1}\)</span>代入上题结论得到 <span class="math display">\[\sum_{y=\frac{b}{2a}}^{\frac{b}{2a}+p-1}(\dfrac{ay^2+a&#39;}{p})=\sum_{y=0}^{p-1}(\dfrac{ay^2+a&#39;}{p})=(\dfrac{a}{p})\sum_{y=0}^{p-1}(\dfrac{y^2+a&#39;a^{-1}}{p})=\left\{\begin{array}{l}-\left(\dfrac{a}{p}\right), \quad \text { 若 } p \not\mid D, \\(p-1)\left(\dfrac{a}{p}\right), \text { 若 } p \mid D .\end{array}\right.\]</span></p><h2 id="习题4.2.4-1">习题4.2.4</h2><p>设 <span class="math inline">\(a, b, c \in \mathbf{Z}, p \not\mid ab\)</span>, 则同余方程 <span class="math display">\[a x^{2}+b y^{2} \equiv c \quad(\bmod p)\]</span> 模 <span class="math inline">\(p\)</span> 的解数为 <spanclass="math display">\[N=\left\{\begin{array}{l}p+(p-1)\left(\dfrac{-a b}{p}\right), \quad \text { 若 } p \mid c, \\p-\left(\dfrac{-a b}{p}\right), \quad \text { 若 } p \not\mid  c .\end{array}\right.\]</span></p><hr /><p>证明：<span class="math inline">\(a x^{2}+b y^{2} \equiv c(\bmodp)\)</span> 等价于 <span class="math inline">\(x^{2} \equiv-a^{-1} by^{2}+a^{-1} c(\bmod p) .\)</span> <spanclass="math inline">\((a,p)=(b,p)=1\)</span> 解数 <spanclass="math display">\[\sum_{y=0}^{p-1}\left(1+\left(\frac{-a^{-1} b y^{2}+a^{-1}c}{p}\right)\right)=p+\sum_{y=0}^{p-1}\left(\frac{-a^{-1}b}{p}\right)\left(\frac{y^{2}-c b^{-1}}{p}\right)\\=p+\left(\frac{-a b}{p}\right) \sum_{y=0}^{p-1}\left(\frac{y^{2}-cb^{-1}}{p}\right)= \begin{cases}p+(p-1)\left(\dfrac{-a b}{p}\right),&amp; p \mid c \\ p-\left(\dfrac{-a b}{p}\right), &amp; p \nmidc\end{cases}\]</span> 其中用到上题结论 <span class="math inline">\(\displaystyle\sum_{x=0}^{p-1}\left(\frac{a x^{2}+bx+c}{p}\right)=\left\{\begin{array}{l} -\left(\dfrac{a}{p}\right), \quad\text { 若 } p \not\mid D, \\ (p-1)\left(\dfrac{a}{p}\right), \text { 若} p \mid D . \end{array}\right.\)</span></p><h1id="largetextcolorblue初等数论第九次作业-_textcolorblue2022.4.30"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第九次作业}\ \ \ \\ \ _\textcolor{blue}{2022.4.30}\)</span></h1><h2 id="习题4.3.1">习题4.3.1</h2><p>解下列同余方程:</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(2 x^{2}+3 x+1 \equiv 0 \quad(\bmod28)\)</span>;</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(x^{2} \equiv-1 \quad(\bmod 169)\)</span>;</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(x^{2} \equiv 2 \quad(\bmod 98)\)</span>;</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(3 x^{2}+x+6 \equiv 0 \quad(\bmod 45)\)</span>.</p><hr /><p>解：<span class="math inline">\((1)\)</span> <spanclass="math inline">\(28 \mid(2 x+1)(x+1)\)</span>. 且有 <spanclass="math inline">\((2 x+1, x+1)=(1, x+1)=1\)</span> 两者互素，且<span class="math inline">\(28=4\times 7\)</span> 则</p><p><span class="math inline">\(2 x+1 \equiv 0(\bmod 4), x+1 \equiv0(\bmod 7)\)</span> 或者 $2 x+1 (), x+1 () $</p><p>又或者 <span class="math inline">\(x+1\equiv 0\pmod{28}\)</span> 解得<span class="math inline">\(x \equiv 3,27(\bmod 28)\)</span>.</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(x^{2} \equiv-1(\bmod 13)\)</span> 解得 <spanclass="math inline">\(x=13 k+5,13 k+8\)</span>. 代入 <spanclass="math inline">\((13 k+5)^{2} \equiv-1(\bmod 169)\)</span>可以化简得</p><p><span class="math inline">\(10 k+2 \equiv 0(\bmod 13)\)</span>. 解得<span class="math inline">\(k \equiv 5(\bmod 13)\)</span>. <spanclass="math inline">\((13 k+8)^{2} \equiv-1(\bmod 169)\)</span> 化简得:<span class="math inline">\(3 k \equiv-5(\bmod 13)\)</span></p><p>解得 <span class="math inline">\(k \equiv 7(\bmod 13)\)</span>. 从而<span class="math inline">\(x \equiv 70,99(\bmod 169)\)</span>.</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(x^{2} \equiv 2(\bmod 98)\)</span> <spanclass="math inline">\(x\)</span> 为偶数. 设 <spanclass="math inline">\(x=2 k\)</span> ，则 <span class="math inline">\(2k^{2} \equiv 1(\bmod 49)\)</span>. 即 <span class="math inline">\(k^{2}\equiv 25(\bmod 49)\)</span>. 考虑</p><p><span class="math inline">\(k^{2} \equiv 25(\bmod 7)\)</span> ，解得<span class="math inline">\(k=7 m+2,7 m+5 .\)</span> 分别代入 <spanclass="math inline">\(k^{2} \equiv 25(\bmod 49)\)</span> 解得</p><p><span class="math inline">\(k \equiv 44,5(\bmod 49)\)</span>. 因此<span class="math inline">\(x \equiv 10,88(\bmod 98) .\)</span></p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(3 x^{2}+x+6 \equiv 0(\bmod 45)\)</span>. 两边模<span class="math inline">\(3\)</span> 有 <span class="math inline">\(x\equiv 0(\bmod 3)\)</span>. 令 <span class="math inline">\(x=3y\)</span>. 代入 <span class="math inline">\(9 y^{2}+y+2 \equiv 0(\bmod15) .\)</span></p><p>模 <span class="math inline">\(3\)</span> 知， <spanclass="math inline">\(y \equiv 1(\bmod 3)\)</span>. 设 <spanclass="math inline">\(y=3 z+1\)</span> ，代入可知 <spanclass="math inline">\(2 z^{2}-z-1 \equiv 0(\bmod 5)\)</span>. <spanclass="math inline">\((2 z+1)(z-1) \equiv 0(\bmod 5)\)</span>.</p><p>解得 <span class="math inline">\(z \equiv 1,2(\bmod 5)\)</span>. 从而<span class="math inline">\(x \equiv 12,21(\bmod 45)\)</span>.</p><h2 id="习题5.1.1">习题5.1.1</h2><p>求下列方程的全部整数解：</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(2 x^{2}-5 y^{2}=7\)</span>; <spanclass="math inline">\((2)\)</span> <span class="math inline">\(x^{2}-2 xy^{2}+5 z^{3}+3=0\)</span>;</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(y^{2}=41 x^{3}+3\)</span>; <spanclass="math inline">\((4)\)</span> <span class="math inline">\(x^{2}-xy+y^{2}-x-y=0\)</span>;</p><p><span class="math inline">\((5)\)</span> <spanclass="math inline">\(y^{2}=x^{3}-6\)</span> <spanclass="math inline">\(\tiny\ \)</span> <spanclass="math inline">\((6)\)</span> <spanclass="math inline">\(y^{2}=x^{3}-x\)</span>.</p><hr /><p>解：<span class="math inline">\((1)\)</span> <spanclass="math inline">\(x^{2} \equiv 0,1,2,4(\bmod 7) .\)</span>对原方程两边模 <span class="math inline">\(7\)</span> 知: <spanclass="math inline">\(x^{2}+y^{2} \equiv 0(\bmod 7)\)</span>. 因此 <spanclass="math inline">\(x \equiv y \equiv 0(\bmod 7)\)</span>.</p><p>两边模 <span class="math inline">\(49\)</span> 有 <spanclass="math inline">\(0\equiv 7\pmod{49}\)</span> 矛盾，从而无解</p><p><span class="math inline">\((2)\)</span> 方程两边模 <spanclass="math inline">\(5\)</span> 知 <span class="math inline">\(x^{2}-2x y^{2}+3 \equiv 0(\bmod 5)\)</span> ，故 <spanclass="math inline">\(\left(x-y^{2}\right)^{2} \equiv y^{4}-3(\bmod5)\)</span>. 注意到</p><p><span class="math inline">\(x^{2} \equiv 0,1,-1(\bmod 5),x^{4} \equiv0,1(\bmod 5)\)</span> ，则 <span class="math inline">\(y^4\equiv2,3,4\pmod{5}\)</span> 矛盾，从而无解</p><p><span class="math inline">\((3)\)</span> 两边模 <spanclass="math inline">\(41\)</span> 可知: <spanclass="math inline">\(y^{2} \equiv 3(\bmod 41)\)</span>. 而 <spanclass="math inline">\(\left(\dfrac{3}{41}\right)=\left(\dfrac{41}{3}\right)=\left(\dfrac{-1}{3}\right)=-1\)</span>，故没有整数解.</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(x^{2}-x y+y^{2}-x-y=0\)</span> 主元后 <spanclass="math inline">\(x^2-(y+1)x+y^2-y=0\)</span> 其判别式</p><p><spanclass="math inline">\(\Delta=\sqrt{(y+1)^2-4(y^2-y)}=\sqrt{-3y^2+6y+1}\)</span>为整数，则 <span class="math inline">\(-3y^2+6y+1=t^2\)</span></p><p><span class="math inline">\(3y^2-6y+(t^2-1)=0\)</span> 其判别式 <spanclass="math inline">\(\Delta =\sqrt{6^2-4\cdot 3\cdot(t^2-1)}=2\sqrt{3(4-t^2)}\)</span> 也为完全平方数</p><p>从而 <span class="math inline">\(3(4-t^2)\)</span>为完全平方数，可以得到 <span class="math inline">\(t^2=1,4\)</span> 解得<span class="math inline">\(y=0,1,2\)</span> 回代解得</p><p><spanclass="math inline">\((x,y)=(0,0),(0,1),(1,0),(1,2),(2,1),(2,2)\)</span></p><p><span class="math inline">\((5)\)</span> 方程两边模 <spanclass="math inline">\(8\)</span>. 注意到 <spanclass="math inline">\(y^{2} \equiv 0,1,4(\bmod 8) ， x^{3} \equiv 0, \pm1, \pm 3(\bmod 8)\)</span> ，对比有 <span class="math inline">\(x \equiv7(\bmod 8)\)</span>.</p><p><span class="math inline">\(y^{2}-2=x^{3}-8=(x-2)\left(x^{2}+2x+4\right)=(x-2)\left((x+1)^{2}+3\right)\)</span>. 其中 <spanclass="math inline">\((x+1)^{2}+3 \equiv 3(\bmod 8) .\)</span></p><p>任取它的一个素因子 <span class="math inline">\(p ， p\)</span>为奇数. <span class="math inline">\(y^{2} \equiv 2(\bmod p)\)</span>.因此 <span class="math inline">\(1=\left(\dfrac{2}{p}\right)\)</span>，则 <span class="math inline">\(p \equiv \pm 1(\bmod 8)\)</span>.</p><p>这与 <span class="math inline">\((x+1)^{2}+3 \equiv 3(\bmod8)\)</span> 矛盾，所以原方程没有整数解.</p><p><span class="math inline">\((6)\)</span> <spanclass="math inline">\(y^{2}=x(x-1)(x+1)\)</span> ，当 <spanclass="math inline">\(x=0, \pm 1\)</span> 时， <spanclass="math inline">\(y=0\)</span>. <span class="math inline">\(|x| \geq2\)</span> 时，若 <span class="math inline">\(x\)</span> 是偶数，<spanclass="math inline">\(x, x+1, x-1\)</span> 两两互素.</p><p>因此存在整数 <span class="math inline">\(a, b\)</span> 使得 <spanclass="math inline">\(x=a^{2}, x+1=b^{2}\)</span> ，即 <spanclass="math inline">\(b^{2}-a^{2}=1\)</span> ，其中 <spanclass="math inline">\(b&gt;a&gt;1\)</span>. 显然这是无解的.</p><p>若 <span class="math inline">\(x\)</span> 是奇数，则 <spanclass="math inline">\(\left(\dfrac{y}{2}\right)^{2}=x \cdot\dfrac{x+1}{2} \cdot \dfrac{x-1}{2}\)</span>. 其中 <spanclass="math inline">\(x, \dfrac{x-1}{2}, \dfrac{x+1}{2}\)</span>两两互素，同理，存在整数 <span class="math inline">\(a,b\)</span>使得</p><p><spanclass="math inline">\(a^2=\dfrac{x+1}{2},b^2=\dfrac{x-1}{2},a^2-b^2=1\)</span>故原方程的解为 <spanclass="math inline">\((0,0),(1,0),(-1,0)\)</span>.</p><h1id="largetextcolorblue初等数论第十次作业-_textcolorblue2022.5.8"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第十次作业}\ \ \ \\ \ _\textcolor{blue}{2022.5.8}\)</span></h1><h2 id="习题5.2.1">习题5.2.1</h2><p>求所有正整数 <span class="math inline">\(m\)</span> 和 <spanclass="math inline">\(n\)</span>,使 <spanclass="math inline">\(2^{m}+3^{n}\)</span> 是完全平方.</p><hr /><p>解：由题设 <span class="math inline">\(2^m+3^n=x^2\)</span> 有 <spanclass="math inline">\(2,3\not\mid x\)</span> 方程两边模 <spanclass="math inline">\(3\)</span> 有 <spanclass="math inline">\((-1)^{m}\equiv x^2\equiv 1\pmod{3}\)</span> 则<span class="math inline">\(m\equiv 0\pmod{2}\)</span></p><p><span class="math inline">\(m\geq 2,2^{m}\geq 4,2^m\equiv0\pmod{4}\)</span>，方程两边模 <span class="math inline">\(4\)</span> 有<span class="math inline">\(0+(-1)^{n}\equiv x^2\pmod{4}\)</span> 而<span class="math inline">\(x^2\equiv 0,1\pmod{4}\)</span></p><p>则 <span class="math inline">\(n\equiv 0\pmod{2}\)</span>。令 <spanclass="math inline">\(m=2k,n=2t\)</span>，原方程化为费马方程 <spanclass="math inline">\((2^k)^2+(3^t)^2=x^2\)</span> 本原解满足 <spanclass="math display">\[2^k=2mn,3^t=m^2-n^2\]</span> 且 <span class="math inline">\(m,n\)</span> 一奇一偶，而 <spanclass="math inline">\(2^{k-1}=mn\)</span> 则 <spanclass="math inline">\(n=1,m=2^{k-1}\)</span> 代入有 <spanclass="math display">\[3^t=2^{2(k-1)}-1\Longrightarrow 3^t=(2^{k-1}+1)(2^{k-1}-1)\]</span> 而 <spanclass="math inline">\((2^{k-1}-1,2^{k-1}+1)=1\)</span>，则 <spanclass="math inline">\(2^{k-1}-1=1,k=2,t=1\)</span> 则仅有唯一解 <spanclass="math inline">\(m=4,n=2,2^4+3^2=5^2\)</span></p><h2 id="习题5.2.2">习题5.2.2</h2><p>求不定方程 <span class="math inline">\(3^{x}+4^{y}=5^{z}\)</span>的所有正整数解.</p><hr /><p>解：方程模 <span class="math inline">\(3\)</span> 有 <spanclass="math inline">\(1\equiv 2^z\equiv (-1)^z\pmod{3}\)</span> 得到<span class="math inline">\(z\equiv0\pmod{2}\)</span>。方程模 <spanclass="math inline">\(4\)</span> 有 <spanclass="math inline">\((-1)^x\equiv 1\pmod{5}\)</span></p><p>则 <span class="math inline">\(x\equiv 0\pmod{2}\)</span>，令 <spanclass="math inline">\(x=2r,z=2k\)</span>，原方程化为费马方程 <spanclass="math inline">\((3^r)^2+(2^y)^2=(5^k)^2\)</span> 本原解满足 <spanclass="math display">\[2^y=2mn,3^r=m^2-n^2=(m-n)(m+n)\]</span> 由 <span class="math inline">\(2^{y-1}=mn\)</span> 知 <spanclass="math inline">\(m=2^s,n=2^t\)</span>。有 <spanclass="math inline">\((m+n)-(m-n)=2n=2^{t+1},3\not\mid 2^{t+1}\)</span>则 <span class="math inline">\(m-n=1\)</span></p><p>有 <span class="math inline">\(2^s=2^t+1\)</span>，只有 <spanclass="math inline">\(t=0,s=1\)</span> 唯一解，回代得到唯一解 <spanclass="math inline">\((x,y,z)=(2,2,2)\)</span></p><h2 id="习题5.2.4">习题5.2.4</h2><p>证明: <span class="math inline">\(x^{4}+4 y^{4}=z^{2}\)</span>没有正整数解.</p><hr /><p>证明：假设有解 <span class="math inline">\((x,y,z)\)</span> 若 <spanclass="math inline">\((x,y)&gt;1\)</span> 记素数 <spanclass="math inline">\(p\)</span> 为 <spanclass="math inline">\((x,y)\)</span> 的一个约数，有 <spanclass="math inline">\(p^4\mid x^4+4y^4=z^2\)</span> 得到 <spanclass="math inline">\(p^2\mid z\)</span> 从而</p><p><spanclass="math inline">\((\dfrac{x}{p},\dfrac{y}{p},\dfrac{z}{p^2})\)</span>为原方程的整数解，则有限步操作后总能使得 <spanclass="math inline">\((x,y)=1=(x^2,y^2)\)</span> 若 <spanclass="math inline">\(2\mid x\)</span> 令 <spanclass="math inline">\(x=2t\)</span> 有 <spanclass="math inline">\(2\not\mid y\)</span></p><p>则 <span class="math inline">\(16t^4+4y^4=z^2\Longrightarrowy^4+4t^4=(\dfrac{z}{2})^2\)</span> 与原方程相同，且 <spanclass="math inline">\(2\not\mid y\)</span> ，总可以化为 <spanclass="math inline">\(2\not\mid x\)</span>，有 <spanclass="math inline">\((x^2,2y^2)=1\)</span></p><p>则 <span class="math inline">\(x^2,2y^2,z\)</span>为费马方程的本原解。令 <span class="math inline">\(z\)</span>为解中最小的，由 <span class="math inline">\(2\mid 2y^2\)</span>可知，<span class="math inline">\(m,n\)</span> 一奇一偶，<spanclass="math inline">\((m,n)=1,m&gt;n\)</span> <spanclass="math display">\[x^2=m^2-n^2,2y^2=2mn,z^2=m^2+n^2\]</span> 有 <span class="math inline">\(m^2=x^2+n^2\)</span> 因为 <spanclass="math inline">\((m,n)=1\)</span>，则 <spanclass="math inline">\((x,n)=1\)</span>，$(x,n,m) $也为费马方程的本原解，由 <span class="math inline">\(x\)</span> 为奇数<span class="math display">\[x=c^2-d^2,n=2cd,m=c^2+d^2,y^2=mn=2cd(c^2+d^2)\]</span> 由 <span class="math inline">\(2 \mid mn=y^2,2\midy\)</span>，则 <spanclass="math inline">\(\dfrac{cd(c^2+d^2)}{2}=(\dfrac{y}{2})^2\)</span>为完全平方数，设 <span class="math inline">\(c,d\)</span> 中偶数、奇数为<span class="math inline">\(s,t\)</span></p><p><spanclass="math inline">\(\dfrac{st(s^2+t^2)}{2}=(\dfrac{y}{2})^2\)</span>也成立，令 <span class="math inline">\(s=2k\)</span> 有 <spanclass="math inline">\(kt(4k^2+t^2)=(\dfrac{y}{2})^2\)</span> 又 <spanclass="math inline">\((c,d)=1=(k,t)\)</span> 三者为完全平方数</p><p>则 <span class="math inline">\(k=a^2,t=b^2,4k^2+t^2=c^2\)</span>消元有 <span class="math inline">\(b^4+4a^4=c^2\)</span> 而 <spanclass="math inline">\(c^2=m-d^2&lt;m=\sqrt{z^2-n^2}&lt;z&lt;z^2\)</span></p><p>与假设最小矛盾，从而原方程无解</p><h2 id="习题5.2.6">习题5.2.6</h2><p>证明: <span class="math inline">\(1\)</span> 不是同余数,即不存在面积为 <span class="math inline">\(1 、\)</span>三边长为有理数的直角三角形.</p><hr /><p>证明：原问题等价于满足 <spanclass="math inline">\(a^2+b^2=c^2,ab=2d^2\)</span>的正整数解不存在，假设存在有若 <spanclass="math inline">\((a,b)=2\)</span>，则</p><p><span class="math inline">\(2\mid c,4\mid ab=2d^2,2\midd\)</span>，从而 <spanclass="math inline">\((\dfrac{a}{2},\dfrac{b}{2},\dfrac{c}{2},\dfrac{d}{2})\)</span>也为解，若 <span class="math inline">\((a,b)=p\geq 3\)</span> 则 <spanclass="math inline">\(p^2 \mid c^2,d^2\)</span> 同理</p><p><spanclass="math inline">\((\dfrac{a}{p},\dfrac{b}{p},\dfrac{c}{p},\dfrac{d}{p})\)</span>也为解，在有限步之后，总能使得 <spanclass="math inline">\((a,b)=1\)</span>，满足费马方程，<spanclass="math inline">\(a,b\)</span> 一奇一偶，不妨设 <spanclass="math inline">\(a=2k\)</span></p><p>有 <span class="math inline">\(bk=d^2,(b,k)=1\)</span> 则 <spanclass="math inline">\(b=x^2,k=y^2\)</span> 代入 <spanclass="math inline">\(a^2+b^2=c^2\)</span> 有 <spanclass="math inline">\(4y^4+x^4=c^2\)</span>，由上题知该方程无解</p><h2 id="习题5.3.1">习题5.3.1</h2><p>证明: 形如 <span class="math inline">\(4^{a}(8 k+7)\)</span>的正整数不能表为三个整数的平方和.</p><hr /><p>证明：由 <span class="math inline">\(x^2\equiv 0,1,4\pmod{8}\)</span>计算 <span class="math inline">\(a^2+b^2+c^2\equiv0,1,2,3,4,5,6\not\equiv 7\pmod{8}\)</span> 从而 <spanclass="math inline">\(8k+7\)</span> 的正整数</p><p>不能表示为三个整数平方和。对 <spanclass="math inline">\(4(8k+7)=a^2+b^2+c^2\)</span> 有 <spanclass="math inline">\(x^2\equiv 0,1\pmod{4}\)</span>，而三者之和模 <spanclass="math inline">\(0\)</span>，则</p><p><span class="math inline">\(a^2\equiv b^2\equivc^2\pmod{4}\)</span>，有 <span class="math inline">\(a,b,c\equiv0\pmod{2}\)</span>，则可以转化为 <spanclass="math inline">\(a&#39;^2+b&#39;^2+c&#39;^2=8k+7\)</span>的情况</p><p>从而 <span class="math inline">\(4^a(8k+7)\)</span> 均与 <spanclass="math inline">\(8k+7\)</span>等价，从而不能表示为三个整数的平方和</p><h2 id="习题5.3.2">习题5.3.2</h2><p><span class="math inline">\((1)\)</span>确定哪些整数可表为两个整数的平方差.</p><p><span class="math inline">\((2)\)</span> 证明: 对任意整数 <spanclass="math inline">\(n\)</span>, 不定方程 <span class="math display">\[x^{2}+y^{2}-z^{2}=n\]</span> 均有无穷多组正整数解.</p><hr /><p>解：<span class="math inline">\((1)\)</span> <spanclass="math inline">\(z=x^2-y^2=(x+y)(x-y)\)</span>，而 <spanclass="math inline">\((x+y)-(x-y)=2y\)</span> 从而 <spanclass="math inline">\(z\equiv 0,1,3\pmod{4}\)</span></p><p>而只要 <span class="math inline">\(z\not\equiv2\pmod{4}\)</span>，分三种情况 <span class="math inline">\(z=4k=2\cdot2k,z=4k+1=1\cdot(4k+1),z=4k+3=1\cdot (4k+3)\)</span></p><p>三种情况都对应有 <span class="math inline">\(x,y\)</span>解，从而当且仅当 <span class="math inline">\(z\not\equiv2\pmod{4}\)</span> 时该整数可以表示为两个整数的平方差</p><p><span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\(y^2-z^2=n-x^2\)</span> 且上问给出只要 <spanclass="math inline">\(n-x^2\not \equiv2\pmod{4}\)</span>，就一定有解，而 <span class="math inline">\(x^2\equiv0,1\pmod{4}\)</span></p><p>对 <span class="math inline">\(n\equiv0,1,2,3\pmod{4}\)</span>，所有情况都有 <spanclass="math inline">\(x^2\equiv 0,0,1,0\pmod{4}\)</span> 使得 <spanclass="math inline">\(n-x^2\not \equiv 2\pmod{4}\)</span> 成立</p><p>而满足上述条件的 <span class="math inline">\(x\)</span>有无穷多个，从而对应解 <span class="math inline">\((x,y,z)\)</span>也有无穷多个</p><h2 id="习题5.3.3">习题5.3.3</h2><p>证明: 对任意给定的 <span class="math inline">\(n \geqslant1\)</span>, 均存在连续 <span class="math inline">\(n\)</span> 个正整数,其中每个都不是两个整数的平方和.</p><hr /><p>证明：取 <span class="math inline">\(4k+3\)</span> 型素数 <spanclass="math inline">\(n\)</span> 个，存在正整数 <spanclass="math inline">\(N\)</span> 使得 <span class="math display">\[N=-i+p_{i}\left(\bmod p_{i}^{2}\right) \quad(1 \leqslant i \leqslant n)\]</span> 从而 <span class="math inline">\(N+i(1\leq i\leq n)\)</span>分解后 <span class="math inline">\(p_i\)</span> 的幂次为 <spanclass="math inline">\(1\)</span>，从而不能写成两个整数平方和，则 <spanclass="math inline">\(N+1,\cdots,N+n\)</span> 为所求</p><h1id="largetextcolorblue初等数论第十一次作业-_textcolorblue2022.5.11"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第十一次作业}\ \ \\ \ \ _\textcolor{blue}{2022.5.11}\)</span></h1><h2 id="section">1</h2><p>设 <span class="math inline">\(F\)</span> 是一个域, <spanclass="math inline">\(f(x), g(x) \in F[x]\)</span> 。</p><p><span class="math inline">\((1)\)</span> 证明存在多项式 <spanclass="math inline">\(q(x), r(x) \in F[x]\)</span> 使得 <spanclass="math inline">\(f(x)=g(x) q(x)+r(x)\)</span> 且 <spanclass="math inline">\(r(x)\)</span> 的次数严格小于 <spanclass="math inline">\(g(x)\)</span>;</p><p><span class="math inline">\((2)\)</span> 设 <spanclass="math inline">\(h(x)=(f(x), g(x))\)</span> 是首项系数为 1的最大公因式, 则存在 <span class="math inline">\(p(x), q(x) \inF(x)\)</span> 使得 <span class="math display">\[f(x) p(x)+g(x) q(x)=h(x)\]</span> <span class="math inline">\((3)\)</span> 设 <spanclass="math inline">\(f(x) \in F_{p}[x]\)</span> 且 <spanclass="math inline">\(g(x)\)</span> 是模 <spanclass="math inline">\(f(x)\)</span> 的一个缩同余类。则存在 <spanclass="math inline">\(h(x)\)</span> 使得 <spanclass="math inline">\(g(x) h(x) \equiv 1\)</span> <spanclass="math inline">\((\bmod f(x))\)</span> 。</p><hr /><p>证明：<span class="math inline">\((1)\)</span> 设 <spanclass="math inline">\(f(x),g(x)\)</span> 最高幂次为 <spanclass="math inline">\(x^{n_1},x^{n_2}\)</span>，且系数分别为 <spanclass="math inline">\(a,b\)</span>，不妨设 <spanclass="math inline">\(n_1\geq n_2\)</span>，由非零元素存在乘法逆元</p><p>构造 <span class="math inline">\(h(x)=ab^{-1}x^{n_1-n_2}\)</span>，有<span class="math inline">\(ax^{n_1}-bx^{n_2}\cdotab^{-1}x^{n_1-n_2}=0\)</span>，则 <spanclass="math inline">\(f(x)-h(x)g(x)\)</span> 首项系数被消去。如此</p><p>新的最高幂次不超过 <spanclass="math inline">\(n_1-1\)</span>，执行上述操作 <spanclass="math inline">\(n_1-n_2+1\)</span> 之后，总能得到 <spanclass="math inline">\(h_{tot}(x)=\displaystyle\sum_{i=1}^{n_1-n_2+1}h_{i}(x)\)</span></p><p>使得 <span class="math inline">\(f(x)-g(x)h(x)\)</span>的最高次数严格小于 <span class="math inline">\(g(x)\)</span></p><p><span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\(\small(1)\)</span>中可知，实际上给出了域上的多项式有带余除法，使用辗转相除法 <spanclass="math display">\[f(x)=g(x)q_1(x)+f_1(x),g(x)=f_1(x)q_2(x)+g_1(x),\cdots\]</span> 最终得到 <spanclass="math inline">\(f_N(x),g_{N-1}(x)=ah(x)\)</span>，从而 <spanclass="math inline">\(h(x)=a^{-1}f_{N}(x)\)</span>，一直回代，每次保证为线性组合</p><p>从而有限次数之后总能找到 <spanclass="math inline">\(f(x)q(x)+g(x)p(x)=h(x)\)</span></p><p><span class="math inline">\((3)\)</span> 由 <spanclass="math inline">\(\small(2)\)</span> 可以得到，当 <spanclass="math inline">\((f(x),g(x))=1\)</span> 时，存在 <spanclass="math inline">\(p(x),h(x)\)</span> 使得 <spanclass="math inline">\(f(x)p(x)+g(x)h(x)=1\)</span>，从而 <spanclass="math display">\[g(x)q(x)\equiv 1\pmod{f(x)}\]</span></p><h2 id="section-1">2</h2><p>证明 <span class="math inline">\(\left(x^{a}-1,x^{b}-1\right)=\left(x^{(a, b)}-1\right)\)</span> 。特别的, <spanclass="math inline">\(\left(x^{a^{m}-1}-1,x^{a^{n}-1}-1\right)=x^{a^{(m, n)}}-1\)</span> 。</p><hr /><p>证明：不妨设 <span class="math inline">\(a\geq b\)</span>，<spanclass="math inline">\((x^a-1,x^b-1)=(x^b-1,x^a-x^b)=(x^b-1,x^b(x^{a-b}-1))\)</span></p><p>而 <span class="math inline">\((x^b-1,x^b)=(1,x^b)=1\)</span>，则<span class="math inline">\((x^a-1,x^b-1)=(x^{a-b}-1,x^b-1)\)</span>相当于指数项可以相互加减</p><p>则类比辗转相除法，经过有限步辗转相除后 <spanclass="math inline">\((x^a-1,x^b-1)=(x^{(a,b)}-1,x^{\lambda(a,b)}-1)=x^{(a,b)}-1\)</span></p><h2 id="section-2">3</h2><p>设 <span class="math inline">\(f(x) \in F_{p}[x]\)</span> 。</p><p><span class="math inline">\((1)\)</span> 证明 <spanclass="math inline">\(f(x)^{p}=f\left(x^{p}\right)\)</span>;</p><p><span class="math inline">\((2)\)</span> 证明 <spanclass="math inline">\(f(x)\)</span> 的导函数为 <spanclass="math inline">\(0\)</span> 当且仅当存在 <spanclass="math inline">\(g(x) \in F_{p}[x]\)</span> 使得 <spanclass="math inline">\(f(x)=g\left(x^{p}\right)\)</span> 。</p><hr /><p><span class="math inline">\((1)\)</span> 由费马小定理 <spanclass="math inline">\(f(x)^p=\displaystyle(\sum_{i=0}^{n-1}a_ix^i)^{p}=\sum_{i=0}^{n-1}a_i^px^{ip}+pg(x)=\sum_{i=0}^{n-1}a_i^{p-1}a_i(x^{p})^i=\sum_{i=0}^{n-1}a_i(x^p)^{i}=f(x^p)\)</span></p><p><span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\(f(x)=\displaystyle\sum_{i=0}^{n-1}a_ix^i,f&#39;(x)=\sum_{i=1}^{n-1}ia_ix^{i-1}=0\)</span>从而存在数论倒数的 <span class="math inline">\(p\not\midj\)</span>，<span class="math inline">\(ja_jx^{j-1}=0\Longrightarrowa_j=0\)</span></p><p>从而剩下 <span class="math inline">\(p\mid i\)</span>，使得 <spanclass="math inline">\(a_i\)</span> 不一定为 <spanclass="math inline">\(0\)</span>，则 <spanclass="math inline">\(f(x)=\displaystyle \sum_{p\midi}a_ix^i=g(x^{p})\)</span></p><h2 id="section-3">4</h2><p>证明 <span class="math inline">\(F:=\left\{a+b i \mid a, b \in\mathbb{Z}_{5}\right\}\)</span> 不是一个域。</p><hr /><p>证明：假设 <span class="math inline">\(F\)</span>为一个域，由域有乘法逆元，考虑 <span class="math inline">\(1+2i\)</span>的逆，在 <span class="math inline">\(F\)</span> 中设为 <spanclass="math inline">\(a+bi\)</span>，显然 <spanclass="math inline">\(F\)</span> 的乘法单位元为 <spanclass="math inline">\(1\)</span>，</p><p>故 <span class="math inline">\((1+2i)(a+bi)\equiv1\pmod{5}\)</span>，整理为 <span class="math inline">\(a\equiv2b+1\pmod{5},2a\equiv -b\pmod{5}\)</span>，得 <spanclass="math inline">\(0\equiv 1\pmod{5}\)</span> ，矛盾</p><h1id="largetextcolorblue初等数论第十二次作业-_textcolorblue2022.5.21"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第十二次作业}\ \ \\ \ \ _\textcolor{blue}{2022.5.21}\)</span></h1><h2 id="柯召7.22">柯召7.22</h2><p>求出 <span class="math inline">\(F_{2}\)</span>上的全部四次不可约多项式.</p><hr /><p>解：计算 $_{2}(4)=((1)2<sup>4+(2)2</sup>2+(4)2^1)=3 $从而共有 <spanclass="math inline">\(3\)</span> 个四次不可约多项式， <spanclass="math inline">\(F_2\)</span> 上，有</p><p>一次不可约多项式为 <span class="math inline">\(x, x+1\)</span>. 有<span class="math inline">\(x^2\equiv x\pmod{2}\)</span> 从而当且仅当<span class="math inline">\(f(x)\)</span>的非零系数有偶数个时都不是不可约多项式（验证）</p><p><span class="math inline">\(F_{2}\)</span> 上的多项式 <spanclass="math inline">\(f(x)\)</span> 被 <spanclass="math inline">\(x\)</span> 整除当且仅当 <spanclass="math inline">\(f(0)=0\)</span> 从而排除掉上述情况有 <spanclass="math inline">\(\mathrm{F}_{2}\)</span>上的不含有一次因子的四次多项式 <span class="math display">\[x^{4}+x^{3}+x^{2}+x+1, x^{4}+x^{3}+1, x^{4}+x^{2}+1, x^{4}+x+1\]</span> 而 <spanclass="math inline">\(x^{4}+x^{2}+1=\left(x^{2}+x+1\right)^{2}\)</span>可约，则该多项式排除，则 <span class="math inline">\(F_{2}\)</span>​上的全部四次不可约多项式为 <span class="math display">\[x^{4}+x^{3}+x^{2}+x+1, x^{4}+x^{3}+1, x^{4}+x+1\]</span></p><h2 id="柯召7.23">柯召7.23</h2><p>证明：若 <span class="math inline">\(p \neq q\)</span> 是两个奇素数,则 <span class="math inline">\(F_{p}\)</span> 上首项系数为 <spanclass="math inline">\(1\)</span> 的 <spanclass="math inline">\(q\)</span> 次不可约多项式的个数为 <spanclass="math inline">\(\dfrac{p^{q}-p}{q}\)</span>.</p><hr /><p>证明：由 <span class="math inline">\(\Phi_{p}(q)=\displaystyle\frac{1}{q} \sum_{l \mid q} \mu(l) p^{\frac{q}{l}}=\dfrac{1}{q}(1\cdotp^q+(-1)\cdot p)=\dfrac{p^q-p}{q}\)</span></p><h2 id="柯召7.27">柯召7.27</h2><p>证明: 若 <span class="math inline">\(\left(r,p^{n}-1\right)=1\)</span>, 则 <spanclass="math inline">\(F_{p^{n}}\)</span> 中任一个元 <spanclass="math inline">\(\alpha\)</span> 是 <spanclass="math inline">\(F_{p^n}\)</span> 中的 <spanclass="math inline">\(r\)</span> 次幂元，若 <spanclass="math inline">\(r \mid p^n-1\)</span>，则 <spanclass="math inline">\(\alpha\)</span> 是 <spanclass="math inline">\(F_{p^n}\)</span> 中的 <spanclass="math inline">\(r\)</span> 次幂元</p><p>的充分必要条件是 <spanclass="math inline">\(\alpha^{\frac{p^n-1}{r}}=1\)</span></p><hr /><p>证明：若 <span class="math inline">\(\left(r,p^{n}-1\right)=1\)</span> ，则 <span class="math inline">\(r\)</span>存在数论倒数 <span class="math inline">\(r^{-1}\)</span>。 取 <spanclass="math inline">\(F_{p}[x]\)</span> 中的一个 <spanclass="math inline">\(n\)</span> 次不可约多项式 ，取模 <spanclass="math inline">\(f\)</span> 的原根 <spanclass="math inline">\(g\)</span>.</p><p>则对任意的 <span class="math inline">\(\alpha \in F_{p^{n}}\)</span>，都存在整数 <span class="math inline">\(s\)</span> ，使得 <spanclass="math inline">\(\alpha \equiv g^{s}(\bmod f)\)</span>. 令 <spanclass="math inline">\(t=s r^{-1}\)</span> ，则 <spanclass="math inline">\(\left(g^{t}\right)^{r} \equiv g^{s} \equiv\alpha(\bmod f)\)</span></p><p>从而 <span class="math inline">\(\alpha\)</span> 是 <spanclass="math inline">\(r\)</span> 次幂元</p><p>若 <span class="math inline">\(r\mid p^n-1\)</span>，<spanclass="math inline">\(\Longrightarrow:\)</span> <spanclass="math inline">\(\alpha=\beta^r,\alpha^{\frac{p^n-1}{r}}=\beta^{p^n-1}\equiv1\pmod{f}\)</span> <span class="math inline">\(\Longleftarrow:\)</span>设 <span class="math inline">\(\alpha=g^s\)</span> 代入有 <spanclass="math display">\[\alpha^{\frac{p^n-1}{r}}=1=g^{\frac{s(p^n-1)}{r}}\equiv 1\pmod{f}\]</span> 由原根的性质可得 <span class="math inline">\(r\mid s\)</span>从而 <span class="math inline">\(\alpha\)</span> 为 <spanclass="math inline">\(r\)</span> 次幂元</p><h2 id="柯召7.28">柯召7.28</h2><p>证明：设 <span class="math inline">\(\alpha_{1}, \cdots,\alpha_{p^{n}-1}\)</span> 是 <spanclass="math inline">\(F_{p^{n}}\)</span> 中的全体非蕶元, 则 <spanclass="math display">\[\alpha_{1} \cdots \alpha_{p^{n}-1}=-1 \text {. }\]</span></p><hr /><p>证明：类比威尔逊定理的证明，取 <spanclass="math inline">\(F_{p}[x]\)</span> 中的一个 <spanclass="math inline">\(n\)</span> 次不可约多项式，然后取其原根 <spanclass="math inline">\(g\)</span> 则 <span class="math display">\[\alpha_{1} \cdots \alpha_{p^{n}-1} \equivg^{1+2+\cdots+\left(p^{n}-1\right)}\equiv\left(g^{\frac{p^{n}-1}{2}}\right)^{p^{n}} \equiv(-1)^{p^{n}}\equiv-1(\bmod f)\]</span> 其中 <span class="math inline">\(g^{\frac{p^n-1}{2}}\equiv-1\pmod{p^n-1}\)</span> 为原根的性质</p><blockquote><p><strong>特殊情况</strong>，考虑 <spanclass="math inline">\(p=2\)</span> 有 <spanclass="math inline">\((-1)^{p^n}\equiv 1\equiv -1\pmod{f}\)</span>从而对所有素数成立</p></blockquote><h2 id="柯召7.32">柯召7.32</h2><p>证明：若 <span class="math inline">\(F_{p}\)</span> 上 <spanclass="math inline">\(n\)</span> 次不可约多项式的周期为 <spanclass="math inline">\(l\)</span>, 则 <spanclass="math inline">\(p\)</span> 模 <spanclass="math inline">\(l\)</span> 的次数为 <spanclass="math inline">\(n\)</span>.</p><hr /><p>证明：由原根的性质可知，<span class="math inline">\(l\midp^n-1\)</span>，令 <span class="math inline">\(p^x\equiv1\pmod{l}\)</span> 显然次数 <span class="math inline">\(r\)</span> 满足<span class="math inline">\(r\mid n\)</span>，</p><p>于是 <span class="math inline">\(f \mid x^{p^{r}}-x\)</span> ，但<span class="math inline">\(f\)</span> 是 <spanclass="math inline">\(n\)</span> 次的，故 <span class="math inline">\(n\leq r\)</span>. 于是 <span class="math inline">\(r=n\)</span> ，即<span class="math inline">\(p\)</span> 模 <spanclass="math inline">\(l\)</span> 的次数为 <spanclass="math inline">\(n\)</span>.</p><h1id="largetextcolorblue初等数论第十三次作业-_textcolorblue2022.5.28"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第十三次作业}\ \ \\ \ \ _\textcolor{blue}{2022.5.28}\)</span></h1><h2 id="柯召7.34">柯召7.34</h2><p>分别求出 <span class="math inline">\(F_{2}\)</span> 上多项式 <spanclass="math inline">\(f(x)=(x+1)\left(x^{3}+x+1\right)\left(x^{3}+x^{2}+1\right)\)</span>和 $g(x) = (x^2+x+1)$</p><p><span class="math inline">\(\left(x^{4}+x+1\right)^{3}\)</span>的周期.</p><hr /><p>解：由定理可知周期等于 <spanclass="math inline">\([l_1,\cdots,l_n]e,e=\{2^r:r\in Z,r\geq 0,2^r\geq1(f(x)),3(g(x))\}=1,4\)</span>，求 <spanclass="math inline">\(l_i\)</span></p><p>由 <span class="math inline">\(x+1\mid x-1\)</span> 最小正整数为<span class="math inline">\(1\)</span>，则对 <spanclass="math inline">\(f(x)\)</span> 中 <spanclass="math inline">\((x+1)\)</span> 的周期为 <spanclass="math inline">\(1\)</span>，对 <spanclass="math inline">\((x^3+x+1)\)</span> 和 <spanclass="math inline">\((x^3+x^2+1)\)</span></p><p>均为不可约多项式，且 <span class="math inline">\(2^3-1=7\)</span>为素数，从而两者周期均为 <span class="math inline">\(7\)</span>，故<span class="math inline">\(f(x)\)</span> 周期为 <spanclass="math inline">\([1,7,7]\cdot 1=7\)</span></p><p><span class="math inline">\(x^2-1=3\)</span> 为素数，且 <spanclass="math inline">\(x^2+x+1\)</span> 为不可约多项式，则其周期为 <spanclass="math inline">\(3\)</span></p><p>对 <span class="math inline">\((x^4+x+1)\)</span> 有 <spanclass="math inline">\(2^4-1=15\)</span> 为合数，而分别计算$x<sup>5,x</sup>31 $ <span class="math display">\[\begin{gathered}x^5=x\cdot x^4\equiv x(-x-1)\equiv -x^2-x\equiv -x(x+1)\not \equiv1\pmod{x^4+x+1}\\x^3\not\equiv1\pmod{x^4+x+1}\end{gathered}\]</span></p><p>故 <span class="math inline">\(15\)</span> 为 <spanclass="math inline">\(x^4+x+1\)</span> 的周期，<spanclass="math inline">\(g(x)\)</span> 周期为 <spanclass="math inline">\([3,15]\cdot 4=60\)</span>，故 <spanclass="math inline">\(f(x)\)</span> 和 <spanclass="math inline">\(g(x)\)</span> 的周期为 <spanclass="math inline">\(7\)</span> 和 <spanclass="math inline">\(60\)</span></p><h2 id="柯召7.36">柯召7.36</h2><p>求 <span class="math inline">\(F_{2}\)</span> 上多项式 <spanclass="math inline">\(x^{2 \cdot 3^{k}}+x^{3^{k}}+1\)</span> 的周期,并证明它是不可约的。</p><hr /><p>解：由立方差公式 <span class="math inline">\(x^{3\cdot 3^{k}}-1=(x^{2\cdot 3^{k}}+x^{3^{k}}+1)(x^{3^{k}}-1)\)</span> 则 <spanclass="math inline">\(x^{2 \cdot 3^{k}}+x^{3^{k}}+1\midx^{3^{k+1}}-1\)</span> 令其周期为 <spanclass="math inline">\(r\)</span></p><p>有 <span class="math inline">\(r\mid 3^{k+1}\)</span>，而考虑 <spanclass="math inline">\(x^{2 \cdot 3^{k}}+x^{3^{k}}+1\mid x^r-1\)</span>的最高次项，<span class="math inline">\(r\geq 2\cdot 3^k\)</span>，故<span class="math inline">\(r=3^{k+1}\)</span></p><p>假设该多项式不可约，则其能被分解为若干个不可约多项式之积，由不可约多项式周期相关定理有<span class="math display">\[3^{k+1}=[l_1,l_2,\cdots,l_n]e\]</span> 由 <span class="math inline">\(e=2^r\)</span> 则 <spanclass="math inline">\(e=1,\exists\ s\in[1,n],s.t.l_s=3^{k+1}\)</span>令该不可约多项式为 <span class="math inline">\(p(x)\)</span>令其最高幂次项为 <span class="math inline">\(n\)</span>，有 <spanclass="math display">\[3^{k+1}\mid 2^n-1\]</span> 两边模 <span class="math inline">\(3\)</span> 有 <spanclass="math inline">\((-1)^n\equiv 1\pmod{3}\)</span>，则 <spanclass="math inline">\(n\equiv 0\pmod{2}\)</span>，取 <spanclass="math inline">\(n=2t\)</span> 代入有 <spanclass="math inline">\(3^{k+1}\mid 4^t-1\)</span></p><p>将其展开 <span class="math inline">\(4^t-1=(1+3)^t-1\)</span> 其中<span class="math inline">\(3\)</span> 的最小幂次为 <spanclass="math inline">\(k+1\)</span> 则 <spanclass="math inline">\(3^{k+1}\mid 3t,3^k\mid t\)</span> 则 <spanclass="math inline">\(n=2t\geq 2\cdot 3^k\)</span></p><p>恰为 <span class="math inline">\(f(x)\)</span>的最高幂次，从而该多项式即为其本身，故其不可约</p><h2 id="柯召8.16">柯召8.16</h2><p>设 <span class="math inline">\(p\)</span> 是一个奇素数, <spanclass="math inline">\(d=(m, p-1)\)</span>, 证明: <spanclass="math inline">\(N\left(x^{m}=a\right)=N\left(x^{d}=a\right)\)</span>.</p><hr /><p>证明：当 <span class="math inline">\(x^d\equiv a\pmod{p}\)</span>无解时，<span class="math inline">\(x^m\equiv a\pmod{p}\)</span>也无解（否则 <span class="math inline">\((x^{\frac{m}{d}})^d\)</span>为前者的解）</p><p>又当 <span class="math inline">\(x^d\equiv a\pmod{p}\)</span>有解时，其解有 <span class="math inline">\(d\)</span> 个，设为 <spanclass="math inline">\(x_1,\cdots,x_d\)</span> ，又注意到 <spanclass="math inline">\((\dfrac{m}{d},p-1)=1\)</span> 则有</p><p><span class="math inline">\(p-1\)</span> 的完系均为 <spanclass="math inline">\(\dfrac{m}{d}\)</span> 次剩余，则 <spanclass="math inline">\(x^m\equiv a\pmod{p}\)</span> 等价于 <spanclass="math inline">\(x^{\frac{m}{d}}\equiv x_i\pmod{p}\)</span>，每个方程都只有一解</p><p>（取 <span class="math inline">\(p\)</span> 的原根 <spanclass="math inline">\(g\)</span>，有 <spanclass="math inline">\(\dfrac{m}{d}\mbox{ind}_gx\equiv\mbox{ind}_gx_i\pmod{p-1}\)</span> 则只有一解）故两者解为 <spanclass="math inline">\(d\)</span> 个</p><h2 id="柯召8.21">柯召8.21</h2><p>证明：若 <span class="math inline">\(k \mid p-1, \chi\)</span> 是<span class="math inline">\(F_{p}\)</span> 上一个 <spanclass="math inline">\(k\)</span> 阶特征, 则 <spanclass="math display">\[\sum_{j=0}^{k-1} \chi^{j}(-1)=\left\{\begin{array}{l}k, \quad \text { 当 }\left(\dfrac{-1}{p}\right)_{k}=1 \text { 时, } \\0 , \quad \text { 当 }\left(\dfrac{-1}{p}\right)_{k}\neq 1 \text { 时. }\end{array}\right.\]</span></p><hr /><p>证明：由定理可知，<span class="math inline">\(\displaystyle\sum_{j=0}^{k-1} \chi^{j}(-1)=N(x^k=-1)\)</span>，则当 <spanclass="math inline">\((\dfrac{-1}{p})_k=1\)</span> 时，显然该方程有<span class="math inline">\(k\)</span> 个解，当 <spanclass="math inline">\((\dfrac{-1}{p})_k=1\)</span> 时，该方程无解，故<span class="math inline">\(\sum_{j=0}^{k-1}\chi^{j}(-1)=\left\{\begin{array}{l} k, \quad \text { 当}\left(\dfrac{-1}{p}\right)_{k}=1 \text { 时, } \\ 0 , \quad \text { 当}\left(\dfrac{-1}{p}\right)_{k}\neq 1 \text { 时. }\end{array}\right.\)</span></p><h1id="largetextcolorblue初等数论第十四次作业-_textcolorblue2022.6.2"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第十四次作业}\ \ \\ \ \ _\textcolor{blue}{2022.6.2}\)</span></h1><h2 id="阶以及雅可比和">阶以及雅可比和</h2><p>设 <span class="math inline">\(\chi \neq \chi_{0}\)</span> 是 <spanclass="math inline">\(F_{p}\)</span> 上的一个特征。设 <spanclass="math inline">\(\rho(a)=\left(\dfrac{a}{p}\right)\)</span>是唯一的 <span class="math inline">\(2\)</span> 阶特征。设 <spanclass="math inline">\(p \neq 2\)</span> 。</p><p><span class="math inline">\((1)\)</span> 证明 <spanclass="math display">\[\sum_{t \in F_{p}} \chi\left(1-t^{2}\right)=J(\chi, \rho)\]</span> <span class="math inline">\((2)\)</span> 设 <spanclass="math inline">\(0 \neq k \in F_{p}\)</span> 。证明 <spanclass="math display">\[\sum_{t \in F_{p}}\chi(t(k-t))=\frac{\chi\left(k^{2}\right)}{\chi\left(2^{2}\right)}J(\chi, \rho)\]</span> (提示：利用 <span class="math inline">\((1)\)</span> )</p><p><span class="math inline">\((3)\)</span> 证明 <spanclass="math inline">\(J(\chi, \chi)=\chi(2)^{-2} J(\chi, \rho)\)</span>;(提示：利用 <span class="math inline">\((2)\)</span>)</p><p><span class="math inline">\((4)\)</span> 设 <spanclass="math inline">\(\chi^{2} \neq \chi_{0}\)</span> 。证明 <spanclass="math inline">\(g_{1}(\chi)^{2}=\chi(2)^{-2} J(\chi, \rho)g_{1}\left(\chi^{2}\right)\)</span>;</p><p><span class="math inline">\((5)\)</span> 设 <spanclass="math inline">\(p \equiv 1(\bmod 3)\)</span> 且 <spanclass="math inline">\(\chi\)</span> 是一个 <spanclass="math inline">\(3\)</span> 阶特征。证明 <spanclass="math inline">\(g_1(\chi)^{3}=p \cdot \chi(2) J(\chi,\rho)\)</span>;</p><p><span class="math inline">\((6)\)</span> 设 <spanclass="math inline">\(p \equiv 1(\bmod 4)\)</span> 且 <spanclass="math inline">\(\chi\)</span> 是一个 <spanclass="math inline">\(4\)</span> 阶特征。证明 <spanclass="math inline">\(\chi^{2}=\rho\)</span> 且 <spanclass="math inline">\(J(\chi, \chi)=\chi(-1) J(\chi, \rho)\)</span>。</p><p>(提示: 证明 <spanclass="math inline">\(\chi(-1)=(\dfrac{2}{p})\)</span>)</p><hr /><p>解：<span class="math inline">\((1)\)</span> 由雅可比定义，代入 <spanclass="math inline">\(\left(\dfrac{a}{p}\right)=N(x^2=a)-1\)</span> 有<span class="math display">\[\begin{gathered}J(\chi,\rho)=\displaystyle \sum_{t\in F_p}\chi(1-t)\rho(t)=\sum_{t\inF_p}\chi(1-t)(N(x^2=t)-1)\\=\sum_{t\in F_p}\chi(1-t)N(x^2=t)-\sum_{t\in F_p}\chi(1-t)=\sum_{t\in F_p}\chi(1-t)N(x^2=t)\end{gathered}\]</span> 而 <span class="math inline">\(N(x^2=t)\)</span>对求和有贡献的有两类，当 <span class="math inline">\(N(x^2=t)=1\)</span>时 <span class="math inline">\(t=0\)</span>，当 <spanclass="math inline">\(N(x^2=t)=2\)</span> 时，<spanclass="math inline">\(t\)</span> 为二次剩余 <spanclass="math display">\[J(\chi,\rho)=\chi(1-0)\cdot 1+2\cdot \sum_{(\frac{t}{p})=1}\chi(1-t)\]</span> 而对每一个二次剩余 <spanclass="math inline">\(t=b^2\)</span>，且 <spanclass="math inline">\(\chi(1-b^2)\)</span> 中 <spanclass="math inline">\(\pm b\)</span> 对应同一个 <spanclass="math inline">\(t\)</span>，且保证所有的 <spanclass="math inline">\(b\)</span> 不同，构成 <spanclass="math inline">\(F_p\)</span> 中所有非零元素 <spanclass="math display">\[J(\chi,\rho)=1+2\cdot \sum_{b\in F_p,b\neq 0}\chi(1-b^2)=\sum_{t \inF_{p}} \chi\left(1-t^{2}\right)\]</span> <span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\((2,p)=1\)</span> 以及 <spanclass="math inline">\((k,p)=1\)</span>，则 <spanclass="math inline">\(\{2t\ |\ t\in F_p\}\)</span> 和 <spanclass="math inline">\(\{kt\ |\ t\in F_p\}\)</span> 构成 <spanclass="math inline">\(F_p\)</span> 中的完系，则 <spanclass="math display">\[\begin{gathered}\chi(k)^2\sum_{t\in F_p}\chi(1+t)\chi (1-t)=\sum_{t\inF_p}\chi(k+kt)\chi (k-kt)=\chi(k)^2\sum_{t\in F_p}\chi(1-t^2)=\sum_{t\inF_p}\chi(k+t)\chi (k-t)\\=\sum_{t\in F_p}\chi(t)\chi (2k-t)=\sum_{t\in F_p}\chi(2t)\chi (2k-2t)=\chi(2)^2\sum_{t\in F_p}\chi(t)\chi(k-t)\end{gathered}\]</span> 代入 <span class="math inline">\(\small (1)\)</span> 中结论<span class="math inline">\(\displaystyle \sum_{t \in F_{p}}\chi\left(1-t^{2}\right)=J(\chi, \rho)\)</span> 则得到 <spanclass="math inline">\(\displaystyle \sum_{t \in F_{p}}\chi(t(k-t))=\frac{\chi\left(k^{2}\right)}{\chi\left(2^{2}\right)}J(\chi, \rho)\)</span></p><p><span class="math inline">\((3)\)</span> 取 <spanclass="math inline">\(k=1\)</span> 有 <spanclass="math inline">\(\displaystyle \sum_{t \in F_{p}}\chi(t(1-t))=\frac{\chi\left(1^2\right)}{\chi\left(2^{2}\right)} J(\chi,\rho)=\sum_{t \in F_{p}}\chi(t)\chi(1-t)=J(\chi,\chi)\)</span></p><p>而 <span class="math inline">\(\chi(1)=1\)</span>，代入得 <spanclass="math inline">\(J(\chi, \chi)=\chi(2)^{-2} J(\chi,\rho)\)</span></p><p><span class="math inline">\((4)\)</span>由雅可比和与高斯和之间的关系有 <spanclass="math inline">\(J(\chi,\chi)=\dfrac{g_1(\chi)\cdot g_1(\chi)}{g_1(\chi ^2)}=\chi(2)^{-2} J(\chi, \rho)\)</span></p><p>移项整理得到 <span class="math inline">\(g_{1}(\chi)^{2}=\chi(2)^{-2}J(\chi, \rho) g_{1}\left(\chi^{2}\right)\)</span></p><p><span class="math inline">\((5)\)</span> 在 <spanclass="math inline">\(\small(4)\)</span> 等式左右乘以 <spanclass="math inline">\(g_1(\chi)\)</span> 可以得到 <spanclass="math inline">\(g_{1}(\chi)^{3}=\chi(2)^{-2} J(\chi, \rho)g_{1}\left(\chi^{2}\right)g_1(\chi)\)</span>，而由于 <spanclass="math inline">\(\chi\)</span> 为 <spanclass="math inline">\(3\)</span> 阶特征</p><p>则 <span class="math inline">\(\chi(2)^3=1\)</span> 则 <spanclass="math inline">\(g_{1}(\chi)^{3}=\chi(2) J(\chi, \rho)g_{1}\left(\chi^{2}\right)g_1(\chi)\)</span> 由于 <spanclass="math display">\[\overline{g(\chi)}=\sum_{t} \overline{\chi(t)} \zeta^{-t}=\chi(-1)\sum_{t} \overline{\chi(-t)} \zeta(-t)=\chi(-1) g(\chi)\]</span> 有 <span class="math inline">\(\chi(-1)^3=1\)</span> 且 <spanclass="math inline">\(\chi(-1)^2=\chi(1)=1\)</span>，故 <spanclass="math inline">\(\chi(-1)=1\)</span>，代入有 <spanclass="math display">\[g\left(\chi^{2}\right) g(\chi)=g(\bar{\chi}) g(\chi)=\overline{g(\chi)}g(\chi)=|g(\chi)|^{2}=p\]</span> 则 <span class="math inline">\(g_1(\chi)^{3}=p \cdot \chi(2)J(\chi, \rho)\)</span></p><p><span class="math inline">\((6)\)</span> 由于 <spanclass="math inline">\(\chi\)</span> 的阶为 <spanclass="math inline">\(4\)</span>，则 <spanclass="math inline">\(\chi^2\)</span> 的阶为 <spanclass="math inline">\(2\)</span>，而 <spanclass="math inline">\(\rho\)</span> 为唯一的二阶特征，故 <spanclass="math inline">\(\chi ^2=\rho\)</span>，由高斯和与雅可比和之间关系<span class="math display">\[g(\chi)^{4}=\chi(-1) p J(\chi, \chi) J\left(\chi,\chi^{2}\right)=\chi(-1) p J(\chi, \chi) J(\chi, \rho)\]</span> 又对 <span class="math inline">\(\small(4)\)</span>中的等式两边平方得到 <span class="math display">\[g(\chi)^{4}=\chi(2)^{-4} J(\chi,\rho)^{2}\left[g\left(\chi^{2}\right)\right]^{2}\]</span> 而由 <span class="math inline">\(4\)</span> 阶特征可以得到<spanclass="math inline">\(\chi\left(2^{4}\right)=\chi^{4}(2)=\chi_0(2)=1\)</span>,and <spanclass="math inline">\(g\left(\chi^{2}\right)=g(\rho)=g\)</span>, so<spanclass="math inline">\(\left[g\left(\chi^{2}\right)\right]^{2}=g^{2}\)</span>，而有 <span class="math display">\[g_{a} g_{-a}=(\dfrac{a}{p})(\dfrac{-a}{p}) g^{2}=(\dfrac{-1}{p})g^{2}\Longrightarrow\sum_{a} g_{a} g_{-a}=\left(\frac{-1}{p}\right)(p-1)g^{2}\]</span> 而使用另一种方法计算左边有 <span class="math display">\[g_{a} g_{-a}=\sum_{x}\sum_{y}\left(\frac{x}{p}\right)\left(\frac{y}{p}\right)\zeta^{a(x-y)}=\sum_{x}\sum_{y}\left(\frac{x}{p}\right)\left(\frac{y}{p}\right) \delta(x, y)p=(p-1) p\]</span> 两式对比有 <spanclass="math inline">\(g^{2}=(\dfrac{-1}{p})p\)</span> 由于 <spanclass="math inline">\(p\equiv 1\pmod{4}\)</span> 则 <spanclass="math inline">\((\dfrac{-1}{p})=1\)</span> 则 <spanclass="math inline">\(g^2=p\)</span>，则有 <span class="math display">\[\chi(-1) p J(\chi, \chi) J(\chi, \rho)=J(\chi, \rho)^{2} p\]</span> 由于 <span class="math inline">\(g(\chi)^{4} \neq 0\)</span>以及 <span class="math inline">\(|g(\chi)|^{2}=p\)</span>，有 <spanclass="math inline">\(J(\chi, \rho) \neq 0\)</span>, 则两边约去 <spanclass="math inline">\(pJ(\chi,\rho)\)</span> 有 <spanclass="math display">\[\chi(-1) J(\chi, \chi)=J(\chi, \rho)\]</span> <spanclass="math inline">\([\chi(-1)]^{2}=\chi\left((-1)^{2}\right)=\chi(1)=1\)</span>,故 <span class="math inline">\(\chi(-1)=\pm 1\)</span>, 从而 <spanclass="math inline">\(\chi(-1)^{-1}=\chi(-1)\)</span>, 移项得到 <spanclass="math display">\[J(\chi, \chi)=\chi(-1) J(\chi, \rho)\]</span></p><h1id="largetextcolorblue初等数论第十五次作业-_textcolorblue2022.6.12"><spanclass="math inline">\(\large\textcolor{blue}{初等数论第十五次作业}\ \ \\ \ \ _\textcolor{blue}{2022.6.12}\)</span></h1><h2 id="雅可比和以及加密解密">雅可比和以及加密解密</h2><ol type="1"><li><p>设 <span class="math inline">\(p\)</span> 是一个奇素数, 计算</p><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(N\left(x^{3}-y^{3}=1\right), p=37\)</span>;</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(N\left(9 x^{2}+8 y^{2}=a\right), p=17, a \inF_{17}^{*}\)</span> 。</p></li><li><p>使用加密密钥 <span class="math inline">\(E(x) \equiv x+3(\bmod26)\)</span> 将信息 “mathematics” 加密.</p></li><li><p>已知加密密钥 <span class="math inline">\(E(x) \equiv x+5(\bmod26)\)</span> 。将信息 "lttijajsnsl" 解密.</p></li><li><p>假设加密密钥 <span class="math inline">\(E(x) \equiv 3 x+1(\bmod26)\)</span>, 求去密密钥 <span class="math inline">\(D(y)\)</span>,并将信息 “EBOBO BEBOK" 解密。</p></li></ol><hr /><p>1、解：<span class="math inline">\((1)\)</span> 计算 <spanclass="math inline">\(M(x^3+(-y)^3=1)=\displaystyle\sum_{i=0}^2\sum_{j=0}^2\chi^i(a)\chi^j(1-a)=p+J(\chi,\chi)+J(\chi^2,\chi^2)-2\chi(-1)\)</span></p><p><spanclass="math inline">\(=p-2+J(\chi,\chi)+J(\chi^2,\chi^2)=p-2+J(\chi,\chi)+\overline{J(\chi,\chi)}\)</span>令 <spanclass="math inline">\(J(\chi,\chi)=a+b\omega,\omega=-\dfrac{1}{2}+\dfrac{\sqrt{3}}{2}i\)</span></p><p>得到 <span class="math inline">\(p-2+2a-b\)</span>，由分解定理 <spanclass="math inline">\(4p=(2a-b)^2+27(\dfrac{b}{3})^2=148=11^2+27\cdot1\Longrightarrow a=7,b=3\)</span> 要求 <spanclass="math inline">\(2a-b\equiv 1\pmod{3}\)</span></p><p>则 <span class="math inline">\(2a-b=-11\)</span> <spanclass="math inline">\(N(x^3-y^3=1)=37-2+(-11)=24\)</span></p><p><span class="math inline">\((2)\)</span> 由 <spanclass="math inline">\(p=17\)</span> 得 <spanclass="math inline">\(N(9x^2+8y^2=a)=N(9(x^2-y^2)=a)\)</span> 而 <spanclass="math inline">\(\{3x\}\)</span> 与 <spanclass="math inline">\(\{x\}\)</span> 均取遍所有 <spanclass="math inline">\(F_{p}^*\)</span>，故化解为 <spanclass="math inline">\(N(x^2-y^2=a)\)</span></p><p>由 <spanclass="math inline">\((\dfrac{-1}{p})=(-1)^{\frac{p-1}{2}}=1\)</span> 知<span class="math inline">\(-1\)</span> 为二次剩余，从而 <spanclass="math inline">\(-y^2=(a_0)^2(y)^2=(a_0y)^2\)</span> 又可化解为<span class="math inline">\(N(x^2+y^2=a)\)</span> <spanclass="math display">\[\begin{gathered}N(x^2+y^2=a)=\displaystyle \sum_{i=0}^1\sum_{j=0}^1\chi^i(t)\chi^j(a-t)=p+J(\chi,\chi_0)+J(\chi_0,\chi)+J(\chi,\chi)\\=p-\chi(-1)=p+\sum_{c\in F_p}\chi(\dfrac{c}{a-c})\end{gathered}\]</span> 而 <span class="math inline">\(\dfrac{c}{a-c}=t\Longrightarrowc=\dfrac{at}{t+1}\)</span> 只有 <spanclass="math inline">\(t=-1\)</span> 元素没有遍历，从而 <spanclass="math inline">\(\displaystyle \sum_{c\inF_p}\chi(\dfrac{c}{a-c})=0-\chi(-1)=-1\)</span></p><p>故原方程有 <span class="math inline">\(17+(-1)=16\)</span> 个解</p><p>2、使用 <span class="math inline">\(\mbox{python}\)</span>编程计算，代码如下，加密结果为 <spanclass="math inline">\(\mathbf{pdwkhpdwlfv}\)</span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">charList = <span class="hljs-string">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span><br>word = <span class="hljs-string">&quot;mathematics&quot;</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> word:<br>    <span class="hljs-built_in">print</span>(charList[(<span class="hljs-built_in">ord</span>(i) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&quot;a&quot;</span>) + <span class="hljs-number">3</span>) % <span class="hljs-number">26</span>], end = <span class="hljs-string">&quot;&quot;</span>)<br></code></pre></td></tr></table></figure><p>3、只需改动一行代码，解密结果为 <spanclass="math inline">\(\mathbf{goodevening}\)</span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(charList[(<span class="hljs-built_in">ord</span>(i) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&quot;a&quot;</span>) - <span class="hljs-number">5</span>) % <span class="hljs-number">26</span>], end = <span class="hljs-string">&quot;&quot;</span>)<br></code></pre></td></tr></table></figure><p>4、反解同余方程得 <span class="math inline">\(x\equiv 9\cdot(y-1)\equiv 9y+17\pmod{26}\)</span>，代码如下，解密结果为 <spanclass="math inline">\(\mathbf{BANAN\ \ ABAND}\)</span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(charList[(<span class="hljs-number">9</span> * (<span class="hljs-built_in">ord</span>(i) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&quot;A&quot;</span>)) + <span class="hljs-number">17</span>) % <span class="hljs-number">26</span>], end = <span class="hljs-string">&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>初等数论</category>
      
    </categories>
    
    
    <tags>
      
      <tag>初等数论</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>The Saltwater Room</title>
    <link href="/2022/06/10/%E7%94%9F%E6%B4%BB/%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E6%B5%8B%E8%AF%95/"/>
    <url>/2022/06/10/%E7%94%9F%E6%B4%BB/%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E6%B5%8B%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<p><div id="dplayer1" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer1"),"theme":"#FADFA3","loop":true,"lang":"zh-cn//语言","screenshot":true,"hotkey":true,"preload":"auto","volume":0.9,"video":{"url":"https://lr-tsinghua11.github.io/video/The Saltwater\nRoom.mp4","pic":"https://lr-tsinghua11.github.io/img/深空之海.jpg"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></p>]]></content>
    
    
    <categories>
      
      <category>生活</category>
      
      <category>视频播放</category>
      
    </categories>
    
    
    <tags>
      
      <tag>视频播放</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>A practice for Calculus final exam</title>
    <link href="/2022/06/03/%E6%95%B0%E5%AD%A6/%E5%BE%AE%E7%A7%AF%E5%88%86A(2)%E6%9C%9F%E6%9C%AB%E6%A8%A1%E6%8B%9F%E8%80%83%E8%AF%95%E8%AF%95%E9%A2%98/"/>
    <url>/2022/06/03/%E6%95%B0%E5%AD%A6/%E5%BE%AE%E7%A7%AF%E5%88%86A(2)%E6%9C%9F%E6%9C%AB%E6%A8%A1%E6%8B%9F%E8%80%83%E8%AF%95%E8%AF%95%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>一、选择题</p><p>1、马鞍面 <span class="math inline">\(z=x y\)</span> 被圆柱面 <spanclass="math inline">\(x^{2}+y^{2}=1\)</span>所截，截得的有界部分曲面的面积为 <spanclass="math inline">\((B)\)</span></p><ol type="A"><li><p><span class="math inline">\(\dfrac{1}{3} \pi(2\sqrt{2}+1)\)</span></p></li><li><p><span class="math inline">\(\dfrac{2}{3} \pi(2\sqrt{2}-1)\)</span></p></li><li><p><span class="math inline">\(\dfrac{1}{3} \pi(2\sqrt{2}-1)\)</span></p></li><li><p><span class="math inline">\(\dfrac{2}{3}\pi(\sqrt{2}-1)\)</span></p></li></ol><p>2、设曲线 <span class="math inline">\(L\)</span> 为从点 <spanclass="math inline">\(A(-1,1)\)</span> 沿曲线 <spanclass="math inline">\(y=x^{2}\)</span> 到点 <spanclass="math inline">\(B(0,0)\)</span> 再沿直线 <spanclass="math inline">\(y=0\)</span> 到点 <spanclass="math inline">\(C(2,0)\)</span> 的路径，则 <spanclass="math inline">\(\displaystyle \int_{L}\left(12x+\mathrm{e}^{y}\right) \mathrm{d} x+\left(x \mathrm{e}^{y}-\cosy\right) \mathrm{d} y=\)</span> <spanclass="math inline">\((A)\)</span></p><ol type="A"><li><p><span class="math inline">\(20+\mathrm{e}+\sin1\)</span></p></li><li><p><span class="math inline">\(2 \mathrm{e}+\sin 1\)</span></p></li><li><p><span class="math inline">\(10+\mathrm{e}^{2}+\sin1\)</span></p></li><li><p><span class="math inline">\(\mathrm{e}+\sin 1\)</span></p></li></ol><p>3、幂级数 <span class="math inline">\(\displaystyle\sum_{n=1}^{\infty} \frac{1}{n}(x-1)^{n}\)</span> 的收敛域为 <spanclass="math inline">\((B)\)</span></p><ol type="A"><li><p><span class="math inline">\([0,2]\)</span></p></li><li><p><span class="math inline">\([0,2)\)</span></p></li><li><p><span class="math inline">\((0,1)\)</span></p></li><li><p><span class="math inline">\([0,1]\)</span></p></li></ol><p>4、设 <span class="math inline">\(f\)</span> 连续, 交换累次积分的次序<span class="math inline">\(\displaystyle \int_{1}^{2} \mathrm{~d} x\int_{0}^{x} f(x, y) \mathrm{d} y=\)</span> <spanclass="math inline">\((B)\)</span></p><ol type="A"><li><p><span class="math inline">\(\displaystyle \int_{0}^{2}\mathrm{dy} \int_{y}^{2} f(x, y) \mathrm{d} x\)</span></p></li><li><p><span class="math inline">\(\displaystyle \int_{0}^{1}\mathrm{~d} y \int_{1}^{2} f(x, y) \mathrm{d} x+\int_{1}^{2} \mathrm{~d}y \int_{y}^{2} f(x, y) \mathrm{d} x\)</span></p></li><li><p><span class="math inline">\(\displaystyle \int_{0}^{x}\mathrm{dy} \int_{1}^{2} f(x, y) \mathrm{d} x\)</span></p></li></ol><p>5、设 <span class="math inline">\(L\)</span> 是球面 <spanclass="math inline">\(x^{2}+y^{2}+z^{2}=1\)</span> 与平面 <spanclass="math inline">\(x+y+z=0\)</span> 的交线，则 <spanclass="math inline">\(\displaystyle \int_{L} x^{2} \mathrm{~d}l=\)</span> <span class="math inline">\((C)\)</span></p><ol type="A"><li><p><span class="math inline">\(2 \pi\)</span></p></li><li><p><span class="math inline">\(\pi\)</span></p></li><li><p><span class="math inline">\(\displaystyle \frac{2}{3}\pi\)</span></p></li><li><p><span class="math inline">\(\displaystyle \frac{1}{2}\pi\)</span></p></li></ol><p>6、级数 <span class="math inline">\(\displaystyle\sum_{n=1}^{\infty}(-1)^{n+1} \frac{2^{n}}{n !}\)</span> 的收敛性为<span class="math inline">\((C)\)</span></p><ol type="A"><li><p>条件收敛</p></li><li><p>发散</p></li><li><p>绝对收敛</p></li></ol><p>7、设 <span class="math inline">\(\Omega\)</span> 为由圆柱面 <spanclass="math inline">\(x^{2}+y^{2}=1\)</span>, 锥面 <spanclass="math inline">\(z=\sqrt{x^{2}+y^{2}}\)</span> 和平面 <spanclass="math inline">\(z=0\)</span> 所围成的空间有界区域，则三重积分<span class="math inline">\(\displaystyle \iiint_{\Omega} z \mathrm{~d}x \mathrm{~d} y \mathrm{~d} z=\)</span> <spanclass="math inline">\((A)\)</span></p><ol type="A"><li><p><span class="math inline">\(\displaystyle\frac{\pi}{4}\)</span></p></li><li><p><span class="math inline">\(\pi\)</span></p></li><li><p><span class="math inline">\(\displaystyle\frac{\pi}{2}\)</span></p></li><li><p>2</p></li></ol><p>二、填空题</p><p>8、设 <span class="math inline">\(2 \pi\)</span> 周期函数 <spanclass="math inline">\(f(x)=\left\{\begin{array}{l}4 ; x \in[-\pi, 0) \\0 ; x \in[0, \pi)\end{array}\right.\)</span> 的形式 Fourier级数的和函数为 <span class="math inline">\(S(x)\)</span> ，则 <spanclass="math inline">\(S(0)=\stackrel{\Large2}{\_\_\_\_\_\_}\)</span></p><p>9、若 <span class="math inline">\((x+3 y) \mathrm{d} x+(k x+y)\mathrm{d} y=0\)</span> 为全微分方程，则常数 <spanclass="math inline">\(k=\stackrel{\Large 3}{\_\_\_\_\_\_}\)</span></p><p>10、柱面 <span class="math inline">\(x^{2}+y^{2}=2 x\)</span>夹在锥面 <span class="math inline">\(z=\sqrt{x^{2}+y^{2}}\)</span>和平面 <span class="math inline">\(z=0\)</span> 之间部分的面积为 <spanclass="math inline">\(\stackrel{\Large 8}{\_\_\_\_\_\_}\)</span></p><p>11、设 <span class="math inline">\(S\)</span> 为单位球面 <spanclass="math inline">\((x-1)^{2}+(y-2)^{2}+(z-3)^{2}=1\)</span> ，则<span class="math inline">\(\dfrac{1}{\pi} \displaystyle\iint_{S}(x+y+z) \mathrm{d} S=\stackrel{\Large24}{\_\_\_\_\_\_}\)</span></p><p>12、设 <span class="math inline">\(\overrightarrow{\mathbf{F}}(x, y,z)=(y z, z x, x y)\)</span> ，则 <spanclass="math inline">\(\|\operatorname{rot}\overrightarrow{\mathbf{F}}(x, y, z)\|=\stackrel{\Large0}{\_\_\_\_\_\_}\)</span></p><p>13、封闭曲线 <spanclass="math inline">\(\left(x^{2}+y^{2}\right)^{2}=2\left(x^{2}-y^{2}\right)(x\geq 0)\)</span> 所围区域的面积为 <spanclass="math inline">\(\stackrel{\Large 1}{\_\_\_\_\_\_}\)</span></p><p>14、设 <span class="math inline">\(L^{+}\)</span>为逆时针旋转的椭圆<span class="math inline">\(x^{2}+4 y^{2}=1\)</span> ，则 <spanclass="math inline">\(\displaystyle \oint_{L^{+}} \frac{x^{2}\mathrm{~d} x+y^{3} \mathrm{~d} y}{x^{2}+4 y^{2}}=\stackrel{\Large0}{\_\_\_\_\_\_}\)</span></p><p>15、设 <span class="math inline">\(L: x^{2}+y^{2}=1\)</span> ，则<span class="math inline">\(\displaystyle \frac{1}{\pi}\int_{L}(x+y)^{2} \mathrm{~d} l=\stackrel{\Large2}{\_\_\_\_\_\_}\)</span></p><p>16、设曲面 <span class="math inline">\(\mathrm{S}^{+}:z=1\left(x^{2}+y^{2} \leq 1\right)\)</span> ，方向向上。则 <spanclass="math inline">\(\displaystyle \frac{1}{\pi} \iint_{\mathrm{S}^{+}}x \mathrm{~d} y \wedge \mathrm{d} z+y \mathrm{~d} z \wedge \mathrm{d}x+z \mathrm{~d} x \wedge \mathrm{d} y=\stackrel{\Large1}{\_\_\_\_\_\_}\)</span></p><p>17、设 <span class="math inline">\(f(x)\)</span> 是以 2为周期的周期函数， <span class="math inline">\(f(x)=x ， x\in[0,1]\)</span> 。若 <span class="math inline">\(f(x)\)</span>的形式Fourier级数为 <span class="math inline">\(\displaystyle\sum_{n=1}^{\infty} b_{n} \sin n \pi x\)</span> ，则 <spanclass="math inline">\(5 \pi b_{5}=\stackrel{\Large2}{\_\_\_\_\_\_}\)</span></p><p>18、设 <span class="math inline">\(f(x, y)=x^{2} y^{2}\)</span>，则在点 <span class="math inline">\((1,1)\)</span> 处， <spanclass="math inline">\(\operatorname{div}(\operatorname{grad}f)=\stackrel{\Large 4}{\_\_\_\_\_\_}\)</span></p><p>19、记 <spanclass="math inline">\(L^{+}\)</span>为逆时针旋转的有向封闭曲线 <spanclass="math inline">\(|x|+|y|=1\)</span> ，则 <spanclass="math inline">\(\displaystyle \frac{1}{\pi} \oint_{L^{+}} \frac{x\mathrm{~d} y-y \mathrm{~d} x}{x^{2}+y^{2}}=\stackrel{\Large2}{\_\_\_\_\_\_}\)</span></p><p>20、设 <span class="math inline">\(L^{+}\)</span>为从 <spanclass="math inline">\((0,0)\)</span> 点到 <spanclass="math inline">\((1,2)\)</span> 点的有向线段，则 <spanclass="math inline">\(\displaystyle \int_{L^{+}} x y^{2} \mathrm{~d}x+x^{2} y \mathrm{~d} y=\stackrel{\Large 2}{\_\_\_\_\_\_}\)</span></p><p>三、主观题</p><p>1、设 <span class="math inline">\(\Omega\)</span> 为由 <spanclass="math inline">\(z=1-\left(x^{2}+y^{2}\right)\)</span> 和 <spanclass="math inline">\(x^{2}+y^{2}+z^{2}=1\)</span>围成的空间有界区域，求 <span class="math inline">\(\displaystyle\iiint_{\Omega} z \mathrm{~d} x \mathrm{~d} y \mathrm{~d} z\)</span><span class="math inline">\(\stackrel{\\dfrac{\pi}{12}}{\_\_\_\_\_\_}\)</span></p><p>2、证明函数项级数 <span class="math inline">\(\displaystyle\sum_{k=1}^{\infty} k^{2} \mathrm{e}^{-k x}\)</span> 的和函数 <spanclass="math inline">\(S(x)\)</span> 在其收敛域内连续可微。</p>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>微积分 A(2)</category>
      
    </categories>
    
    
    <tags>
      
      <tag>微积分 A(2)</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Functional plotter</title>
    <link href="/2022/05/25/%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0%E7%BB%98%E5%9B%BE%E5%99%A8%E5%A4%A7%E4%BD%9C%E4%B8%9A%E6%8A%A5%E5%91%8A/"/>
    <url>/2022/05/25/%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0%E7%BB%98%E5%9B%BE%E5%99%A8%E5%A4%A7%E4%BD%9C%E4%B8%9A%E6%8A%A5%E5%91%8A/</url>
    
    <content type="html"><![CDATA[<center>面向对象</center><center>空教室，录音放。先继承，再封装。</center><center>写模板，搞工厂。郑成伟，凌精望。</center><center>谢谢你，非常棒！精品书，快推广！</center><h1 id="函数绘图器">函数绘图器</h1><h2 id="效果呈现">效果呈现</h2><h3 id="用户入界面">用户入界面</h3><p>函数绘图器的用户输入 <span class="math inline">\(\mbox{ui}\)</span>界面如下，其中点击 <code>θ</code> 按钮之后，函数表达式文本字符串会增加<span class="math inline">\(\theta\)</span>字符串，用户在该界面中输入表达式、精度、自变量 <spanclass="math inline">\(x\)</span>取值范围等信息，输入结束之后，绘图器会自动识别函数表达式类型，结合步长以及定义域生成对应的图像。</p><p><img src="https://pic.imgdb.cn/item/628c5b40094754312947880c.jpg" style="zoom:70%;" /></p><h3 id="有理函数">有理函数</h3><p>本函数绘图器首先实现只与加减乘除相关的基本函数，如<strong>多项式函数、带括号的多项式函数、有理分式函数</strong>。三者统一表达式为<span class="math inline">\(f(x)=\dfrac{P(x)}{Q(x)}\)</span> ，其中<span class="math inline">\(P(x)\)</span> 和 <spanclass="math inline">\(Q(x)\)</span> 均为多项式且 <spanclass="math inline">\(Q(x)\neq0\)</span>，绘制一些函数图像如下图所示：</p><p><img src="https://pic.imgdb.cn/item/628bac030947543129840abd.jpg" style="zoom:45%;" /><span class="math display">\[\large 多项式函数:\ y=2x^3-x^2-3x+2,x\in[-1.5,1.5]\]</span><img src="https://pic.imgdb.cn/item/628bac670947543129853239.jpg" style="zoom:60%;" /><span class="math display">\[\large 含括号多项式函数:\ y=(x+1)\cdot (x-1)\cdot (x-2),x\in[-1.5,2.5]\]</span></p><p><img src="https://pic.imgdb.cn/item/628bb7ce0947543129a22f14.jpg" style="zoom:30%;" /><span class="math display">\[\large 有理分式函数:\ y=\dfrac{x^2+1}{x^4+1},x\in[-2,2]\]</span></p><h3 id="其余初等函数">其余初等函数</h3><p>同时，该函数绘图器实现了<strong>三角函数、指数函数、对数函数</strong>的绘制</p><p><img src="https://pic.imgdb.cn/item/628c5c40094754312948df9a.jpg" style="zoom:30%;" /><span class="math display">\[\large 三角混合函数:\ y=\sin x +\cos x,x\in[-5,5]\]</span><img src="https://pic.imgdb.cn/item/628bb30c094754312995dbfc.jpg" style="zoom:40%;" /><span class="math display">\[\large 指数函数:\ y=e^x,x\in[-2,1.5]\]</span><img src="https://pic.imgdb.cn/item/628bb5ff09475431299db82e.jpg" style="zoom:50%;" /><span class="math display">\[\large 对数函数:\ y=\ln x,x\in[0.05,2]\]</span></p><h3 id="极坐标函数">极坐标函数</h3><p>当点击 <span class="math inline">\(\theta\)</span>按钮时，绘图器会自动在表达式后面增加 <spanclass="math inline">\(\theta\)</span> 字符串，同时定义域会自动修改为<spanclass="math inline">\([0,2\pi]\)</span>（可修改），以绘制极坐标函数：</p><p><img src="https://pic.imgdb.cn/item/628c3d4f094754312922da9b.jpg" style="zoom:40%;" /><span class="math display">\[\large 阿基米德螺旋线:\ \rho=\theta,\theta\in[0,\dfrac{3}{2}\pi]\]</span><img src="https://pic.imgdb.cn/item/628bb8790947543129a33300.jpg" style="zoom:40%;" /><span class="math display">\[\large 星形线:\ \rho=1-\sin \theta,\theta\in[0,2\pi]\]</span><img src="https://pic.imgdb.cn/item/628c3c4d094754312921f7f2.jpg" style="zoom:40%;" /><span class="math display">\[\large 极坐标函数(有理分式):\\rho=\dfrac{\theta-1}{\theta+1},\theta\in[0,2\pi]\]</span></p><h3 id="混合函数">混合函数</h3><p>上述函数可以组合成更一般的初等函数，一些<strong>比较优雅</strong>的函数如下图所示</p><p><img src="https://pic.imgdb.cn/item/628c3b2f094754312920a828.jpg" style="zoom:40%;" /><span class="math display">\[\large 三角函数与多项式混合:\ y=(x+1)\cdot (\sin x+1),x\in[-2,2]\]</span><img src="https://pic.imgdb.cn/item/628c6a8909475431295d6cc6.jpg" style="zoom:50%;" /><span class="math display">\[\large 三角函数与指数混合:\ y=\cos x\cdot e^x,\theta\in[0,2\pi]\]</span><img src="https://pic.imgdb.cn/item/628c98b20947543129a67d4b.jpg" style="zoom:60%;" /><span class="math display">\[\large 指数函数和多项式混合:\ y=(x^2-1)e^x,x\in[-1,1]\]</span></p><h3 id="极限修复函数">极限修复函数</h3><p>除了一些定义域上连续可微的函数，本函数绘图器实现极限修复功能，可以绘制<strong>存在第一类间断点以及第二类间断点的函数</strong>，例如：</p><p><img src="https://pic.imgdb.cn/item/628c519609475431293bb1c0.jpg" style="zoom:40%;" /><span class="math display">\[\large 与e相关的函数:\ y=x\ln(1+\dfrac{1}{x}),x\in[0,2]\]</span><img src="https://pic.imgdb.cn/item/628c5829094754312943dcc9.jpg" style="zoom:50%;" /><span class="math display">\[\large 一次函数:\ y=\dfrac{2x^2}{x},x\in[-2,2]\]</span><img src="https://pic.imgdb.cn/item/628c4d0e094754312935d3af.jpg" style="zoom:40%;" /><span class="math display">\[\large 正弦极限函数:\ y=\dfrac{\sin x}{x},x\in[-5,5]\]</span></p><h2 id="框架构建">框架构建</h2><p>该函数绘图器大作业使用 <span class="math inline">\(\mbox{QT}\)</span>编写，共编写 <span class="math inline">\(18\)</span> 个文件（ <spanclass="math inline">\(8\)</span> 个头文件，<spanclass="math inline">\(8\)</span> 个 <spanclass="math inline">\(\mbox{C++}\)</span> 文件，<spanclass="math inline">\(2\)</span> 个 <spanclass="math inline">\(\mbox{ui}\)</span> 文件）</p><p>其中 <span class="math inline">\(\mbox{Utils.h}\)</span>头文件中定义一些数学常数（如 <span class="math inline">\(\pi,e\)</span>），以及一些<strong>内联函数</strong>，形成一种<strong>函数工具包</strong>便于调用，其余除生成实例对象的<span class="math inline">\(\mbox{main.cpp}\)</span>之外均分为头文件和源文件 <spanclass="math inline">\((\mbox{.h/cpp})\)</span>，且每对文件只针对一个类，各种类之间尽量<strong>解耦</strong>以及<strong>模块化</strong>，各文件之间的层级关系以及功能如下图所示：</p><pre><code class="mermaid" >flowchart TD    A([main.cpp]) --实例对象--> B([mainwindow.h/cpp])    C((mainwindow.ui)) --用户输入--> B    B -->|后端图像| D([latexImg.h/cpp])    B --->|前端展示| E([dialog.h/cpp])    B --后端数据--> F([Expression.h/cpp])    F --直角坐标系--> G([recExp.h/cpp])    F --极坐标系--> H([polarExp.h/cpp])    G --表达式以及异常处理--> I[(vector< double > x,y)]    H --表达式以及异常处理--> I    D --转换latex格式--> J[downloader.h/cpp]J --URL网络请求--> K[(QPixmap img)]K --图像背景更换--> L{graph}I --线性重排以及调整--> LE --> M((dialog.ui))M --高精度计时器-->LN[Utils.h] --内联函数-->B</code></pre><p>对于绘制函数图像这一需求，设计上先分为<strong>前端和后端</strong>，后端处理分为数据双列表的计算以及<span class="math inline">\(\LaTeX\)</span>图像的获取，前端将后端得到的内容进行重排以及处理，最终展示得到相应的含<span class="math inline">\(\LaTeX\)</span> 表达式的图像</p><h2 id="实现细节">实现细节</h2><h3 id="mboxutils.h-工具函数"><spanclass="math inline">\(\mbox{Utils.h}\)</span> 工具函数</h3><p>该头文件实现一些工具函数，有字符串处理、背景颜色更换、获取 <spanclass="math inline">\(\mbox{vector}\)</span> 对象中的最大值最小值、使用<span class="math inline">\(\mbox{C++}\)</span> 文件流的操作转换 <spanclass="math inline">\(\mbox{double}\)</span> 类型数据和 <spanclass="math inline">\(\mbox{string}\)</span>类型数据几种函数。例如其中更改背景颜色的工具函数中使用 <spanclass="math inline">\(\mbox{QColor}\)</span>类创建白色和灰色实例对象，将从网络上获取到的 <spanclass="math inline">\(\LaTeX\)</span>图像中的白色背景转换为灰色，以适应函数图像的背景：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//更改背景颜色</span><br><span class="hljs-function"><span class="hljs-keyword">inline</span> QPixmap <span class="hljs-title">changeBackGroundColor</span><span class="hljs-params">(QPixmap img)</span></span>&#123;<br>    <span class="hljs-function">QColor <span class="hljs-title">white</span><span class="hljs-params">(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>)</span></span>;<br>    <span class="hljs-function">QColor <span class="hljs-title">grey</span><span class="hljs-params">(<span class="hljs-number">240</span>, <span class="hljs-number">240</span>, <span class="hljs-number">240</span>)</span></span>;<br>    QImage image = img.<span class="hljs-built_in">toImage</span>();<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> w = <span class="hljs-number">0</span>;w &lt; image.<span class="hljs-built_in">width</span>();w++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> h = <span class="hljs-number">0</span>; h &lt; image.<span class="hljs-built_in">height</span>();h++)&#123;<br>            QRgb rgb = image.<span class="hljs-built_in">pixel</span>(w, h);<br>            <span class="hljs-keyword">if</span> (rgb == white.<span class="hljs-built_in">rgb</span>())<br>                image.<span class="hljs-built_in">setPixel</span>(w, h, grey.<span class="hljs-built_in">rgba</span>());<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> QPixmap::<span class="hljs-built_in">fromImage</span>(image);<br>&#125;<br></code></pre></td></tr></table></figure><p>该函数可以将以白色为背景的图片转换为以灰色为背景的图片：</p><p><img src="https://pic.imgdb.cn/item/628b8d0509475431292d1d3a.jpg" style="zoom:20%;" /></p><h3 id="内联函数">内联函数</h3><p><span class="math inline">\(\mbox{Utils.g}\)</span>文件中均使用内联函数，<span class="math inline">\(\mbox{wiki}\)</span>上对 <code>inline function</code> 的定义如下：</p><blockquote><p>It serves as a compiler directive that suggests (but does notrequire) that the <strong>compiler</strong> substitute the body of thefunction inline by performing <strong>inline expansion</strong>, i.e. byinserting the function code at the address of each function call,thereby saving the overhead of a function call.</p></blockquote><p>可见，内联函数通过直接在调用点展开的方式节约函数调用的开销，这对于一些工具函数是合理的，毕竟这些工具函数不需要专门的类加以封装，对于所有类中的方法，均可以直接进行调用展开即可。</p><p>在 <span class="math inline">\(\mbox{C++}\)</span> 中也可以使用 <spanclass="math inline">\(\mbox{lambda}\)</span> 匿名函数实现函数的插入。<span class="math inline">\(\mbox{lambda}\)</span> 表达式是 <spanclass="math inline">\(\mbox{C++}\)</span> 发展史上的一个重大事件，也是<span class="math inline">\(\mbox{C++}\)</span>支持函数式编程的重要一环。</p><p><strong><span class="math inline">\(\mbox{C++}\)</span>既融合了面向对象编程的约束，也融合了函数式编程的自由，一张一弛，乃编程之道</strong>。<spanclass="math inline">\(\mbox{lambda}\)</span>表达式在数学上可以证明为图灵完备的，其开创了 <spanclass="math inline">\(\mbox{C++}\)</span> 的一个崭新编程范式。</p><p>具体来说，<span class="math inline">\(\mbox{lambda}\)</span>表达式可以看做是一个临时使用的、嵌入在几乎任何地方的函数，简单示例如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">auto</span> maxVec = [](vector&lt;<span class="hljs-type">double</span>&gt; x)&#123; <span class="hljs-keyword">return</span> *<span class="hljs-built_in">max_element</span>(x.<span class="hljs-built_in">begin</span>(), x.<span class="hljs-built_in">end</span>()); &#125;;<br>    <span class="hljs-comment">// maxVec 为 lambda 表达式，代表一个函数</span><br>    vector&lt;<span class="hljs-type">double</span>&gt; a&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>&#125;;<br>    cout &lt;&lt; <span class="hljs-built_in">maxVec</span>(a) &lt;&lt; endl;<span class="hljs-comment">// 使用起来相当于一个函数，可重复调用多个 Vector </span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>在编写代码过程中，对于一些不需要专门声明的函数，可以使用上述 <spanclass="math inline">\(\mbox{lambda}\)</span> 表达式，<spanclass="math inline">\(\mbox{lambda}\)</span>表达式还可以使将函数内部的局部变量进行捕获，防止函数作用完成之后原始数据丢失的情况，由于该特性没有在代码编写中使用，这里不再展开。</p><h3 id="后端数据处理">后端数据处理</h3><p>采用正则表达式的方法对表达式中的对各种运算进行逐一搜索递归计算，下面给出所有正则表达式运算优先级代码，在初等函数的分类下，共<span class="math inline">\(17\)</span> 个</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::regex Expression::priority[<span class="hljs-number">17</span>]&#123;<br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(.*)\\+(.*)&quot;</span>),              <span class="hljs-comment">//0，加</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(.*)\\-(.*)&quot;</span>),              <span class="hljs-comment">//1，减</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(.*)\\*(.*)&quot;</span>),              <span class="hljs-comment">//2，乘</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(.*)/(.*)&quot;</span>),                <span class="hljs-comment">//3，除</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(.*)\\^(.*)&quot;</span>),              <span class="hljs-comment">//4，次方</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;sin(.*)&quot;</span>),                  <span class="hljs-comment">//5，正弦</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;cos(.*)&quot;</span>),                  <span class="hljs-comment">//6，余弦</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;tan(.*)&quot;</span>),                  <span class="hljs-comment">//7，正切</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;arcsin(.*)&quot;</span>),               <span class="hljs-comment">//8，反正弦</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;arccos(.*)&quot;</span>),               <span class="hljs-comment">//9，反余弦</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;arctan(.*)&quot;</span>),               <span class="hljs-comment">//10，反正切</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;log\\((.*),(.*)\\)&quot;</span>),       <span class="hljs-comment">//11，以 10 为底对数</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;ln(.*)&quot;</span>),                   <span class="hljs-comment">//12，以 e 为底对数</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;(^(-?\\d+)(\\.\\d+)?$)&quot;</span>),   <span class="hljs-comment">//13，单个常数（包括任何小数）</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;x&quot;</span>),                        <span class="hljs-comment">//14，自变量符号 x</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;e&quot;</span>),                        <span class="hljs-comment">//15，自然底数 e</span><br>    std::<span class="hljs-built_in">regex</span>(<span class="hljs-string">&quot;π&quot;</span>)                         <span class="hljs-comment">//16，圆周率 π</span><br>&#125;;<br></code></pre></td></tr></table></figure><p>运算级较低的符号应该放在最后计算，由于递归的特点，其应该在前面进行检测，在运算时，只需要依次遍历每个正则表达式，若符合要求，则将表达式拆成几个部分进行递归计算，其流程图（仅有<span class="math inline">\(2\)</span> 次递归）如下：</p><pre><code class="mermaid" >flowchart TDA[A operator B] --> B[A]A[A operator B] --- C(operator)A[A operator B] --> D[B]B <--> O[a1]B <--> P[operator]B <--> Q[a2]B --data--> CD --data--> CD <--> R[b1]D <--> S[operator]D <--> T[b2]C -->Z[result]</code></pre><p>对于输入表达式有误进行异常处理：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//合法、括号不匹配、分子不为0且分母为0、分子分母均为0（可能存在极限）、非括号运算符错误、常数错误（小数点出错）、函数无定义</span><br>    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">judge</span>&#123;isLegal, mismatch, divisorZero, perhapsLim, operatorInlegal, constantInlegal, undefined&#125;;<br>    std::map&lt;<span class="hljs-type">double</span>, judge&gt; judges;<br></code></pre></td></tr></table></figure><p>采用枚举各种错误的方式，对于括号不匹配，分母为 <spanclass="math inline">\(0\)</span>等一些异常处理进行相应的判断。使用标准库中的 <spanclass="math inline">\(\mathbf{map}\)</span> 数据结构，将对应自变量 <spanclass="math inline">\(x\)</span>与相关判断构成映射关系，方便之后统一处理，例如对于 <code>/</code>的处理如下，其中由于计算机浮点数误差，采用比较 <spanclass="math inline">\(\mbox{tolerance}\)</span> 误差的方法进行判定：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++">   <span class="hljs-comment">//正则表达式以 / 为界切分为两部分，调用 str() 函数构造两个新的 Expression 实例对象</span><br><span class="hljs-keyword">if</span> (std::<span class="hljs-built_in">regex_search</span>(<span class="hljs-keyword">this</span>-&gt;exp, m, priority[<span class="hljs-number">3</span>]))&#123;<br>       Expression e1&#123; m[<span class="hljs-number">1</span>].<span class="hljs-built_in">str</span>(), x &#125;;<br>       Expression e2&#123; m[<span class="hljs-number">2</span>].<span class="hljs-built_in">str</span>(), x &#125;;<br>       <span class="hljs-comment">//分子&quot;不为0&quot;，分母&quot;为0&quot;</span><br>       <span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(e2) &lt; tol &amp;&amp; <span class="hljs-built_in">fabs</span>(e1) &gt; tol)<br>           judges[x] = judge::divisorZero;<br>       <span class="hljs-comment">//分子&quot;为0&quot;，分母也&quot;为0&quot;，有可能存在极限</span><br>       <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-built_in">fabs</span>(e2) &lt; tol &amp;&amp; <span class="hljs-built_in">fabs</span>(e1) &lt; tol)<br>           judges[x] = judge::perhapsLim;<br>       cout &lt;&lt; errorStrings[judges[x]] &lt;&lt; endl;<br>       <span class="hljs-keyword">return</span> (<span class="hljs-built_in">int</span>(judges[x]) == <span class="hljs-number">0</span>)? e1 / e2 : <span class="hljs-number">0</span>;<br>   &#125;<br></code></pre></td></tr></table></figure><p>最后在处理 <code>vector&lt;double&gt; x,y</code>时若出现极限可能存在的情况，考虑其两侧的函数值，如果两者差异过大，则该处极限不存在，如果两者差异不大，则该处极限可以用两侧的点取平均得到近似解，写成数学表达式有<span class="math display">\[\begin{gathered}|\lim_{x\to x_0^+}f(x)-\lim_{x\to x_0^-}f(x)|&lt;\mbox{tolerance} ,\lim_{x\to x_0}f(x)\ \  \mbox{exists}\\|\lim_{x\to x_0^+}f(x)-\lim_{x\to x_0^-}f(x)|\geq \mbox{tolerance} ,\lim_{x\to x_0}f(x)\ \  \mbox{doesn&#39;t exist}\end{gathered}\]</span></p><p>相关处理函数如下所示：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-built_in">int</span>(x.<span class="hljs-built_in">size</span>()); i++)&#123;<br>    judges[x[i]] = judge::isLegal;<br>    y.<span class="hljs-built_in">push_back</span>(<span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">getValue</span>(x[i]));<br>    <span class="hljs-comment">//如果这个点存在极限，判定两侧的差值是否较大，如果不大则使用平均值</span><br>    <span class="hljs-keyword">if</span> (judges[x[i]] == judge::perhapsLim &amp;&amp; <span class="hljs-number">0</span> &lt; i &amp;&amp; i + <span class="hljs-number">1</span> &lt; <span class="hljs-built_in">int</span>(y.<span class="hljs-built_in">size</span>()) )&#123;<br>        judges[x[i + <span class="hljs-number">1</span>]] = judge::isLegal;<br>        y.<span class="hljs-built_in">push_back</span>(<span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">getValue</span>(y[i + <span class="hljs-number">1</span>]));<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(y[i + <span class="hljs-number">1</span>] - y[i - <span class="hljs-number">1</span>]) &lt;= <span class="hljs-number">100</span> * tol)&#123;<br>            y[i] = (y[i + <span class="hljs-number">1</span>] + y[i - <span class="hljs-number">1</span>]) / <span class="hljs-number">2</span>;<br>            judges[x[i]] = judge::isLegal;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            judges[x[i]] = judge::divisorZero;<br>            cout &lt;&lt; x[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; y[i + <span class="hljs-number">1</span>] &lt;&lt; endl;<br>        &#125;<br>        i += <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>处理之后得到的 <span class="math inline">\(\mbox{x,y}\)</span>两列表还需要单独针对极坐标系进行计算，相应计算公式如下： <spanclass="math display">\[\begin{cases}x=\rho \cos \theta\\y=\rho \sin \theta\end{cases}\]</span>针对两个继承的类，使用<strong>函数重载</strong>对两种情况进行处理，在<span class="math inline">\(\mbox{mainwindow.h/cpp}\)</span>中通过查找是否存在 <code>"θ"</code>字符串判定需要定义的类，该类中的运算方法都继承自<code>class Expression</code>，<strong>复用</strong>相同的使用正则表达式计算对应的函数值。</p><h3 id="迭代器">迭代器</h3><p>在处理一些冗余点时，使用 <code>iterator</code> 迭代器以及 <spanclass="math inline">\(\mbox{C++}\)</span> 新特性对 <spanclass="math inline">\(\mbox{vector}\)</span> 中的元素进行迭代， <spanclass="math inline">\(\mbox{wiki}\)</span> 中对 <spanclass="math inline">\(\mbox{iterator}\)</span> 的解释如下：</p><blockquote><p>In computer programming, an iterator is an object that enables aprogrammer to traverse a container, particularly lists.</p></blockquote><p><span class="math inline">\(\mbox{C++}\)</span>语言在其标准库中广泛使用了迭代器，并描述了几类选代器，它们所允许的操作不同。这些包括前向选代器、双向选代器和随机访问选代器，在<span class="math inline">\(\mbox{C++}\)</span>语言中还支持自定义迭代器，更加方便构建适用的类，例如机器学习中对数据预处理就可以使用迭代器的方式进行处理（依照 <span class="math inline">\(\mbox{epoch,batch}\)</span>的大小分批次处理数据），这样可以在调用接口处使用 <spanclass="math inline">\(\mbox{auto}\)</span> 语句更加简洁：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataLoader</span>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-comment">//乱序编码位置</span><br>    vector&lt;<span class="hljs-type">int</span>&gt; _rand_order;<br>    <span class="hljs-comment">//每个 batch 的最大长度，总组数</span><br>    <span class="hljs-type">int</span> batch_size = <span class="hljs-number">0</span>, endIndex = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">//所有句子编码（顺序排列）</span><br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; _data;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">//三维数组</span><br>    vector&lt;vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&gt; ans;<br>    <span class="hljs-comment">// 迭代器，取出 ans 对应下标结果</span><br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Iterator</span><br>    &#123;<br>        <span class="hljs-comment">//标签</span><br>        <span class="hljs-keyword">using</span> iterator_category = std::forward_iterator_tag;<br>        <span class="hljs-keyword">using</span> difference_type   = std::<span class="hljs-type">ptrdiff_t</span>;<br>        <span class="hljs-keyword">using</span> value_type        = vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;;<br>        <span class="hljs-keyword">using</span> reference         = value_type&amp;;<span class="hljs-comment">// 迭代器所指向的变量的引用类型</span><br>        <span class="hljs-keyword">using</span> pointer           = value_type*;<span class="hljs-comment">// 迭代器所指向的变量的指针类型</span><br>    <span class="hljs-keyword">private</span>:<br>        pointer m_ptr;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">Iterator</span>(pointer ptr) : <span class="hljs-built_in">m_ptr</span>(ptr) &#123;&#125;<br>        reference <span class="hljs-keyword">operator</span>*() <span class="hljs-type">const</span> &#123; <span class="hljs-keyword">return</span> *m_ptr; &#125;<br>        pointer <span class="hljs-keyword">operator</span>-&gt;() &#123; <span class="hljs-keyword">return</span> m_ptr; &#125;<br>        <span class="hljs-comment">//前缀 ++</span><br>        Iterator&amp; <span class="hljs-keyword">operator</span>++() &#123; m_ptr++; <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>; &#125;   <span class="hljs-comment">// ++i</span><br>        <span class="hljs-comment">//后缀 ++</span><br>        Iterator <span class="hljs-keyword">operator</span>++(<span class="hljs-type">int</span>) &#123; Iterator tmp = *<span class="hljs-keyword">this</span>; ++(*<span class="hljs-keyword">this</span>); <span class="hljs-keyword">return</span> tmp; &#125;<br>    &#125;;<br>    <span class="hljs-comment">//迭代器开始</span><br>    <span class="hljs-function">Iterator <span class="hljs-title">begin</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Iterator</span>(&amp;ans[<span class="hljs-number">0</span>]);   <span class="hljs-comment">// 返回迭代器</span><br>    &#125;<br>    <span class="hljs-comment">//迭代器结束</span><br>    <span class="hljs-function">Iterator <span class="hljs-title">end</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Iterator</span>(&amp;ans[endIndex]);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><code>auto batch : D</code> 等同于<code>iteractor it = D.begin(); it &lt; D.end();it++, batch = *it</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> batch : D)&#123;<br>    string str = <span class="hljs-built_in">matrix_unicode</span>(batch);<br>    cout&lt;&lt; str &lt;&lt;endl;<br>&#125;<br></code></pre></td></tr></table></figure><p>由此可见，将迭代器和 <span class="math inline">\(\mbox{auto}\)</span>关键字可以简化代码的编写，对于本次函数绘图器而言，若出现一些需要去除的点（已经极限修复的点不算），则将<span class="math inline">\(\mbox{vetcor&lt;double&gt; x,y}\)</span>中对应的 <span class="math inline">\((x,y)\)</span>均删除，实现代码如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i = x.<span class="hljs-built_in">begin</span>(), j = y.<span class="hljs-built_in">begin</span>(); i != x.<span class="hljs-built_in">end</span>() &amp;&amp; j != y.<span class="hljs-built_in">end</span>(); i++, j++)&#123;<br>    <span class="hljs-comment">//如果这个点为特殊点，将其删除</span><br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">int</span>(judges[*i]) != <span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-comment">// temp.erase返回迭代器，将不合法的元素全部删除</span><br>        i = x.<span class="hljs-built_in">erase</span>(i);<br>        j = y.<span class="hljs-built_in">erase</span>(j);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>使用两个迭代器同向遍历，遇到出现问题的点就自动对应删除，达到删除不合理点的目的，例如<span class="math inline">\(f(x)=\dfrac{1}{x}\)</span> 中 <spanclass="math inline">\(x=0\)</span>的点，在处理时便自动删除该间断点。</p><h3 id="后端图像处理">后端图像处理</h3><p>在编写函数绘图器的过程中，曾经使用过与 <spanclass="math inline">\(\mbox{Qt 4.0}\)</span> 版本兼容的排版库 <spanclass="math inline">\(\mbox{miktex}\)</span>，但由于当前 <spanclass="math inline">\(\mbox{Qt}\)</span> 版本为 <spanclass="math inline">\(6.2.4\)</span> 无法和该排版库兼容，另一方面，<spanclass="math inline">\(\mbox{miktex}\)</span>在数学公式渲染方面有一定缺陷，需要更换思路。</p><p>进而想到 <span class="math inline">\(\mbox{Qt}\)</span>有相应的网络包，可以通过给定的 <spanclass="math inline">\(\mbox{URL}\)</span> 网址获取对应的图片，而 <spanclass="math inline">\(\mbox{latex.codecogs.com}\)</span>官网提供可以直接获取 <span class="math inline">\(\LaTeX\)</span>排版之后的图片，经过清晰化调整之后在以下网址 <spanclass="math display">\[\mbox{https://latex.codecogs.com/png.latex?\%5Cdpi\%7B300\%7D\%20\%5Cbg\_white\%20\%5Chuge\%20}\]</span> 后面添加正确的 <span class="math inline">\(\LaTeX\)</span>公式（如 <span class="math inline">\(\mbox{y=\\dfrac\{\\sinx\}\{x}\small\wedge\normalsize\mbox{2+1\}}\)</span>），便可以获取对应图片，相应的 <spanclass="math inline">\(y=\dfrac{\sin x}{x^2+1}\)</span> 在该<ahref="https://latex.codecogs.com/png.latex?%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20y=\dfrac%7B\sin%20x%7D%7Bx%5E2+1%7D">网址</a>中便可得到以下高清图片：</p><p><img src="https://pic.imgdb.cn/item/628ce54c09475431292c425d.jpg" style="zoom:50%;" /></p><p>将一般表达式转换到 <span class="math inline">\(\LaTeX\)</span>表达式单独列封装成一个类 <spanclass="math inline">\(\mbox{latexImg.h/cpp}\)</span>，针对各种表达式进行替换，如：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++">vector&lt;pair&lt;string, string&gt;&gt; replaceLatex = &#123;&#123;<span class="hljs-string">&quot;θ&quot;</span>,<span class="hljs-string">&quot;\\theta&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;π&quot;</span>, <span class="hljs-string">&quot;\\pi&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;（&quot;</span>, <span class="hljs-string">&quot;(&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;）&quot;</span>, <span class="hljs-string">&quot;)&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;)*(&quot;</span>, <span class="hljs-string">&quot;) \\cdot (&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;)(&quot;</span>, <span class="hljs-string">&quot;) \\cdot (&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;PI&quot;</span>, <span class="hljs-string">&quot; \\pi &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;Pi&quot;</span>, <span class="hljs-string">&quot; \\pi &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;pi&quot;</span>, <span class="hljs-string">&quot; \\pi &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;x*(&quot;</span>,<span class="hljs-string">&quot;x \\cdot (&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;x(&quot;</span>,<span class="hljs-string">&quot;x \\cdot (&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;)*x&quot;</span>, <span class="hljs-string">&quot;) \\cdot x&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;)x&quot;</span>,<span class="hljs-string">&quot;) \\cdot x&quot;</span>&#125;, &#123;<span class="hljs-string">&quot;sin&quot;</span>, <span class="hljs-string">&quot; \\Sin &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;cos&quot;</span>, <span class="hljs-string">&quot; \\Cos &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;tan&quot;</span>, <span class="hljs-string">&quot; \\Tan &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;ln&quot;</span>, <span class="hljs-string">&quot; \\Ln &quot;</span>&#125;, &#123;<span class="hljs-string">&quot;*&quot;</span>, <span class="hljs-string">&quot; \\cdot &quot;</span>&#125;&#125;;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> pr : solveRepeations)<br>    latexStr = <span class="hljs-built_in">replace_all</span>(latexStr, pr.first, pr.second);<br></code></pre></td></tr></table></figure><p>使用 <span class="math inline">\(\mbox{pair}\)</span> 数据结构以及<span class="math inline">\(\mbox{auto}\)</span>的使用，对成对的字符串进行替换，再编写 <code>removeRedundant()</code>函数专门处理和分式相关的字符串，例如将 <spanclass="math inline">\(\mbox{1/x}\)</span> 转换为 <spanclass="math inline">\(\mbox{\\dfrac\{1\}\{x\}}\)</span> 依此类推</p><p>有关网络请求获取图片的代码如下，编写在 <spanclass="math inline">\(\mbox{mainwindow.cpp}\)</span> 中：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MainWindow::getImg</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-comment">//在函数里面定义一个类的实例对象，需要在前面加上关键词 class</span><br>    <span class="hljs-comment">//使用 latexImg 对象获取对应表达式的 latex 图片</span><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">latexImg</span> latex&#123;<span class="hljs-keyword">this</span>-&gt;exp.<span class="hljs-built_in">toStdString</span>(), isRec&#125;;<br>    string latexURL = latex.<span class="hljs-built_in">getURL</span>();<br>    <span class="hljs-comment">//构造 QNetworkAccessManage 实例模拟获取网页的过程</span><br>    <span class="hljs-function">QUrl <span class="hljs-title">url</span><span class="hljs-params">(QString::fromStdString(latexURL))</span></span>;<br>    QNetworkAccessManager manager;<br>    QEventLoop loop;<br>    QNetworkReply *reply = manager.<span class="hljs-built_in">get</span>(<span class="hljs-built_in">QNetworkRequest</span>(url));<br>    <span class="hljs-comment">//请求结束并下载完成后，退出子事件循环</span><br>    QObject::<span class="hljs-built_in">connect</span>(reply, <span class="hljs-built_in">SIGNAL</span>(<span class="hljs-built_in">finished</span>()), &amp;loop, <span class="hljs-built_in">SLOT</span>(<span class="hljs-built_in">quit</span>()));<br>    <span class="hljs-comment">//开启子事件循环</span><br>    loop.<span class="hljs-built_in">exec</span>();<br>    QByteArray jpegData = reply-&gt;<span class="hljs-built_in">readAll</span>();<br>    <span class="hljs-comment">//将获取图片存储在 mainwindow 中</span><br>    latexImg.<span class="hljs-built_in">loadFromData</span>(jpegData);<br>&#125;<br></code></pre></td></tr></table></figure><p>在调试过程中发现，对于类中的方法，如果函数里面定义一个类的实例对象，需要在前面加上关键词<code>class</code>，否则编译不通过</p><h2 id="前端展示">前端展示</h2><p>对于主窗口，使用 <span class="math inline">\(\mbox{Qt}\)</span>中的设计师界面添加相应的按钮以及修改相应的初始值，设计相应的前端框架界面</p><p><imgsrc="https://pic.imgdb.cn/item/628cf1f4094754312940eff6.jpg" /></p><p>对于从后端拿到的<strong>数据</strong>，分别进行等比例缩放以及在合适的位置处增加坐标轴和标度，从数学的角度来说，该步骤是将数据所在的线性空间<strong>线性且合适地映射</strong>到画布所在的线性空间。注意绘图原点在左上角，<spanclass="math inline">\(x\)</span> 方向向右，<spanclass="math inline">\(y\)</span>方向向下，绘制的坐标轴处的箭头需要一定的偏置，本绘图器采用 <spanclass="math inline">\(45\degree\)</span> ：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++">   <span class="hljs-comment">// x 放大倍数</span><br>   <span class="hljs-type">int</span> zoomOutX = <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() * <span class="hljs-number">0.9</span> / width;<br>   <span class="hljs-comment">// y 放大倍数</span><br>   <span class="hljs-type">int</span> zoomOutY = <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.9</span> / height;<br>   <span class="hljs-comment">//放大倍数，取较小者</span><br>   <span class="hljs-type">int</span> zoomOut = zoomOutX &lt; zoomOutY ? zoomOutX : zoomOutY;<br><span class="hljs-comment">//原点 x</span><br>   <span class="hljs-type">double</span> originX = offsetX * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() * <span class="hljs-number">0.05</span>;<br>   <span class="hljs-comment">//原点 y</span><br>   <span class="hljs-type">double</span> originY = offsetY * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.05</span>;<br>   minX = (minX + offsetX) * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() * <span class="hljs-number">0.05</span>;<br>   maxX = (maxX + offsetX) * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() * <span class="hljs-number">0.05</span>;<br>   minY = (minY + offsetY) * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.05</span>;<br>   maxY = (maxY + offsetY) * zoomOut + <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.05</span>;<br>   <span class="hljs-comment">// x 轴</span><br>   <span class="hljs-function">QLine <span class="hljs-title">xLine</span><span class="hljs-params">(minX, originY, maxX, originY)</span></span>;<br>   qPainter.<span class="hljs-built_in">drawLine</span>(xLine);<br>   <span class="hljs-comment">// y 轴</span><br>   <span class="hljs-function">QLine <span class="hljs-title">yLine</span><span class="hljs-params">(originX, minY, originX, maxY)</span></span>;<br>qPainter.<span class="hljs-built_in">drawLine</span>(yLine);<br>   <span class="hljs-comment">//绘制原点、x轴、y轴处的字符</span><br>   qPainter.<span class="hljs-built_in">drawText</span>(<span class="hljs-built_in">QPointF</span>(originX + <span class="hljs-number">2</span>, originY - <span class="hljs-number">2</span>), <span class="hljs-string">&quot;O&quot;</span>);<br>   qPainter.<span class="hljs-built_in">drawText</span>(<span class="hljs-built_in">QPointF</span>(maxX, originY - <span class="hljs-number">7</span>), <span class="hljs-string">&quot;x&quot;</span>);<br>   qPainter.<span class="hljs-built_in">drawText</span>(<span class="hljs-built_in">QPointF</span>(originX + <span class="hljs-number">7</span>, minY), <span class="hljs-string">&quot;y&quot;</span>);<br>   <span class="hljs-comment">//绘制箭头，45°方向绘制箭头</span><br>   QLineF *arrows = <span class="hljs-keyword">new</span> QLineF[<span class="hljs-number">4</span>]&#123;&#123;maxX, originY, maxX - <span class="hljs-number">5</span>, originY - <span class="hljs-number">5</span>&#125;,<br>                                  &#123;maxX, originY, maxX - <span class="hljs-number">5</span>, originY + <span class="hljs-number">5</span>&#125;,<br>                                  &#123;originX, minY, originX - <span class="hljs-number">5</span>, minY + <span class="hljs-number">5</span>&#125;,<br>                                  &#123;originX, minY, originX + <span class="hljs-number">5</span>, minY + <span class="hljs-number">5</span>&#125;&#125;;<br><br></code></pre></td></tr></table></figure><p>而绘制刻度时，原点需要作为一个刻度，<spanclass="math inline">\(y\)</span> 轴需要正负号分别计算：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;originY + i * hSpacer &lt;= maxScreenY;i++)&#123;<br>       <span class="hljs-type">int</span> screenY = originY + i * hSpacer;<br>       qPainter.<span class="hljs-built_in">drawLine</span>(originX, screenY, originX + <span class="hljs-number">3</span>, screenY);<br>       <span class="hljs-type">double</span> realY = (screenY - <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.05</span>) / <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">double</span>&gt;(zoomOut) - offsetY;<br>       qPainter.<span class="hljs-built_in">drawText</span>(<span class="hljs-built_in">QPoint</span>(originX + <span class="hljs-number">13</span>, screenY + <span class="hljs-number">5</span>), QString::<span class="hljs-built_in">number</span>(-realY, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-number">2</span>));<br>   &#125;<br>   <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;originY - i * hSpacer &gt;= minScreenY;i++)&#123;<br>       <span class="hljs-type">int</span> screenY = originY - i * hSpacer;<br>       qPainter.<span class="hljs-built_in">drawLine</span>(originX, screenY, originX + <span class="hljs-number">3</span>, screenY);<br>       <span class="hljs-type">double</span> realY = (screenY - <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.05</span>) / <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">double</span>&gt;(zoomOut) - offsetY;<br>       qPainter.<span class="hljs-built_in">drawText</span>(<span class="hljs-built_in">QPoint</span>(originX + <span class="hljs-number">13</span>, screenY + <span class="hljs-number">5</span>), QString::<span class="hljs-built_in">number</span>(-realY, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-number">2</span>));<br>   &#125;<br></code></pre></td></tr></table></figure><p>同理，对于从后端拿到的<strong>图像</strong>，进行背景颜色的替换再通过计算当前画大小得到相应的右上角位置，并最后设置画笔为蓝色，调用<span class="math inline">\(\mbox{Qt}\)</span> 中的<code>qPainter.drawPolyline(points, size)</code>函数平滑连接各点，得到相应的图像</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c++">   <span class="hljs-comment">//获取当前画布宽度和高度</span><br><span class="hljs-type">double</span> imgWidth = originImg.<span class="hljs-built_in">width</span>();<br>   <span class="hljs-type">double</span> imgHeight = originImg.<span class="hljs-built_in">height</span>();<br><span class="hljs-comment">//比较得到图片的高度</span><br>   <span class="hljs-type">int</span> sizeImg = <span class="hljs-built_in">MIN</span>(<span class="hljs-number">60</span>, <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() / <span class="hljs-number">1.2</span> / imgWidth * imgHeight);<br><span class="hljs-comment">//将图片放置在合适的位置</span><br>   qPainter.<span class="hljs-built_in">drawPixmap</span>(<span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">width</span>() - sizeImg * <span class="hljs-number">1.2</span> * imgWidth / imgHeight, <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">height</span>() * <span class="hljs-number">0.1</span>, sizeImg * imgWidth / imgHeight, sizeImg, <span class="hljs-built_in">changeBackGroundColor</span>(originImg));<br>   qPainter.<span class="hljs-built_in">setPen</span>(<span class="hljs-built_in">QColor</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>));<br>   qPainter.<span class="hljs-built_in">drawPolyline</span>(points, size);<br></code></pre></td></tr></table></figure><h3 id="高精度计时">高精度计时</h3><p>关于这部分，可以访问本人博客有关 <spanclass="math inline">\(\mbox{OOP}\)</span>第二次小作业报告中的探讨，网址如下<ahref="https://lr-tsinghua11.github.io/2022/03/06/Program/OOP%20Homework%202/">面向对象编程第二次作业</a></p><p>大致为调用相关 <span class="math inline">\(\mbox{API}\)</span>，通过所在电脑的频率和计数器高精度计算相关时间，并将时间显示在图像标题处</p><h2 id="单元测试">单元测试</h2><h3 id="表达式函数">表达式函数</h3><p>由于 <span class="math inline">\(\mbox{Qt}\)</span> 相关的 <spanclass="math inline">\(\mbox{ui}\)</span>界面在编写过程中已经写好，对于该表达式函数，使用 <spanclass="math inline">\(\mbox{Visual studio}\)</span>单独定义该类并进行测试，通过的测试样例如下（其中大致可以分为几个部分）：</p><table><colgroup><col style="width: 25%" /><col style="width: 75%" /></colgroup><thead><tr class="header"><th>单元测试分类</th><th>实例</th></tr></thead><tbody><tr class="odd"><td>乘法含负号</td><td><code>Expression e("2*(-2)");</code></td></tr><tr class="even"><td>除法含负号</td><td><code>Expression e("-1/1");</code></td></tr><tr class="odd"><td>加减（含括号）</td><td><code>Expression e("(-1+1)*(-1-1)");</code></td></tr><tr class="even"><td>加乘（含括号）</td><td><code>Expression e("(1+2)*(2+3)");</code></td></tr><tr class="odd"><td>加减乘（含括号）</td><td><code>Expression e("(1+1)*(1-1)");</code></td></tr><tr class="even"><td>加乘（含括号和负号）</td><td><code>Expression e&#123; "-(-(2*4-1*3))",1&#125;;</code></td></tr><tr class="odd"><td>加减和幂次</td><td><code>Expression e("-1^3+3*1");</code></td></tr><tr class="even"><td>加减除幂次</td><td><code>Expression e("(x^2-1)/(x+1)");</code></td></tr><tr class="odd"><td>三角函数（含负号）</td><td><code>Expression e("sin(-1)");</code><code>Expression e("tan(-1000)");</code></td></tr></tbody></table><p>调取之后输出相应的结果并口算进行验证，结果符合预测，验证代码如下，在表达式分段处加入<code>cout &lt;&lt; Exp</code> 等语句调试上述正则表达式相关过程，进行<span class="math inline">\(\mbox{Debug}\)</span>：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++">cout &lt;&lt; <span class="hljs-string">&quot;The result is &quot;</span> &lt;&lt; e.<span class="hljs-built_in">getValue</span>(<span class="hljs-number">0</span>) &lt;&lt; endl;<br>cout &lt;&lt; <span class="hljs-string">&quot;Judge is &quot;</span> &lt;&lt; e.judges[<span class="hljs-built_in">double</span>(<span class="hljs-number">0</span>)] &lt;&lt; endl;<br></code></pre></td></tr></table></figure><p><span class="math inline">\(\mbox{Visual Studio}\)</span>中单元测试代码截屏如下：</p><p><img src="https://pic.imgdb.cn/item/628cf6b7094754312948beb1.jpg" style="zoom:40%;" /></p><h3 id="处理-latex-公式">处理 <spanclass="math inline">\(\LaTeX\)</span> 公式</h3><p>在中后期编写处理 <span class="math inline">\(\LaTeX\)</span>公式进行单元测试，采用 <spanclass="math inline">\(\mbox{wsl/Linux}\)</span>子系统控制台终端进行测试，摆脱大型 <spanclass="math inline">\(\mbox{IDE}\)</span> 的束缚，让代码输入输出全部都在<span class="math inline">\(\mbox{powershell}\)</span>中进行，能够达到快速 <span class="math inline">\(\mbox{Debug}\)</span>的效果，截图如下：</p><p><img src="https://pic.imgdb.cn/item/628cf9e809475431294dfcd6.jpg" style="zoom:60%;" /></p><p>其中可以在控制台中使用重定向 <code>&gt;</code>运算符将输入输出结果保存到相应的 <spanclass="math inline">\(\mbox{txt}\)</span>文件中，测试通过的样例如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++">   <span class="hljs-number">1</span>/x \dfrac&#123;<span class="hljs-number">1</span>&#125;&#123;x&#125;<br><span class="hljs-number">1</span>/x+<span class="hljs-number">2</span>/x \dfrac&#123;<span class="hljs-number">1</span>&#125;&#123;x&#125;+\dfrac&#123;<span class="hljs-number">2</span>&#125;&#123;x&#125;<br>(<span class="hljs-number">1</span>+x)/x \dfrac&#123;<span class="hljs-number">1</span>+x&#125;&#123;x&#125;<br><span class="hljs-number">1</span>/(x+<span class="hljs-number">1</span>) \dfrac&#123;<span class="hljs-number">1</span>&#125;&#123;x+<span class="hljs-number">1</span>&#125;<br>(x+<span class="hljs-number">2</span>)/(x+<span class="hljs-number">1</span>) \dfrac&#123;x+<span class="hljs-number">2</span>&#125;&#123;x+<span class="hljs-number">1</span>&#125;<br></code></pre></td></tr></table></figure><p>对于多重分式需要括号匹配，该公式转换会出现一些问题。但是，在函数绘制中很少出现这种情形，如<spanclass="math inline">\(\dfrac{1+\dfrac{1}{x}}{x}=\dfrac{x+1}{x^2}\)</span>总可以通过手工化简的方式简化为只需要一个分号的形式，不需要考虑多重分式的情况。</p><p>从而该单元测试函数的测试至此为止，<strong>否则会极大影响开发进度</strong>。</p><h2 id="总结与反思">总结与反思</h2><ul><li><p>该函数绘图器中正则表达式遍历查找的算法时间消耗比较大，对一般的函数基本消耗时间<span class="math inline">\(\in[1s,2s]\)</span>，由于数据结构相关课程没有学习，猜测一些树的结构能够加快运算速度</p></li><li><p>本次函数绘图器开发周期至少整整 <spanclass="math inline">\(7\)</span>天，从最开始的手足无措，到后面一点点列出需求文档不断进行实现和填充，在需求和实现之间追求高效率地开发，之前编写的函数绘图器需求文档截图如下：</p><p><img src="https://pic.imgdb.cn/item/628cffa70947543129579805.jpg" style="zoom:50%;" /></p></li><li><p>从上图中可以发现有些功能仍然没有实现，由于时间原因只能先搁置一段时间。但这种<span class="math inline">\(\mbox{to-do-list}\)</span>的方式可以很大幅度提高大作业代码编写的效率</p></li><li><p>单元测试在一个功能模块完成后便可以进行，针对不同的情况逐一进行测验，遇到相应的问题马上进行调整和修复，否则各种网状结构连接一起运行时，不容易定位<span class="math inline">\(\mbox{bug}\)</span></p></li><li><p>一些难以解决的问题可以考虑另辟蹊径（如使用发送网络请求的方式获取<span class="math inline">\(\LaTeX\)</span> 图片）</p></li><li><p><span class="math inline">\(\mbox{C++}\)</span>新特性的使用可以省去了很多繁琐的语法表达式，加快代码的编写效率，虽然和<span class="math inline">\(\mbox{pythonic}\)</span> 的 <spanclass="math inline">\(\mbox{python}\)</span>语言有一定差距，但毕竟前者更接触底层，效率较高（当然对一些特定问题也未必），两者各有千秋</p></li><li><p><span class="math inline">\(\mbox{Qt}\)</span>的熟悉以及使用虽然让我踩过不少坑，不过，对报错信息的理解以及在各种网络资源的帮助之下，逐渐排开各种“雷”</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Foundation for machine learning</title>
    <link href="/2022/05/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/"/>
    <url>/2022/05/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="机器学习绪论">机器学习绪论</h1><p>机器学习的三起两落：</p><p>第一次兴起，<span class="math inline">\(1958\\mbox{Perception}\)</span> ，<span class="math inline">\(1969\)</span><span class="math inline">\(\mbox{AI winter}\)</span></p><p>第二次兴起，<span class="math inline">\(1986\ \mbox{BP}\)</span>，在<span class="math inline">\(\mbox{SVM}\)</span>（隔壁统计学家）下跌落</p><p>第三次兴起，<span class="math inline">\(2006\\mbox{DBN}\)</span>，<span class="math inline">\(2012\\mbox{CNN}\)</span></p><p>最近预测下落两大原因：</p><p><span class="math inline">\(①\)</span>自动驾驶在决策方面解决不了行人的无规律问题</p><p><span class="math inline">\(②\)</span> 存在使用 <spanclass="math inline">\(\mbox{idea}\)</span>骗取资本的诟病，使得资本注入减少</p><p>传统机器学习：人工设计特征</p><p>传统机器学习和深度学习：<strong>专家系统</strong>（人为指定一系列规则）$$<strong>经典机器学习</strong>： <spanclass="math inline">\(\mbox{PCA}\)</span> 进行分类</p><p>$$ <strong>浅层机器学习</strong> $$<strong>深度机器学习</strong>（浅层的特征，每加一层更加抽象，得到抽象特征后做一个<span class="math inline">\(\mbox{mapping}\)</span> ）</p><p>特征到标签的映射（二分类：<span class="math inline">\(\mbox{softmarkrelation}\)</span> 、 <spanclass="math inline">\(\mbox{logistic}\)</span> 、决策树、<spanclass="math inline">\(\mbox{SVM}\)</span>）</p><p>深度学习的数学描述：<span class="math inline">\(f^1(f^2(f^3\cdotsf^n(x)))\)</span></p><ul><li><p>前机器学习时代：花很多时间观察图像，<strong>绞尽脑汁</strong>选择或者设计特征，使用分类器进行训练和测试，结果不好的话就重新回到绞尽脑汁选择或设计特征步骤</p></li><li><p>深度学习时代：花一定时间，挑选几个深度模型，选几个模型超参数，交给机器<strong>绞尽脑汁</strong>优化模型总的数千万/数权重参数</p></li><li><p>后深度学习时代：花少量时间标注，让机器更<strong>绞尽脑汁</strong>学习模型</p></li></ul><h1 id="机器学习基础">机器学习基础</h1><h2 id="三大要素">三大要素</h2><p>机器学习：在计算机上从数据中产生“模型"的算法，称为学习算法</p><p>例如，给定一系列芒果的性质以及其好坏，求另一种芒果性质的好坏</p><p>三个基本要素：<strong>模型</strong>、<strong>学习准则</strong>、<strong>优化算法</strong></p><ul><li><p><strong>模型</strong>：线性方法 : <spanclass="math inline">\(f(\boldsymbol{x} ; \theta)=\boldsymbol{w}^{\top}\boldsymbol{x}+b\)</span>，广义非线性方法 : <spanclass="math inline">\(f(\boldsymbol{x} ; \theta)=\boldsymbol{w}^{\top}\phi(\boldsymbol{x})+b\)</span></p><p><span class="math inline">\(\checkmark\)</span> 如果 <spanclass="math inline">\(\phi(x)\)</span> 为可学习的非线性基函数， <spanclass="math inline">\(f(x, \theta)\)</span> 就等价于神经网络。</p></li><li><p><strong>学习准则</strong>：期望风险（期望误差 <spanclass="math inline">\(\mbox{Expected Risk}\)</span>，衡量模型的好坏），损失函数定义如下 <span class="math display">\[\mathcal{R}(\theta)=\mathbb{E}_{(\boldsymbol{x}, y) \simp_{r}(\boldsymbol{x}, y)}\mathcal{L}(y, f(\boldsymbol{x} ; \theta))\]</span>表征所有样本的差异，能量化模型预测和真实标签之间的差异，（期望风险最小化准则）</p><p><span class="math inline">\(0-1\)</span> 损失函数，正确为 <spanclass="math inline">\(1\)</span>，错误为 <spanclass="math inline">\(0\)</span>，平方损失函数：<spanclass="math inline">\(\mathcal{L}(y, f(\boldsymbol{x} ; \theta))=(y-f(x,\theta))^{2}\)</span></p><p>存在泛化错误 <spanclass="math inline">\(g_{\mathcal{D}}(f)=\mathcal{R}(f)-\mathcal{R}_{\mathcal{D}}^{em p}(f)\)</span>，真实数据分布未知，期望风险不可以计算</p><p>利用大数定律，使用经验风险最小化，转化为最优化问题，使下列函数最小，在<span class="math inline">\(N\to \infty\)</span> 时两者相同 <spanclass="math display">\[\mathcal{R}_{\mathcal{D}}^{e m p}(\theta)=\frac{1}{N} \sum_{n=1}^{N}\mathcal{L}(y, f(\boldsymbol x ; \theta))\]</span></p></li></ul><p><img src="https://pic.imgdb.cn/item/6277c4f9094754312923ec21.jpg" style="zoom:80%;" /></p><p>​</p><ul><li><strong>优化算法</strong>：梯度下降，迭代法，其中 <spanclass="math inline">\(\alpha\)</span> 定义为<strong>学习率</strong><span class="math display">\[\begin{aligned} \theta_{t+1} &amp;=\theta_{t}-\alpha \frac{\partial\mathcal{R}_{\mathcal{D}}(\theta)}{\partial \theta} \\&amp;=\theta_{t}-\alpha \frac{1}{N} \sum_{n=1}^{N} \frac{\partial\mathcal{L}\left(y^{(n)}, f\left(x^{(n)} ;\theta\right)\right)}{\partial \theta} \end{aligned}\]</span> <imgsrc="https://pic.imgdb.cn/item/6277c3f809475431291f8974.jpg" /></li></ul><p>​ <span class="math inline">\(\alpha\)</span>必须选择恰当（如上图所示）</p><h2 id="数学基础">数学基础</h2><p>正则化，一类通过限制模型复杂度，避免过拟合，提高泛化能力的犯法</p><p><span class="math inline">\(l_1\)</span> 和 <spanclass="math inline">\(l_2\)</span> 正则化，正方形、椭圆 <spanclass="math display">\[\begin{array}{llll}\hline &amp; \text { 监督学习 } &amp; \text { 无监督学习 } &amp; \text {强化学习 } \\\hline \text { 训练样本 } &amp; \text { 训练集 } &amp; \text { 训练集 }&amp; \text { 智能体和环境交互的 } \\&amp; \left\{\left(\mathbf{x}^{(n)}, y^{(n)}\right)\right\}_{n=1}^{N}&amp; \left\{\mathbf{x}^{n}\right\}_{n=1}^{N} &amp; \text { 轨迹 } \tau\text { 和累积奖励 } G_{\tau} \\&amp; &amp; &amp; \\\text { 优化目标 } &amp; y=f(\mathbf{x}) \text { 或 } p(y \mid\mathbf{x}) &amp; p(\mathbf{x}) \text { 或带隐变量 } &amp; \text {期望总回报 } \mathbb{E}_{\tau}\left[G_{\tau}\right] \\&amp; &amp; \mathbf{z} \text { 的 } p(\mathbf{x} \mid \mathbf{z}) &amp;\\\text { 学习准则 } &amp; \text { 期望风险最小化 } &amp; \text {最大似然估计 } &amp; \text { 策略评估 } \\&amp; \text { 最大似然估计 } &amp; \text { 最小重构错误 } &amp; \text {策略改进 } \\\hline\end{array}\]</span> 向量的范数：</p><p><span class="math inline">\(\ell_{1}\)</span>范数为向量的各个元素的绝对值之和. <spanclass="math inline">\(\displaystyle\|\boldsymbol{v}\|_{1}=\sum_{n=1}^{N}\left|v_{n}\right|\)</span></p><p><span class="math inline">\(\ell_2\)</span>范数为向量的各个元素的方和根 <span class="math inline">\(\displaystyle\|\boldsymbol{v}\|_{2}=\sqrt{\sum_{n=1}^{N}v_{n}^{2}}=\sqrt{\boldsymbol{v}^{\top} \boldsymbol{v}}\)</span></p><p><span class="math inline">\(\ell_{\infty}\)</span> 范数 <spanclass="math inline">\(\ell_{\infty}\)</span>范数为向量的各个元素的最大绝对值 <spanclass="math inline">\(\|\boldsymbol{v}\|_{\infty}=\max \left\{v_{1},v_{2}, \cdots, v_{N}\right\} .\)</span></p><p>矩阵的范数：</p><p><span class="math inline">\(\ell_{p}\)</span> 范数定义为 <spanclass="math inline">\(\displaystyle\|\boldsymbol{A}\|_{p}=\left(\sum_{m=1}^{M} \sum_{n=1}^{N}\left|a_{mn}\right|^{p}\right)^{1 / p} .\)</span></p><p><span class="math inline">\(F\)</span> 范数是向量的 <spanclass="math inline">\(l_{2}\)</span> 范数的推广 <spanclass="math inline">\(\displaystyle\|\boldsymbol{W}\|_{F}=\sqrt{\sum_{m=1}^{M} \sum_{n=1}^{N}\left(w_{mn}\right)^{2}}\)</span></p><h2 id="模型">模型</h2><ul><li><p>线性模型</p><ul><li><p>线性模型 ( Linear Model)是机器学习中应用最广泛的模型，指通过样本特征的线性组合来进行预测的模型</p></li><li><p>分类问题 : 输出目标 <span class="math inline">\(y\)</span>是一些离散的标签（具体是哪一类）</p><p><span class="math inline">\(&gt;\)</span>而特征的线性组合本身是连续值，即 <span class="math inline">\(f(x ;\boldsymbol{w})\)</span> 的值域为实数 <spanclass="math inline">\(&gt;\)</span> 需要引入一个非线性的决策函数 <spanclass="math inline">\(g(\cdot)\)</span>，使输出符合预期离散值的目标</p></li></ul></li></ul><p>​ 分类决策问题，使用符号函数</p><ul><li><span class="math inline">\(\mbox{Logistic}\)</span>回归，把分类决策问题压缩压缩到 <spanclass="math inline">\([0,1]\)</span> 区间内</li></ul><p><span class="math display">\[\sigma(x)=\dfrac{1}{1+e^{-x}}\]</span></p><p>​ 先用线性函数组合特征: <spanclass="math inline">\(f=\boldsymbol{\omega}^{\mathrm{T}}\boldsymbol{x}\)</span>，利用 <spanclass="math inline">\(g(\cdot)=\sigma(\boldsymbol{x})\)</span>作非线性决策： <span class="math display">\[\begin{aligned}p(y=1 \mid \boldsymbol{x}) &amp;=\sigma\left(\boldsymbol{w}^{\top}\boldsymbol{x}\right) &amp; p(y=0 \mid \boldsymbol{x}) &amp;=1-p(y=1\mid \boldsymbol{x}) \\&amp; \triangleq \frac{1}{1+\exp \left(-\boldsymbol{w}^{\top}\boldsymbol{x}\right)} &amp; &amp;=\frac{\exp\left(-\boldsymbol{w}^{\top} \boldsymbol{x}\right)}{1+\exp\left(-\boldsymbol{w}^{\top} \boldsymbol{x}\right)}\end{aligned}\]</span> ​ <span class="math inline">\(Logistic\)</span>回归可以看作预测值为<strong>标签的对数几率</strong>的线性回归模型。因此，Logistic 回归也称为对数几率回归 <span class="math display">\[\boldsymbol{w}^{\top} \boldsymbol{x}=\log \frac{p(\bar{y}=1 \mid\boldsymbol{x})}{1-p(y=1 \mid \boldsymbol{x})} \quad \text {样本为正负例的后验概率的比值 }\]</span> ​ 衡量两个条件概率的差距，引入熵的概念，<strong>自信息</strong><span class="math inline">\(I(x)=-\ln(p(x))\)</span>，<strong>自信息的期望</strong> <spanclass="math display">\[\begin{aligned}H(X) &amp;=\mathbb{E}_{X}[I(x)]=\mathbb{E}_{X}[-\log p(x)]=-\sum_{x \in X} p(x) \log p(x)\end{aligned}\]</span> ​ 对分布 <span class="math inline">\(p(x)\)</span>的信息进行编码时，<strong>熵</strong>为自信息的期望为该信息编码所需要的最小长度</p><p>​ 例如，如果选择题 <span class="math inline">\(ABCD\)</span>四个答案的概率为 <span class="math inline">\(\dfrac{1}{4}\)</span>计算自信息的期望 <span class="math inline">\(-4\cdot\dfrac{1}{4}\log(\dfrac{1}{4})=-2\log(2)\)</span></p><p>​ 计算机编码时就规定 <spanclass="math inline">\(\log=\log_2\)</span></p><p>​ <strong>交叉熵</strong>按照概率分布 <spanclass="math inline">\(q\)</span> 的最优编码对真实分布为 <spanclass="math inline">\(p\)</span> 的信息进行编码的长度 <spanclass="math display">\[\begin{aligned}H(p, q) =\mathbb{E}_{p}[-\log q(x)]=-\sum_{x} p(x) \log q(x)\end{aligned}\]</span> ​基于交叉熵损失函数可以得到损失函数公式（<strong>准则</strong>），如果两个分布越靠近，交叉熵就会越小<span class="math display">\[\mathcal{R}(\mathbf{w})=-\frac{1}{N} \sum_{n=1}^{N}\left(y^{(n)} \log\hat{y}^{(n)}+\left(1-y^{(n)}\right) \log\left(1-\hat{y}^{(n)}\right)\right)\]</span> ​ 优化算法，求导有公式</p><p>​ 对一维数据拟合时该回归更好</p><p><imgsrc="https://pic.imgdb.cn/item/6277cf15094754312952e57d.jpg" /></p><ul><li><span class="math inline">\(Softmax\)</span> 回归，多类或多项 <spanclass="math inline">\(Logistic\)</span>回归，是上者的推广，其三要素如下</li></ul><p>​ 模型 <span class="math display">\[p(y=c \mid\boldsymbol{x})=\operatorname{softmax}\left(\boldsymbol{w}_{c}^{\top}\boldsymbol{x}\right)=\frac{\exp \left(\boldsymbol{w}_{c}^{\top}\boldsymbol{x}\right)}{\sum_{c^{\prime}=1}^{C} \exp\left(\boldsymbol{w}_{c^{\prime}}^{\top} \boldsymbol{x}\right)},\]</span> ​ 学习: 交叉熵损失 <span class="math inline">\(\quad\mathcal{R}(\boldsymbol{W})=-\frac{1}{N} \sum_{n=1}^{N} \sum_{c=1}^{c}\boldsymbol{y}_{c}^{(n)} \log \hat{\boldsymbol{y}}_{c}^{(n)}\)</span><span class="math display">\[=-\frac{1}{N} \sum_{n=1}^{N}\left(\boldsymbol{y}^{(n)}\right)^{\top}\log \hat{\boldsymbol{y}}^{(n)},\]</span> ​ 优化算法 ：梯度下降 <span class="math display">\[\frac{\partial \mathcal{R}(\boldsymbol{W})}{\partial\boldsymbol{W}}=-\frac{1}{N} \sum_{n=1}^{N}\boldsymbol{x}^{(n)}\left(\boldsymbol{y}^{(n)}-\hat{\boldsymbol{y}}^{(n)}\right)^{\top}\]</span></p><ul><li>感知机（最简单的神经网络，一个神经元）</li></ul><p>​ 模型： <span class="math display">\[g(\mathbf{x}, \mathbf{w})=\left\{\begin{array}{lll}+1 &amp; \text { 当 }&amp; \mathbf{w}^{\mathrm{T}} \mathbf{x}&gt;0, \\ -1 &amp; \text { 当 }&amp; \mathbf{w}^{\mathrm{T}} \mathbf{x}&lt;0 .\end{array}\right.\]</span> ​ 学习准则 : <span class="math display">\[\mathcal{L}(\mathbf{w} ; \mathbf{x}, y)=\max \left(0,-y\mathbf{w}^{\mathrm{T}} \mathbf{x}\right)\]</span> ​ 优化算法：随机梯度下降 <span class="math display">\[\frac{\partial \mathcal{L}(\mathbf{w} ; \mathbf{x}, y)}{\partial\mathbf{w}}= \begin{cases}0 &amp; \text { 当 } y \mathbf{w}^{\mathrm{T}}\mathbf{x}&gt;0, \\ -y \mathbf{x} &amp; \text { 当 } y\mathbf{w}^{\mathrm{T}} \mathbf{x}&lt;0 .\end{cases}\]</span></p><p><span class="math display">\[\begin{equation}\begin{array}{llll}\text { 线性模型 } &amp; \text { 激活函数 } &amp; \text { 损失函数 }&amp; \text { 优化方法 } \\\hline \text { 线性回归 } &amp; - &amp; \left(y-\boldsymbol{w}^{\top}\boldsymbol{x}\right)^{2} &amp; \text { 最小二乘、梯度下降 } \\\text { Logistic 回归 } &amp; \sigma\left(\boldsymbol{w}^{\top}\boldsymbol{x}\right) &amp; \boldsymbol{y} \log\sigma\left(\boldsymbol{w}^{\top} \boldsymbol{x}\right) &amp; \text {梯度下降 } \\\text { Softmax回归 } &amp;\operatorname{softmax}\left(\boldsymbol{W}^{\top} \boldsymbol{x}\right)&amp; \boldsymbol{y} \log\operatorname{softmax}\left(\boldsymbol{W}^{\top} \boldsymbol{x}\right)&amp; \text { 梯度下降 } \\\text { 感知器 } &amp; \operatorname{sgn}\left(\boldsymbol{w}^{\top}\boldsymbol{x}\right) &amp; \max \left(0,-y \boldsymbol{w}^{\top}\boldsymbol{x}\right) &amp; \text { 随机梯度下降 }\end{array}\end{equation}\]</span></p>]]></content>
    
    
    <categories>
      
      <category>计算机科学</category>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Unlock pdf by shell commands</title>
    <link href="/2022/05/04/%E7%BC%96%E7%A8%8B/Linux%20%E6%96%87%E4%BB%B6%E8%A7%A3%E9%94%81%E5%92%8C%E8%BD%AC%E6%8D%A2/"/>
    <url>/2022/05/04/%E7%BC%96%E7%A8%8B/Linux%20%E6%96%87%E4%BB%B6%E8%A7%A3%E9%94%81%E5%92%8C%E8%BD%AC%E6%8D%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="解锁-mboxpdf-密码并替换原始文件">解锁 <spanclass="math inline">\(\mbox{pdf}\)</span> 密码并替换原始文件</h1><p>每次解锁 <span class="math inline">\(\mbox{pdf}\)</span>中的密码比较麻烦，当然有免费的在线网页资源 <ahref="https://smallpdf.com/cn/unlock-pdf">smallpdf</a>不过每次需要上传文件，而且有一定的安全风险。使用 <spanclass="math inline">\(\mbox{wsl}\)</span> 安装 <spanclass="math inline">\(\mbox{qpdf}\)</span> 加上脚本编辑可以实现解锁<span class="math inline">\(\mbox{pdf}\)</span>（在不知道密码的情况下，有暴力解锁的 <spanclass="math inline">\(\mbox{linux}\)</span> 安装包，不过现在 <spanclass="math inline">\(\mbox{pdf}\)</span>升级了，貌似不能被暴力破解了……）</p><p>在 <span class="math inline">\(\mbox{linux/wsl}\)</span> 环境下，安装<span class="math inline">\(\mbox{qpdf}\)</span></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get install qpdf<br></code></pre></td></tr></table></figure><p>输入密码后便自动安装好了。之后，在当前目录下创建一个 <spanclass="math inline">\(\mbox{unlockPDF}\)</span> 文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">touch unlockPDF<br></code></pre></td></tr></table></figure><p>使用 <span class="math inline">\(\mbox{nano}\)</span> 进行编辑</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">nano unlockPDF<br></code></pre></td></tr></table></figure><p>在编辑界面中写入如下代码，其中 <spanclass="math inline">\(\#\)</span> 开头的为注释</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta"># </span><span class="language-bash">第一行代表在哪个 shell 命令下执行，可以修改为 python 成为 python 脚本</span><br><span class="hljs-meta"># </span><span class="language-bash">可以使用命令行 <span class="hljs-built_in">which</span> bash 找到当前控制台命令行所在位置（本质上命令也是一些文件）</span><br><span class="hljs-meta">#</span><span class="language-bash">!/usr/bin/bash</span><br><span class="hljs-meta"># </span><span class="language-bash">要求文件名中不能有空格，否则处理时会把文件名分割，其中一个成为命令使得程序运行失败</span><br><span class="hljs-meta"># </span><span class="language-bash">pdf名称，存储输入的第一个参数</span><br>pdfName=$1<br><span class="hljs-meta"># </span><span class="language-bash">密码，存储输入的第二个参数</span><br>password=$2<br><span class="hljs-meta"># </span><span class="language-bash">解锁 pdf 命令，安装 qpdf (sudo apt-get install qpdf) 便可以使用</span><br>qpdf -password=$password --decrypt $pdfName output.pdf<br><span class="hljs-meta"># </span><span class="language-bash">$? 为 0 代表上条命令执行成功</span><br>if [ $? -eq 0 ]; then<br>    # 删除原文件<br>    rm -rf $pdfName<br>    # 将得到的 output.pdf 名称修改为原来 pdf 的名称，达到替换的效果<br>    mv output.pdf $pdfName<br>    # 输出成功结果<br>    echo &quot;解锁成功，原文件被替换&quot;<br>else<br>    # 输出失败结果<br>    echo &quot;密码错误，或未安装qpdf&quot;<br>fi<br></code></pre></td></tr></table></figure><p>可以看到 <span class="math inline">\(\mbox{shell}\)</span>中的参数传递方式、<span class="math inline">\(\mbox{if}\)</span>语句的输入、<span class="math inline">\(=\)</span> 的格式规范（不要在<span class="math inline">\(=\)</span>两侧加空格，<strong>加空格就代表分割命令</strong>，文件名也不能有空格）等与其他语言有些不同，需要加以熟悉，不过各语言之间的底层逻辑是相通的，只是各有千秋。</p><p>编写好之后，由于 <span class="math inline">\(\mbox{wsl}\)</span> 与<span class="math inline">\(\mbox{windows}\)</span>的分隔机制，不能把写好的脚本直接放在 <spanclass="math inline">\(\mbox{wsl}\)</span>控制台中，就直接放在文件夹中，专门用来处理文件，执行时输入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta"># </span><span class="language-bash">secure.pdf 为需要解锁的 pdf 文件，password 为解锁密码</span><br>./unlockPDF secure.pdf password<br></code></pre></td></tr></table></figure><h1 id="转换文档的-mboxlinux-命令行">转换文档的 <spanclass="math inline">\(\mbox{Linux}\)</span> 命令行</h1><p>（ wsl环境下输入下行代码会自动提示安装对应包，由于在命令行中运行，十分简便）</p><p><strong>转换 <span class="math inline">\(\mbox{tex}\)</span> 文件为<span class="math inline">\(\mbox{md}\)</span> 文件</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">//需要安装 pandoc<br>pandoc -s OOP_Homework.tex -o OOp_Homework.md<br></code></pre></td></tr></table></figure><p>使用 <span class="math inline">\(\text {linux}\)</span>环境下<strong>合成多个 <spanclass="math inline">\(pdf\)</span></strong>（主要用于合成多个爬虫 <spanclass="math inline">\(pdf\)</span> 文件）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">//需要安装 pdftk<br>pdftk $(<span class="hljs-built_in">ls</span> *.pdf) <span class="hljs-built_in">cat</span> output 教材.pdf<br></code></pre></td></tr></table></figure><p>将<strong>多张原始图片合成为 <spanclass="math inline">\(pdf\)</span></strong>（主要用于合成手写作业）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs b">//需要安装 ImageMagick<br>convert *.jpg 作业.pdf<br></code></pre></td></tr></table></figure><p>如果出现安全问题（如下）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">attempt to perform an operation not allowed by the security policy `PDF<span class="hljs-string">&#x27; @ error/constitute.c/IsCoderAuthorized/408.</span><br></code></pre></td></tr></table></figure><p>需要使用权限修改 <span class="math inline">\(policy.xml\)</span>文件，使用以下命令行进入此文件中，回车后会进入编辑模式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo nano /etc/ImageMagick-6/policy.xml<br></code></pre></td></tr></table></figure><p>其中，<span class="math inline">\(nano\)</span>是字符终端的文本编辑器，可以对文件进行修改</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml">…………//大概在文件结尾部分<br>   <span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;EPS&quot;</span> /&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;PDF&quot;</span> /&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;XPS&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p>修改 <span class="math inline">\(\mbox{PDF}\)</span> 对应权限<code>rights="none"</code> $$ <code>rights="read|write"</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;EPS&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;read|write&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;PDF&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">policy</span> <span class="hljs-attr">domain</span>=<span class="hljs-string">&quot;coder&quot;</span> <span class="hljs-attr">rights</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;XPS&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p><span class="math inline">\(Ctrl+X\)</span> 退出并输入 <spanclass="math inline">\(Y\)</span> 保存就可以使用了</p>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>shell</category>
      
    </categories>
    
    
    <tags>
      
      <tag>shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Physics of report</title>
    <link href="/2022/05/03/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%89%A91%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/"/>
    <url>/2022/05/03/%E7%89%A9%E7%90%86/%E5%9F%BA%E7%89%A91%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</url>
    
    <content type="html"><![CDATA[<p><ahref="https://lr-tsinghua11.github.io/pdf/阻尼振动和受迫振动.pdf">阻尼振动和受迫振动实验报告</a></p><p><ahref="https://lr-tsinghua11.github.io/pdf/弦振动实验.pdf">弦振动实验报告</a></p><p><ahref="https://lr-tsinghua11.github.io/pdf/电磁感应.pdf">电磁感应实验报告</a></p>]]></content>
    
    
    <categories>
      
      <category>物理</category>
      
      <category>实验报告</category>
      
    </categories>
    
    
    <tags>
      
      <tag>实验报告</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Matplotlib-For-Lab-of-Physics</title>
    <link href="/2022/04/30/%E7%BC%96%E7%A8%8B/python%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/"/>
    <url>/2022/04/30/%E7%BC%96%E7%A8%8B/python%20%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/</url>
    
    <content type="html"><![CDATA[<p>之前写的绘制最小二乘法代码太垃了，现在使用面向对象的技术对截距为<span class="math inline">\(0\)</span> 和不为 <spanclass="math inline">\(0\)</span> 封装为两个类，并共同继承拥有一个父类<span class="math inline">\(\mbox{regression}\)</span>在命令行执行时输入相应参数，对应两种不同拟合方式，以后有时间可以增加多项式拟合相关的类。</p><p>源码以及对应详尽注释如下：（绘制拟合直线和计算相应误差并输出为 <spanclass="math inline">\(\LaTeX\)</span> 格式 ）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> argparse<br><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> sqrt,log,pi<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> IPython <span class="hljs-keyword">import</span> embed<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> TINV <span class="hljs-keyword">import</span> TINV<br><span class="hljs-comment"># 存储xy坐标名称</span><br><br>xNames = [<span class="hljs-string">&quot;谐频次数$\mathcal&#123;n&#125;$(个)&quot;</span>, <span class="hljs-string">&quot;弦长倒数$\ \mathcal&#123;L&#125;^&#123;-1&#125;(\mathcal&#123;m&#125;$$^&#123;-1&#125;$)&quot;</span>, <br>            <span class="hljs-string">&quot;拉力对数$\ln\mathcal&#123;T&#125;&#125;$&quot;</span>, <span class="hljs-string">&quot;线密度对数$\ \lnρ$&quot;</span>, <span class="hljs-string">&quot;振动次数 n&quot;</span>, <span class="hljs-string">&quot;振幅平方$A^2(rad^2$)&quot;</span>]<br><br>yNames = [<span class="hljs-string">&quot;共振频率$\mathcal&#123;f&#125;\ \mathcal&#123;(Hz)&#125;$&quot;</span>, <span class="hljs-string">&quot;共振频率$\mathcal&#123;f&#125;\ \mathcal&#123;(Hz)&#125;$&quot;</span>, <br>            <span class="hljs-string">&quot;基频对数$\ln\mathcal&#123;f&#125;&#125;$&quot;</span>, <span class="hljs-string">&quot;基频对数$\ln\mathcal&#123;f&#125;&#125;$&quot;</span>, <span class="hljs-string">&quot;振幅($\mathrm&#123;rad&#125;$)的对数 $\mathrm&#123;ln&#125;\  θ$&quot;</span>, <span class="hljs-string">&quot;周期$T(s)$&quot;</span>]<br><br><span class="hljs-comment"># 当前选择的名称，默认为列表最后一个</span><br>xName = xNames[-<span class="hljs-number">1</span>]<br>yName = yNames[-<span class="hljs-number">1</span>]<br><br><span class="hljs-comment"># 传入截距是否为0的参数</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">getInput</span>():<br><br>    parser = argparse.ArgumentParser(description = <span class="hljs-string">&#x27;Version: v1.0. Draw the regression line for the Physics Report,&#x27;</span> <br>                        <span class="hljs-string">&#x27;coefficient 0 means the intercept is 0, &#x27;</span><br>                        <span class="hljs-string">&#x27;1 means the intercept is not 1, &#x27;</span><br>                        <span class="hljs-string">&#x27;01 means the intercept is 0 and save the figure, &#x27;</span><br>                        <span class="hljs-string">&#x27;11 means the intercept is not 0 and save the figure.&#x27;</span><br>                        <span class="hljs-string">&#x27;\nFor example, python LinearRegression.py 0&#x27;</span>)<br>    parser.add_argument(<span class="hljs-string">&#x27;crossOrigin&#x27;</span>, <span class="hljs-built_in">help</span> = <span class="hljs-string">&#x27;Whether the intercept of the line is 0 or 1. &#x27;</span> <br>                                        <span class="hljs-string">&#x27;Besides, if want to save the figure, just add 1. &#x27;</span>)<br>    args = parser.parse_args()<br>    <span class="hljs-keyword">return</span> args.crossOrigin<br><br><span class="hljs-comment"># 截距为0和不为0的父类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">regression</span>:<br><br>    <span class="hljs-comment"># 初始化相关数据</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        self.x = x<br>        self.y = y<br>        self.length = <span class="hljs-built_in">len</span>(x)<br>        self.k = <span class="hljs-number">0.0</span><br>        self.b = <span class="hljs-number">0.0</span><br>        self.R_2 = <span class="hljs-number">0.0</span><br>        self.Sk = <span class="hljs-number">0.0</span><br>        self.Uk = <span class="hljs-number">0.0</span><br>        self.Sb = <span class="hljs-number">0.0</span><br>        self.Ub = <span class="hljs-number">0.0</span><br>    <br>    <span class="hljs-comment"># 将计算结果表达为latex格式</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">expression</span>(<span class="hljs-params">self</span>):<br>        lineExpression = <span class="hljs-string">&quot;$\hat&#123;y&#125;=&quot;</span> + <span class="hljs-built_in">str</span>(<span class="hljs-built_in">round</span>(self.k, <span class="hljs-number">6</span>)) + <span class="hljs-string">&quot;x&quot;</span><br>        R2Expression = <span class="hljs-string">&#x27;$r^2=&#x27;</span> + <span class="hljs-built_in">str</span>(self.R_2) + <span class="hljs-string">&quot;$&quot;</span><br>        <span class="hljs-keyword">if</span> self.b == <span class="hljs-number">0.0</span>:<br>            b = <span class="hljs-string">&quot;&quot;</span><br>        <span class="hljs-keyword">elif</span> self.b &gt; <span class="hljs-number">0</span>:<br>            b = <span class="hljs-string">&quot;+&quot;</span> + <span class="hljs-built_in">str</span>(<span class="hljs-built_in">round</span>(self.b, <span class="hljs-number">6</span>))<br>        <span class="hljs-keyword">else</span>:<br>            b = <span class="hljs-built_in">str</span>(<span class="hljs-built_in">round</span>(self.b, <span class="hljs-number">6</span>))<br>        lineExpression += (b + <span class="hljs-string">&quot;$&quot;</span>)<br>        <span class="hljs-keyword">return</span> lineExpression, R2Expression<br><br>    <span class="hljs-comment"># 绘制直线以及离散点</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">drawLineAndPoints</span>(<span class="hljs-params">self</span>):<br>        xdraw = np.linspace(<span class="hljs-built_in">min</span>(self.x), <span class="hljs-built_in">max</span>(self.x), <span class="hljs-number">50</span>)<br>        ydraw = self.k * xdraw + self.b<br>        plt.plot(xdraw, ydraw, <span class="hljs-string">&#x27;-&#x27;</span> , color = <span class="hljs-string">&#x27;b&#x27;</span>, linewidth = <span class="hljs-number">0.5</span>)<br>        plt.plot(self.x, self.y, <span class="hljs-string">&#x27;ro&#x27;</span>)<br><br>    <span class="hljs-comment"># 将拟合直线表达式和相关系数自动标定在合适位置</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addTwoExpressions</span>(<span class="hljs-params">self</span>):<br>        addLimx = (<span class="hljs-built_in">max</span>(self.x) - <span class="hljs-built_in">min</span>(self.x)) / <span class="hljs-number">10</span><br>        addLimy = (<span class="hljs-built_in">max</span>(self.y) - <span class="hljs-built_in">min</span>(self.y)) / <span class="hljs-number">10</span><br>        plt.xlim(<span class="hljs-built_in">min</span>(self.x) - addLimx, <span class="hljs-built_in">max</span>(self.x) + addLimx)<br>        plt.ylim(<span class="hljs-built_in">min</span>(self.y) - addLimy, <span class="hljs-built_in">max</span>(self.y) + addLimy)<br><br>        deltaY = <span class="hljs-built_in">max</span>(self.y ) - <span class="hljs-built_in">min</span>(self.y) + <span class="hljs-number">2</span> * addLimy<br>        deltaX = <span class="hljs-built_in">max</span>(self.x) - <span class="hljs-built_in">min</span>(self.x) + <span class="hljs-number">2</span> * addLimx<br>        middleX = (<span class="hljs-built_in">max</span>(self.x) + <span class="hljs-built_in">min</span>(self.x)) / <span class="hljs-number">2</span><br>        middleY = (<span class="hljs-built_in">max</span>(self.y) + <span class="hljs-built_in">min</span>(self.y)) / <span class="hljs-number">2</span><br><br>        <span class="hljs-keyword">if</span> self.k &lt; <span class="hljs-number">0</span>:<br>            lineY1 = middleY + deltaY * <span class="hljs-number">0.24</span><br>            lineY2 = middleY + deltaY * <span class="hljs-number">0.16</span><br>            lineX1 = middleX - deltaX * <span class="hljs-number">0.088</span><br>            lineX2 = middleX - deltaX * <span class="hljs-number">0.088</span><br>        <span class="hljs-keyword">else</span>:<br>            lineY1 = middleY - deltaY * <span class="hljs-number">0.16</span><br>            lineY2 = middleY - deltaY * <span class="hljs-number">0.24</span><br>            lineX1 = middleX - deltaX * <span class="hljs-number">0.088</span><br>            lineX2 = middleX - deltaX * <span class="hljs-number">0.088</span><br><br>        lineExpression, R2Expression = self.expression()<br>        plt.text(lineX1, lineY1, lineExpression, fontsize = <span class="hljs-number">12</span>)<br>        plt.text(lineX2, lineY2, R2Expression, fontsize = <span class="hljs-number">12</span>)<br><br>    <span class="hljs-comment"># 添加xy轴标签</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addLabels</span>(<span class="hljs-params">self</span>):<br>        plt.rcParams[<span class="hljs-string">&#x27;font.sans-serif&#x27;</span>] = <span class="hljs-string">&#x27;Kaiti&#x27;</span> <span class="hljs-comment"># 文字使用楷体</span><br>        plt.xlabel(xName, fontsize = <span class="hljs-number">12</span>)<br>        plt.ylabel(yName, fontsize = <span class="hljs-number">12</span>)<br><br>    <span class="hljs-comment"># 绘制图形</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">drawGraph</span>(<span class="hljs-params">self</span>):<br>        plt.rcParams[<span class="hljs-string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="hljs-literal">False</span>  <span class="hljs-comment"># 正常显示负数</span><br>        plt.rcParams[<span class="hljs-string">&#x27;font.sans-serif&#x27;</span>] =<span class="hljs-string">&#x27;Times New Roman&#x27;</span>  <span class="hljs-comment"># 数字使用罗马字体</span><br>        self.drawLineAndPoints()<br>        self.addTwoExpressions()<br>        self.addLabels()<br>        self.addLabels()<br><br>    <span class="hljs-comment"># 输出数据</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">dataOutput</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad \quad 线性拟合斜率$k=&quot;</span>, <span class="hljs-built_in">round</span>(self.k, <span class="hljs-number">10</span>), end = <span class="hljs-string">&quot;$&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad 调用Excel中TINV函数&quot;</span>, <span class="hljs-string">&quot;$t_&#123;0.95,&quot;</span>, <span class="hljs-built_in">str</span>(self.length - <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;&#125;=&quot;</span>, <span class="hljs-built_in">round</span>(<span class="hljs-built_in">float</span>(TINV[self.length - <span class="hljs-number">1</span>]), <span class="hljs-number">10</span>), <span class="hljs-string">&quot;$\par&quot;</span>) <br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad \quad 斜率标准偏差$s_k=&quot;</span>, <span class="hljs-built_in">round</span>(self.Sk, <span class="hljs-number">10</span>), end = <span class="hljs-string">&quot;$&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad 斜率不确定度为$U_k=&quot;</span>, <span class="hljs-built_in">round</span>(self.Uk, <span class="hljs-number">10</span>), <span class="hljs-string">&quot;$\par&quot;</span>)<br><br>        <span class="hljs-keyword">if</span>(self.Sb != <span class="hljs-number">0.0</span>):<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad \quad 线性拟合截距$b=&quot;</span>, <span class="hljs-built_in">round</span>(self.b, <span class="hljs-number">10</span>), end = <span class="hljs-string">&quot;$&quot;</span>)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad 线性回归相关系数&quot;</span>, <span class="hljs-string">&quot;$R^2=&quot;</span>, <span class="hljs-built_in">round</span>(self.R_2, <span class="hljs-number">10</span>), <span class="hljs-string">&quot;$\par&quot;</span>) <br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad \quad 截距标准偏差$s_b=&quot;</span>, <span class="hljs-built_in">round</span>(self.Sb, <span class="hljs-number">10</span>), end = <span class="hljs-string">&quot;$&quot;</span>)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\quad \quad 截距不确定度为$U_b=&quot;</span>, <span class="hljs-built_in">round</span>(self.Ub,<span class="hljs-number">10</span>), <span class="hljs-string">&quot;$\par&quot;</span>)<br><br>    <span class="hljs-comment"># 预览但不保存图片</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">output</span>(<span class="hljs-params">self</span>):<br>        self.dataOutput()<br>        self.drawGraph()<br>        plt.show()<br><br>    <span class="hljs-comment"># 保存且预览图片</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">save</span>(<span class="hljs-params">self, saveName</span>):<br>        self.dataOutput()<br>        self.drawGraph()<br>        plt.savefig(saveName)<br>        plt.show()<br><br><span class="hljs-comment"># 继承父类，不强制截距为0</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">notCrossOrigin</span>(<span class="hljs-title class_ inherited__">regression</span>):<br><br>    <span class="hljs-comment"># 计算父类中的所有数据</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        regression.__init__(self, x, y)<br>        self.k, self.b = self.regressK_b()<br>        self.R_2 = self.getR_2()<br>        self.Sk = sqrt((<span class="hljs-number">1</span> / self.R_2 - <span class="hljs-number">1</span>) / (self.length - <span class="hljs-number">2</span>)) * self.k<br>        self.Uk = self.Sk * TINV[self.length - <span class="hljs-number">1</span>]<br>        self.Sb = sqrt((<span class="hljs-number">1</span> - self.R_2) / (self.length - <span class="hljs-number">2</span>)) * self.b<br>        self.Ub = self.Sb * TINV[self.length - <span class="hljs-number">1</span>]<br><br>    <span class="hljs-comment"># 计算线性回归斜率和截距</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">regressK_b</span>(<span class="hljs-params">self</span>):<br>        coef = np.polyfit(self.x, self.y, <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> coef[<span class="hljs-number">0</span>], coef[<span class="hljs-number">1</span>]<br>    <br>    <span class="hljs-comment"># 计算线性回归相关系数</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getR_2</span>(<span class="hljs-params">self</span>):<br>        coeffs = np.polyfit(self.x, self.y, <span class="hljs-number">1</span>)<br>        p = np.poly1d(coeffs)<br>        yhat = p(self.x)<br>        ybar = np.<span class="hljs-built_in">sum</span>(self.y) / <span class="hljs-built_in">len</span>(self.y)<br>        ssreg = np.<span class="hljs-built_in">sum</span>((yhat - ybar) ** <span class="hljs-number">2</span>)<br>        sstot = np.<span class="hljs-built_in">sum</span>((self.y - ybar) ** <span class="hljs-number">2</span>)<br>        <span class="hljs-keyword">return</span> ssreg / sstot<br><br><span class="hljs-comment"># 继承父类，强制截距为0</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">crossOrigin</span>(<span class="hljs-title class_ inherited__">regression</span>):<br><br>    <span class="hljs-comment"># 计算父类中的所有数据</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        regression.__init__(self, x, y)<br>        self.k = np.dot(x, y) / np.dot(x, x)<br>        self.R_2, self.Sk= self.getR_2AndS_k()<br>        self.Uk = self.Sk * TINV[self.length - <span class="hljs-number">1</span>]<br>    <br>    <span class="hljs-comment"># 计算线性回归相关系数和斜率标准偏差</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getR_2AndS_k</span>(<span class="hljs-params">self</span>):<br>        yhat = [self.k * self.x[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.length)]<br>        deltay = [self.y[i] - yhat[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.length)]<br>        ybar = np.<span class="hljs-built_in">sum</span>(self.y) / self.length<br>        newReg = np.dot(deltay, deltay)<br>        sstot = np.dot(self.y - ybar, yhat - ybar)<br>        sy = sqrt(newReg / (<span class="hljs-built_in">len</span>(self.y) - <span class="hljs-number">1</span>))<br>        xrms = sqrt(np.dot(self.x, self.x))<br>        <span class="hljs-keyword">return</span> (<span class="hljs-number">1</span> - newReg / sstot), sy / xrms<br><br><span class="hljs-comment"># 主函数定义开始</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br><br>    <span class="hljs-comment"># 原始数据，如果需要处理，添加循环语句进行计算</span><br>    x = <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">7</span>,<span class="hljs-number">1</span>)<br>    y = [<span class="hljs-number">31.2</span>,<span class="hljs-number">62.9</span>,<span class="hljs-number">95.5</span>,<span class="hljs-number">128.4</span>,<span class="hljs-number">161.0</span>,<span class="hljs-number">194.3</span>]<br><br>    <span class="hljs-comment"># 获取类型参数</span><br>    cross = getInput()<br><br>    <span class="hljs-comment"># 对不同参数进行回归</span><br>    <span class="hljs-keyword">if</span> cross == <span class="hljs-string">&quot;0&quot;</span>:<br>        crossOrigin(x, y).output()<br>    <span class="hljs-keyword">elif</span> cross == <span class="hljs-string">&quot;1&quot;</span>:<br>        notCrossOrigin(x, y).output()<br><br>    <span class="hljs-keyword">elif</span> cross == <span class="hljs-string">&quot;01&quot;</span>:<br>        crossOrigin(x, y).save(<span class="hljs-string">&quot;crossOrigin.png&quot;</span>)<br>    <span class="hljs-keyword">elif</span> cross == <span class="hljs-string">&quot;11&quot;</span>:<br>        notCrossOrigin(x, y).save(<span class="hljs-string">&quot;notCrossOrigin.png&quot;</span>)<br></code></pre></td></tr></table></figure><p>绘制可微的 <span class="math inline">\(Bezeir\)</span>曲线源代码如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> matplotlib <span class="hljs-keyword">import</span> pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> scipy.special <span class="hljs-keyword">import</span> comb<br><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> sqrt,pi,exp<br><br><span class="hljs-comment"># 全局变量，每次绘图前修改曲线颜色，xlabel,ylabel代表横纵坐标</span><br>colorLineWhole = <span class="hljs-string">&quot;blue&quot;</span><br>xLabel = [<span class="hljs-string">&quot;Forced frequency $\omega_&#123;f&#125; (\mathrm&#123;s&#125;^&#123;-1&#125;)$&quot;</span>]<br>yLabel = [<span class="hljs-string">&quot;Amplitude θ (°)&quot;</span>,<span class="hljs-string">&quot;Phase Difference φ&quot;</span>,<span class="hljs-string">&quot;Amplitude θ (°)&quot;</span>]<br><br><span class="hljs-comment"># 使用 python 中面向对象特性，编写贝塞尔曲线类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">BezierCurve</span>:<br><br>    <span class="hljs-comment"># 初始化点坐标和控制点个数</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, list_of_points: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">float</span>, <span class="hljs-built_in">float</span>]]</span>):<br>        self.list_of_points = list_of_points<br>        self.degree = <span class="hljs-built_in">len</span>(list_of_points) - <span class="hljs-number">1</span><br><br>    <span class="hljs-comment"># Bezier 曲线基函数对应多项式系数数组 B_&#123;i,n&#125;(t) = C_&#123;n&#125;^&#123;i&#125; * (1 - t)^&#123;n - i&#125; * t^&#123;i&#125;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">basis_function</span>(<span class="hljs-params">self, t: <span class="hljs-built_in">float</span></span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-built_in">float</span>]:<br>        <span class="hljs-keyword">assert</span> <span class="hljs-number">0</span> &lt;= t &lt;= <span class="hljs-number">1</span>, <span class="hljs-string">&quot;Time t must be between 0 and 1.&quot;</span><br>        output_values: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">float</span>] = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.list_of_points)):<br>            output_values.append(comb(self.degree, i) * ((<span class="hljs-number">1</span> - t) ** (self.degree - i)) * (t**i))<br>        <span class="hljs-keyword">return</span> output_values<br><br>    <span class="hljs-comment"># 计算 Bezier 曲线函数在 t∈[0,1] 处的值</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bezier_curve_function</span>(<span class="hljs-params">self, t: <span class="hljs-built_in">float</span></span>) -&gt; <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">float</span>, <span class="hljs-built_in">float</span>]:<br>        <span class="hljs-keyword">assert</span> <span class="hljs-number">0</span> &lt;= t &lt;= <span class="hljs-number">1</span>, <span class="hljs-string">&quot;Time t must be between 0 and 1.&quot;</span><br>        basis_function = self.basis_function(t)<br>        x = <span class="hljs-number">0.0</span><br>        y = <span class="hljs-number">0.0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.list_of_points)):<br>            x += basis_function[i] * self.list_of_points[i][<span class="hljs-number">0</span>]<br>            y += basis_function[i] * self.list_of_points[i][<span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">return</span> (x, y)<br><br>    <span class="hljs-comment"># 绘制给定 n 个控制点下的 Bezier 曲线</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_curve</span>(<span class="hljs-params">self, step_size: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.001</span></span>):<br>        to_plot_x: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">float</span>] = []<br>        to_plot_y: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">float</span>] = []<br>        t = <span class="hljs-number">0.0</span><br>        <span class="hljs-keyword">while</span> t &lt;= <span class="hljs-number">1</span>:<br>            value = self.bezier_curve_function(t)<br>            to_plot_x.append(value[<span class="hljs-number">0</span>])<br>            to_plot_y.append(value[<span class="hljs-number">1</span>])<br>            t += step_size<br>        x = [i[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> self.list_of_points]<br>        y = [i[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> self.list_of_points]<br>        plt.plot(to_plot_x, to_plot_y, color = colorLineWhole, linewidth = <span class="hljs-number">0.88</span>)<br><br><span class="hljs-comment">#  x 排序从大到小，并保证数据对应</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sortXY</span>(<span class="hljs-params">x, y</span>):<br>    data = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(x)):<br>        data.append([x[i],y[i]])<br>    data.sort(key = <span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">0</span>])<br>    x = [i[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> data]<br>    y = [i[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> data]<br>    <span class="hljs-keyword">return</span> x, y<br><br><span class="hljs-comment"># 计算两个点的欧式距离</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">distance</span>(<span class="hljs-params">p1,p2</span>):<br>    <span class="hljs-keyword">return</span> sqrt((p1[<span class="hljs-number">0</span>] - p2[<span class="hljs-number">0</span>]) * (p1[<span class="hljs-number">0</span>] - p2[<span class="hljs-number">0</span>]) + (p1[<span class="hljs-number">1</span>] - p2[<span class="hljs-number">1</span>]) * (p1[<span class="hljs-number">1</span>] - p2[<span class="hljs-number">1</span>]))<br><br><span class="hljs-comment"># 计算四个点对应两条直线的交点</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intersectPoints</span>(<span class="hljs-params">p1, p2, p3, p4</span>):<br>    k1 = (p2[<span class="hljs-number">1</span>] - p1[<span class="hljs-number">1</span>]) / (p2[<span class="hljs-number">0</span>] - p1[<span class="hljs-number">0</span>])<br>    b1 = p1[<span class="hljs-number">1</span>] - k1 * p1[<span class="hljs-number">0</span>]<br>    k2 = (p4[<span class="hljs-number">1</span>] - p3[<span class="hljs-number">1</span>]) / (p4[<span class="hljs-number">0</span>] - p3[<span class="hljs-number">0</span>])<br>    b2 = p3[<span class="hljs-number">1</span>] - k2 * p3[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">return</span> [(b1 - b2) / (k2 - k1), (k2 * b1 - k1 * b2) / (k2 - k1)]<br><br><span class="hljs-comment"># 计算由上述所生成三个点所构成三角形的内心</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">angularBisector</span>(<span class="hljs-params">p1,p2,p3,p4</span>):<br>    interP = intersectPoints(p1,p2,p3,p4)<br>    a = distance(p2, p3)<br>    b = distance(p3, interP)<br>    c = distance(p2, interP)<br><span class="hljs-keyword">return</span> [(a * interP[<span class="hljs-number">0</span>] + b * p2[<span class="hljs-number">0</span>] + c * p3[<span class="hljs-number">0</span>]) / (a + b + c),<br>             (a * interP[<span class="hljs-number">1</span>] + b * p2[<span class="hljs-number">1</span>] + c * p3[<span class="hljs-number">1</span>]) / (a + b + c) ]<br><br><span class="hljs-comment"># 计算给定离散点生成的 Bezier 曲线</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">pointdBezierGraph</span>(<span class="hljs-params">x,y,colorPoint</span>):<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(x)):<br>        plt.scatter(x[i], y[i], color = colorPoint, marker = <span class="hljs-string">&quot;+&quot;</span>, s = <span class="hljs-number">24</span>, linewidth = <span class="hljs-number">0.88</span>)<br>    averageX = (x[-<span class="hljs-number">1</span>] - x[<span class="hljs-number">0</span>]) / <span class="hljs-built_in">len</span>(x)<br>    x.insert(<span class="hljs-number">0</span>, x[<span class="hljs-number">0</span>] - averageX)<br>    x.append(x[-<span class="hljs-number">1</span>] + averageX)<br>    y.insert(<span class="hljs-number">0</span>, y[<span class="hljs-number">0</span>])<br>    y.append(y[-<span class="hljs-number">1</span>])<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(x) - <span class="hljs-number">3</span>):<br>        p1 = [x[i], y[i]]<br>        p2 = [x[i + <span class="hljs-number">1</span>], y[i + <span class="hljs-number">1</span>]]<br>        p3 = [x[i + <span class="hljs-number">2</span>], y[i + <span class="hljs-number">2</span>]]<br>        p4 = [x[i + <span class="hljs-number">3</span>], y[i + <span class="hljs-number">3</span>]]<br>        I = angularBisector(p1, p2, p3, p4)<br>        BezierCurve([p2, I, p3]).plot_curve()<br><br><span class="hljs-comment"># 自动处理数据，传入两个列表，线条颜色，标记点颜色， 绘制 Bezier 曲线</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">drawBezier</span>(<span class="hljs-params">x,y,colorLine,colorPoint</span>):<br>    x,y = sortXY(x,y)<br>    <span class="hljs-keyword">global</span> colorLineWhole<br>    colorLineWhole = colorLine<br>    pointdBezierGraph(x,y,colorPoint)<br><br><span class="hljs-comment"># 主函数定义开始</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    x = [<span class="hljs-number">1.575</span>,<span class="hljs-number">1.553</span>,<span class="hljs-number">1.531</span>,<span class="hljs-number">1.516</span>,<span class="hljs-number">1.501</span>,<span class="hljs-number">1.487</span>,<span class="hljs-number">1.479</span>,<span class="hljs-number">1.472</span>,<span class="hljs-number">1.465</span>,<span class="hljs-number">1.451</span>,<span class="hljs-number">1.443</span>,<span class="hljs-number">1.427</span>,<span class="hljs-number">1.413</span>,<span class="hljs-number">1.391</span>,<span class="hljs-number">1.369</span>]<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(x)):<br>        x[i] = <span class="hljs-number">2</span> * pi / x[i]<br><br>    y = [<span class="hljs-number">15</span>,<span class="hljs-number">25</span>,<span class="hljs-number">35</span>,<span class="hljs-number">44</span>,<span class="hljs-number">58</span>,<span class="hljs-number">76</span>,<span class="hljs-number">87</span>,<span class="hljs-number">99</span>,<span class="hljs-number">112</span>,<span class="hljs-number">130</span>,<span class="hljs-number">138</span>,<span class="hljs-number">147</span>,<span class="hljs-number">152</span>,<span class="hljs-number">156</span>,<span class="hljs-number">160</span>]<br>    drawBezier(x,y,<span class="hljs-string">&quot;green&quot;</span>,<span class="hljs-string">&quot;blue&quot;</span>)<br><br>    plt.xlabel(xLabel[<span class="hljs-number">1</span>])<br>    plt.ylabel(yLabel[<span class="hljs-number">0</span>])<br>    <span class="hljs-comment"># plt.savefig(&quot;图片.png&quot;,dpi = 2000)</span><br>    plt.show()<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Advanced Algebra Midterm</title>
    <link href="/2022/04/24/%E6%95%B0%E5%AD%A6/%E9%AB%98%E4%BB%A3%E6%9C%9F%E4%B8%AD%E4%BD%9C%E4%B8%9A/"/>
    <url>/2022/04/24/%E6%95%B0%E5%AD%A6/%E9%AB%98%E4%BB%A3%E6%9C%9F%E4%B8%AD%E4%BD%9C%E4%B8%9A/</url>
    
    <content type="html"><![CDATA[<h1id="largetextcolorbluemboxadvanced-algebra-small-mathbfmidterm-_textcolorblue2022.4.21"><spanclass="math inline">\(\large\textcolor{blue}{\mbox{Advanced Algebra }\small \mathbf{Midterm}}\ \ \ \ \ \_\textcolor{blue}{2022.4.21}\)</span></h1><h2 id="problem-1-small-mboxquaternions">Problem 1<spanclass="math inline">\(\ \small \mbox{Quaternions}\)</span></h2><p>The quaternions are widely applied in computation graphics andcomputer games, and can also be used to simplify calculations thatinvolves angular stuff or rotations. They are defiend as <spanclass="math inline">\(a+b i+c j+d k\)</span>, where <spanclass="math inline">\(a, b, c, d \in \mathbb{R}\)</span> and <spanclass="math inline">\(i^{2}=j^{2}=k^{2}=i j k=-1\)</span>. (Inparticular, the multiplication is defined <span class="math display">\[a s(a+b i+c j+d k)\left(a^{\prime}+b^{\prime} i+c^{\prime} j+d^{\prime}k\right)=\left(a a^{\prime}-b b^{\prime}-c c^{\prime}-dd^{\prime}\right)+\\\left(a b^{\prime}+b a^{\prime}+c d^{\prime}-dc^{\prime}\right) i+\left(a c^{\prime}+c a^{\prime}+d^{\prime}b-\right.\left.b d^{\prime}\right) j+\left(a d^{\prime}+d a^{\prime}+bc^{\prime}-c b^{\prime}\right) k\]</span> You don't really need to know this formula for this problemthough.)</p><p><span class="math inline">\((1)\)</span> Recall that we can formulatecomplex numbers as matrices. Similarly, let us try this for quaternions.Consider matrices of the form <span class="math display">\[a\left[\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0&amp; 0 \\ 0 &amp; 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp;1\end{array}\right]+b\left[\begin{array}{cccc}0 &amp; -1 &amp; 0 &amp; 0\\ 1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; -1 \\ 0 &amp; 0&amp; 1 &amp; 0\end{array}\right]+c\left[\begin{array}{cccc}0 &amp; 0&amp; -1 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \\ 1 &amp; 0 &amp; 0 &amp;0 \\ 0 &amp; -1 &amp; 0 &amp;0\end{array}\right]+d\left[\begin{array}{cccc}0 &amp; 0 &amp; 0 &amp; -1\\ 0 &amp; 0 &amp; -1 &amp; 0 \\ 0 &amp; 1 &amp; 0 &amp; 0 \\ 1 &amp; 0&amp; 0 &amp; 0\end{array}\right]\]</span> where <span class="math inline">\(a, b, c, d \in\mathbb{R}\)</span>. Show that this gives a model of the quaternions aswell, i.e., they satisfy <span class="math inline">\(i^{2}=j^{2}=k^{2}=ij k=-1\)</span>.</p><p><span class="math inline">\((2)\)</span> You may interpret <spanclass="math inline">\(\left[\begin{array}{l}a \\ b \\ c \\d\end{array}\right] \in \mathbb{R}^{4}\)</span> as the quaternion <spanclass="math inline">\(a+b i+c j+d k\)</span>. Then for any quaternion<span class="math inline">\(q\)</span>, multiplying <spanclass="math inline">\(q\)</span> to <span class="math inline">\(a+b i+cj+d k\)</span> from the left gives a linear map <spanclass="math inline">\(\mathbb{R}^{4} \rightarrow \mathbb{R}^{4}:(a+b i+cj+d k) \mapsto q(a+b i+c j+d k)\)</span>. If <spanclass="math inline">\(q=r+x i+y j+z k\)</span>, what is the matrix <spanclass="math inline">\(L_{q}\)</span> for this linear map? What is thematrix <span class="math inline">\(R_{q}\)</span> for the linear map ifwe multiply <span class="math inline">\(q\)</span> from the right? Do wehave <span class="math inline">\(L_{q} R_{q}=R_{q} L_{q}\)</span> ?</p><p><span class="math inline">\((3)\)</span> The conjugate of aquaternion <span class="math inline">\(q=a+b i+c j+d k\)</span> is <spanclass="math inline">\(\bar{q}=a-b i-c j-d k\)</span>. Show that for aunit quaternion <span class="math inline">\(q\)</span> (i.e., <spanclass="math inline">\(q \bar{q}=1\)</span> ), the matrix <spanclass="math inline">\(L_{q} R_{\bar{q}}\)</span> has block form <spanclass="math inline">\(\left[\begin{array}{cc}1 &amp; 0 \\ 0 &amp;Q\end{array}\right]\)</span> where <spanclass="math inline">\(Q\)</span> is an orthogonal matrix. (Hint: Theblock form is easy. To see that <span class="math inline">\(Q\)</span>is orthogonal, an easy way is to show that <spanclass="math inline">\(\left(L_{q} R_{\bar{q}}\right)^{T}\left(L_{q}R_{\bar{q}}\right)=I\)</span> by understanding the meaning of thematrices involved.) (In particular, if you interpret a <spanclass="math inline">\(3 D\)</span> vector <spanclass="math inline">\((x, y, z)\)</span> as the quaternion <spanclass="math inline">\(v=0+x i+y j+z k \mathrm{~ , ~ t h e n ~ t h e ~ qu a t e r n i o n ~ m u l t i p l i c a t i o n ~ q v}\)</span> to somerotation of <span class="math inline">\(v\)</span>. This quaternioninterpretation is currently one of the best way to compute 3D rotationsin real life. Many of your games with <span class="math inline">\(3D\)</span> graphics depend on this.)</p><hr /><p><span class="math inline">\((1)\)</span> Just calculate it.</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(L_{q}=\begin{pmatrix}r&amp;-x&amp;-y&amp;-z\\x&amp;r&amp;-z&amp;y\\y&amp;z&amp;r&amp;-x\\z&amp;-y&amp;x&amp;r\end{pmatrix},R_{q}=\begin{pmatrix}r&amp;-x&amp;-y&amp;-z\\x&amp;r&amp;z&amp;-y\\y&amp;-z&amp;r&amp;x\\z&amp;y&amp;-x&amp;r\end{pmatrix}\)</span></p><p><spanclass="math inline">\(R_qL_q=\begin{pmatrix}-x^2-y^2-z^2+r^2&amp;-2rx&amp;-2ry&amp;-2rz\\2rx&amp;-x^2+r^2+y^2+z^2&amp;-2xy&amp;-2xz\\2yr&amp;-2yx&amp;-y^2+z^2+r^2+x^2&amp;-2zy\\2zr&amp;2zx&amp;-2zy&amp;-z^2+r^2+x^2+y^2\end{pmatrix}\)</span></p><p><spanclass="math inline">\(L_qR_q=\begin{pmatrix}-x^2-y^2-z^2+r^2&amp;-2rx&amp;-2ry&amp;-2rz\\2rx&amp;-x^2+r^2+y^2+z^2&amp;-2xy&amp;-2xz\\2yr&amp;-2yx&amp;-y^2+z^2+r^2+x^2&amp;-2zy\\2zr&amp;2zx&amp;-2zy&amp;-z^2+r^2+x^2+y^2\end{pmatrix}\)</span></p><p>So <span class="math inline">\(L_qR_q=R_qL_q\)</span>, and it'sobvious when looking at its linear map, which is both right for <spanclass="math inline">\(L_qR_q\)</span> and <spanclass="math inline">\(R_qL_q\)</span> : <spanclass="math inline">\(\mathbb{R}^{4} \rightarrow \mathbb{R}^{4}:(a+b i+cj+d k) \mapsto q(a+b i+c j+d k)q\)</span></p><p><span class="math inline">\((3)\)</span> Calculate that <spanclass="math inline">\(q\bar{q}=1\Longleftrightarrowa^2+b^2+c^2+d^2=1\)</span> <span class="math display">\[\begin{gathered}L_qR_{\bar{q}}=\begin{pmatrix}a&amp;-b&amp;-c&amp;-d\\b&amp;a&amp;-d&amp;c\\c&amp;d&amp;a&amp;-b\\d&amp;-c&amp;b&amp;a\end{pmatrix}\begin{pmatrix}a&amp;b&amp;c&amp;d\\-b&amp;a&amp;-d&amp;c\\-c&amp;d&amp;a&amp;-b\\-d&amp;-c&amp;b&amp;a\end{pmatrix}\\=\begin{pmatrix}1&amp;0&amp;0&amp;0\\0&amp;a^2+b^2-c^2-d^2&amp;2(bc-ad)&amp;2(ac+bd)\\0&amp;2(ad+bc)&amp;a^2+c^2-b^2-d^2&amp;2(cd-ab)\\0&amp;2(bd-ac)&amp;2(ab-cd)&amp;a^2+d^2-b^2-c^2\end{pmatrix}\end{gathered}\]</span> The direct way to judge whether the matrix above is orthogonalis hard. So consider multiply <span class="math display">\[\left(L_{q} R_{\bar{q}}\right)^{T}\left(L_{q}R_{\bar{q}}\right)=R_{\bar{q}}^TL_q^TL_qR_{\bar{q}}\]</span> And calculate <spanclass="math inline">\(L_q^TL_q=I_4,R_{\bar{q}}^TR_{\bar{q}}=I_4\)</span>So this matrix has block form <spanclass="math inline">\(\begin{pmatrix}I&amp;O\\O&amp;Q\end{pmatrix}\)</span></p><h2id="problem-2-small-mboxdrazin-inverse-and-differential-equation">Problem2<span class="math inline">\(\ \small \mbox{Drazin Inverse andDifferential Equation}\)</span></h2><p>Given an unknown vector-valued function <spanclass="math inline">\(\boldsymbol{v}(t)\)</span>, we know how to solve<span class="math inline">\(\boldsymbol{v}^{\prime}=A\boldsymbol{v}\)</span> for a constant matrix <spanclass="math inline">\(A\)</span>. But what if we have <spanclass="math inline">\(A \boldsymbol{v}^{\prime}+B\boldsymbol{v}=\mathbf{0}\)</span> for constant matrices? If <spanclass="math inline">\(A\)</span> is invertible, we can reorganize thisinto <span class="math inline">\(\boldsymbol{v}^{\prime}=-A^{-1} B\boldsymbol{v}\)</span> and solve it easily. But what if <spanclass="math inline">\(A\)</span> is not invertible?</p><p>Here we introduce the Drazin inverse of a matrix. Recall that for anymatrix A, according to the ultimate decomposition, <spanclass="math inline">\(A=X\left[\begin{array}{cc}A_{R} &amp; \\ &amp;A_{N}\end{array}\right] X^{-1}\)</span> where <spanclass="math inline">\(A_{R}\)</span> is invertible and <spanclass="math inline">\(A_{N}\)</span> is nilpotent. Then we define <spanclass="math inline">\(A^{(\mathrm{D})}=X\left[\begin{array}{ll}A_{R}^{-1}&amp; \\ &amp; 0\end{array}\right] X^{-1}\)</span> as the Drazin inverseof <span class="math inline">\(A\)</span></p><p><span class="math inline">\((1)\)</span> Show that if <spanclass="math inline">\(\left[\begin{array}{ll}R &amp; \\ &amp;N\end{array}\right]=X\left[\begin{array}{cc}R^{\prime} &amp; \\ &amp;N^{\prime}\end{array}\right] X^{-1}\)</span> where <spanclass="math inline">\(R, R^{\prime}\)</span> are invertible and <spanclass="math inline">\(N, N^{\prime}\)</span> are nilpotent, then <spanclass="math inline">\(\left[\begin{array}{cc}R^{-1} &amp; \\ &amp;0\end{array}\right]=X\left[\begin{array}{cc}\left(R^{\prime}\right)^{-1}&amp; \\ &amp; 0\end{array}\right] X^{-1}\)</span>. (This shows that theDrazin inverse of <span class="math inline">\(A\)</span> is unique anddoes not depends on the choice of invertible-nilpotent decomposition<span class="math inline">\(A=X\left[\begin{array}{lll}A_{R} &amp; &amp;\\ &amp; A_{N}\end{array}\right] X^{-1}\)</span>.)</p><p><span class="math inline">\((2)\)</span> Show that <spanclass="math inline">\(A A^{(\mathrm{D})}=A^{(\mathrm{D})} A,A^{(\mathrm{D})} A A^{(\mathrm{D})}=A^{(\mathrm{D})}\)</span>, and <spanclass="math inline">\(A^{(\mathrm{D})} A^{k+1}=A^{k}\)</span> where<span class="math inline">\(k\)</span> is the smallest integer such that<spanclass="math inline">\(\operatorname{Ker}\left(A^{k}\right)=\operatorname{Ker}\left(A^{k+1}\right)\)</span></p><p><span class="math inline">\((3)\)</span> Calculate <spanclass="math inline">\(\left(\boldsymbol{a}\boldsymbol{b}^{*}\right)^{(\mathrm{D})}\)</span> for non-zero vectors<span class="math inline">\(\boldsymbol{a}, \boldsymbol{b} \in\mathbb{C}^{n}\)</span>. (Hint: Harder if you use brute forcecalculation with the definition. Easier if you can guess it out right,and prove that you have the right guess.)</p><p><span class="math inline">\((4)\)</span> For fixed <spanclass="math inline">\(A\)</span>, show that we can find a polynomial<span class="math inline">\(p(x)\)</span> such that <spanclass="math inline">\(A^{(\mathrm{D})}=p(A)\)</span>. (Again, note thatfor different <span class="math inline">\(A\)</span> this polynomial maybe different.) (Hint: Suppose <spanclass="math inline">\(A_{R}^{-1}=q\left(A_{R}\right)\)</span> for apolynomial <span class="math inline">\(q(x)\)</span>.)</p><p><span class="math inline">\((5)\)</span> If <spanclass="math inline">\(A B=B A\)</span>, show that <spanclass="math inline">\(\mathrm{e}^{-A^{(\mathrm{D})} B t} AA^{(\mathrm{D})} \boldsymbol{v}_{0}\)</span> is a solution to <spanclass="math inline">\(A \boldsymbol{v}^{\prime}+B\boldsymbol{v}=\mathbf{0}\)</span> for any constant vector <spanclass="math inline">\(\boldsymbol{v}_{0}\)</span>. (This is one of theresults in a paper by Campbell, Meyer and Rose in <spanclass="math inline">\(1967\)</span>.)</p><hr /><p><span class="math inline">\((1)\)</span> Set <spanclass="math inline">\(X=\begin{bmatrix}A&amp;B\\C&amp;D\end{bmatrix}\)</span> so the equation can be simplified <spanclass="math display">\[\left[\begin{array}{ll}R &amp; \\ &amp;N\end{array}\right]=X\left[\begin{array}{cc}R^{\prime} &amp; \\ &amp;N^{\prime}\end{array}\right] X^{-1}\rightarrow\begin{bmatrix}R&amp;\\&amp;N\end{bmatrix}\begin{bmatrix}A&amp;B\\C&amp;D\end{bmatrix}=\begin{bmatrix}A&amp;B\\C&amp;D\end{bmatrix}\begin{bmatrix}R&amp;\\&amp;N\end{bmatrix}\]</span> For each block we have <spanclass="math inline">\(RA=AR&#39;,RB=BN&#39;,ND=DN&#39;\)</span>. Useinduction to prove</p><p><span class="math inline">\(R^nB=BN&#39;^{n}\)</span>, if <spanclass="math inline">\(n=k-1\)</span> <spanclass="math inline">\(R^{k-1}B=BN&#39;^{k-1}\)</span> is right, then<span class="math inline">\(R^{k}B=RBN^{k-1}=BN&#39;^{k}\)</span></p><p>And <span class="math inline">\(N\)</span> is a nilpotent matrix, soafter limited steps, it transfers to <spanclass="math inline">\(R^{n}B=O\)</span> and <spanclass="math inline">\(R\)</span> is invertible</p><p>So <span class="math inline">\(B=O\)</span>, it's the same with <spanclass="math inline">\(C=O\)</span>, and <spanclass="math inline">\(X=\begin{bmatrix}A&amp;\\&amp;D\end{bmatrix}\)</span>since <span class="math inline">\(RA=AR&#39;\)</span>, <spanclass="math inline">\(R^{-1}A=A(R&#39;)^{-1}\)</span> <spanclass="math display">\[\begin{bmatrix}R^{-1}&amp; O\\O&amp;O\end{bmatrix}\begin{bmatrix}A&amp;O\\O&amp;D\end{bmatrix}=\begin{bmatrix}R^{-1}A&amp;O\\O&amp;O\end{bmatrix}=\begin{bmatrix}A(R&#39;)^{-1}&amp;O\\O&amp;O\end{bmatrix}=\begin{bmatrix}A&amp;O\\O&amp;D\end{bmatrix}\begin{bmatrix}(R&#39;)^{-1}&amp;O\\O&amp;O\end{bmatrix}\]</span> So <span class="math inline">\(\left[\begin{array}{cc}R^{-1}&amp; \\ &amp;0\end{array}\right]=X\left[\begin{array}{cc}\left(R^{\prime}\right)^{-1}&amp; \\ &amp; 0\end{array}\right] X^{-1}\)</span>, so the Drazininverse is sole.</p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(AA^{(D)}=X\left[\begin{array}{cc}A_{R} &amp; \\&amp; A_{N}\end{array}\right] X^{-1}X\left[\begin{array}{ll}A_{R}^{-1}&amp; \\ &amp; 0\end{array}\right]X^{-1}=X\begin{bmatrix}I&amp;O\\O&amp;O\end{bmatrix}X^{-1}\)</span></p><p><spanclass="math inline">\(A^{(D)}A=X\left[\begin{array}{ll}A_{R}^{-1} &amp;\\ &amp; 0\end{array}\right] X^{-1}X\left[\begin{array}{cc}A_{R} &amp;\\ &amp; A_{N}\end{array}\right]X^{-1}=X\begin{bmatrix}I&amp;O\\O&amp;O\end{bmatrix}X^{-1}=AA^{(D)}\)</span></p><p><spanclass="math inline">\(A^{(D)}AA^{(D)}=X\begin{bmatrix}I&amp;O\\O&amp;O\end{bmatrix}X^{-1}X\left[\begin{array}{ll}A_{R}^{-1}&amp; \\ &amp; 0\end{array}\right]X^{-1}=X\left[\begin{array}{ll}A_{R}^{-1} &amp; \\ &amp;0\end{array}\right] X^{-1}=A^{(D)}\)</span></p><p>By induction, <spanclass="math inline">\(A^{(D)}A^{k+1}=X\left[\begin{array}{ll}A_{R}^{-1}&amp; \\ &amp; O\end{array}\right]X^{-1}X\left[\begin{array}{cc}A_{R}^{k+1} &amp; \\ &amp;A_{N}^{k+1}\end{array}\right]X^{-1}=X\begin{bmatrix}A_R^{k}&amp;\\&amp;O\end{bmatrix}X^{-1}\)</span></p><p>And <span class="math inline">\(A^{k}=X\left[\begin{array}{cc}A_{R}^k&amp; \\ &amp; A_{N}^k\end{array}\right] X^{-1}\)</span> if <spanclass="math inline">\(\ker{(A^{k})}=\ker{(A^{k+1})}\)</span> so <spanclass="math inline">\(\ker{(A_N^k)}=\ker{(A_{N}^{k+1})}\)</span></p><p>let <span class="math inline">\(m\)</span> is the smallest numberthat satisfied <span class="math inline">\(A_N^m=O\)</span>, so <spanclass="math inline">\(k\leq m\)</span>, if <spanclass="math inline">\(k&lt;m\)</span>, that is to say</p><p><span class="math inline">\(A_N^{k+1}\vec{x}=\vec{0}\LongrightarrowA_N^{k}\vec{x}=\vec{0}\)</span> and <spanclass="math inline">\(\ker{(A_{N}^{k})}=\ker{(A_{N}^{k+1})}=\cdots\ker{(A_{N}^{m})}=\mathbb{R}^{n}\)</span></p><p>So <span class="math inline">\(A_N^{k}=O\)</span> , <spanclass="math inline">\(A^{(\mathrm{D})} A^{k+1}=A^{k}\)</span></p><p><span class="math inline">\((3)\)</span> Can't solve thisquestion</p><p><span class="math inline">\((4)\)</span> For <spanclass="math inline">\(A_R\neq O\)</span>, let its minimal polynomial<span class="math inline">\(p(A_R)=p_1(A_R)+a I=O\)</span> because <spanclass="math inline">\(A_R\)</span></p><p>is invertible, and its eigenpolynomial's constant term is not <spanclass="math inline">\(0\)</span>, so <span class="math inline">\(a\neq0\)</span>, <span class="math inline">\(p_2(A_R)A_R=-aI\)</span></p><p>Define <spanclass="math inline">\(q(A_R)=-\dfrac{p_2(A_{R})}{a}\)</span> so $$polynomial <span class="math inline">\(q(x)\)</span> such that <spanclass="math inline">\(A_R^{-1}=q(A_R)\)</span>. Also define</p><p><span class="math inline">\(k\)</span> is the smallest integer suchthat <spanclass="math inline">\(\operatorname{Ker}\left(A^{k}\right)=\operatorname{Ker}\left(A^{k+1}\right)\)</span>According to <span class="math inline">\(\small(2)\)</span>, we have</p><p><spanclass="math inline">\(A_N^k=O,A^k=X\begin{bmatrix}A_R^k&amp;O\\O&amp;O\end{bmatrix}X^{-1}\)</span>,and multiply by <spanclass="math inline">\((q(A))^{k+1}=X\begin{pmatrix}(A_{R}^{-1})^{k+1}&amp;O\\O&amp;q(A_N)\end{pmatrix}X^{-1}\)</span></p><p><spanclass="math inline">\(A^{k}q(A)^{k+1}=X\begin{bmatrix}A_R^k&amp;O\\O&amp;O\end{bmatrix}X^{-1}X\begin{pmatrix}(A_{R}^{-1})^{k+1}&amp;O\\O&amp;q(A_N)\end{pmatrix}X^{-1}=X\begin{bmatrix}A_R^{-1}&amp;O\\O&amp;O\end{bmatrix}X^{-1}=A^{(D)}\)</span></p><p><span class="math inline">\((5)\)</span> First, <spanclass="math inline">\(A^{(D)}\)</span> and <spanclass="math inline">\(B\)</span> is community. let <spanclass="math inline">\(B^{\prime}=X^{-1}BX\)</span> so that <spanclass="math display">\[\begin{pmatrix}A_{R}&amp;O\\O&amp;A_N\end{pmatrix}B^{\prime}=B^{\prime}\begin{pmatrix}A_{R}&amp;O\\O&amp;A_N\end{pmatrix}\]</span> like question <span class="math inline">\(\small(1)\)</span>we can know that <spanclass="math inline">\(B^{\prime}=\begin{pmatrix}B_1&amp;O\\O&amp;B_4\end{pmatrix}\)</span><span class="math inline">\(B_1\)</span> and <spanclass="math inline">\(A_R\)</span> is community</p><p>so it's obvious that <spanclass="math inline">\(\begin{pmatrix}A_{R}^{-1}&amp;O\\O&amp;O\end{pmatrix}B^{\prime}=B^{\prime}\begin{pmatrix}A_{R}^{-1}&amp;O\\O&amp;O\end{pmatrix}\)</span>so <span class="math inline">\(A^{(D)}\)</span> and <spanclass="math inline">\(B\)</span> is community.</p><p>Secondly, because <spanclass="math inline">\(AB=BA,AA^{(D)}=A^{(D)}A\)</span> we can prove that<spanclass="math inline">\((A^{(D)}Bt)^{i}A=A(A^{(D)}Bt)^{i}\)</span></p><p>if <span class="math inline">\(i=k\)</span> right <spanclass="math inline">\((A^{(D)}Bt)^{k+1}A=A^{(D)}Bt(A^{(D)}Bt)^{k}A=A^{(D)}BtA(A^{(D)}Bt)^{k}=A(A^{(D)}Bt)^{k+1}\)</span></p><p><span class="math inline">\(i=0\)</span> is right, By induction <spanclass="math inline">\((A^{(D)}Bt)^{i}A=A(A^{(D)}Bt)^{i}\)</span> isright. It is the same to</p><p><spanclass="math inline">\((A^{(D)}Bt)^{i}A^{(D)}=A^{(D)}(A^{(D)}Bt)^{i}\)</span>,calculate the solution below <span class="math display">\[\begin{gathered}A\boldsymbol{v}^{\prime}=-AA^{(D)}Be^{-A^{(D)}Bt}AA^{(D)}\boldsymbol{v}_{0}=-AA^{(D)}B\sum_{i=1}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}AA^{(D)}\boldsymbol{v}_{0}\\=-AA^{(D)}BA\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}A^{(D)}\boldsymbol{v}_{0}=-AA^{(D)}ABA^{(D)}\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}\boldsymbol{v}_{0}\\=-BA\boxed{A^{(D)}AA^{(D)}}\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}\boldsymbol{v}_{0}=-BA\boxed{A^{(D)}}\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}\boldsymbol{v}_{0}\\=-BA\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}A^{(D)}\boldsymbol{v}_{0}=-B\sum_{i=0}^{+\infty}\dfrac{1}{i!}(A^{(D)}Bt)^{i}AA^{(D)}\boldsymbol{v}_{0}=-B\boldsymbol{v}\end{gathered}\]</span> So <span class="math inline">\(\mathrm{e}^{-A^{(\mathrm{D})} Bt} A A^{(\mathrm{D})} \boldsymbol{v}_{0}\)</span> is a solution to <spanclass="math inline">\(A \boldsymbol{v}^{\prime}+B\boldsymbol{v}=\mathbf{0}\)</span></p><h2 id="problem-3-small-mboxsherman-morrison-woodburry-formula">Problem3<span class="math inline">\(\ \small \mbox{Sherman-Morrison-WoodburryFormula}\)</span></h2><p>The famous Sherman-Morrison-Woodburry formula states that, for any<span class="math inline">\(m \times m\)</span> invertible matrix <spanclass="math inline">\(X, n \times n\)</span> invertible matrix <spanclass="math inline">\(Y, m \times n\)</span> matrix <spanclass="math inline">\(A\)</span> and <span class="math inline">\(n\times m\)</span> matrix <span class="math inline">\(B\)</span>, we have<span class="math inline">\((X-A Y B)^{-1}=X^{-1}+X^{-1} A\left(Y^{-1}-BX^{-1} A\right)^{-1} B X^{-1}\)</span>. This can be proven using blockeliminations on <span class="math inline">\(\left[\begin{array}{cc}X&amp; -A \\ B &amp; Y\end{array}\right]\)</span>. Well, I always findthat proof annoying. So let us not do that, and try to find somealternative proofs. To simplify, you can easily see that it is enough toestablish the special case <span class="math inline">\(\left(I_{m}-AB\right)^{-1}=I_{m}+A\left(I_{n}-B A\right)^{-1} B .\)</span></p><p>Consider the function <spanclass="math inline">\(f(x)=(1-x)^{-1}\)</span>. This function has aTaylor expansion <spanclass="math inline">\(f(x)=1+x+x^{2}+\ldots\)</span> for all <spanclass="math inline">\(|x|&lt;1\)</span> over the complex numbers. (Thisis also the sum of the geometric series, which you should have learnedabout in high school.)</p><p><span class="math inline">\((1)\)</span> For any <spanclass="math inline">\(m \times n\)</span> matrix <spanclass="math inline">\(A\)</span> and <span class="math inline">\(n\times m\)</span> matrix <span class="math inline">\(B\)</span>, suppose<span class="math inline">\(I_{m}-A B\)</span> is invertible and alleigenvalues of <span class="math inline">\(AB\)</span> have absolutevalue less than 1. Write <span class="math inline">\(\left(I_{m}-AB\right)^{-1}\)</span> as the sum of a series of matrices.</p><p><span class="math inline">\((2)\)</span> Using above idea, deduce theformula <span class="math inline">\(\left(I_{m}-AB\right)^{-1}=I_{m}+A\left(I_{n}-B A\right)^{-1} B\)</span>, when <spanclass="math inline">\(I_{m}+A B\)</span> and <spanclass="math inline">\(I_{n}-B A\)</span> are invertible and alleigenvalues of <span class="math inline">\(A B\)</span> and <spanclass="math inline">\(B A\)</span> have absolute value less than <spanclass="math inline">\(1 .\)</span> (Btw, note that <spanclass="math inline">\(A B\)</span> and <span class="math inline">\(BA\)</span> always have the same non-zero eigenvalues. You don't needthis fact though.)</p><p><span class="math inline">\((3)\)</span> Oops, unfortunately, themethod above does not always work. It has many annoying requirements oneigenvalues. Let us now forget about Taylor expansion. In general, provethat <span class="math inline">\(A p(B A)=p(A B) A\)</span> for allpolynomials <span class="math inline">\(p(x)\)</span>. (Hint: <spanclass="math inline">\(\operatorname{try} p(x)=x\)</span> first.)</p><p><span class="math inline">\((4)\)</span> Show that for any function<span class="math inline">\(f(x)\)</span> and any two square matrix<span class="math inline">\(X, Y\)</span>, we can find a polynomial<span class="math inline">\(p(x)\)</span> such that <spanclass="math inline">\(p(X)=f(X)\)</span> and <spanclass="math inline">\(p(Y)=f(Y)\)</span> simultaneously. (Hint: blockmatrix.)</p><p><span class="math inline">\((5)\)</span> Show that <spanclass="math inline">\(A f(B A)=f(A B) A\)</span> as long as <spanclass="math inline">\(f(A B)\)</span> and <spanclass="math inline">\(f(B A)\)</span> are defined.</p><p><span class="math inline">\((6)\)</span> Verify that <spanclass="math inline">\(f(A B)=I_{m}+A f(B A) B\)</span>, using theidentity above.</p><hr /><p><span class="math inline">\((1)\)</span> let <spanclass="math inline">\(S=I_m+AB+(AB)^2+\cdots\)</span> the absolute valueof <span class="math inline">\(AB\)</span> is less than <spanclass="math inline">\(1\)</span>, so it converges</p><p>And <spanclass="math inline">\((I_m-AB)S=(I_m+AB+(AB)^2+\cdots)-(AB+(AB)^2+\cdots)=I_m\)</span>then</p><p><spanclass="math inline">\(S=(I_m-AB)^{-1}=I_m+AB+(AB)^2+\cdots=\displaystyle\sum_{i=0}^{+\infty}(AB)^{i}\)</span></p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(RHS=I_m+\displaystyleA\sum_{i=0}^{+\infty}(BA)^{i}B=I_m+\sum_{i=0}^{+\infty}A(BA)^{i}B\stackrel{?}{=}\sum_{i=0}^{+\infty}(AB)^{i}=LHS\)</span></p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(p(x)=\displaystyle\sum_{i=0}^{n}a_ix^{i}\)</span>, it can be linearly decomposed into'single' polynomial. Consider <spanclass="math inline">\(x^{n}\)</span></p><p>If <span class="math inline">\(n=k\)</span> is right, so <spanclass="math inline">\(A(BA)^{k+1}=A(BA)^{k}(BA)=(AB)^{k}ABA=(AB)^{k+1}A\)</span><span class="math inline">\(n=k+1\)</span> is right, and <spanclass="math inline">\(n=0\)</span> is right. By induction, <spanclass="math inline">\(A p(B A)=p(A B) A\)</span> for each <spanclass="math inline">\(x^{n}\)</span> Add them together</p><p>So <span class="math inline">\(A p(B A)=p(A B) A\)</span></p><p><span class="math inline">\((4)\)</span> Construct a block matrix<spanclass="math inline">\(M=\begin{pmatrix}X&amp;O\\O&amp;Y\end{pmatrix}\)</span>for any fixed matrix <span class="math inline">\(M\)</span>, we can finda certain polynomial <span class="math inline">\(p(x)\)</span>, suchthat <span class="math inline">\(p(M)=f(M)\)</span> use the TaylorSeries divide its minimal polynomial</p><p><spanclass="math inline">\(p(\begin{pmatrix}X&amp;O\\O&amp;Y\end{pmatrix})=f(\begin{pmatrix}X&amp;O\\O&amp;Y\end{pmatrix})\)</span>so <span class="math inline">\(p(X)=f(X),p(Y)=f(Y)\)</span></p><p><span class="math inline">\((5)\)</span> if fix <spanclass="math inline">\(A\)</span> and <spanclass="math inline">\(B\)</span>, according to the last question, we canfind a polynomial <span class="math inline">\(p(x)\)</span> to replacethe function <span class="math inline">\(f\)</span>. Also, according tothe <span class="math inline">\(\small (3)\)</span> question, if <spanclass="math inline">\(f(A B)\)</span> and <spanclass="math inline">\(f(B A)\)</span> are defined, then <spanclass="math display">\[A f(B A)=f(A B) A\]</span> <span class="math inline">\((6)\)</span> let <spanclass="math inline">\(f(AB)=\displaystyle\sum_{i=0}^{+\infty}(AB)^{i}\)</span> so use the equation above <spanclass="math display">\[\begin{gathered}RHS=I_m+\displaystyle\sum_{i=0}^{+\infty}A(BA)^{i}B=I_m+Af(BA)B=I_m+f(AB)AB=\\I_m+\sum_{i=0}^{+\infty}(AB)^{i+1}=\sum_{i=0}^{+\infty}(AB)^{i}=LHS\end{gathered}\]</span> So we prove the equality <spanclass="math inline">\(\left(I_{m}-A B\right)^{-1}=I_{m}+A\left(I_{n}-BA\right)^{-1} B\)</span></p><h2 id="problem-4-small-mboxequations-of-matrixes">Problem 4<spanclass="math inline">\(\ \small \mbox{Equations ofmatrixes}\)</span></h2><p>Let <span class="math inline">\(N\)</span> be the <spanclass="math inline">\(n \times n\)</span> nilpotent Jordan block.</p><p><span class="math inline">\((1)\)</span> Show that the solutions tothe Sylvester's equation <span class="math inline">\(N X-X N=0\)</span>are exactly the polynomials of <spanclass="math inline">\(N\)</span>.</p><p><span class="math inline">\((2)\)</span> Suppose <spanclass="math inline">\(Y=\mathrm{e}^{N}\)</span>. Show that <spanclass="math inline">\(Y, Y-I,(Y-I)^{2}, \ldots,(Y-I)^{n-1}\)</span> arelinearly independent in the space of matrixes, and they span the spaceof matrices made of polynomials of <spanclass="math inline">\(N\)</span>. (Consequently, <spanclass="math inline">\(N\)</span> is a polynomial of <spanclass="math inline">\(Y\)</span>.)</p><p><span class="math inline">\((3)\)</span> Find all solutions <spanclass="math inline">\(X\)</span> to the matrix equation <spanclass="math inline">\(\mathrm{e}^{X}=\mathrm{e}^{N}\)</span>. (Make sureto consider COMPLEX matrixes <spanclass="math inline">\(X\)</span>.)</p><p><span class="math inline">\((4)\)</span> Find real matrixes <spanclass="math inline">\(A, B\)</span> such that <spanclass="math inline">\(A B \neq B A\)</span> but <spanclass="math inline">\(\mathrm{e}^{A}=\mathrm{e}^{B}\)</span>. (Hint: forcomplex <span class="math inline">\(1 \times 1\)</span> matrices, try tofind <span class="math inline">\(x \neq y \in \mathbb{C}\)</span> suchthat <spanclass="math inline">\(\mathrm{e}^{x}=\mathrm{e}^{y}\)</span>.)</p><p><span class="math inline">\((5)\)</span> Prove that there is nosolution <span class="math inline">\(X\)</span> to the equation <spanclass="math inline">\(\sin (X)=\left[\begin{array}{cc}1 &amp; 1996 \\ 0&amp; 1\end{array}\right]\)</span>. (This is a Putnam competitionproblem. I'm sure you know the year of the competition....)</p><hr /><p>(1)$ let $ <span class="math inline">\(N=\left[\begin{array}{lllll}0&amp; &amp; &amp; &amp; \\ 1 &amp; 0 &amp; &amp; 0 &amp; \\ &amp; \ddots&amp; \ddots &amp; &amp; \\ 0 &amp; &amp; \ddots &amp; \ddots &amp; \\&amp; &amp; &amp; 1 &amp;0\end{array}\right],X=\left[\begin{array}{cccc}a_{11} &amp; a_{12} &amp;\cdots &amp; a_{1 n} \\ a_{21} &amp; a_{22} &amp; \cdots &amp; a_{2 n}\\ \vdots &amp; \vdots &amp; &amp; \vdots \\ a_{n 1} &amp; a_{n 2} &amp;\cdots &amp; a_{n n}\end{array}\right]\)</span></p><p><spanclass="math inline">\(NX=\left[\begin{array}{cccc}0&amp;0&amp;\cdots&amp;0\\a_{11}&amp; a_{12} &amp; \cdots &amp; a_{1 n} \\ a_{21} &amp; a_{22} &amp;\cdots &amp; a_{2 n} \\ \vdots &amp; \vdots &amp; &amp; \vdots \\a_{(n-1) 1} &amp; a_{(n-1) 2} &amp; \cdots &amp; a_{(n-1)n}\end{array}\right],XN=\left[\begin{array}{cccc}a_{12} &amp; a_{13}&amp; \cdots &amp; a_{1 (n-1)}&amp;0 \\ a_{22} &amp; a_{23} &amp; \cdots&amp; a_{2 (n-1)}&amp;0 \\ \vdots &amp; \vdots &amp; &amp; \vdots \\a_{n 2} &amp; a_{n 3} &amp; \cdots &amp; a_{n(n-1)}&amp;0\end{array}\right],\)</span></p><p>some elements of each row are 'killed' step by step. like <spanclass="math inline">\(\{a_{12},a_{13}\cdots,a_{1n}\}\)</span></p><p>neat <span class="math inline">\(\{a_{23},a_{24},\cdots,a_{2n}\},\{a_{34},a_{35},\cdots,a_{3n}\},\cdots,\{a_{(n-1)n}\}\)</span>and <span class="math inline">\(a_{ij}=a_{(i+k)(j+k)}\)</span></p><p>So <span class="math inline">\(X=\left[\begin{array}{cccc}a_{11}&amp; 0 &amp; \cdots &amp; 0 \\ a_{21} &amp; a_{11} &amp; \cdots &amp; 0\\ \vdots &amp; \ddots &amp; &amp; \vdots \\ a_{n 1} &amp; \cdots&amp;a_{21}&amp;a_{11}\end{array}\right]=a_{11}I+a_{21}N+a_{31}N^{2}+\cdots+a_{n1}N^{n-1}=p(N)\)</span></p><p><span class="math inline">\((2)\)</span> Use Taylor Series to <spanclass="math inline">\(Y=e^{N}=\displaystyle\sum_{i=0}^{+\infty}\dfrac{N^{i}}{i!}=\sum_{i=0}^{n-1}\dfrac{N^{i}}{i!}=I+\sum_{i=1}^{n-1}\dfrac{N^{i}}{i!}\)</span></p><p><span class="math inline">\((Y-I)^{k}=\displaystyle(\sum_{i=1}^{n-1}\dfrac{N^{i}}{i!})^{k}\)</span> the minimum of <spanclass="math inline">\(N\)</span> is <spanclass="math inline">\(k\)</span>. So for <spanclass="math inline">\(\{Y, Y-I,(Y-I)^{2},\ldots,(Y-I)^{n-1}\}\)</span></p><p>the minimum of <span class="math inline">\(N\)</span> is exactly$0,1,2,,n-1 $ and each <span class="math inline">\(N^{k}\)</span> isobviously independent</p><p>So, they are linearly independent, the dimension of the polynomial of<span class="math inline">\(N\)</span> is <spanclass="math inline">\(n\)</span>, which is equal to the number of thebase, so they span the whole space <spanclass="math inline">\(V\)</span>. Also, <span class="math inline">\(N\inV\)</span> and <span class="math inline">\(N\)</span> can be written bythe combination of the base. Each base is just the polynomial of <spanclass="math inline">\(Y\)</span>. So, <spanclass="math inline">\(N=p(e^{N})\)</span></p><p><span class="math inline">\((3)\)</span> Use Jordan factorization,every complex matrix <span class="math inline">\(A\)</span> can bedivided into <span class="math display">\[A=XJX^{-1}\]</span> Obviously, one solution is <spanclass="math inline">\(x=N\)</span>, finding complex matrixes <spanclass="math inline">\(A_{I}\)</span> such that <spanclass="math inline">\(e^{A_{I}}=I\)</span> matters.</p><p>And <spanclass="math inline">\(e^{A_{I}}=Xe^{J_{I}}X^{-1}=I\Longrightarrowe^{J_{I}}=I\)</span> And if <spanclass="math inline">\(J_{k}=\begin{bmatrix}\lambda&amp;1&amp;0&amp;\cdots&amp;0\\0&amp;\lambda&amp;1&amp;\cdots&amp;0\\0&amp;0&amp;\lambda&amp;\cdots&amp;0\\\vdots&amp;\vdots&amp;\vdots&amp;\ddots&amp;1\\0&amp;0&amp;0&amp;\cdots&amp;\lambda\end{bmatrix}\)</span>exists in <span class="math inline">\(J_{I}\)</span></p><p>which will produce <spanclass="math inline">\(\dfrac{d^{n}e^{x}}{dx^{n}}\Large|\normalsize_{x=\lambda}\neq 0\)</span> as non-diagonal elements, causingcontradiction.</p><p>So <span class="math inline">\(J_{I}\)</span> is a diagonal matrix<spanclass="math inline">\(J_{I}=\mbox{diag}(z_1,z_2\cdots,z_{n})\)</span> So<span class="math inline">\(e^{z_i}=1\Longrightarrow z_{i}=2k\pi ,k\in\mathbb{Z}\)</span></p><p>Some base soluitions to <spanclass="math inline">\(e^{X}=e^{N}\)</span> are <spanclass="math inline">\(X=N+2\pi\cdot\mbox{diag}(k_1,k_2,\cdots,k_{n}),k_{i}\in\mathbb{Z}\)</span></p><p>And if want to add <span class="math inline">\(X\)</span> and <spanclass="math inline">\(X^{-1}\)</span>, because <spanclass="math inline">\(e^{A+B}=e^{A}e^{B}\)</span> needs <spanclass="math inline">\(AB=BA\)</span></p><p><span class="math inline">\(N(XDX^{-1})=(XDX^{-1})N\Longrightarrow(X^{-1}NX)D=D(X^{-1}NX)\)</span> if and only if <spanclass="math inline">\(d_{i}=d_{j}\)</span></p><p><span class="math inline">\(N+X\mbox{diag}(2\pi k,2\pi k,\cdots 2\pik)X^{-1},k\in \mathbb{Z}\)</span> Can be added to the solutions</p><p>So one part of the solutions are (can't prove these matrixes containall the solutions) <span class="math display">\[\{N+2\pi\mbox{diag}(k_1,k_2,\cdots,k_{n}),k_{i}\in \mathbb{Z}\}\cup\{N+2\pi X\mbox{diag}(k,k,\cdots k)X^{-1},k\in \mathbb{Z},\det X\neq 0\}\]</span> <span class="math inline">\((4)\)</span> Because of therotation <span class="math inline">\(e^{x+yi}=e^{x+(y+2k\pi)i}\)</span>So we can easily know that <span class="math display">\[\Large e^{\large\begin{pmatrix}0&amp;-2k\pi\\2k\pi&amp;0\end{pmatrix}}\normalsize=I_2,k\in \mathbb{Z}\]</span> But the 'standard complex' matrix <spanclass="math inline">\(aI+bJ=\begin{pmatrix}a&amp;-b\\b&amp;a\end{pmatrix}\)</span>is community. So let's try other matrixes meaning for rotations, whichgives the <span class="math inline">\(I\)</span> itself. And the answeris <strong>Quaternions</strong></p><p>Because of its non-commnuity. Like <spanclass="math inline">\((b_1i+c_1j)(b_2i+c_2j)=-b_1b_2-c_1c_2+(b_1c_2-c_1b_2)k\)</span></p><p><span class="math inline">\(\neq(b_2i+c_2j)(b_1i+c_1j)=-b_1b_2-c_1c_2+(b_2c_1-c_2b_1)k\)</span> when<span class="math inline">\(b_1c_2\neq b_2c_1\)</span> and <spanclass="math inline">\(e^{2\pi i,j}=I_4\)</span> <spanclass="math display">\[\begin{gathered}A=2\pi i=\begin{pmatrix}0&amp;-2\pi&amp;0&amp;0\\2\pi&amp;0&amp;0&amp;0\\0&amp;0&amp;0&amp;-2\pi\\0&amp;0&amp;2\pi&amp;0\end{pmatrix},B=2\pij=\begin{pmatrix}0&amp;0&amp;-2\pi&amp;0\\0&amp;0&amp;0&amp;2\pi\\2\pi&amp;0&amp;0&amp;0\\0&amp;-2\pi&amp;0&amp;0\end{pmatrix}\\AB=4\pi^2\begin{pmatrix}0&amp;0&amp;0&amp;-1\\0&amp;0&amp;-1&amp;0\\0&amp;1&amp;0&amp;0\\1&amp;0&amp;0&amp;0\end{pmatrix}\neqBA=4\pi^2\begin{pmatrix}0&amp;0&amp;0&amp;1\\0&amp;0&amp;1&amp;0\\0&amp;-1&amp;0&amp;0\\-1&amp;0&amp;0&amp;0\end{pmatrix}\\\mbox{But}\ \ \e^{A}=e^{B}=\begin{pmatrix}1&amp;0&amp;0&amp;0\\0&amp;1&amp;0&amp;0\\0&amp;0&amp;1&amp;0\\0&amp;0&amp;0&amp;1\end{pmatrix}=I_4\end{gathered}\]</span></p><p><span class="math inline">\((5)\)</span> Since <spanclass="math inline">\(f(x)=\sin x,g(x)=\cos x\)</span> are all matrixfunctions, and <span class="math inline">\(f(x)^2+g(x)^2=1\)</span> isright</p><p>So <span class="math inline">\(\sin^2X+\cos ^2X=I\)</span> substitute<span class="math inline">\(\sin X=\left[\begin{array}{cc}1 &amp; 1996\\ 0 &amp; 1\end{array}\right]\)</span> we can get <spanclass="math inline">\(\cos^2 X=\left[\begin{array}{cc}0 &amp; -3992 \\ 0&amp; 0\end{array}\right]\)</span></p><p>That is to say <span class="math inline">\(Y=\cos X\)</span> isnilpotent <span class="math inline">\(Y^{4}=O\)</span>. However, thematrix is $2 $. <span class="math inline">\(Y^{2}\)</span> must be <spanclass="math inline">\(O\)</span> ,</p><p>which causes contradiction.</p><h2 id="problem-5-small-mboxnewtons-method">Problem 5<spanclass="math inline">\(\ \small \mbox{Newton&#39;s Method}\)</span></h2><p>As we have seen in class, <spanclass="math inline">\(\operatorname{sign}(X)\)</span> is useful to solvecertain Sylvester's equations. Here we aim to find a way anapproximation to <spanclass="math inline">\(\operatorname{sign}(X)\)</span>. Given a matrix<span class="math inline">\(A\)</span> with no purely imaginaryeigenvalue, set <span class="math inline">\(X_{0}=A\)</span>, and set<spanclass="math inline">\(X_{n+1}=\dfrac{1}{2}\left(X_{n}+X_{n}^{-1}\right)\)</span>.(As a side note, a complex number <span class="math inline">\(z\)</span>is purely imaginary if its real part is zero. In particular, 0 is apurely imaginary number as well. So, if a matrix has no purely imaginaryeigenvalue, then it is invertible.)</p><p><span class="math inline">\((1)\)</span> Show that if <spanclass="math inline">\(X_{n}\)</span> has no purely imaginary eigenvalue,then <span class="math inline">\(X_{n+1}\)</span> has no purelyimaginary eigenvalue. (So our inductive definition makes sense.)</p><p><span class="math inline">\((2)\)</span> If <spanclass="math inline">\(A\)</span> is <span class="math inline">\(1 \times1\)</span>, and it is not purely imaginary, show that <spanclass="math inline">\(X_{n}\)</span> indeed coverge to sign <spanclass="math inline">\((A)\)</span>. (This question has little to do withlinear algebra...) (Hint: <spanclass="math inline">\(\dfrac{f(x)-1}{f(x)+1}=\left(\dfrac{x-1}{x+1}\right)^{2}\)</span>where <spanclass="math inline">\(f(x)=\dfrac{1}{2}\left(x+\dfrac{1}{x}\right)\)</span>.</p><p><span class="math inline">\((3)\)</span> If <spanclass="math inline">\(A\)</span> is diagonalizable and has no purelyimaginary eigenvalue, show that <spanclass="math inline">\(X_{n}\)</span> indeed coverge to sign <spanclass="math inline">\((A)\)</span>. (Not part of this problem. Butdiagonalizable matrices are dense, so you can imagine that this is truein general.)</p><p><span class="math inline">\((4)\)</span> Suppose <spanclass="math inline">\(A\)</span> is an <span class="math inline">\(n\times n\)</span> Jordan block with eigenvalue <spanclass="math inline">\(1\)</span>. Show that <spanclass="math inline">\(X_{n-1}=I\)</span>.</p><hr /><p><span class="math inline">\((1)\)</span> Use Jordan block <spanclass="math inline">\(X_{n}=XJX^{-1}\)</span> <spanclass="math display">\[J=\begin{pmatrix}J_{1}\\&amp;\ddots\\&amp;&amp;J_{n}\end{pmatrix},J_{i}=\begin{bmatrix}\lambda_i&amp;1&amp;0&amp;\cdots&amp;0\\0&amp;\lambda_i&amp;1&amp;\cdots&amp;0\\0&amp;0&amp;\lambda_i&amp;\ddots&amp;0\\\vdots&amp;\vdots&amp;\vdots&amp;\ddots&amp;1\\0&amp;0&amp;0&amp;\cdots&amp;\lambda_i\end{bmatrix}\]</span> And <span class="math inline">\(\mathbf{Re}(\lambda_{i})\neq0\)</span> So <spanclass="math inline">\(X_n^{-1}=XJ^{-1}X^{-1}=X\begin{bmatrix}\lambda_i^{-1}&amp;a_1&amp;a_2&amp;\cdots&amp;a_{n-1}\\0&amp;\lambda_i^{-1}&amp;a_1&amp;\cdots&amp;a_{n-2}\\0&amp;0&amp;\lambda_i^{-1}&amp;\cdots&amp;a_{n-3}\\\vdots&amp;\vdots&amp;\vdots&amp;\ddots&amp;a_1\\0&amp;0&amp;0&amp;\cdots&amp;\lambda_i^{-1}\end{bmatrix}X^{-1}\)</span></p><p>and <spanclass="math inline">\(\dfrac{X_n+X_n^{-1}}{2}=\dfrac{1}{2}X\begin{bmatrix}\lambda_i+\lambda_i^{-1}&amp;1+a_1&amp;a_2&amp;\cdots&amp;a_{n-1}\\0&amp;\lambda_i+\lambda_i^{-1}&amp;1+a_1&amp;\cdots&amp;a_{n-2}\\0&amp;0&amp;\lambda_i+\lambda_i^{-1}&amp;\cdots&amp;a_{n-3}\\\vdots&amp;\vdots&amp;\vdots&amp;\ddots&amp;1+a_1\\0&amp;0&amp;0&amp;\cdots&amp;\lambda_i+\lambda_i^{-1}\end{bmatrix}X^{-1}\)</span></p><p>So the eigenvalue of <span class="math inline">\(X_{n+1}\)</span> is<spanclass="math inline">\(\lambda_i+\lambda_{i}^{-1}=(x_i+y_i)+\dfrac{1}{x_i+y_i}\)</span>its real part is <span class="math display">\[x_i+\dfrac{x_i}{x_i^2+y_i^2}=x_i(1+\dfrac{1}{x_i^2+y_i^2})\neq 0\]</span> So <span class="math inline">\(X_{n+1}\)</span> has no purelyimaginary eigenvalue</p><p><span class="math inline">\((2)\)</span> set <spanclass="math inline">\(f(x)=\dfrac{1}{2}(x+\dfrac{1}{x})\)</span> We haverecursion formula <spanclass="math inline">\(\dfrac{f(x)-1}{f(x)+1}=\left(\dfrac{x-1}{x+1}\right)^{2}\)</span></p><p><span class="math inline">\(A = x+yi\)</span> if <spanclass="math inline">\(\mathbf{Re}(A)=x&gt;0\)</span> So set <spanclass="math inline">\(a_n=\dfrac{X_{n}-1}{X_{n}+1}\)</span> it will be<span class="math inline">\(a_n=a_{n-1}^{2}\)</span></p><p>By induction we can easily get <spanclass="math inline">\(a_n=a_1^{2^{n-1}}=(\dfrac{x-1+yi}{x+1+yi})^{2^{n}}\)</span>and the length of <spanclass="math inline">\(\dfrac{x-1+yi}{x+1+yi}\)</span></p><p>is <spanclass="math inline">\(\sqrt{\dfrac{(x-1)^{2}+y^2}{(x+1)^2+y^2}}=\sqrt{1-\dfrac{4x}{(x+1)^2+y^2}}&lt;1\)</span>so let $n+$ <span class="math inline">\(\lim\limits_{n\to+\infty}a_n=0\)</span> <span class="math inline">\(X_{+\infty}\to1\)</span></p><p>And if <span class="math inline">\(x&lt;0\)</span>, find a new path<span class="math inline">\(b_n=\dfrac{X_n+1}{X_n-1}\)</span>, alsosatisfy <span class="math inline">\(b_{n+1}=b_{n}^2\)</span> And thelength</p><p><spanclass="math inline">\(|\dfrac{x+1+yi}{x-1+yi}|=\sqrt{1+\dfrac{4x}{(x-1)^{2}+y^2}}&lt;1\)</span>so let <span class="math inline">\(n\to +\infty\)</span> <spanclass="math inline">\(\lim\limits_{n\to +\infty}a_n=0,X_{+\infty }\to-1\)</span></p><p>In conclusion, <span class="math inline">\(\lim\limits_{n\to+\infty}X_n=\begin{cases}1&amp;\mathbf{Re}(A)&gt;0\\-1&amp;\mathbf{Re}(A)&lt;0\end{cases}=\mbox{sign(A)}\)</span></p><p><span class="math inline">\((3)\)</span> Actually, for every Jordanblock <spanclass="math inline">\(J_{i}=\begin{bmatrix}\lambda_i&amp;1&amp;0&amp;\cdots&amp;0\\0&amp;\lambda_i&amp;1&amp;\cdots&amp;0\\0&amp;0&amp;\lambda_i&amp;\ddots&amp;0\\\vdots&amp;\vdots&amp;\vdots&amp;\ddots&amp;1\\0&amp;0&amp;0&amp;\cdots&amp;\lambda_i\end{bmatrix}\)</span>the diagonal elements</p><p>stay the sequence transformation. <spanclass="math inline">\(\lambda_{i(n+1)}=\dfrac{1}{2}(\lambda_{in}+\lambda_{in}^{-1})\)</span>According to the <span class="math inline">\(\small (2)\)</span>question</p><p><span class="math inline">\(\lim\limits_{n\to+\infty}\lambda_{in}=\mbox{sign}(\lambda_{i})\)</span> So the diagonalelements of <span class="math inline">\(\lim\limits_{n\to+\infty}X_{n}\)</span> are <spanclass="math inline">\(\mbox{sign}(\lambda_i)\)</span> Just consider<span class="math inline">\(\lambda_i&gt;0\)</span></p><p>Then <span class="math inline">\(\mbox{sign}(\lambda_i)=1\)</span> So<span class="math inline">\(\lim\limits_{n\to+\infty}X_n=I+\displaystyle \sum_{i=1}^{n-1}b_i(J-\lambdaI)^{i}\)</span> Take the limit for the original equation <spanclass="math inline">\(X_{n+1}=\dfrac{1}{2}\left(X_{n}+X_{n}^{-1}\right)\LongrightarrowI+\displaystyle \sum_{i=1}^{n-1}b_i(J-\lambdaI)^{i}=\dfrac{1}{2}(I+\displaystyle \sum_{i=1}^{n-1}b_i(J-\lambdaI)^{i}+(I+\displaystyle \sum_{i=1}^{n-1}b_i(J-\lambdaI)^{i})^{-1})\)</span></p><p>So <span class="math inline">\((I+\displaystyle\sum_{i=1}^{n-1}b_i(J-\lambda I)^{i})^{2}=I\)</span> then <spanclass="math inline">\(\displaystyle \sum_{i=1}^{n-1}(b_i^2(J-\lambdaI)^{2i}+2b_i(J-\lambda I)^{i})=O\)</span></p><p>We have proved that <spanclass="math inline">\(J,J-I,(J-I)^2,\cdots,(J-I)^{n-1}\)</span> arelinearly independent</p><p>So <span class="math inline">\(b_1=b_3=\cdots=b_{2j+1}=0\)</span> and<span class="math inline">\(b_1^2+2b_2=0\Longrightarrowb_2=0,\cdots,b_{j}^{2}+2b_{2j}=0\)</span></p><p>For every even <spanclass="math inline">\(b_{\small\mbox{even}}=2^{n}\cdot c\)</span> where<span class="math inline">\(c\in \mbox{odd}\)</span> So <spanclass="math inline">\(b_{\small\mbox{even}}\)</span> will ultimatelywent to <span class="math inline">\(0\)</span>. So</p><p><span class="math inline">\(\lim\limits_{n\to+\infty}X_{n}=I=\mbox{sign}(A)\)</span> when <spanclass="math inline">\(\lambda_i&lt;0\)</span> that is the same.</p><p>Every matrix can be transformed into Jordan block and every Jordanblock is right</p><p>So the algorithm of <spanclass="math inline">\(X_{n+1}=\dfrac{1}{2}(X_n+X_{n}^{-1})\)</span> cangive <span class="math inline">\(\mbox{sign}(A)\)</span> if <spanclass="math inline">\(A\)</span> has no purely eigenvalues</p><p>And also, solving the equation <spanclass="math inline">\(AX+XB=C\)</span> by calculating <spanclass="math inline">\(\mbox{sign}\begin{pmatrix}A&amp;-C\\O&amp;B\end{pmatrix}\)</span>can be done</p><p><span class="math inline">\((4)\)</span> <spanclass="math inline">\(A=I+J,J=\begin{bmatrix}0&amp;1&amp;0&amp;\cdots&amp;0\\0&amp;0&amp;1&amp;\cdots&amp;0\\0&amp;0&amp;0&amp;\ddots&amp;0\\\vdots&amp;\vdots&amp;\vdots&amp;\ddots&amp;1\\0&amp;0&amp;0&amp;\cdots&amp;0\end{bmatrix}\)</span>use Taylor series and note that <spanclass="math inline">\(J^{n}=O\)</span></p><p><spanclass="math inline">\(X_0=I+J,X_1=\dfrac{1}{2}(I+J+(I+J)^{-1})=\dfrac{1}{2}(I+J+(I-J+J^2+\cdots+(-1)^{n-1}J^{n-1}))\)</span></p><p><span class="math inline">\(=I+\dfrac{1}{2}J^2+\cdots\)</span> everystep at least 'kill's the 'smallest one'. If after <spanclass="math inline">\(k\)</span> steps the result is <spanclass="math inline">\(X_{k}=I+a_{k+1}J^{k+1}+\cdots+a_{n-1}J^{n-1}\)</span>,then <spanclass="math inline">\(X_{k+1}=\dfrac{1}{2}(X_k+X_k^{-1})\)</span></p><p><spanclass="math inline">\(=\dfrac{1}{2}((I+a_{k+1}J^{k+1}+\cdots+a_{n-1}J^{n-1})+(I+a_{k+1}J^{k+1}+\cdots+a_{n-1}J^{n-1})^{-1})\)</span></p><p>the coefficient of <span class="math inline">\(J^{k+1}\)</span> iseliminated. By induction, <spanclass="math inline">\(X_{n-1}=I+a_nJ^{n}+\cdots=I\)</span></p><h2 id="problem-6-small-mboxreal-möbius-transformations">Problem 6<spanclass="math inline">\(\ \small \mbox{Real Möbiustransformations}\)</span></h2><p>A Möbius transformation is a function <span class="math inline">\(f:x \mapsto \dfrac{a x+b}{c x+d}\)</span>. For example, scaling <spanclass="math inline">\(x \mapsto 2 x\)</span>, addition <spanclass="math inline">\(x \mapsto x+1\)</span>, inversion <spanclass="math inline">\(x \mapsto \dfrac{1}{x}\)</span> are all Mobiustransformations. We may further define <spanclass="math inline">\(f(\infty)=\dfrac{a}{c}\)</span> and <spanclass="math inline">\(f\left(-\dfrac{d}{c}\right)=\infty\)</span>, asyou can tell by taking limits. So Möbius transformations are actiong onthe space <span class="math inline">\(\mathbb{R}\cup\{\infty\}\)</span>. In some sense, you are imagining the real linewhere <span class="math inline">\(\infty\)</span> and <spanclass="math inline">\(-\infty\)</span> are treated as the same thing(i.e., they are glued together), and you see that <spanclass="math inline">\(\mathbb{R} \cup\{\infty\}\)</span> is in fact abig circle. (You can skip these materials in this parenthesis. They areirrelavant but maybe of interest: geometrically, consider the circle<span class="math inline">\(C\)</span> on the xy-plane with center <spanclass="math inline">\((0,1 / 2)\)</span> and radius <spanclass="math inline">\(1 / 2\)</span>. Then imagine that the point <spanclass="math inline">\((0,1)\)</span> on the circle has a ray gunattached. For each point of the circle, the ray gun can shoot thatpoint, and then go through it and intersect with the <spanclass="math inline">\(x\)</span>-axis somewhere. This would give a1-to-1 correspondence betwee the real line <spanclass="math inline">\(\mathbb{R}\)</span> and <spanclass="math inline">\(C-\{(0,1)\}\)</span>. Now think of <spanclass="math inline">\(\infty\)</span> as the point <spanclass="math inline">\((0,1)\)</span>, and you have thus build a 1-to-1correspondence bwteen <span class="math inline">\(\mathbb{R}\cup\{\infty\}\)</span> and the circle <spanclass="math inline">\(C\)</span>. The Möbius transformations act on<span class="math inline">\(\mathbb{R} \cup\{\infty\}\)</span>, so underthis correspondence you can imagine them as acting on the circle <spanclass="math inline">\(C\)</span>. They usually stretch some portions of<span class="math inline">\(C\)</span> while shrinking some otherportions. This corresponds to looking at this circle from variousperspectives. For example, if you look at the circle from the left, thensince the left portion of the circle is closer to your eyes, it appearsto be larger, while the right portion of the circle appears to besmaller as it is further away from your eyes. For a more concreteexample, consider <span class="math inline">\(x \mapsto 2 x\)</span>.This means you are moving your perspective to be closer to <spanclass="math inline">\((0,0)\)</span> on the circle, so that points near<span class="math inline">\((0,0)\)</span> are more spread out. Everyoneis now repelled away from the origin and attracted towards the infinitypoint <span class="math inline">\((0,1)\)</span>.)</p><p><img src="https://pic.imgdb.cn/item/62610514239250f7c5e6c98c.jpg" style="zoom:50%;" /></p><p>For any 2 by 2 invertible real matrix <spanclass="math inline">\(A=\left[\begin{array}{ll}a &amp; b \\ c &amp;d\end{array}\right]\)</span>, we can build a corresponding Möbiustransformation <span class="math inline">\(f_{A}: \mathbb{R}\cup\{\infty\} \rightarrow \mathbb{R} \cup\{\infty\}\)</span> such that<span class="math inline">\(f_{A}(x)=\dfrac{a x+b}{c x+d}\)</span>.Obviously all Möbius transformation arises in this way.</p><p><span class="math inline">\((1)\)</span> Show that <spanclass="math inline">\(f_{A} \circ f_{B}=f_{A B}\)</span> for any <spanclass="math inline">\(A, B\)</span>. In particular, if we simply write<span class="math inline">\(A\)</span> to represent the function <spanclass="math inline">\(f_{A}\)</span>, then the composition of <spanclass="math inline">\(A\)</span> and <spanclass="math inline">\(B\)</span> is the same as the matrixmultiplication of <span class="math inline">\(A\)</span> and <spanclass="math inline">\(B\)</span>. (You may also check <spanclass="math inline">\(f_{A^{-1}}\)</span> is the inverse function of<span class="math inline">\(f_{A}\)</span> and so on. This is notrequired though.)</p><p><span class="math inline">\((2)\)</span> Show that for any <spanclass="math inline">\(k \in \mathbb{R}-\{0\}, f_{A}=f_{k A}\)</span>.And conversely, if <span class="math inline">\(f_{A}=f_{B}\)</span>,then <span class="math inline">\(A=k B\)</span> for some complexconstant <span class="math inline">\(k\)</span>. (So WLOG, to study aMöbius transformation <span class="math inline">\(f_{A}\)</span>, youcan always scale A appropriately and assume that <spanclass="math inline">\(\operatorname{det}(A)=1\)</span>.)</p><p><span class="math inline">\((3)\)</span> Interpret a vector <spanclass="math inline">\(\left[\begin{array}{l}x \\y\end{array}\right]\)</span> as a ratio <spanclass="math inline">\(\dfrac{x}{y}\)</span>. Then show that, under thisinterpretation, <span class="math inline">\(A\left[\begin{array}{l}x \\y\end{array}\right]\)</span> is interpreted exactly as the ratio <spanclass="math inline">\(f_{A}\left(\dfrac{x}{y}\right)\)</span>. (As aresult, some literature write <span class="math inline">\(A\)</span> and<span class="math inline">\(f_{A}\)</span> interchangably and <spanclass="math inline">\(\left[\begin{array}{l}x \\y\end{array}\right]\)</span> and <spanclass="math inline">\(\dfrac{x}{y}\)</span> interchangably.)</p><p><span class="math inline">\((4)\)</span> Show that there are onlyfour kinds of Möbius transformations. There is a kind where <spanclass="math inline">\(f_{A}\)</span> has two fixed points in <spanclass="math inline">\(\mathbb{R} \cup\{\infty\}\)</span> (a typicalexample is <span class="math inline">\(x \mapsto 2 x\)</span> where 0and <span class="math inline">\(\infty\)</span> are the fixed points), akind where <span class="math inline">\(f_{A}\)</span> has only one fixedpoint in <span class="math inline">\(\mathbb{R} \cup\{\infty\}\)</span>(a typical example is <span class="math inline">\(x \mapsto x+1\)</span>where <span class="math inline">\(\infty\)</span> is the only fixedpoint), and a kind without any fixed point in <spanclass="math inline">\(\mathbb{R} \cup\{\infty\}\)</span> (a typicalexample is <span class="math inline">\(x \mapsto-\dfrac{1}{x}\)</span>). Finally, there is a kind where everyone is fixed, i.e., the identityfunction <span class="math inline">\(x \mapsto x\)</span>.</p><hr /><p><span class="math inline">\((1)\)</span> set <spanclass="math inline">\(A=\begin{pmatrix}a_1&amp;a_2\\a_3&amp;a_4\end{pmatrix},B=\begin{pmatrix}b_1&amp;b_2\\b_3&amp;b_4\end{pmatrix}\)</span><span class="math inline">\(f_A\circf_B(x)=f_A(\dfrac{b_1x+b_2}{b_3x+b_4})=\dfrac{a_1\dfrac{b_1x+b_2}{b_3x+b_4}+a_2}{a_3\dfrac{b_1x+b_2}{b_3x+b_4}+a_4}\)</span></p><p><spanclass="math inline">\(=\dfrac{(a_1b_1+a_2b_3)x+(a_1b_2+a_2b_4)}{(a_3b_1+a_4b_3)x+(a_3b_2+a_4b_4)}=f_{AB}(x)=f_{\begin{pmatrix}a_1b_1+a_2b_3&amp;a_1b_2+a_3b_4\\a_3b_1+a_4b_3&amp;a_3b_2+a_4b_4\end{pmatrix}}(x)\)</span></p><p>Check <spanclass="math inline">\(A^{-1}=\dfrac{1}{a_1a_4-a_2a_3}\begin{pmatrix}a_4&amp;-a_2\\-a_3&amp;a_1\end{pmatrix}\)</span>so <spanclass="math inline">\(f_{A^{-1}}(x)=\dfrac{a_4x-a_2}{-a_3x+a_1}\)</span><span class="math inline">\((a_1a_4\neq a_2a_3)\)</span></p><p><spanclass="math inline">\(x\stackrel{f_{A}}{\longmapsto}\dfrac{a_1x+a_2}{a_3x+a_4}\stackrel{f_{A^{-1}}}{\longmapsto}\dfrac{a_4\dfrac{a_1x+a_2}{a_3x+a_4}-a_2}{-a_3\dfrac{a_1x+a_2}{a_3x+a_4}+a_1}=\dfrac{(a_1a_4-a_2a_3)x}{a_1a_4-a_2a_3}=x\)</span><span class="math inline">\(f_{A^{-1}}\)</span> is the inverse of <spanclass="math inline">\(f_{A}\)</span></p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(A=\begin{pmatrix}a_1&amp;a_2\\a_3&amp;a_4\end{pmatrix},f_{kA}(x)=\dfrac{ka_1x+ka_2}{ka_3x+ka_4}=\dfrac{a_1x+a_2}{a_3x+a_4}=f_{A}(x)\)</span>if <span class="math inline">\(k\neq 0\)</span></p><p>If <spanclass="math inline">\(B=\begin{pmatrix}b_1&amp;b_2\\b_3&amp;b_4\end{pmatrix},f_{A}=f_{B}\)</span>we can get <spanclass="math inline">\(\dfrac{a_1x+a_2}{a_3x+a_4}=\dfrac{b_1x+b_2}{b_3x+b_4}\)</span><span class="math inline">\(\Longrightarrowa_1b_3=a_3b_1,a_2b_4=b_2a_4\)</span></p><p>Construct <spanclass="math inline">\(k=\dfrac{a_1b_4-a_2b_3}{b_1b_4-b_2b_3}+i\dfrac{a_1b_2-a_2b_1}{b_1b_4-b_2b_3}=\begin{pmatrix}\dfrac{a_1b_4-a_2b_3}{b_1b_4-b_2b_3}&amp;\dfrac{a_2b_1-a_1b_2}{b_1b_4-b_2b_3}\\\dfrac{a_1b_2-a_2b_1}{b_1b_4-b_2b_3}&amp;\dfrac{a_1b_4-a_2b_3}{b_1b_4-b_2b_3}\end{pmatrix}\)</span></p><p>After too many calculations, <spanclass="math inline">\(A=kB=\begin{pmatrix}\dfrac{a_1b_4-a_2b_3}{b_1b_4-b_2b_3}&amp;\dfrac{a_2b_1-a_1b_2}{b_1b_4-b_2b_3}\\\dfrac{a_1b_2-a_2b_1}{b_1b_4-b_2b_3}&amp;\dfrac{a_1b_4-a_2b_3}{b_1b_4-b_2b_3}\end{pmatrix}B\)</span>is right.</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(A\begin{bmatrix}x\\y\end{bmatrix}=\begin{bmatrix}a_1&amp;a_2\\a_3&amp;a_4\end{bmatrix}\begin{bmatrix}x\\y\end{bmatrix}=\begin{bmatrix}a_1x+a_2y\\a_3x+a_4y\end{bmatrix}\)</span>which can be interpred as <spanclass="math inline">\(\dfrac{a_1x+a_2y}{a_3x+a_4y}\)</span></p><p>and <spanclass="math inline">\(f_{A}(\dfrac{x}{y})=\dfrac{a_1\dfrac{x}{y}+a_2}{a_3\dfrac{x}{y}+a_4}=\dfrac{a_1x+a_2y}{a_3x+a_4y}\)</span>they are the same</p><p><span class="math inline">\((4)\)</span> For all the <spanclass="math inline">\(2\times 2\)</span> matrixes <spanclass="math inline">\(A\)</span>, use Jordan block, <spanclass="math inline">\(A=XJX^{-1}\)</span> All types of the <spanclass="math inline">\(J\)</span> are <spanclass="math inline">\(4\)</span> <span class="math display">\[\det(J)=1\LongrightarrowJ=\begin{pmatrix}1&amp;0\\0&amp;1\end{pmatrix},\begin{pmatrix}\lambda_1&amp;0\\0&amp;\lambda_2\end{pmatrix},\begin{pmatrix}z&amp;0\\0&amp;\bar{z}\end{pmatrix},\begin{pmatrix}1&amp;1\\0&amp;1\end{pmatrix}\\ \mbox{where} \ \lambda_1\lambda_2=|z|=1\]</span> Fixed points are <spanclass="math inline">\(\text{R},\{0,\infty\},\{\phi\},\{\infty\}\)</span>Because their eigenvectors must be real <spanclass="math inline">\(A\begin{bmatrix}x\\y\end{bmatrix}=\begin{bmatrix}x\\y\end{bmatrix}\)</span></p>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>高等代数选讲</category>
      
    </categories>
    
    
    <tags>
      
      <tag>高等代数选讲</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>An intriguing contest in Spring</title>
    <link href="/2022/04/10/%E6%95%B0%E5%AD%A6/%E6%96%B0%E7%94%9F%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80%E5%A4%A7%E8%B5%9B/"/>
    <url>/2022/04/10/%E6%95%B0%E5%AD%A6/%E6%96%B0%E7%94%9F%E6%95%B0%E7%90%86%E5%9F%BA%E7%A1%80%E5%A4%A7%E8%B5%9B/</url>
    
    <content type="html"><![CDATA[<p>期中考试前一周周六，参加求真书院（丘成桐班）举办的新生数理基础大赛，分为数学组和非数学组，当然选的是非数学组。考试途中监考员觉得我们做得有点慢，还给我们加了时长，从<span class="math inline">\(3\)</span> 小时增加到 <spanclass="math inline">\(3.5\)</span> 小时。</p><p>很久没有集中精力考过这么长的试了，那本答题纸被我填满了（没有正反面都写），考到最后手都没力气了（手动捂脸）。考完整个人都虚脱了，吃了紫荆二楼的涮羊肉后待在寝室睡了一小时觉，睡完觉起来啥都不想干，直接躺平整个晚上。</p><p>考题总体来说比较符合口味，很像之前物理竞赛中的<strong>亚赛</strong>风格，从最简单、底层的证明开始推导，像楼房一样一层层累高。说实话，这才比较具有趣味性和科研性，那种一来就大眼瞪小眼（例如：求证<span class="math inline">\(x^n+y^n=z^n,n\geq 3\)</span>无平凡整数解，当然这是开玩笑，反正就这个意思）的题反而体验感不好。</p><p>四道题，每题 <span class="math inline">\(25\)</span> 分，<spanclass="math inline">\(A\)</span> 题 <spanclass="math inline">\(Stirling\)</span> 公式，<spanclass="math inline">\(B\)</span> 题包络线，<spanclass="math inline">\(C\)</span>题两个题选一个，一个菲涅尔积分，一个随机游走，<spanclass="math inline">\(D\)</span> 题正交投影。<spanclass="math inline">\(C\)</span> 题我选的菲涅尔积分，也就是我做了 <spanclass="math inline">\(3\)</span> 道微积分，<spanclass="math inline">\(1\)</span> 道线代，平均每个题 <spanclass="math inline">\(7-8\)</span> 个小问。</p><p>据说前三题是同一个人出的，当时做的时候很容易在中间地方卡壳，但最后冥思苦想后都通关了，尤其是第一题做到一半感觉差点都要放弃了……最后一个线代题有点云里雾里，考试也说了后面问可以使用前面问的结论。</p><p>最终得分 <spanclass="math inline">\(\mathbf{25+23+23+18=89}\)</span>，混了个非数学组第二名（一等奖第一名），有几个数值计算题可能脑袋已经超负荷了，没有检查合理性，第三题算星形线面积时多乘了个<spanclass="math inline">\(4\)</span>，线代题奇异值忘记开根号了，有些小遗憾。不过wl 大师拿第一名特等奖也是实至名归了（<spanclass="math inline">\(\mathbf{92}\)</span>分），等繁忙的期中考试后把题目（或许有时间的话解答）贴在后面。</p><p>新生数理基础大赛之旅还真不错，难得思考问题这么集中持久，感觉平常写代码<span class="math inline">\(\mbox{copy}\)</span>惯了，脑子没有之前高中竞赛那么灵活了，遇到j问题全靠搜索引擎。之后有机会还是多参加类似的比赛，也算是无聊大学生活中的愉悦体验吧。</p><p>麻了，微积分半期考试还没考过这个竞赛……</p><p><ahref="https://lr-tsinghua11.github.io/pdf/NoneProfessionalMathmeticsContest.pdf">非数学组答案pdf 版本</a></p>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>数理基础大赛</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数理基础大赛</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>A story of farming</title>
    <link href="/2022/03/27/%E7%94%9F%E6%B4%BB/%E7%A7%8D%E7%94%B0%E8%AE%B0/"/>
    <url>/2022/03/27/%E7%94%9F%E6%B4%BB/%E7%A7%8D%E7%94%B0%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<p>地点在北京市房山区庐西园，感觉书院还是有钱，包了两个大棚拿给未央书院和日新书院种地。</p><p>早上起来天气是真的好，太阳照着很暖和， <spanclass="math inline">\(3\)</span>月初北京还倔强地下雪，现在总算是被春天逮到起了</p><p>基地入口和大棚外面的空旷田园，嗯，春天的气息</p><p><img src="https://pic.imgdb.cn/item/6249c599239250f7c5c8850e.jpg" style="zoom:33%;" /></p><p><img src="https://pic.imgdb.cn/item/6249c47f239250f7c5c5c882.jpg" style="zoom:33%;" /></p><p>有个小牧场，看到许多动物，鸡，狗，孔雀，鸵鸟，兔（白毛但眼睛周围的毛是黑色的是啥品种？），羊……</p><p><img src="https://pic.imgdb.cn/item/6249c624239250f7c5c9d26e.jpg" style="zoom:33%;" /></p><p>然后便化身<strong>喂（未）养（央）人</strong>：</p><p><img src="https://pic.imgdb.cn/item/6249c6a1239250f7c5cafac9.jpg" style="zoom:33%;" /></p><p>想不到吧，这里最吸引我们的还是<strong>童趣乐园</strong>，辅导员们和我们在这儿磨蹭了很久……</p><p><img src="https://pic.imgdb.cn/item/6249c75c239250f7c5cca41a.jpg" style="zoom:33%;" /></p><p><img src="https://pic.imgdb.cn/item/6249c7fd239250f7c5ce15cc.jpg" style="zoom:33%;" /></p><p>中午吃了一些干粮，还没耍够，一点钟准备种地，农场挂牌</p><p><img src="https://pic.imgdb.cn/item/6249c539239250f7c5c7a6e0.jpg" style="zoom:33%;" /></p><p>进去直接热炸了，汗水一层一层地从皮肤中冒出来，大中午种地确实难受，结果进去第一件事情就是均匀铲平这些牛粪，别看着轻松，没铲下去甩一下还真不知道这阻力有多大</p><p><img src="https://pic.imgdb.cn/item/6249c8a9239250f7c5cfa035.jpg" style="zoom:33%;" /></p>]]></content>
    
    
    <categories>
      
      <category>生活</category>
      
      <category>种田记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>种田记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>gdb to debug</title>
    <link href="/2022/03/18/%E7%BC%96%E7%A8%8B/gdb%E8%B0%83%E8%AF%95%E5%99%A8/"/>
    <url>/2022/03/18/%E7%BC%96%E7%A8%8B/gdb%E8%B0%83%E8%AF%95%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<p>先使用编译器生成可执行文件，注意使用 <spanclass="math inline">\(-g\)</span>包含调试信息（保留变量名以及函数名方便调试）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">gcc -g main.c -o main<br>g++ -g main.cpp -o main<br></code></pre></td></tr></table></figure><p>然后使用 <span class="math inline">\(gdb\)</span>工具进入到调试界面中</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">gdb main<br>……………………<br>(gbd) 待输入的命令<br></code></pre></td></tr></table></figure><p>监测单变量的变化（比如说 <span class="math inline">\(tot[1]\)</span>）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">(gdb) watch tot[1]//输入监测点名称，watch 代表当 tot[1] 变化时报告<br>(gbd) awatch tot[1]//输入监测点名称，awatch 代表读取和写入 tot[1] 时都会报告<br>Hardware watchpoint 1: tot[1]//输出监测标记信息（可以添加多个监测点）<br>(gdb) run//或者简写 r，运行程序<br></code></pre></td></tr></table></figure><p>每次监测变量改变的时候就会停下来报告改变量，停下来后可以打印当前程序的中间值<code>print tot[0]</code>（或者 <code>p tot[0]</code>）、单步运行程序<code>tot[1] += 1</code>、继续运行程序 <code>continue</code>（或者<code>c</code> ）修改对应变量的值<code>set variable tot[1] = 1</code></p><p>将所有断点以及监视变量删除</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">(gdb) delete<br>Delete all breakpoints? (y or n) y<br></code></pre></td></tr></table></figure><p>查看代码操作</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">list//展示当前<br>list 5//展示以 5 为中心的代码<br>list 1,20//展示第 1 行到第 20 行的代码（最多展示 30 行代码）<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>shell</category>
      
    </categories>
    
    
    <tags>
      
      <tag>shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Advanced Algebra part of Homework</title>
    <link href="/2022/03/16/%E6%95%B0%E5%AD%A6/%E9%AB%98%E4%BB%A3%E9%80%89%E8%AE%B2%E9%83%A8%E5%88%86%E4%BD%9C%E4%B8%9A/"/>
    <url>/2022/03/16/%E6%95%B0%E5%AD%A6/%E9%AB%98%E4%BB%A3%E9%80%89%E8%AE%B2%E9%83%A8%E5%88%86%E4%BD%9C%E4%B8%9A/</url>
    
    <content type="html"><![CDATA[<h1id="largetextcolorbluemboxadvanced-algebra-small-mathbbhwmathrm2-_textcolorblue2022.3.16"><spanclass="math inline">\(\large\textcolor{blue}{\mbox{Advanced Algebra }\small \mathbb{HW}\mathrm{2}}\ \ \ \ \ \_\textcolor{blue}{2022.3.16}\)</span></h1><h2 id="small-mboxfour-subspaces">1.2.1<span class="math inline">\(\\small \mbox{four subspaces}\)</span></h2><p>Prove or find counter examples.</p><ol type="1"><li>For four subspaces, if any three of them are linearly independent,then the four subspaces are linearly independent.</li><li>If subspaces <span class="math inline">\(V_{1}, V_{2}\)</span> arelinearly independent, and <span class="math inline">\(V_{1}, V_{3},V_{4}\)</span> are linearly independent, and <spanclass="math inline">\(V_{2}, V_{3}, V_{4}\)</span> are linearlyindependent, then all four subspaces are linearly independent.</li><li>If <span class="math inline">\(V_{1}, V_{2}\)</span> are linearlyindependent, and <span class="math inline">\(V_{3}, V_{4}\)</span> arelinearly independent, and <span class="math inline">\(V_{1}+V_{2},V_{3}+V_{4}\)</span> are linearly independent, then all four subspacesare linearly independent.</li></ol><hr /><p><span class="math inline">\((1)\)</span> Construct four subspacesbelow. It is obvious that any three of them are linearly independent,but four subspaces together are linearly dependent. （<spanclass="math inline">\(\dim \mathbb {R}^{3}=3\)</span>） <spanclass="math display">\[V_1=\{\begin{bmatrix}k\\0\\0\end{bmatrix}\mid k\in\mathbb{R}\},V_2=\{\begin{bmatrix}0\\k\\0\end{bmatrix}\mid k\in\mathbb{R}\},V_3=\{\begin{bmatrix}0\\0\\k\end{bmatrix}\mid k\in\mathbb{R}\},V_4=\{\begin{bmatrix}k\\k\\k\end{bmatrix}\mid k\in\mathbb{R}\}\]</span> <span class="math inline">\((2)\)</span> Construct foursubspaces below. We can prove that each of <spanclass="math inline">\(V_1,V_2\)</span> and <spanclass="math inline">\(V_1,V_3,V_4\)</span> and <spanclass="math inline">\(V_2,V_3,V_4\)</span> are linearly independent.<span class="math display">\[V_1=\{\begin{bmatrix}k\\0\\0\end{bmatrix}\mid k\in\mathbb{R}\},V_2=\{\begin{bmatrix}0\\k\\0\end{bmatrix}\mid k\in\mathbb{R}\},V_3=\{\begin{bmatrix}k\\0\\k\end{bmatrix}\mid k\in\mathbb{R}\},V_4=\{\begin{bmatrix}0\\k\\k\end{bmatrix}\mid k\in\mathbb{R}\}\]</span> However, pick some special vectors from these subspaces andits linear combination are zero <span class="math display">\[1\cdot \begin{bmatrix}1\\0\\0\end{bmatrix}+(-1)\cdot\begin{bmatrix}0\\1\\0\end{bmatrix}+(-1)\begin{bmatrix}1\\0\\1\end{bmatrix}+1\cdot\begin{bmatrix}0\\1\\1\end{bmatrix}=\vec{0}\]</span> <span class="math inline">\((3)\)</span> Reduction toabsurdity, assume that four real numbers that not all of them is zero<span class="math display">\[a_1\vec{v}_1+a_2\vec{v}_2+a_3\vec{v}_3+a_4\vec{v}_4=0\]</span> We can proof that <spanclass="math inline">\(a_1\vec{v}_1+a_2\vec{v}_2\neq 0\)</span>,otherwise according to the independence of <spanclass="math inline">\(V_1,V_2\)</span> and</p><p><span class="math inline">\(V_3,V_4\)</span> <spanclass="math inline">\(a_1=a_2=0,a_3=a_4=0\)</span>, so <spanclass="math inline">\(a_1\vec{v}_1+a_2\vec{v}_2\neq0,a_3\vec{v}_3+a_4\vec{v}_4\neq 0\)</span></p><p>But <span class="math inline">\(a_1\vec{v}_1+a_2\vec{v}_2\inV_1+V_2,a_3\vec{v}_3+a_4\vec{v}_4\in V_3+V_4\)</span>, so linearcombination of <spanclass="math inline">\(a_1\vec{v}_1+a_2\vec{v}_2\)</span> and</p><p><span class="math inline">\(a_3\vec{v}_3+a_4\vec{v}_4\)</span> canadd up to <span class="math inline">\(0\)</span>, which is contrary tothe independence of <spanclass="math inline">\(V_1+V_2.V_3+V_4\)</span></p><p>All in all, the four subspaces must be linearly independence</p><h2 id="small-mboxdecomposition-of-transpose">1.2.2<spanclass="math inline">\(\ \small \mbox{decomposition oftranspose}\)</span></h2><p>Let <span class="math inline">\(V\)</span> be the space of <spanclass="math inline">\(n \times n\)</span> real matrices. Let <spanclass="math inline">\(T: V \rightarrow V\)</span> be the transposeoperation, i.e., <span class="math inline">\(T\)</span> sends <spanclass="math inline">\(A\)</span> to <spanclass="math inline">\(A^{\mathrm{T}}\)</span> for each <spanclass="math inline">\(A \in V\)</span>. Find a non-trivial <spanclass="math inline">\(T\)</span>-invariant decomposition of <spanclass="math inline">\(V\)</span>, and find the corresponding block formof <span class="math inline">\(T\)</span>. (Here we use real matricesfor your convenience, but the statement is totally fine for complexmatrices and conjugate transpose.)</p><hr /><p>Set <span class="math inline">\(S=\{A\mid A=A^{T},A\in M_{n\timesn}\}\)</span>, this decomposition is invariant. Because aftertransposing any symmetric matrix, the matrix remains itself.</p><p>Set <span class="math inline">\(S&#39;=\{A\mid A=-A^{T},A\inM_{n\times n}\}\)</span>, <spanclass="math inline">\(A=-A^{T}\LongrightarrowA^{T}=-A=-(A^{T})^{T}\)</span>, so any antisymmetric matrix's transposeis antisymmetric.</p><p>So decompose the linear map of <span class="math inline">\(T\)</span>into <span class="math inline">\(S\)</span> and <spanclass="math inline">\(S&#39;\)</span>, <span class="math inline">\(\dimS=\dfrac{n(n+1)}{2},\dim S&#39;=\dfrac{n(n-1)}{2}\)</span></p><p>Because any <span class="math inline">\(n\times n\)</span> matrix<spanclass="math inline">\(B=\dfrac{B+B^{T}}{2}+\dfrac{B-B^{T}}{2}\)</span> ,so transpose <span class="math inline">\(T\)</span> can bedecomposed</p><p>into <span class="math inline">\(S\)</span> and <spanclass="math inline">\(S&#39;\)</span> two block form.</p><p><span class="math inline">\(A\to\begin{pmatrix}\frac{A+A^{T}}{2}&amp;0\\0&amp;\frac{A-A^{T}}{2}\end{pmatrix}\)</span>so the corresponding block form of <spanclass="math inline">\(T\)</span> is <spanclass="math inline">\(\begin{pmatrix}I&amp;0\\0&amp;-I\end{pmatrix}\)</span></p><h2 id="small-mboxultimate-subspaces">1.2.3<span class="math inline">\(\\small \mbox{ultimate subspaces }\)</span></h2><p>Let <span class="math inline">\(p(x)\)</span> be any polynomial, anddefine <span class="math inline">\(p(A)\)</span> in the obvious manner.E.g., if <span class="math inline">\(p(x)=\)</span> <spanclass="math inline">\(x^{2}+2 x+3\)</span>, then <spanclass="math inline">\(p(A)=A^{2}+2 A+3 I\)</span>. We fix some <spanclass="math inline">\(n \times n\)</span> matrix <spanclass="math inline">\(A\)</span>.</p><ol type="1"><li>If <span class="math inline">\(A B=B A\)</span>, show that <spanclass="math inline">\(\operatorname{Ker}(B),\operatorname{Ran}(B)\)</span> are both <spanclass="math inline">\(A\)</span>-invariant subspaces.</li><li>Prove that <span class="math inline">\(A p(A)=p(A) A\)</span>.</li><li>Conclude that <span class="math inline">\(N_{\infty}(A-\lambda I),R_{\infty}(A-\lambda I)\)</span> are both <spanclass="math inline">\(A\)</span>-invariant for any <spanclass="math inline">\(\lambda \in \mathbb{C}\)</span>.</li></ol><hr /><p><span class="math inline">\((1)\)</span> For any vector <spanclass="math inline">\(\vec{v}\in\mbox{Ker}(B),B\vec{v}=\vec{0}\)</span>, so <spanclass="math inline">\(B(A\vec{v})=BA\vec{v}=AB\vec{v}=0,A\vec{v}\in\mbox{Ker}(B)\)</span></p><p>And for any vector <span class="math inline">\(\vec{v}\in\mbox{Ran}(B),B\vec{x}=\vec{v}\)</span>, so <spanclass="math inline">\(A\vec{v}=A(B\vec{v})=AB\vec{v}=BA\vec{v}=B(A\vec{v})\)</span></p><p><span class="math inline">\(A\vec{v}\in \mbox{Ran}(B)\)</span>. So<span class="math inline">\(\mbox{Ker}(B)\)</span> and <spanclass="math inline">\(\mbox{Ran}(B)\)</span> are both <spanclass="math inline">\(A-\)</span>invariant subspaces</p><p><span class="math inline">\((2)\)</span> Similar to polynomial, set<span class="math inline">\(p(A)=\displaystyle\sum_{i=0}^{n}a_{i}A^{n}\)</span>, so calculate <spanclass="math inline">\(Ap(A)\)</span><br /><span class="math display">\[Ap(A)=A\displaystyle\sum_{i=0}^{n}a_iA^{n}=\sum_{i=0}^{n}a_{i}A^{n+1}=(\sum_{i=0}^{n}a_{i}A^{n})A=p(A)A\]</span> <span class="math inline">\((3)\)</span> Due to limiteddimension <span class="math inline">\(n\)</span> of <spanclass="math inline">\(A\)</span>, <spanclass="math inline">\(N_{\infty}(A-\lambda I)\)</span> and <spanclass="math inline">\(R_{\infty}(A-\lambda I)\)</span> are limitedcombinations</p><p>of <span class="math inline">\(\mbox{Ker}(A-\lambda I)^{k}\)</span>and <span class="math inline">\(\mbox{Ran}(A-\lambda I)^{k}\)</span> .According to the conclusion from <span class="math inline">\(\small(1)\)</span> and $(2) $</p><p><span class="math inline">\(A(A-\lambda I)=(A-\lambda I)A,A(A-\lambdaI)^2=(A-\lambda I)^2A,\cdots ,A(A-\lambda I)^k=(A-\lambdaI)^kA\)</span></p><p>so <span class="math inline">\(\forall \ k\in Z\)</span> , <spanclass="math inline">\(\mbox{Ker}(A-\lambda I)^{k}\)</span> and <spanclass="math inline">\(\mbox{Ran}(A-\lambda I)^{k}\)</span> are all <spanclass="math inline">\(A-\)</span>invariant. Add them all together</p><p>So, <span class="math inline">\(N_{\infty}(A-\lambda I),R_{\infty}(A-\lambda I)\)</span> are both <spanclass="math inline">\(A\)</span>-invariant for any <spanclass="math inline">\(\lambda \in \mathbb{C}\)</span>.</p><h2 id="small-mboxinterchangeability-and-common-eigenvector">1.2.4<spanclass="math inline">\(\ \small \mbox{interchangeability and commoneigenvector}\)</span></h2><p>Note that any linear map must have at least one eigenvector. (You maytry to prove this yourself, but it is not part of this homework.) Youmay use this fact freely in this problem. Fix any two <spanclass="math inline">\(n \times n\)</span> square matrices <spanclass="math inline">\(A, B\)</span>. Suppose <spanclass="math inline">\(A B=B A\)</span>.</p><ol type="1"><li>If <span class="math inline">\(W\)</span> is an A-invariantsubspace, show that <span class="math inline">\(A\)</span> has aneigenvector in <span class="math inline">\(W\)</span>.</li><li>Show that <span class="math inline">\(\operatorname{Ker}(A-\lambdaI)\)</span> is always <span class="math inline">\(B\)</span>-invariantfor all <span class="math inline">\(\lambda \in \mathbb{C}\)</span>.(Hint: Last problem.)</li><li>Show that <span class="math inline">\(A, B\)</span> has a commoneigenvector. (Hint: Last two sub-problem.)</li></ol><hr /><p><span class="math inline">\((1)\)</span> Construct a new linear mapfrom <span class="math inline">\(W\)</span> to <spanclass="math inline">\(W\)</span> <span class="math display">\[W\longmapsto  W: \vec{w}\longmapsto A\vec{w}\]</span> According to the fact that any linear map must have at leastone eigenvector, A has an eigenvector in <spanclass="math inline">\(W\)</span></p><p><span class="math inline">\((2)\)</span> For any vector <spanclass="math inline">\(\vec{v}\)</span> from <spanclass="math inline">\(\mbox{Ker}(A-\lambda I)\)</span>, <spanclass="math inline">\((A-\lambdaI)\vec{v}=0,A\vec{v}=\lambda\vec{v}\)</span>, use <spanclass="math inline">\(AB=BA\)</span></p><p>Because <span class="math inline">\((A-\lambdaI)(B\vec{v})=(AB-\lambda B)\vec{v}=(BA-\lambda B)\vec{v}=B(A-\lambdaI)\vec{v}=0\)</span></p><p>So <span class="math inline">\(\mbox{Ker}(A-\lambda I)\)</span> is<span class="math inline">\(B-\)</span>invariant for all <spanclass="math inline">\(\lambda \in \mathbb{C}\)</span></p><p><span class="math inline">\((3)\)</span> According to <spanclass="math inline">\(\small (1)\)</span> and <spanclass="math inline">\(\small (2)\)</span>, there exists at least oneeigenvector <span class="math inline">\(\vec{v}\)</span> in <spanclass="math inline">\(\mbox{Ker}(A-\lambda I)\)</span> that</p><p><span class="math inline">\(B\vec{v}=\lambda_{B}\vec{v}\)</span> Andthe vector <span class="math inline">\(\vec{v}\)</span> also satisfiesthat <spanclass="math inline">\(A\vec{v}=\lambda_{A}\vec{v}\)</span></p><p>So if <span class="math inline">\(A\)</span> and <spanclass="math inline">\(B\)</span> are interchangeable, they must havecommon eigenvector.</p><h1id="largetextcolorbluemboxadvanced-algebra-small-mathbbhwmathrm3-_textcolorblue2022.3.24"><spanclass="math inline">\(\large\textcolor{blue}{\mbox{Advanced Algebra }\small \mathbb{HW}\mathrm{3}}\ \ \ \ \ \_\textcolor{blue}{2022.3.24}\)</span></h1><h2 id="small-mboxjordan-normal-form">1.3.1<span class="math inline">\(\\small \mbox{jordan normal form}\)</span></h2><p>Find a basis in the following vector space so that the linear mapinvolved will be in Jordan normal form. Also find the Jordan normalform.</p><ol type="1"><li><span class="math inline">\(V=\mathbb{C}^{2}\)</span> is a realvector space, and <span class="math inline">\(A: V \rightarrowV\)</span> that sends <spanclass="math inline">\(\left[\begin{array}{l}x \\y\end{array}\right]\)</span> to <spanclass="math inline">\(\left[\begin{array}{c}\bar{x}-\Re(y) \\ (1+i)\Im(x)-y\end{array}\right]\)</span> is a real linear map. (Here <spanclass="math inline">\(\bar{x}\)</span> means the complex conjugate of acomplex number <span class="math inline">\(x\)</span>, and <spanclass="math inline">\(\Re(x), \Im(x)\)</span> means the real part andthe imaginary part of a complex number <span class="math inline">\(x.)\)</span></li><li><span class="math inline">\(V=P_{4}\)</span>, the real vector spacespace of all real polynomials of degree at most 4. And <spanclass="math inline">\(A: V \rightarrow V\)</span> is a linear map suchthat <spanclass="math inline">\(A(p(x))=p^{\prime}(x)+p(0)+p^{\prime}(0)x^{2}\)</span> for each polynomial <span class="math inline">\(p \inP_{4}\)</span>.</li><li><span class="math inline">\(A=\left[\begin{array}{llll} &amp; &amp;&amp; a_{1} \\ &amp; &amp; a_{2} &amp; \\ &amp; a_{3} &amp; &amp; \\a_{4} &amp; &amp; &amp; \end{array}\right]\)</span>. Be careful here.Maybe we have many possibilities for its Jordan normal form depending onthe values of <span class="math inline">\(a_{1}, a_{2}, a_{3},a_{4}\)</span>.</li></ol><hr /><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(A_1=\begin{pmatrix}1&amp;0&amp;-1&amp;0\\0&amp;-1&amp;0&amp;0\\0&amp;1&amp;-1&amp;0\\0&amp;1&amp;0&amp;-1\end{pmatrix}=\begin{pmatrix}1&amp;2&amp;1&amp;0\\0&amp;0&amp;4&amp;0\\0&amp;4&amp;0&amp;0\\0&amp;4&amp;0&amp;1\end{pmatrix}\begin{pmatrix}1&amp;0&amp;0&amp;0\\0&amp;-1&amp;1&amp;0\\0&amp;0&amp;-1&amp;0\\0&amp;0&amp;0&amp;-1\end{pmatrix}\begin{pmatrix}1&amp;2&amp;1&amp;0\\0&amp;0&amp;4&amp;0\\0&amp;4&amp;0&amp;0\\0&amp;4&amp;0&amp;1\end{pmatrix}^{-1}\)</span></p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(A:a_0+a_1x+a_2x^2+a_3x^3+a_4x^4\longmapsto(a_0+a_1)+2a_2x+(a_1+2a_3)x^2+4a_4x^3\)</span><span class="math display">\[\begin{gathered}\begin{pmatrix}1&amp;1&amp;0&amp;0&amp;0\\0&amp;0&amp;2&amp;0&amp;0\\0&amp;1&amp;0&amp;3&amp;0\\0&amp;0&amp;0&amp;0&amp;4\\0&amp;0&amp;0&amp;0&amp;0\end{pmatrix}=J\begin{pmatrix}1&amp;0&amp;0&amp;0&amp;0\\0&amp;\sqrt{2}&amp;0&amp;0&amp;0\\0&amp;0&amp;-\sqrt{2}&amp;0&amp;0\\0&amp;0&amp;0&amp;0&amp;1\\0&amp;0&amp;0&amp;0&amp;0\end{pmatrix}J^{-1}\\J=\begin{pmatrix}1&amp;\sqrt{2}+1&amp;1-\sqrt{2}&amp;12&amp;12\\0&amp;1&amp;1&amp;-12&amp;0\\0&amp;\dfrac{\sqrt{2}}{2}&amp;-\dfrac{\sqrt{2}}{2}&amp;0&amp;-6\\0&amp;0&amp;0&amp;4&amp;0\\0&amp;0&amp;0&amp;0&amp;1\end{pmatrix}\end{gathered}\]</span> <span class="math inline">\((3)\)</span> <spanclass="math display">\[J=\begin{pmatrix}J_{1,4}&amp;O\\O&amp;J_{2,3}\end{pmatrix},\mbox{where}J_{i,j}=\begin{cases}\begin{pmatrix}\sqrt{a_ia_j}&amp;0\\0&amp;-\sqrt{a_ia_j}\end{pmatrix}&amp;a_i\neq0,a_j\neq 0\\\begin{pmatrix}0&amp;0\\0&amp;0\end{pmatrix}&amp;a_i=0,a_j\neq 0\mbox{ or }a_i\neq 0,a_j=0\\\begin{pmatrix}0&amp;1\\0&amp;0\end{pmatrix}&amp;a_i=a_j=0\\\end{cases}\]</span></p><h2 id="small-mboxpartitions-of-interger">1.3.2<spanclass="math inline">\(\ \small \mbox{partitions ofinterger}\)</span></h2><p>A partition of integer <span class="math inline">\(n\)</span> is away to write <span class="math inline">\(n\)</span> as a sum of otherpositive integers, say <span class="math inline">\(5=2+2+1\)</span>. Ifyou always order the summands from large to small, you end up with a dotdiagram, where each column represent an integer: <spanclass="math inline">\(\left[\begin{array}{ll}\cdot &amp; \cdot \\ \cdot&amp; \cdot \\ \cdot\end{array}\right]\)</span>. Similarly, <spanclass="math inline">\(7=4+2+1\)</span> should be represented as <spanclass="math inline">\(\left[\begin{array}{lll} \cdot &amp; \cdot &amp;\cdot \\ \cdot &amp; \cdot &amp; \\ \cdot &amp; &amp; \\ \cdot &amp;&amp; \end{array}\right]\)</span></p><ol type="1"><li><p>If the Jordan normal form of an <span class="math inline">\(n\times n\)</span> nilpotent matrix <spanclass="math inline">\(A\)</span> is diag <spanclass="math inline">\(\left(J_{a_{1}}, J_{a_{2}}, \ldots,J_{a_{k}}\right)\)</span>, then we have a partition of integer <spanclass="math inline">\(n=a_{1}+\ldots+a_{k}\)</span>. However, we alsohave a partition of integer <span class="math inline">\(n=\small[\operatorname{dim} \operatorname{Ker}(A)]+\left[\operatorname{dim}\operatorname{Ker}\left(A^{2}\right)-\operatorname{dim}\operatorname{Ker}(A)\right]+\left[\operatorname{dim}\operatorname{Ker}\left(A^{3}\right)-\operatorname{dim}\operatorname{Ker}\left(A^{2}\right)\right]+\ldots\)</span> where wetreat the content of each bracket as a positive integer. Can you find arelation between the two dot diagrams?</p></li><li><p>A partition of integer <spanclass="math inline">\(n=a_{1}+\ldots+a_{k}\)</span> is calledself-conjugate if, for the matrix <spanclass="math inline">\(A=\operatorname{diag}\left(J_{a_{1}}, J_{a_{2}},\ldots, J_{a_{k}}\right)\)</span>, the two dot diagrams you obtainedabove are the same. Show that, for a fixed integer n, the number ofself-conjugate partition of <span class="math inline">\(n\)</span> isequal to the number of partition of <spanclass="math inline">\(n\)</span> into distinct odd positive integers.(Hint: For a self-conjugate dot diagram, count the total number of dotsthat are either in the first column or in the first row or in both. Isthis always odd?)</p></li><li><p>Suppose a 4 by 4 matrix <span class="math inline">\(A\)</span> isnilpotent and upper trianguler, and all <span class="math inline">\((i,j)\)</span> entries for <span class="math inline">\(i&lt;j\)</span> arechosen randomly and uniformly in the interval <spanclass="math inline">\([-1,1]\)</span>. What are the probabilities thatits Jordan canonical form corresponds to the partitions <spanclass="math inline">\(4=4,4=3+1,4=2+2,4=2+1+1,4=1+1+1+1\)</span>?</p></li></ol><hr /><p><span class="math inline">\((1)\)</span> I can find that the sequenceof each bracket' number is not incremental, which is just like the dotgraph. Put <span class="math inline">\(\small [\operatorname{dim}\operatorname{Ker}(A)],\left[\operatorname{dim}\operatorname{Ker}\left(A^{2}\right)-\operatorname{dim}\operatorname{Ker}(A)\right],\left[\operatorname{dim}\operatorname{Ker}\left(A^{3}\right)-\operatorname{dim}\operatorname{Ker}\left(A^{2}\right)\right],\ldots\)</span> like the dotgraph. According to the 'killing chain', the number of each row's dotsof the dot graph is just <spanclass="math inline">\(a_1,a_2,a_3,\ldots\)</span></p><p><span class="math inline">\((2)\)</span> The self-conjugate of thepartition is just like a flying wing. Like this <spanclass="math inline">\(\left[\begin{array}{lll} \cdot &amp; \cdot &amp;\cdot &amp; \cdot&amp;\cdot &amp;\cdot \\ \cdot &amp; \cdot &amp; \cdot&amp; \cdot&amp;\cdot \\ \cdot &amp;\cdot &amp;\cdot &amp; \\\cdot&amp;\cdot &amp;\\ \cdot &amp;\cdot &amp;\\\cdot\end{array}\right]\)</span></p><p>If rudely call this as a matrix <spanclass="math inline">\(A\)</span>, because of the condition, we have<span class="math inline">\(A=A^{T}\)</span>.</p><p>Consider the outermost corner, the total number of the dots is <spanclass="math inline">\(n+n-1=2n-1\in \mbox{odd}\)</span></p><p>And deprive each corner, the newest outermost corner also satisfiesthe odd condition.</p><p>So every self-conjugate can be correspondence to odd-partition. Andfor each odd-partition, we can construct the matrix one corner by onecorner.</p><p>In conclusion, the two numbers are the same.</p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(A\)</span> is nilpotent and its dimension is <spanclass="math inline">\(4\)</span>, so <spanclass="math inline">\(A^{4}=O\)</span>. Consider the diagonalelements.</p><p><span class="math inline">\(A^4(i,i)=(A(i,i))^4=0\)</span>, so <spanclass="math inline">\(A\)</span> is like <spanclass="math inline">\(A=\begin{pmatrix}0&amp;\mbox{ran}&amp;\mbox{ran}&amp;\mbox{ran}\\0&amp;0&amp;\mbox{ran}&amp;\mbox{ran}\\0&amp;0&amp;0&amp;\mbox{ran}\\0&amp;0&amp;0&amp;0\end{pmatrix}\)</span>.It is obvious that all the</p><p>eigenvalues are <span class="math inline">\(0\)</span>. Consider<spanclass="math inline">\(\mbox{Ker}(A),\mbox{Ker}(A^2),\mbox{Ker}(A^3),\mbox{Ke}(A^4)\)</span>,dimension of each is nearly</p><p><span class="math inline">\(1,2,3,4\)</span> , since each <spanclass="math inline">\(\mbox{ran}\)</span> is randomly chosen from <spanclass="math inline">\([-1,1]\)</span>. The probability <spanclass="math inline">\(4=1+1+1+1\)</span></p><p>is <span class="math inline">\(1\)</span>, others are <spanclass="math inline">\(0\)</span>.</p><h1id="largetextcolorbluemboxadvanced-algebra-small-mathbbhwmathrm6-_textcolorblue2022.4.29"><spanclass="math inline">\(\large\textcolor{blue}{\mbox{Advanced Algebra }\small \mathbb{HW}\mathrm{6}}\ \ \ \ \ \_\textcolor{blue}{2022.4.29}\)</span></h1><h2 id="small-mboxvandermode-matrix">1.6.1<span class="math inline">\(\\small \mbox{Vandermode matrix}\)</span></h2><p>Let <span class="math inline">\(V\)</span> be the space of realpolynomials of degree less than <span class="math inline">\(n\)</span>.So <span class="math inline">\(\operatorname{dim} V=n\)</span>. Then foreach <span class="math inline">\(a \in \mathbb{R}\)</span>, theevaluation <span class="math inline">\(\mathrm{ev}_{a}\)</span> is adual vector.</p><p>For any real numbers <span class="math inline">\(a_{1}, \ldots, a_{n}\in \mathbb{R}\)</span>, consider the map <span class="math inline">\(L:V \rightarrow \mathbb{R}^{n}\)</span> such that <spanclass="math inline">\(L(p)=\left[\begin{array}{c}p\left(a_{1}\right) \\\vdots \\ p\left(a_{n}\right)\end{array}\right]\)</span>.</p><ol type="1"><li>Write out the matrix for <span class="math inline">\(L\)</span>under the basis <span class="math inline">\(1, x, \ldots,x^{n-1}\)</span> for <span class="math inline">\(V\)</span> and thestandard basis for <span class="math inline">\(\mathbb{R}^{n}\)</span>.(Do you know the name for this matrix?)</li><li>Prove that <span class="math inline">\(L\)</span> is invertible ifand only if <span class="math inline">\(a_{1}, \ldots, a_{n}\)</span>are distinct. (If you can name the matrix <spanclass="math inline">\(L\)</span>, then you may use its determinantformula without proof.)</li><li>Show that <span class="math inline">\(\mathrm{ev}_{a_{1}}, \ldots,\mathrm{ev}_{a_{n}}\)</span> form a basis for <spanclass="math inline">\(V^{*}\)</span> if and only if all <spanclass="math inline">\(a_{1}, \ldots, a_{n}\)</span> are distinct.</li><li>Set <span class="math inline">\(n=3\)</span>. Find polynomials <spanclass="math inline">\(p_{1}, p_{2}, p_{3}\)</span> such that <spanclass="math inline">\(p_{i}(j)=\delta_{i j}\)</span> for <spanclass="math inline">\(i, j \in\{-1,0,1\}\)</span>.</li><li>Set <span class="math inline">\(n=4\)</span>, and consider <spanclass="math inline">\(\mathrm{ev}_{-2}, \mathrm{ev}_{-1},\mathrm{ev}_{0}, \mathrm{ev}_{1}, \mathrm{ev}_{2} \in V^{*}\)</span>.Since <span class="math inline">\(\operatorname{dim} V^{*}=4\)</span>,these must be linearly dependent. Find a non-trivial linear combinationof these which is zero.</li></ol><hr /><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(L=\left[\begin{array}{cccc} 1 &amp; a_{1} &amp;\cdots &amp; a_{1}^{n-1} \\ 1 &amp; a_{2} &amp; \cdots &amp; a_{2}^{n-1}\\ \vdots &amp; &amp; &amp; \vdots \\ 1 &amp; a_{n} &amp; \cdots &amp;a_{n}^{n-1} \end{array}\right]\)</span><strong>Vandermodematrix</strong></p><p>Calculate its inverse and we can get standard basis using Lagrangeinterpolation. <span class="math display">\[\left(\begin{array}{cccc}1 &amp; a_{1} &amp; \cdots &amp; a_{1}^{n-1} \\1 &amp; a_{2} &amp; \cdots &amp; a_{2}^{n-1} \\\vdots &amp; &amp; &amp; \vdots \\1 &amp; a_{n} &amp; \cdots &amp; a_{n}^{n-1}\end{array}\right)\left(\begin{array}{c}x_{0} \\ x_{1} \\ x_{2} \\\vdots \\ x_{n-1}\end{array}\right)=\left(\begin{array}{c}y_{0} \\ y_{1}\\ y_{2} \\ \vdots \\y_{n-1}\end{array}\right)\\\left(\begin{array}{cccc}1 &amp; a_{1} &amp; \cdots &amp; a_{1}^{n-1} \\1 &amp; a_{2} &amp; \cdots &amp; a_{2}^{n-1} \\\vdots &amp; &amp; &amp; \vdots \\1 &amp; a_{n} &amp; \cdots &amp; a_{n}^{n-1}\end{array}\right)^{-1}\left(\begin{array}{c}y_{0} \\ y_{1} \\ y_{2} \\\vdots \\ y_{n-1}\end{array}\right)=\left(\begin{array}{c}x_{0} \\ x_{1}\\ x_{2} \\ \vdots \\ x_{n-1}\end{array}\right)\]</span> Construct polynomial <spanclass="math inline">\(f(a)=\displaystyle \sum_{i}y_i \prod_{j \neq i}\frac{a-a_{j}}{a_{i}-a_{j}}\)</span> So <spanclass="math inline">\(f(a_i)=x_i\)</span></p><p>So <span class="math inline">\(\left(V^{-1}\right)_{i j}\)</span> isthe coefficient of <span class="math inline">\(\displaystyle \prod_{k\neq i} \frac{a-a_{k}}{a_{i}-a_{k}}\)</span> at <spanclass="math inline">\(x^{j-1}\)</span> , which is <spanclass="math inline">\(\displaystyle\left(V^{-1}\right)_{ij}=\left[x^{j-1}\right] \prod_{k \neq i}\frac{a-a_{k}}{a_{i}-a_{k}}\)</span> <span class="math display">\[\left(V^{-1}\right)_{i j}=(-1)^{j+1} \frac{\displaystyle \sum_{0 \leqp_{1}&lt;\cdots&lt;p_{n-\zeta} ; p_{1}, p_{2}, \cdots p_{n-j} \neq i}x_{p_{1}} x_{p_{2}} \cdots x_{p_{n-j}}}{\displaystyle \prod_{0 \leqk&lt;n ; k \neq i}\left(x_{k}-x_{i}\right)}\]</span> The column of the <spanclass="math inline">\((V^{-1})\)</span> is the standard basis of <spanclass="math inline">\(V\)</span></p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(\det L=\displaystyle \prod_{1\leq i\leq j\leq n}(a_i-a_j)\neq 0\Longleftrightarrow a_i\neq a_j\)</span></p><p><span class="math inline">\((3)\)</span> <spanclass="math inline">\(e v_{a_{1}}, \cdots, ev_{a_n}\)</span> form abasis for <span class="math inline">\(V^{*} \Longleftrightarrow ev_{a_{1}}, e v_{a_{2}}, \cdots, ev_{a_n}\)</span>, evan are linearlyindepenctent.</p><p>The matrix <span class="math inline">\(\left(\begin{array}{c}ev_{a_{1}} \\ e v_{a_{2}} \\ \vdots \\ ev_{a_{n}}\end{array}\right)\)</span> is invertible, which means <spanclass="math inline">\(L\)</span> is invertible. According to <spanclass="math inline">\(\small(2)\)</span>, <spanclass="math inline">\(a_i\)</span> are distinct.</p><p><span class="math inline">\((4)\)</span> Pick original basis <spanclass="math inline">\(\{1,x,x^2\}\)</span> So <spanclass="math inline">\(\alpha_{1}=(1,-1,1) \quad \alpha_{2}=(1,0,0) \quad\alpha_{3}=(1,1,1)\)</span> <span class="math display">\[A=\left(\begin{array}{l}\alpha_{1} \\ \alpha_{2} \\\alpha_{3}\end{array}\right)=\left(\begin{array}{ccc}1 &amp; -1 &amp; 1\\ 1 &amp; 0 &amp; 0 \\ 1 &amp; 1 &amp; 1\end{array}\right) \quadA^{-1}=\left(\begin{array}{ccc}0 &amp; 1 &amp; 0 \\ -\frac{1}{2} &amp; 0&amp; \frac{1}{2} \\ \frac{1}{2} &amp; -1 &amp;\frac{1}{2}\end{array}\right)\]</span> So <span class="math inline">\(p_{1}=-\dfrac{1}{2}x+\dfrac{1}{2} x^{2} \quad p_{2}=1-x^{2} \quad p_{3}=\dfrac{1}{2}x+\dfrac{1}{2} x^{2}\)</span></p><p><span class="math inline">\((5)\)</span> Set <spanclass="math inline">\(p(x)=ax^3+bx^2+cx+d\)</span> and <spanclass="math display">\[m e v_{-2}+n e v_{-1}+p e v_{0}+q e v_{1}+r ev_{2}=0\]</span> <span class="math display">\[\begin{gathered}e v_{-2}=-8 a+4 b-2 c+d \quad e v_{-1}=-a+b-c+d \quad e v_{0}=d\\ \quade v_{1}=a+b+c+d \quad e v_{2}=8 a+4 b+2 c+d\\\left(\begin{array}{ccccc}-8 &amp; -1 &amp; 0 &amp; 1 &amp; 8 \\ 4 &amp;1 &amp; 0 &amp; 1 &amp; 4 \\ -2 &amp; -1 &amp; 0 &amp; 1 &amp; 2 \\ 1&amp; 1 &amp; 1 &amp; 1 &amp;1\end{array}\right)\left(\begin{array}{l}m\\ n \\ p \\ q \\ r\end{array}\right)=\boldsymbol 0\end{gathered}\]</span> Solve that <span class="math inline">\(e v_{-2}-4 e v_{-1}+6 ev_{0}-4 e v_{1}+e v_{2}=0\)</span></p><h2 id="small-mboxdual-vector-in-polynomials">1.6.2<spanclass="math inline">\(\ \small \mbox{dual vector inpolynomials}\)</span></h2><p>Let <span class="math inline">\(V\)</span> be the space of realpolynomials of degree less than <span class="math inline">\(3\)</span>.Which of the following is a dual vector? Prove it or show why not.</p><ol type="1"><li><span class="math inline">\(p \mapsto \operatorname{ev}_{5}((x+1)p(x))\)</span>.</li><li><span class="math inline">\(p \mapsto \lim _{x \rightarrow \infty}\dfrac{p(x)}{x}\)</span>.</li><li><span class="math inline">\(p \mapsto \lim _{x \rightarrow \infty}\dfrac{p(x)}{x^{2}}\)</span>.</li><li><span class="math inline">\(p \mapsto p(3)p^{\prime}(4)\)</span>.</li><li><span class="math inline">\(p \mapsto\operatorname{deg}(p)\)</span>, the degree of the polynomial <spanclass="math inline">\(p\)</span>.</li></ol><hr /><p><span class="math inline">\((1)\)</span> Yes. <spanclass="math inline">\(①\  e_{s}((x+1) p(x))=6 p(5)\)</span>. that is themap from <span class="math inline">\(V\)</span> to <spanclass="math inline">\(\mathbb{R}\)</span>. <spanclass="math inline">\(②\)</span> For <spanclass="math inline">\(\forall\  p, q \in V\)</span> and</p><p><span class="math inline">\(\forall m, n \in \mathbb{R}, L(m p+n q)=6m p(5)+6 n p(5)=m L(p)+n L(q)\)</span>, so its bilinear.</p><p><span class="math inline">\((2)\)</span> No. Sometimes the limitdoeen't exist when <span class="math inline">\(\mbox{deg}(p)\geq2\)</span></p><p><span class="math inline">\((3)\)</span> Yes. This vector is just a'taking the coefficient of <span class="math inline">\(x^2\)</span>',which is bilinear.</p><p><span class="math inline">\((4)\)</span> No. For instance, <spanclass="math inline">\(p(x)=x^{2}+2, q(x)=-2 x, \quad L(p)=11 \times 8=88\quad L(q)=12\)</span></p><p><span class="math inline">\(L(p+q)=5 \times 6=30 . \quad L(p+q) \neqL(p)+L(q)\)</span>. So it's not a dual vector.</p><p><span class="math inline">\((5)\)</span> No. For instance, <spanclass="math inline">\(p(x)=x^{2}+x, q(x)=-x^{2}+1,L(p)=\operatorname{deg}(p)=2, L(q)=\operatorname{deg}(q)=2\)</span></p><p><span class="math inline">\(L(p+q)=\operatorname{deg}(x+1)=1 .L(p)+L(q) \neq L(p+q)\)</span>. So it's not a clual vector</p><h2 id="small-mboxdirectional-derivative">1.6.3<spanclass="math inline">\(\ \small \mbox{directionalderivative}\)</span></h2><p>Fix a differentiable function <span class="math inline">\(f:\mathbb{R}^{2} \rightarrow \mathbb{R}\)</span>, and fix a point <spanclass="math inline">\(\boldsymbol{p} \in \mathbb{R}^{2}\)</span>. Forany vector <span class="math inline">\(\boldsymbol{v} \in\mathbb{R}^{2}\)</span>, then the directional derivative of <spanclass="math inline">\(f\)</span> at <spanclass="math inline">\(\boldsymbol{p}\)</span> in the direction of <spanclass="math inline">\(\boldsymbol{v}\)</span> is defined as <spanclass="math inline">\(\nabla_{\boldsymbol{v}} f:=\lim _{t \rightarrow 0}\dfrac{f(\boldsymbol{p}+t \boldsymbol{v})-f(\boldsymbol{p})}{t} . S\mathrm{Show}\)</span> that the map <span class="math inline">\(\nablaf: \boldsymbol{v} \mapsto \nabla_{\boldsymbol{v}}(f)\)</span> is a dualvector in <spanclass="math inline">\(\left(\mathbb{R}^{2}\right)^{*}\)</span>, i.e., arow vector. Also, what are its "coordinates" under the standard dualbasis? (Remark: In calculus, we write <span class="math inline">\(\nablaf\)</span> as a column vector for historical reasons. By all means, froma mathematical perspective, the correct way to write <spanclass="math inline">\(\nabla f\)</span> is to write it as a row vector,as illlustrated in this problem. (But don't annoy your calculus teachersthough.... In your calculus class, you use whatever notation yourcalculus teacher told you.) (Extra Remark: If we use row vector, thenthe evaluation of <span class="math inline">\(\nabla f\)</span> at <spanclass="math inline">\(\boldsymbol{v}\)</span> is purely linear, and noinner product structure is needed, which is sweet. But if we HAVE TOwrite <span class="math inline">\(\nabla f\)</span> as a column vector(for historical reason), then we would have to do a dot product between<span class="math inline">\(\nabla f\)</span> and <spanclass="math inline">\(\boldsymbol{v}\)</span>, which now requires aninner product structure. That is an unnecessary dependence on an extrastructure that actually should have no influence.)</p><hr /><p>Set <spanclass="math inline">\(\vec{v}=\begin{pmatrix}a\\b\end{pmatrix}\)</span>,since the function <span class="math inline">\(f\)</span> isdifferentiable, <span class="math inline">\(\nabla_{\vec{v}}f=\dfrac{\partial f(\vec{v})}{\partial x} \cdot\dfrac{a}{\sqrt{a^{2}+b^{2}}}+\dfrac{\partial f(\vec{v})}{\partial y}\dfrac{b}{\sqrt{a^{2}+b}}\)</span></p><p>So the map <span class="math inline">\(\nabla f\)</span> is a mapfrom <spanclass="math inline">\(\left(\mathbb{R}^{2}\right)^{*}\)</span> to <spanclass="math inline">\(\mathbb{R}\)</span>.And for <spanclass="math inline">\(\forall\)</span> diffential functions <spanclass="math inline">\(f, g, \forall m, n \in \mathbb{R}\)</span>, wehave: <span class="math display">\[\begin{aligned}\nabla_{\vec{v}}(m f+n g) &amp;=\frac{\partial[m f(\vec{v})+ng(\vec{v})]}{\partial x} \cdot\frac{a}{\sqrt{a^{2}+b^{2}}}+\frac{\partial[m f(\vec{v})+ng(\vec{v})]}{\partial y} \cdot \frac{b}{\sqrt{a^{2}+b^{2}}} \\&amp;=m \nabla_{\vec{v}} f+n \nabla_{\vec{v}} g\end{aligned}\]</span> So the map <span class="math inline">\(\nabla f\)</span> isbilinear, i.e, is a dual vector in <spanclass="math inline">\(\left(\mathbb{R}^{2}\right)^{*}\)</span>.</p><p>Since <span class="math inline">\(x\)</span>-axis and <spanclass="math inline">\(y\)</span>-axis are perpendicular, the standarddual basis is <span class="math inline">\(\dfrac{\partial f}{\partialx}\)</span> and <span class="math inline">\(\dfrac{\partial f}{\partialy} .\)</span> And the coordinates are <spanclass="math inline">\(\dfrac{\vec{v} \cdot\hat{x}}{\|\vec{v}\|}\)</span> and <spanclass="math inline">\(\dfrac{\vec{v} \cdot\hat{y}}{\|\vec{v}\|}\)</span></p><h2 id="section">1.6.4$ $</h2><p>Consider a linear map <span class="math inline">\(L: V \rightarrowW\)</span> and its dual map <span class="math inline">\(L^{*}: W^{*}\rightarrow V^{*}\)</span>. Prove the following.</p><ol type="1"><li><spanclass="math inline">\(\operatorname{Ker}\left(L^{*}\right)\)</span> isexactly the collection of dual vectors in <spanclass="math inline">\(W^{*}\)</span> that kills <spanclass="math inline">\(\operatorname{Ran}(L)\)</span>.</li><li><spanclass="math inline">\(\operatorname{Ran}\left(L^{*}\right)\)</span> isexactly the collection of dual vectors in <spanclass="math inline">\(V^{*}\)</span> that kills <spanclass="math inline">\(\operatorname{Ker}(L)\)</span>.</li></ol><hr /><p><span class="math inline">\((1)\)</span> First, all the elements in<span class="math inline">\(\ker(L^*)\in W^{*}\)</span>, so just prove<span class="math inline">\(\forall \ \vec{v}\in\ker(L^*),\vec{\omega}\in \mbox{Ran}(L),\vec{v}^{T}\cdot\vec{\omega}=0\)</span></p><p><spanclass="math inline">\(L^{*}\vec{v}=0,L^{*}\vec{v}\cdot\vec{x}=0=\vec{v}^{T}(L\vec{x})\)</span>,set <span class="math inline">\(L\vec{x}=\vec{\omega}\)</span> So <spanclass="math inline">\(\vec{v}^{T}\cdot \vec{\omega}=\langle\vec{v},\vec{\omega}\rangle=0\)</span></p><p><span class="math inline">\((2)\)</span> First, all the elements in<span class="math inline">\(\mbox{Ran}(L^{*})\in V^{*}\)</span> ,so justprove <span class="math inline">\(\forall \ \vec{v}\in\mbox{Ran}(L^*),\vec{\omega}\in \mbox{Ker}(L),\vec{v}^{T}\cdot\vec{\omega}=0\)</span></p><p><spanclass="math inline">\(L\vec{\omega}=0,L\vec{\omega}\cdot\vec{x}=0=\vec{\omega}^{T}(L^{*}\vec{x})\)</span>,set <span class="math inline">\(L^{*}\vec{x}=\vec{v}\)</span>, So <spanclass="math inline">\(\vec{\omega}^{T}\cdot \vec{v}=\langle\vec{\omega},\vec{v}\rangle=0\)</span></p><h1id="largetextcolorbluemboxadvanced-algebra-small-mathbbhwmathrm7-_textcolorblue2022.5.3"><spanclass="math inline">\(\large\textcolor{blue}{\mbox{Advanced Algebra }\small \mathbb{HW}\mathrm{7}}\ \ \ \ \ \_\textcolor{blue}{2022.5.3}\)</span></h1><h2 id="small-mboxbra-map-and-riesz-map">1.7.1<spanclass="math inline">\(\ \small \mbox{bra map and Rieszmap}\)</span></h2><p>On the space <span class="math inline">\(\mathbb{R}^{n}\)</span>, wefix a symmetric positive-definite matrix <spanclass="math inline">\(A\)</span>, and define <spanclass="math inline">\((\boldsymbol{v},\boldsymbol{w})=\boldsymbol{v}^{\mathrm{T}}A\boldsymbol{w}\)</span></p><ol type="1"><li>Show that this is an inner product.</li><li>The Riesz map (inverse of the bra map) from <spanclass="math inline">\(V^{*}\)</span> to <spanclass="math inline">\(V\)</span> would send a row vector <spanclass="math inline">\(\boldsymbol{v}^{\mathrm{T}}\)</span> to what?</li><li>The bra map from <span class="math inline">\(V\)</span> to <spanclass="math inline">\(V^{*}\)</span> would send a vector <spanclass="math inline">\(\boldsymbol{v}\)</span> to what?</li><li>The dual of the Riesz map from <spanclass="math inline">\(V^{*}\)</span> to <spanclass="math inline">\(V\)</span> would send a row vector <spanclass="math inline">\(\boldsymbol{v}^{\mathrm{T}}\)</span> to what?</li></ol><hr /><p><span class="math inline">\((1)\)</span> Easy to prove.</p><p><span class="math inline">\((2)\)</span> The bra map means <spanclass="math inline">\(\forall \ \langle \boldsymbol{v}|\in\mathcal{B},s.t.\langle\boldsymbol{v}|:\boldsymbol{\omega\longmapsto}\langle\boldsymbol{v},\boldsymbol{\omega}\rangle=\boldsymbol{v}^{\mathrm{T}}A\boldsymbol{w}\)</span>So the inverse of <span class="math inline">\(\langle\boldsymbol{v}|\)</span> is make <spanclass="math inline">\(\boldsymbol{v}^{\mathrm{T}}A\)</span></p><p>to <span class="math inline">\(\boldsymbol {v}\)</span>, which isfrom <span class="math inline">\(V^{*}\)</span> to <spanclass="math inline">\(V\)</span>. Set <spanclass="math inline">\(\boldsymbol{u}=\boldsymbol {v}^{T}A\)</span>, so<spanclass="math inline">\(\boldsymbol{v}^{T}=\boldsymbol{u}A^{-1}\)</span>then transpose it we can get <spanclass="math inline">\(\boldsymbol{v}=(A^{-1})^{T}\boldsymbol{u^{T}}\)</span></p><p>So if the input is <span class="math inline">\(\boldsymbol{v}^{T}\inV^{*}\)</span>, the output is <spanclass="math inline">\((A^{-1})^{T}(\boldsymbolv^{T})^{T}=(A^{-1})^{T}\boldsymbol{v}\in V\)</span></p><p><span class="math inline">\((3)\)</span> Obviously, it sends <spanclass="math inline">\(\boldsymbol{v}\)</span> to <spanclass="math inline">\(\boldsymbol{v}^{T}A\)</span></p><p><span class="math inline">\((4)\)</span> I guess the result is thesame with <span class="math inline">\(\small(2)\)</span>, which sends<span class="math inline">\(\boldsymbol {v}^{T}\)</span> to <spanclass="math inline">\((A^{-1})^{T}\boldsymbol{v}\)</span></p><h2 id="small-mboxwhat-is-a-derivative">1.7.2<spanclass="math inline">\(\ \small \mbox{What is a derivative}\)</span></h2><p>The discussions in this problem holds for all manifolds <spanclass="math inline">\(M\)</span>. But for simplicities sake, suppose<span class="math inline">\(M=\mathbb{R}^{3}\)</span> for thisproblem.</p><p>Let <span class="math inline">\(V\)</span> be the space of allanalytic functions from <span class="math inline">\(M\)</span> to <spanclass="math inline">\(\mathbb{R}\)</span>. Here analytic means <spanclass="math inline">\(f(x, y, z)\)</span> is a infinite polynomialseries (its Taylor expansion) with variables <spanclass="math inline">\(x, y, z\)</span>. Approximately <spanclass="math inline">\(f(x, y, z)=a_{0}+a_{1} x+a_{2} y+\)</span> <spanclass="math inline">\(a_{3} z+a_{4} x^{2}+a_{5} x y+a_{6} x z+a_{7}y^{2}+\ldots\)</span>, and things should converge always.</p><p>Then a dual vector <span class="math inline">\(v \in V^{*}\)</span>is said to be a "derivation at <spanclass="math inline">\(\boldsymbol{p} \in M^{\prime \prime}\)</span> ifit satisfy the following Leibniz rule (or product rule): <spanclass="math display">\[v(f g)=f(\boldsymbol{p}) v(g)+g(\boldsymbol{p}) v(f) .\]</span> (Note the similarity with your traditional product rule <spanclass="math inline">\((f g)^{\prime}(x)=f(x) g^{\prime}(x)+g(x)f^{\prime}(x)\)</span>.) Prove the following:</p><ol type="1"><li>Constant functions in <span class="math inline">\(V\)</span> must besent to zero by all derivations at any point.</li><li>Let <span class="math inline">\(x, y, z \in V\)</span> be thecoordinate function. Suppose <spanclass="math inline">\(\boldsymbol{p}=\left[\begin{array}{l}p_{1} \\p_{2} \\ p_{3}\end{array}\right]\)</span>, then for any derivation <spanclass="math inline">\(v\)</span> at <spanclass="math inline">\(\boldsymbol{p}\)</span>, then we have <spanclass="math inline">\(v\left(\left(x-p_{1}\right)f\right)=f(\boldsymbol{p}) v(x), v\left(\left(y-p_{2}\right)f\right)=f(\boldsymbol{p}) v(y)\)</span> and <spanclass="math inline">\(v\left(\left(z-p_{3}\right)f\right)=f(\boldsymbol{p}) v(z)\)</span>.</li><li>Let <span class="math inline">\(x, y, z \in V\)</span> be thecoordinate function. Suppose <spanclass="math inline">\(\boldsymbol{p}=\left[\begin{array}{l}p_{1} \\p_{2} \\ p_{3}\end{array}\right]\)</span>, then for any derivation <spanclass="math inline">\(v\)</span> at <spanclass="math inline">\(\boldsymbol{p}\)</span>, then we have <spanclass="math inline">\(v\left(\left(x-p_{1}\right)^{a}\left(y-p_{2}\right)^{b}\left(z-p_{3}\right)^{c}\right)=0\)</span>for any non-negative integers <span class="math inline">\(a, b,c\)</span> such that <spanclass="math inline">\(a+b+c&gt;1\)</span>.</li><li>Let <span class="math inline">\(x, y, z \in V\)</span> be thecoordinate function. Suppose <spanclass="math inline">\(\boldsymbol{p}=\left[\begin{array}{l}p_{1} \\p_{2} \\ p_{3}\end{array}\right]\)</span>, then for any derivation <spanclass="math inline">\(v\)</span> at <spanclass="math inline">\(\boldsymbol{p}, v(f)=\)</span> <spanclass="math inline">\(\dfrac{\partial f}{\partial x}(\boldsymbol{p})v(x)+\dfrac{\partial f}{\partial y}(\boldsymbol{p}) v(y)+\dfrac{\partialf}{\partial z}(\boldsymbol{p}) v(z)\)</span>. (Hint: use the Taylorexpansion of <span class="math inline">\(f\)</span> at <spanclass="math inline">\(\left.\boldsymbol{p} .\right)\)</span></li><li>Any derivation <span class="math inline">\(v\)</span> at <spanclass="math inline">\(\boldsymbol{p}\)</span> must be exactly thedirectional derivative operator <spanclass="math inline">\(\nabla_{\boldsymbol{v}}\)</span> where <spanclass="math inline">\(\boldsymbol{v}=\left[\begin{array}{l}v(x) \\ v(y)\\ v(z)\end{array}\right]\)</span>. (Remark: So, algebraically speaking,tangent vectors are exactly derivations, i.e., things that satisfy theLeibniz rule.)</li></ol><hr /><p><span class="math inline">\((1)\)</span> Set <spanclass="math inline">\(f(\vec{p})\equiv a\)</span>, because <spanclass="math inline">\(v(f g)=f(\boldsymbol{p}) v(g)+g(\boldsymbol{p})v(f)\)</span> and <span class="math inline">\(v\in V^{*}\)</span> islinear, <spanclass="math inline">\(v(fg)=av(g)+g(\boldsymbol{p})v(f)\)</span></p><p>Set <span class="math inline">\(g=f\)</span>, so <spanclass="math inline">\(v(ff)=2av(f)=v(af)=av(f)\)</span> If <spanclass="math inline">\(a=0\)</span>, <spanclass="math inline">\(v(g)=v(0)=v(gg)=0+0=0\)</span> If <spanclass="math inline">\(a\neq 0\)</span></p><p><span class="math inline">\(av(f)=0\)</span>, and <spanclass="math inline">\(v(f)=0\)</span> So constant functions in <spanclass="math inline">\(V\)</span> are all sent to <spanclass="math inline">\(0\)</span></p><p><span class="math inline">\((2)\)</span> Calculate <spanclass="math inline">\(v((x-p_1)f)=f(\boldsymbol{p})v(x-p_1)+(x-p_1)(\boldsymbol{p})v(f)\)</span> And <spanclass="math inline">\(x(\boldsymbol{p})=p_1,p_1(\boldsymbol{p})=p_1\)</span></p><p>So <span class="math inline">\((x-p_1)(\boldsymbol{p})=0\)</span> Forconstant <span class="math inline">\(\boldsymbol{p}\)</span>, <spanclass="math inline">\(v(\boldsymbol{p}=0)\)</span> So <spanclass="math inline">\(v((x-p_1)f)=f(\boldsymbol{p})(v(x)-v(p_1))=f(\boldsymbol{p})v(x)\)</span></p><p><span class="math inline">\((3)\)</span> As <spanclass="math inline">\(a,b,c\)</span> are all integers, if <spanclass="math inline">\(a,b,c&lt;1\)</span>, the sum of them is <spanclass="math inline">\(a+b+c\leq 0\)</span>, contradiction</p><p>So at least one intergers is <span class="math inline">\(\geq1\)</span>, without loss of generalization, assume <spanclass="math inline">\(a\geq 1\)</span></p><p><spanclass="math inline">\(v\left(\left(x-p_{1}\right)^{a}\left(y-p_{2}\right)^{b}\left(z-p_{3}\right)^{c}\right)=v(x-p_1)((x-p_1)^{a-1}(y-p_2)^b(z-p_3)^c)(\boldsymbol{p})\)</span></p><p>And if <span class="math inline">\(a&gt; 1\)</span>, <spanclass="math inline">\((x-p_1)^{a-1}(\boldsymbol{p})=(x-p_1)^{a-2}(x-p_1)(\boldsymbol{p})=0\)</span>if <span class="math inline">\(a=1\)</span>, then <spanclass="math inline">\(b+c&gt;0\)</span></p><p>at least one integer in <span class="math inline">\(b\)</span> and<span class="math inline">\(c\)</span> <span class="math inline">\(\geq1\)</span>, without of generalization, assume <spanclass="math inline">\(b\geq 1\)</span>. Then</p><p><spanclass="math inline">\((y-p_2)^{b}(\boldsymbol{p})=(y-p_2)^{b-1}(y-p_2)(\boldsymbol{p})=0\)</span>So <spanclass="math inline">\(v\left(\left(x-p_{1}\right)^{a}\left(y-p_{2}\right)^{b}\left(z-p_{3}\right)^{c}\right)=0\)</span></p><p><span class="math inline">\((4)\)</span> Use Taylor expansion for<span class="math inline">\(f\)</span>, we have <spanclass="math display">\[f(x, y, z)=f\left(p_{1}, p_{2}, p_{3}\right)+\frac{\partial f}{\partialx}(\boldsymbol{p})\left(x-p_{1}\right)+\frac{\partial f}{\partialy}(\boldsymbol{p})\left(y-p_{2}\right)+\frac{\partial f}{\partialz}(\boldsymbol{p})\left(z-p_{3}\right)+o(|\boldsymbol{r}-\boldsymbol{p}|)\]</span> According to <span class="math inline">\((3)\)</span>, theremainder <spanclass="math inline">\(o(|\boldsymbol{r}-\boldsymbol{p}|)=\left(x-p_{1}\right)^{a}\left(y-p_{2}\right)^{b}\left(z-p_{3}\right)^{c},a+b+c&gt;1\)</span></p><p>So <spanclass="math inline">\(v(o(|\boldsymbol{r}-\boldsymbol{p}|))=0\)</span>For constant number <span class="math inline">\(v\)</span> sends to<span class="math inline">\(0\)</span>. Take <spanclass="math inline">\(v\)</span> function to the Taylor expansion <spanclass="math display">\[v(f)=\dfrac{\partial f}{\partial x}(\boldsymbol{p}) v(x)+\dfrac{\partialf}{\partial y}(\boldsymbol{p}) v(y)+\dfrac{\partial f}{\partialz}(\boldsymbol{p}) v(z)\]</span> Which shows the complete differential at <spanclass="math inline">\(\boldsymbol{p}\)</span></p><p><span class="math inline">\((5)\)</span> Just calculate thedirectional derivative <spanclass="math inline">\(\nabla_{\boldsymbol{v}}\)</span> where <spanclass="math inline">\(\boldsymbol{v}=\left[\begin{array}{l}v(x) \\ v(y)\\ v(z)\end{array}\right]\)</span> <span class="math display">\[\begin{aligned}\nabla_{v} f &amp;=\lim _{t \rightarrow 0^{+}} \frac{f(\boldsymbol{p}+t\boldsymbol{v})-f(\boldsymbol{p})}{t} \\&amp;=\lim _{t \rightarrow 0^{+}}\dfrac{f(\boldsymbol{p})+\dfrac{\partial f}{\partial x}(\boldsymbol{p})v(x) t+\dfrac{\partial f}{\partial y}(\boldsymbol{p}) v(y)t+\dfrac{\partial f}{\partial z}(\boldsymbol{p}) v(z)t+o(\|\boldsymbol{v}\| t)-f(\boldsymbol{p})}{t} \\&amp;=\frac{\partial f}{\partial x}(\boldsymbol{p}) v(x)+\frac{\partialf}{\partial y}(\boldsymbol{p}) v(y)+\frac{\partial f}{\partialz}(\boldsymbol{p}) v(z) \\&amp;=v(f)\end{aligned}\]</span> So derivative in calculus is just a vector in the dual spaceof <span class="math inline">\(R^{n}\)</span> which suits Leibnizrule</p><h2 id="small-mboxwhat-is-a-vector-field">1.7.3<spanclass="math inline">\(\ \small \mbox{What is a vectorfield}\)</span></h2><p>The discussions in this problem holds for all manifolds <spanclass="math inline">\(M\)</span>. But for simplicities sake, suppose<span class="math inline">\(M=\mathbb{R}^{3}\)</span> for this problem.Let <span class="math inline">\(V\)</span> be the space of all analyticfunctions from <span class="math inline">\(M\)</span> to <spanclass="math inline">\(\mathbb{R}\)</span> as usual. We say <spanclass="math inline">\(X: V \rightarrow V\)</span> is a vector field on<span class="math inline">\(X\)</span> if <spanclass="math inline">\(X(f g)=f X(g)+g X(f)\)</span>, i.e., the Leibnizrule again! Prove the following:</p><ol type="1"><li><p>Show that <span class="math inline">\(X_{\boldsymbol{p}}: V\rightarrow \mathbb{R}\)</span> such that <spanclass="math inline">\(X_{\boldsymbol{p}}(f)=(X(f))(\boldsymbol{p})\)</span>is a derivation at <span class="math inline">\(\boldsymbol{p}\)</span>.(Hence <span class="math inline">\(X\)</span> is indeed a vector field,since it is the same as picking a tangent vector at eachpoint.)</p></li><li><p>Note that each <span class="math inline">\(f\)</span> on <spanclass="math inline">\(M\)</span> induces a covector field <spanclass="math inline">\(\mathrm{d} f\)</span>. Then at each point <spanclass="math inline">\(\boldsymbol p\)</span>, the cotangent vector <spanclass="math inline">\(\mathrm{d} f\)</span> and the tangent vector <spanclass="math inline">\(X\)</span> would evaluate to some number. So <spanclass="math inline">\(\mathrm{d} f(X)\)</span> is a function <spanclass="math inline">\(M \rightarrow \mathbb{R}\)</span>. Show that <spanclass="math inline">\(\mathrm{d} f(X)=X(f)\)</span>, i.e., the two arethe same. (Hint: just use definitions and calculate directly.)</p></li><li><p>If <span class="math inline">\(X, Y: V \rightarrow V\)</span> arevector fields, then note that <span class="math inline">\(X \circ Y: V\rightarrow V\)</span> might not be a vector field. (Leibniz rule mightfail.) However, show that <span class="math inline">\(X \circ Y-Y \circX\)</span> is always a vector field.</p></li><li><p>On a related note, show that if <span class="math inline">\(A,B\)</span> are skew-symmetric matrices, then <spanclass="math inline">\(A B-B A\)</span> is still skewsymmetric.(Skew-symmetric matrices actually corresponds to certain vector fieldson the manifold of orthogonal matrices. So this is nocoincidence.)</p></li></ol><hr /><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(X_{\boldsymbol{p}}(fg)=(X(fg))(\boldsymbol{p})=(fX(g)+gX(f))(\boldsymbol{p})=f(\boldsymbol{p})X(g)(\boldsymbol{p})+g(\boldsymbol{p})X(f)(\boldsymbol{p})\)</span></p><p><spanclass="math inline">\(=f(\boldsymbol{p})X_{\boldsymbol{p}}(g)+g(\boldsymbol{p})X_{\boldsymbol{p}}(f)\)</span>So it suits the definition of derivative at <spanclass="math inline">\(\boldsymbol{p}\)</span></p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(X_{\boldsymbol{p}}:V\rightarrow R\)</span> So<span class="math inline">\(X_{\boldsymbol{p}}\in V^{*}\)</span> <spanclass="math inline">\(X_{p}=\left[\begin{array}{c} X_{\boldsymbol{p}}(X)&amp; X_{p}(Y) &amp; X_{p}(Z) \end{array}\right]\)</span></p><p><span class="math inline">\(df(X)(\boldsymbol{p})=df_{\boldsymbol{p}}(X_{\boldsymbol{p}})\)</span> where <spanclass="math inline">\(df=\left[\begin{array}{c} \dfrac{\partialf}{\partial x}(\boldsymbol{p})\\ \dfrac{\partial f}{\partialy}(\boldsymbol{p})\\ \dfrac{\partial f}{\partial z}(\boldsymbol{p})\\\end{array}\right]\)</span> combine them together then we have</p><p>From <span class="math inline">\(\small (1.4)\)</span> <spanclass="math inline">\((X(f))(\boldsymbol{p})=X_{p}(f)=\dfrac{\partialf}{\partial x}(\boldsymbol{p}) X_{\boldsymbol{p}}(X)+\dfrac{\partialf}{\partial y}(\boldsymbol{p}) X_{\boldsymbol{p}}(Y)+\dfrac{\partialf}{\partial z}(\boldsymbol{p}) X_{\boldsymbol{p}}(Z)\)</span></p><p><span class="math inline">\(=\left[\begin{array}{c}X_{\boldsymbol{p}}(X) &amp; X_{p}(Y) &amp; X_{p}(Z)\end{array}\right]\left[\begin{array}{c} \dfrac{\partial f}{\partialx}(\boldsymbol{p})\\ \dfrac{\partial f}{\partial y}(\boldsymbol{p})\\\dfrac{\partial f}{\partial z}(\boldsymbol{p})\\\end{array}\right]=df(X)\)</span></p><p><span class="math inline">\((3)\)</span> Just unfold the fomula <spanclass="math display">\[\begin{gathered}(X\circ Y-Y\circ X)(fg)=X\circ Y(fg)-Y\circ X(fg)=X\circ(fY(g)+gY(f))-Y\circ (fX(g)+gX(f))\\=\small f (X\circ Y)g+X(f)Y(g)+g (X\circ Y)f+X(g)Y(f)-(f (Y\circX)g+Y(f)X(g)+g (Y\circ X)f+Y(g)X(f))\\=f(X\circ Y-Y\circ X)g+g(X\circ Y-Y\circ X)f\end{gathered}\]</span> So <span class="math inline">\(X\circ Y-Y \circ X\)</span>suits the Leibniz rule, which is a vector field.</p><p><span class="math inline">\((4)\)</span> Calculate directly we canprove <span class="math inline">\((AB-BA)^{T}=-(AB-BA)\)</span> <spanclass="math display">\[\begin{aligned}(A B-B A)^{T} =(A B)^{T}-(B A)^{T}=(B^{T} A^{T}-A^{T} B^{T}) \\=(-B)(-A)-(-A)(-B) =BA-AB=-(A B-B A)\end{aligned}\]</span> For all the positive orthogonal matrices <spanclass="math inline">\(\mathcal{Q}\)</span> <spanclass="math inline">\(\forall \ Q\in \mathcal{Q},\det(Q)=1\)</span>. Atone matrix, its tangent vector</p><p><spanclass="math inline">\((Q+A)^{T}(Q+A)=I=(Q^{T}+A^{T})(Q+A)=I\LongrightarrowA=-A^{T},||A||\to 0\)</span></p><p>are all Skew-symmetric matrices. According to <spanclass="math inline">\(\small (3)\)</span>, <spanclass="math inline">\(AB-BA\)</span> is also a Skew-symmetric matrix</p><blockquote><p><span class="math inline">\(\Large \mathbf{If\ your\ life\ is\tense,\ it\ could\ be\ a\ tensor. }\)</span></p></blockquote><h1id="largetextcolorbluemboxadvanced-algebra-small-mathbbhwmathrm8-_textcolorblue2022.5.9"><spanclass="math inline">\(\large\textcolor{blue}{\mbox{Advanced Algebra }\small \mathbb{HW}\mathrm{8}}\ \ \ \ \ \_\textcolor{blue}{2022.5.9}\)</span></h1><h2 id="small-mboxelementary-layer-operations-for-tensors">1.8.1<spanclass="math inline">\(\ \small \mbox{Elementary layer operations fortensors}\)</span></h2><p>Note that, for "2D" matrices we have row and column operations, andthe two kinds of operations corresponds to the two dimensions of thearray.</p><p>For simplicity, let <span class="math inline">\(M\)</span> be a <spanclass="math inline">\(2 \times 2 \times 2\)</span> "3D matrix". Then wehave "row layer operations", "column layer operations", "horizontallayer operations". The three kinds corresponds to the three dimensionsof the array. We interpret this as a multilinear map <spanclass="math inline">\(M: \mathbb{R}^{2} \times \mathbb{R}^{2} \times\mathbb{R}^{2} \rightarrow \mathbb{R}\)</span>. Let <spanclass="math inline">\(\left(\left(\mathbb{R}^{2}\right)^{*}\right)^{\otimes3}\)</span> be the space of all multilinear maps from <spanclass="math inline">\(\mathbb{R}^{2} \times \mathbb{R}^{2} \times\mathbb{R}^{2}\)</span> to <spanclass="math inline">\(\mathbb{R}\)</span>.</p><ol type="1"><li>Given <span class="math inline">\(\alpha, \beta, \gamma\in\left(\mathbb{R}^{2}\right)^{*}\)</span>, what is the <spanclass="math inline">\((i, j, k)\)</span>-entry of the "3D matrix" <spanclass="math inline">\(\alpha \otimes \beta \otimes \gamma\)</span> interms of the coordinates of <span class="math inline">\(\alpha, \beta,\gamma\)</span> ? Here <span class="math inline">\(\alpha \otimes \beta\otimes \gamma\)</span> is the multilinear map sending <spanclass="math inline">\((\boldsymbol{u}, \boldsymbol{v},\boldsymbol{w})\)</span> to the real number <spanclass="math inline">\(\alpha(\boldsymbol{u}) \beta(\boldsymbol{v})\gamma(\boldsymbol{w})\)</span>.</li><li>Let <span class="math inline">\(E\)</span> be an elementary matrix.Then we can send <span class="math inline">\(\alpha \otimes \beta\otimes \gamma\)</span> to <span class="math inline">\((\alpha E)\otimes \beta \otimes \gamma\)</span>. Why can this be extended to alinear map <spanclass="math inline">\(M_{E}:\left(\left(\mathbb{R}^{2}\right)^{*}\right)^{\otimes3} \rightarrow\left(\left(\mathbb{R}^{2}\right)^{*}\right)^{\otimes3}\)</span> ? (This gives a formula for the "elementary layeroperations" on "3D matrices", where the three kinds of layer operationscorresponds to applying <span class="math inline">\(E\)</span> to thethree arguments respectively.)</li><li>Show that elementary layer operations preserve rank. Here we say<span class="math inline">\(M\)</span> has rank <spanclass="math inline">\(r\)</span> if <spanclass="math inline">\(r\)</span> is the smallest possible integer suchthat <span class="math inline">\(M\)</span> can be written as the linearcombination of <span class="math inline">\(r\)</span> "rank one" maps,i.e., maps of the kind <span class="math inline">\(\alpha \otimes \beta\otimes \gamma\)</span> for some <span class="math inline">\(\alpha,\beta, \gamma \in\left(\mathbb{R}^{2}\right)^{*}\)</span>.</li><li>Show that, if some "2D" layer matrix of a "3D matrix" has rank r,then the <span class="math inline">\(3 D\)</span> matrix has rank atleast <span class="math inline">\(r\)</span>.</li><li>Let <span class="math inline">\(M\)</span> be made of two layers,<span class="math inline">\(\left[\begin{array}{ll}1 &amp; 0 \\ 0 &amp;1\end{array}\right]\)</span> and <spanclass="math inline">\(\left[\begin{array}{ll}0 &amp; 1 \\ 1 &amp;0\end{array}\right]\)</span>. Find its rank.</li><li>(Read only) Despite some practical interests, finding the tensorrank in general is NOT easy. In fact, it is NP-complete just for3-tensors over finite field. Furthermore, a tensor with all real entriesmight have different real rank and complex rank.</li></ol><hr /><p><span class="math inline">\((1)\)</span> According to the symmetry ofdot product <span class="math inline">\(\langle\alpha,u\rangle=\langleu,\alpha\rangle\)</span> we have equation <spanclass="math inline">\(\alpha^Tu=u^T\alpha\)</span> So</p><p><span class="math inline">\(\alpha^{T} u \beta^{T} v \gamma^{T}\omega=u^{T} \alpha \beta^{T} v \gamma^{T} \omega=u^{T}\left[\alpha\beta^{T} v \gamma_{1} \quad \partial \beta^{T} v \gamma_{2}\right]\omega\)</span> Compare to <span class="math inline">\([u^TA_1v\quadu^TA_2v]\omega\)</span> hence</p><p><spanclass="math inline">\(A_{1}=\gamma_{1}\left(\begin{array}{ll}\alpha_{1}\beta_{1} &amp; \alpha_{1} \beta_{2} \\ \alpha_{2} \beta_{1} &amp;\alpha_{2}\beta_{2}\end{array}\right)=\gamma_1\alpha\beta^T,A_{2}=\gamma_{2}\left(\begin{array}{ll}\alpha_{1}\beta_{1} &amp; \alpha_{1} \beta_{2} \\ \alpha_{2} \beta_{1} &amp;\alpha_{2} \beta_{2}\end{array}\right)=\gamma_2\alpha\beta^T\)</span> .So <spanclass="math inline">\(A_{ijk}=\gamma_i\alpha_j\beta_k\)</span></p><p><span class="math inline">\((2)\)</span> <spanclass="math inline">\(M_E\)</span> sends tensor <spanclass="math inline">\(M=[[A_1,A_2]]=[[\gamma_1\alpha\beta^T,\gamma_2\alpha \beta^T]]\)</span> to <spanclass="math inline">\(M&#39;=[[\gamma_1\alpha E \beta^T,\gamma_2\alphaE\beta^T]]\)</span></p><p>For <span class="math inline">\(\alpha _1,\alpha_2\)</span> in <spanclass="math inline">\((\mathbb{R}^2)^*\)</span> as one part in <spanclass="math inline">\(((\mathbb{R}^2)^*)^{\otimes3}\)</span> <spanclass="math display">\[M_{k\alpha_1+\mu\alpha_2}=[[\gamma_1(k\alpha_1+\mu\alpha_2)\beta^T,\gamma_2(k\alpha_1+\mu\alpha_2) \beta^T]]=kM_{\alpha _1}+\muM_{\alpha _2}\in ((\mathbb{R}^2)^*)^{\otimes3}\]</span> So for <span class="math inline">\(\alpha ,\beta\)</span> islinear. and for <span class="math inline">\(\gamma_1,\gamma_2\)</span>in <span class="math inline">\((\mathbb{R}^2)^*\)</span> as one part in<span class="math inline">\(((\mathbb{R}^2)^*)^{\otimes3}\)</span>, set<span class="math inline">\(\gamma_{11,12}\)</span> as the component of<span class="math inline">\(\gamma_1\)</span></p><p><span class="math inline">\(\gamma_{21,22}\)</span> as the componentof <span class="math inline">\(\gamma_2\)</span>, So <spanclass="math display">\[M_{k\gamma_1+\mu\gamma_2}=[[(k\gamma_{11}+\mu\gamma_{21})\alpha\beta^T,(k\gamma_{12}+\mu\gamma_{22})\alpha\beta^T]]=kM_{\gamma _1}+\mu M_{\gamma _2}\in((\mathbb{R}^2)^*)^{\otimes3}\]</span> So <span class="math inline">\(M_E\)</span> is a linear map,three operations at <spanclass="math inline">\(\alpha,\beta,\gamma\)</span></p><p><span class="math inline">\((3)\)</span> Suppose <spanclass="math inline">\(M=\displaystyle \sum_{i=1}^rM_{base(i)}\)</span>if we operate elementary layer operations for <spanclass="math inline">\(M\)</span>, the right hand side</p><p>is also in "rank one" maps, so <span class="math inline">\(r&#39;\leqr\)</span>. And if <span class="math inline">\(r&#39;&lt;r\)</span>,i.e., <span class="math inline">\(M&#39;=\displaystyle\sum_{i=1}^{r&#39;}M_{base(i)}\)</span> As elementary have itsinverse</p><p>operate the inverse of elementary operation, and we havecontradiction, so <span class="math inline">\(r&#39;=r\)</span></p><p><span class="math inline">\((4)\)</span> According to <spanclass="math inline">\(\mbox{SVD}\)</span>, the minimum number ofdecomposing a matrix into rank-<span class="math inline">\(1\)</span>matrixes equals to rank</p><p>So if <span class="math inline">\(2D\)</span> matrix needs at least<span class="math inline">\(r\)</span> rank-<spanclass="math inline">\(1\)</span> matrixes to make up, since everyrank-<span class="math inline">\(1\)</span> maps in <spanclass="math inline">\(\alpha \otimes \beta \otimes \gamma\)</span></p><p>contains two rank-<span class="math inline">\(1\)</span> matrix, sothe <span class="math inline">\(3D\)</span> matrix also needs at least<span class="math inline">\(r\)</span> rank-<spanclass="math inline">\(1\)</span> tensors to make up</p><p><span class="math inline">\((5)\)</span> For <spanclass="math inline">\(A_1=\left[\begin{array}{ll}1 &amp; 0 \\ 0 &amp;1\end{array}\right]\)</span> its rank is <spanclass="math inline">\(2\)</span>, so <spanclass="math inline">\(r(M)\geq 2\)</span>. Besides, construct tworank-<span class="math inline">\(1\)</span> tensors <spanclass="math display">\[M_1=[[\dfrac{1}{2}\begin{bmatrix}1 &amp; 1 \\ 1 &amp;1\end{bmatrix},\dfrac{1}{2}\begin{bmatrix}1 &amp; 1 \\ 1 &amp;1\end{bmatrix}]],M_2=[[\dfrac{1}{2}\begin{bmatrix}1 &amp; -1 \\ -1 &amp;1\end{bmatrix},-\dfrac{1}{2}\begin{bmatrix}1 &amp; -1 \\ -1 &amp;1\end{bmatrix}]]\]</span> And <span class="math inline">\(M=M_1+M_2\)</span>, so itsrank is <span class="math inline">\(2\)</span></p><p><imgsrc="https://pic.imgdb.cn/item/6278cb2909475431290238c1.jpg" /></p><h2 id="small-mboxijk-rank-3-tensor">1.8.2<span class="math inline">\(\\small \mbox{i+j+k rank-3 tensor}\)</span></h2><p>Let <span class="math inline">\(M\)</span> be a <spanclass="math inline">\(3 \times 3 \times 3\)</span> "3D matrix" whose<span class="math inline">\((i, j, k)\)</span>-entry is <spanclass="math inline">\(i+j+k\)</span>. We interpret this as a multilinearmap <span class="math inline">\(M: \mathbb{R}^{3} \times \mathbb{R}^{3}\times \mathbb{R}^{3} \rightarrow \mathbb{R}\)</span>.</p><ol type="1"><li>Let <spanclass="math inline">\(\boldsymbol{v}=\left[\begin{array}{l}x \\ y \\z\end{array}\right]\)</span>, then <spanclass="math inline">\(M(\boldsymbol{v}, \boldsymbol{v},\boldsymbol{v})\)</span> is a polynomial in <spanclass="math inline">\(x, y, z\)</span>. What is this polynomial?</li><li>Let <span class="math inline">\(\sigma:\{1,2,3\}\rightarrow\{1,2,3\}\)</span> be any bijection. Show that <spanclass="math inline">\(M\left(\boldsymbol{v}_{1}, \boldsymbol{v}_{2},\boldsymbol{v}_{3}\right)=M\left(\boldsymbol{v}_{\sigma(1)},\boldsymbol{v}_{\sigma(2)}, \boldsymbol{v}_{\sigma(3)}\right)\)</span>.(Hint: brute force works. But alternatively, try find the <spanclass="math inline">\((i, j, k)\)</span> entry of the multilinear map<span class="math inline">\(M^{\sigma}\)</span>, a map that sends <spanclass="math inline">\(\left(\boldsymbol{v}_{1}, \boldsymbol{v}_{2},\boldsymbol{v}_{3}\right)\)</span> to <spanclass="math inline">\(M\left(\boldsymbol{v}_{\sigma(1)},\boldsymbol{v}_{\sigma(2)},\boldsymbol{v}_{\sigma(3)}\right)\)</span>.)</li><li>Show that the rank <span class="math inline">\(r\)</span> of <spanclass="math inline">\(M\)</span> is at least 2 and at most 3. (It isactually exactly three.)</li><li>(Read only) Any study of polynomial of degree <spanclass="math inline">\(d\)</span> on <spanclass="math inline">\(n\)</span> variables is equivalent to the study ofsome symmetric <span class="math inline">\(d\)</span> tensor on <spanclass="math inline">\(\mathbb{R}^{n}\)</span>.</li></ol><hr /><p><span class="math inline">\((1)\)</span> <spanclass="math inline">\(M=[[\begin{bmatrix}3 &amp; 4 &amp; 5 \\ 4 &amp; 5&amp; 6\\5&amp; 6&amp;7\end{bmatrix},\begin{bmatrix}4 &amp; 5 &amp; 6 \\5 &amp; 6 &amp; 7\\6&amp; 7&amp;8\end{bmatrix},\begin{bmatrix}5 &amp; 6&amp; 7 \\ 6 &amp; 7 &amp; 8\\7&amp;8&amp;9\end{bmatrix}]]=[[A_1,A_2,A_3]]\)</span> And <spanclass="math inline">\(M(\boldsymbol v,\boldsymbol v,\boldsymbolv)\)</span> where <spanclass="math inline">\(\boldsymbol{v}=\begin{pmatrix}x\\y\\z\end{pmatrix}\)</span></p><p><span class="math inline">\(=[\boldsymbol v^TA_1\boldsymbol v\quad\boldsymbol v^TA_2\boldsymbol v\quad \boldsymbol v^TA_3\boldsymbolv]\boldsymbol v=[\boldsymbol v^T\begin{bmatrix}3 &amp; 4 &amp; 5 \\ 4&amp; 5 &amp; 6\\5&amp; 6&amp;7\end{bmatrix}\boldsymbol v\quad\boldsymbol v^T\begin{bmatrix}4 &amp; 5 &amp; 6 \\ 5 &amp; 6 &amp;7\\6&amp; 7&amp;8\end{bmatrix}\boldsymbol v\quad \boldsymbolv^T\begin{bmatrix}5 &amp; 6 &amp; 7 \\ 6 &amp; 7 &amp; 8\\7&amp;8&amp;9\end{bmatrix}\boldsymbol v]\boldsymbol v\)</span></p><p>Calculate it by <spanclass="math inline">\(\mbox{Mathematica}\)</span>, the result is <spanclass="math inline">\(p(x,y,z)=3 (x+y+z)^2 (x+2 y+3 z)\)</span></p><p><imgsrc="https://pic.imgdb.cn/item/6278d61109475431291e44d0.jpg" /></p><p><span class="math inline">\((2)\)</span> let a linear map from <spanclass="math inline">\(\mathbb{R}^{3} \times \mathbb{R}^{3} \times\mathbb{R}^{3}\)</span> to <spanclass="math inline">\(\mathbb{R}\)</span> sends <spanclass="math inline">\(\left(\boldsymbol{v}_{1}, \boldsymbol{v}_{2},\boldsymbol{v}_{3}\right)\)</span> to <spanclass="math inline">\(M\left(\boldsymbol{v}_{\sigma(1)},\boldsymbol{v}_{\sigma(2)},\boldsymbol{v}_{\sigma(3)}\right)\)</span></p><p>Obviously, it's multi-linear since for <spanclass="math inline">\(\boldsymbol{v}_i\)</span> the evaluation result islinear no matter which position <spanclass="math inline">\(\boldsymbol{v}_i\)</span> is.</p><p>And this map have a tensor such <spanclass="math inline">\(M&#39;=[[A_1&#39;,A_2&#39;,A_3&#39;]]\)</span>.Specialise <span class="math inline">\(\boldsymbol{v_i}\)</span> to getvalue of <spanclass="math inline">\(A_{1}&#39;,A_{2}&#39;,A_{3}&#39;\)</span></p><p>Set <spanclass="math inline">\(\boldsymbol{b}_1=\begin{pmatrix}1\\0\\0\end{pmatrix},\boldsymbol{b}_2=\begin{pmatrix}0\\1\\0\end{pmatrix},\boldsymbol{b}_3=\begin{pmatrix}0\\0\\1\end{pmatrix}\)</span>let <spanclass="math inline">\((\boldsymbol{v_1},\boldsymbol{v_2},\boldsymbol{v_3})=(\boldsymbol{b_i},\boldsymbol{b_j},\boldsymbol{b_k})\)</span>where <span class="math inline">\(1\leq i,j,k\leq 3\)</span></p><p>and they can be the same. Put one of condition into the map so <spanclass="math display">\[A_{k(ij)}&#39;=A_{\sigma^{-1}(i)(\sigma^{-1}(j)\sigma^{-1}(k))}=\sigma^{-1}(i)+\sigma^{-1}(j)+\sigma^{-1}(k)=i+j+k\]</span> So for <span class="math inline">\(k=1,2,3\)</span> <spanclass="math inline">\(A_{k}&#39;=A_k\)</span>, which implies that <spanclass="math inline">\(M&#39;=M\)</span>, so the equation is proved.</p><blockquote><p><strong>A brute try</strong> (failed):</p><p>It is obvious that swaping <spanclass="math inline">\(\boldsymbol{v}_{i},\boldsymbol{v}_{j}\)</span> atmost twice can make <spanclass="math inline">\(\boldsymbol{v}_1,\boldsymbol{v}_2,\boldsymbol{v}_3\)</span>$$ <span class="math inline">\(\boldsymbol{v}_{\sigma(1)},\boldsymbol{v}_{\sigma(2)}, \boldsymbol{v}_{\sigma(3)}\)</span></p><p>If swap <spanclass="math inline">\(\boldsymbol{v}_{1},\boldsymbol{v}_{2}\)</span>,the value <span class="math inline">\(\boldsymbol v_1^TA_i\boldsymbolv_2=\boldsymbol v_2^TA_i\boldsymbol v_1,i=1,2,3\)</span>, since <spanclass="math inline">\(A_i=A_i^T\)</span> so the result stays thesame.</p><p>And if we swap <spanclass="math inline">\(\boldsymbol{v}_{2},\boldsymbol{v}_{3}\)</span>,<span class="math inline">\([\boldsymbol v_1^TA_1\boldsymbol v_2\quad\boldsymbol v_1^TA_2\boldsymbol v_2\quad \boldsymbol v_1^TA_3\boldsymbolv_2]\boldsymbol v_3=\boldsymbol v_1^TA_1\boldsymbolv_2v_{3x}+\boldsymbol v_1^TA_2\boldsymbol v_2v_{3y}+\boldsymbolv_1^TA_3\boldsymbol v_2v_{3z}\)</span></p></blockquote><p><span class="math inline">\((3)\)</span> According to <spanclass="math inline">\(1.8.1(4)\)</span>, since <spanclass="math inline">\(\mbox{rank}(A_i)=2\)</span>, so <spanclass="math inline">\(r\geq 2\)</span>. Then just construct a reasonablecombination</p><p>I guess <spanclass="math inline">\(\alpha=\begin{pmatrix}1\\1\\-1\end{pmatrix},\beta=\begin{pmatrix}1\\-1\\1\end{pmatrix},\gamma=\begin{pmatrix}-1\\1\\1\end{pmatrix}\)</span>so the rank-<span class="math inline">\(1\)</span> matrix like <spanclass="math display">\[\begin{bmatrix}a&amp;b&amp;c\\a&amp;b&amp;c\\-a&amp;-b&amp;-c\end{bmatrix},\begin{bmatrix}d&amp;e&amp;f\\-d&amp;-e&amp;-f\\d&amp;e&amp;f\end{bmatrix},\begin{bmatrix}-g&amp;-h&amp;-i\\g&amp;h&amp;i\\g&amp;h&amp;i\end{bmatrix},\]</span> And the linear combinations of these three matrixes are <spanclass="math inline">\(\begin{bmatrix}3 &amp; 4 &amp; 5 \\ 4 &amp; 5&amp; 6\\5&amp; 6&amp;7\end{bmatrix},\begin{bmatrix}4 &amp; 5 &amp; 6 \\5 &amp; 6 &amp; 7\\6&amp; 7&amp;8\end{bmatrix},\begin{bmatrix}5 &amp; 6&amp; 7 \\ 6 &amp; 7 &amp; 8\\7&amp; 8&amp;9\end{bmatrix}\)</span></p><p>which transfers to three nine - dimensional equations, out of my handability, the coefficient matrix is <span class="math display">\[A=\left(\begin{array}{ccccccccc}1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; -1 &amp; 0 &amp; 0 \\  0 &amp; 1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; -1 &amp; 0 \\0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; -1 \\  0 &amp; 1 &amp; 0 &amp; 0 &amp; -1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 \\0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; -1 &amp; 0 &amp; 0 &amp; 1 \\1 &amp; 0 &amp; 0 &amp; -1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 \\-1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 \\0 &amp; -1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 \\0 &amp; 0 &amp; -1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 1 \\\end{array}\right),A\vec{x}=\vec{b}_{i}=\begin{pmatrix}3\\4\\5\\4\\5\\6\\5\\6\\7\end{pmatrix},\begin{pmatrix}4\\5\\6\\5\\6\\7\\6\\7\\8\end{pmatrix},\begin{pmatrix}5\\6\\7\\6\\7\\8\\7\\8\\9\end{pmatrix}\]</span> And the accurate solution is <span class="math display">\[\begin{gathered}\begin{bmatrix}3 &amp; 4 &amp; 5 \\ 4 &amp; 5 &amp; 6\\5&amp;6&amp;7\end{bmatrix}=\begin{bmatrix}3.5&amp;4.5&amp;5.5\\3.5&amp;4.5&amp;5.5\\-3.5&amp;-4.5&amp;-5.5\end{bmatrix}+\begin{bmatrix}4&amp;5&amp;6\\-4&amp;-5&amp;-6\\4&amp;5&amp;6\end{bmatrix}+\begin{bmatrix}-4.5&amp;-5.5&amp;-6.5\\4.5&amp;5.5&amp;6.5\\4.5&amp;5.5&amp;6.5\end{bmatrix}\\\begin{bmatrix}4 &amp; 5 &amp; 6 \\ 5 &amp; 6 &amp; 7\\6&amp;7&amp;8\end{bmatrix}=\begin{bmatrix}4.5&amp;5.5&amp;6.5\\4.5&amp;5.5&amp;6.5\\-4.5&amp;-5.5&amp;-6.5\end{bmatrix}+\begin{bmatrix}5&amp;6&amp;7\\-5&amp;-6&amp;-7\\5&amp;6&amp;7\end{bmatrix}+\begin{bmatrix}-5.5&amp;-6.5&amp;-7.5\\5.5&amp;6.5&amp;7.5\\5.5&amp;6.5&amp;7.5\end{bmatrix}\\\begin{bmatrix}5 &amp; 6 &amp; 7 \\ 6 &amp; 7 &amp; 8\\7&amp;8&amp;9\end{bmatrix}=\begin{bmatrix}5.5&amp;6.5&amp;7.5\\5.5&amp;6.5&amp;7.5\\-5.5&amp;-6.5&amp;-7.5\end{bmatrix}+\begin{bmatrix}6&amp;7&amp;8\\-6&amp;-7&amp;-8\\6&amp;7&amp;8\end{bmatrix}+\begin{bmatrix}-6.5&amp;-7.5&amp;-8.5\\6.5&amp;7.5&amp;8.5\\6.5&amp;7.5&amp;8.5\end{bmatrix}\\\end{gathered}\]</span> So it can be decomposed into three rank-<spanclass="math inline">\(1\)</span> tensors. So <spanclass="math inline">\(r\leq 3\)</span></p>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>高等代数选讲</category>
      
    </categories>
    
    
    <tags>
      
      <tag>高等代数选讲</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python-Visualization-Process the Json file</title>
    <link href="/2022/03/03/%E7%BC%96%E7%A8%8B/python%20%E5%8F%AF%E8%A7%86%E5%8C%96%E6%B5%81%E7%A8%8B/"/>
    <url>/2022/03/03/%E7%BC%96%E7%A8%8B/python%20%E5%8F%AF%E8%A7%86%E5%8C%96%E6%B5%81%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<p>Python 编写工程项目时，对每份代码，编写流程基本都是 <spanclass="math display">\[\Large \textcolor{black}{调库}\normalsize \Longrightarrow \Large\textcolor{black}{全局变量}\normalsize \Longrightarrow\Large \textcolor{black}{装饰器}\normalsize \Longrightarrow\Large \textcolor{black}{子函数}\normalsize \Longrightarrow\Large \textcolor{black}{主函数}\normalsize\]</span> 只要两者之间具有一定独立性，最好空开两行方便 <spanclass="math inline">\(\mbox{Debug}\)</span>。（这个真的是教训啊！！<strong>一定要全局</strong>，编写过程中使用复用性更高的代码，如使用<span class="math inline">\(\mbox{len()}\)</span>获取迭代次数，避免数据换了后手动调浪费时间）</p><h2 id="装饰器的使用">装饰器的使用</h2><p>装饰器是为了在输出结果时告知当前运行函数名称，运行时间，方便快速定位<span class="math inline">\(\mbox{Bug}\)</span>位置，一个经典装饰器的代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> functools<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">metric</span>(<span class="hljs-params">fn</span>):<br><span class="hljs-meta">    @functools.wraps(<span class="hljs-params">fn</span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kw</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;start executing %s&#x27;</span> % (fn.__name__))<br>        start_time = time.time()<br>        result = fn(*args, **kw)<br>        end_time = time.time()<br>        t = <span class="hljs-number">1000</span> * (end_time - start_time)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%s executed in %s ms&#x27;</span> % (fn.__name__, t))<br>        <span class="hljs-keyword">return</span> result<br>    <span class="hljs-keyword">return</span> wrapper<br></code></pre></td></tr></table></figure><p>该装饰器告知开始运行函数、结束运行函数以及运行时间，在每次<code>def 'name_of_fuction'</code> 前一行加入 <code>@metric</code>便可以实现装饰器功能</p><h2 id="获取目录下所有文件">获取目录下所有文件</h2><p>由于本次工作数据量庞大（成千上万个文件），从本地特定目录下读取该目录的所有文件，使用<span class="math inline">\(os\)</span> 库中的 <spanclass="math inline">\(listdir\)</span>函数获取目录下的文件名与目录拼接在一起，代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_list</span>(<span class="hljs-params">target</span>):<br>    dirs = os.listdir(target)//获取目录下的文件名称并存为列表<br>    file_list = []//初始化空列表<br>    <span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> dirs://遍历列表中的每一个文件名称<br>         file_list.append(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;target&#125;</span>/<span class="hljs-subst">&#123;file&#125;</span>&quot;</span>)//加到原来文件目录后面<br>    <span class="hljs-keyword">return</span> file_list//得到一个具有该目录下所有文件位置的列表<br></code></pre></td></tr></table></figure><h2 id="异常处理">异常处理</h2><p>使用 <span class="math inline">\(\mbox{try}\)</span> 和 <spanclass="math inline">\(\mbox{except}\)</span>语法，前者后面语句出现错误则跳至 <spanclass="math inline">\(\mbox{except}\)</span> 处，最好联合输出报错信息<span class="math inline">\(\mbox{e}\)</span> 以及错误所在文件搭配：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(e)<br>    //<span class="hljs-built_in">print</span>(file)<br></code></pre></td></tr></table></figure><p>在处理文件时容易发现“前端”的规范化有问题，此时 <spanclass="math inline">\(\mbox{try-except}\)</span>的作用体现得更加显著，多次套用异常处理语句即可</p><h2 id="计数器功能">计数器功能</h2><p>导入计数器所在库<code>from collections import Counter</code>，单个计数器本质上就是单个字典，使用<code>类名 = Counter()</code>初始化，之后遇到什么就以字典的形式进行计数（<code>Counter()</code>内部自动实现了遇到新 <code>key</code> 值计数为 <spanclass="math inline">\(1\)</span> ，遇到旧 <code>key</code> 值计数器加<span class="math inline">\(1\)</span>），由于存在多个、相互独立的列表，在实际运用中使用列表保存多个字典：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">listDics = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-built_in">len</span>(dirLanguage))://从 xlsx 中读取的二维列表(第几列第几个词)<br>    tempDict = Counter()//代表具有计数器功能的空字典<br>    listDics.append(tempDict)//形成字典列表<br><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> tqdm(file_list)://遍历并打开所有文件<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file,<span class="hljs-string">&quot;r&quot;</span>,encoding = <span class="hljs-string">&quot;utf-8&quot;</span>,errors = <span class="hljs-string">&quot;ignore&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        getTitle = json.load(f)[<span class="hljs-string">&quot;title&quot;</span>]//使用 json.load(f) 载入文件<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-built_in">len</span>(dirLanguage))://对二维列表的每一列<br>            <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> dirLanguage[i]://对应计数每一列<br>                listDict[i][word] += <span class="hljs-number">1</span>//使用字典的方式计数<br><br></code></pre></td></tr></table></figure><h2 id="mboxjson-文件收放自如"><spanclass="math inline">\(\mbox{json}\)</span> 文件收放自如</h2><p>从上个实例代码中可以看到，使用 <code>json.load(f)</code>即可以实现读取对应 <span class="math inline">\(\mbox{json}\)</span>文件的内容，即为 <span class="math inline">\(\mbox{json}\)</span>文件的读取</p><p>与之相对的为 <span class="math inline">\(\mbox{json}\)</span>文件的写入，使用<code>json.dump(写入名称,打开的文件(如f),ensure_ascii = False, indent = 2)</code>，注意打开文件时类型为<span class="math inline">\(\mbox{w\small+}\)</span>，为覆盖类型，例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./result.json&quot;</span>,<span class="hljs-string">&quot;w+&quot;</span>,encoding = <span class="hljs-string">&quot;utf-8&quot;</span>,errors = <span class="hljs-string">&quot;ignore&quot;</span>) <span class="hljs-keyword">as</span> f:<br>json.dump(title_content,f,ensure_ascii = <span class="hljs-literal">False</span>, indent = <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><h2 id="可视化工作中的可视化-mboxtqdm">可视化工作中的可视化（ <spanclass="math inline">\(\mbox{tqdm}\)</span> ）</h2><p>导入进度条库 <code>from tqdm import tqdm</code> （in Arabic means<em>progress</em>, also in Spanish <em>te quiero demasiado</em> means<em>I love you so much. </em>），在迭代器处加入 <spanclass="math inline">\(\mbox{tqdm}\)</span>就可以清晰地看到迭代所处位置，再也不用一直盯着闪烁的光标无脑等待了~~</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> tqdm(file_list):<br></code></pre></td></tr></table></figure><p>在 <span class="math inline">\(\mbox{Python}\)</span>交互式系统中可以达到这样效果，输入时保证可以需要输入就不会自动运行：</p><p><imgsrc="https://pic.imgdb.cn/item/6224c13c5baa1a80ab7af253.jpg" /></p><h2id="在大字符串中查找小字符串出现次数">在大字符串中查找小字符串出现次数</h2><p>使用字符串变量内置函数 <spanclass="math inline">\(str.\mbox{count}\)</span>，直接返回次数。造轮子的事情尽量少做：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">str</span>.count(find_str)<br></code></pre></td></tr></table></figure><h2 id="调试工程能力的体现">调试（工程能力的体现）</h2><p>在编写代码中，尽管“前端”有可能背锅，但大部分的错误还是因为自己总像个小孩子一样“犯傻”，不过<span class="math inline">\(\mbox{Python}\)</span>毕竟还是“大人”使用的工具，要学会定位 <spanclass="math inline">\(\mbox{Bug}\)</span> 的能力：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> IPython <span class="hljs-keyword">import</span> embed<br></code></pre></td></tr></table></figure><p><span class="math inline">\(\mbox{embed}\)</span> 函数有点像 <spanclass="math inline">\(\mathbf{C}\large艹\)</span>中的断点调试，但是更好的一点是，在出现错误的地方打上 <spanclass="math inline">\(\mbox{embed}\)</span>后程序会在指定的地方停止，同时保留了当前所有的存储变量，向外提供执行任意输入代码的接口，在<span class="math inline">\(\mbox{embed}\)</span> 之后，<spanclass="math inline">\(\mbox{print}\)</span>出当前的存储变量，或者手动输入（也可以多行复制）运行接下来的代码快速找到相应问题。虽然最后来说很多问题都比较弱智，但是就是这些弱智问题的<span class="math inline">\(\mbox{Debug}\)</span>很大程度影响了代码编写、维护以及（满足甲方需求）成功运行的总开发时长。</p>]]></content>
    
    
    <categories>
      
      <category>编程</category>
      
      <category>python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Concrete Mathematics Chapter one note</title>
    <link href="/2022/02/25/%E6%95%B0%E5%AD%A6/%E5%85%B7%E4%BD%93%E6%95%B0%E5%AD%A6%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/02/25/%E6%95%B0%E5%AD%A6/%E5%85%B7%E4%BD%93%E6%95%B0%E5%AD%A6%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="chapter-1-recurrent-problem">Chapter 1 Recurrent problem</h1><p>For <strong>Hanoi problem</strong>, consider the largest disk must bemoved when the <span class="math inline">\(n-1\)</span> disks on it weremoved. And once <span class="math inline">\(T_{n-1}\)</span> times aredown, we must at least move the largest one once and do another <spanclass="math inline">\(T_{n-1}\)</span> times to make it. Hence: <spanclass="math display">\[T_{n}\geq2T_{n-1}+1\]</span> Apparently we can give a structure to suit this <spanclass="math inline">\(T_n\)</span> , so recurrence <spanclass="math inline">\(T_n=2T_{n-1}+1\)</span>, then <spanclass="math inline">\(T_n=2^n-1\)</span></p><p>For <strong>Lines-in-the-plane problem</strong>, consider nth linecan intersect <span class="math inline">\(n-1\)</span> common points,and these points divide this line into <spanclass="math inline">\(n\)</span> parts, each part gives one more region.Hence: <span class="math display">\[L_n\leq L_{n-1}+n\]</span> Combined with boundary value, so <spanclass="math inline">\(L_n=\dfrac{n(n+1)}{2}+1\\\)</span></p><p>For <strong>Zigs-in-the-plane problem</strong>, if extend the sharpside, we have <spanclass="math inline">\(Z&#39;_{n}=L_{2n}=2n^2+n+1\)</span>, but becauseof the sharps, the ideal situation is each sharp lose two regions. So<span class="math inline">\(Z_n=Z&#39;_{n}-2\cdotn=2n^2-n+1\)</span></p><p>For <strong>Josephus problem</strong>, assume the order of the deathis <span class="math inline">\(2\)</span>. Consider <spanclass="math inline">\(1,2,\dots ,2n\)</span>, after first round thecircle leave <span class="math inline">\(1,3,\cdots ,2n-1\)</span>, andeach correspond to the n-people situation, hence: <spanclass="math display">\[J_{2n}=2J_{n}-1\]</span> This equation gives that <spanclass="math inline">\(J_{2^n}\equiv1\)</span>, when the number of peopleis the power of <span class="math inline">\(2\)</span>, the first guy islucky. And consider <span class="math inline">\(1,2,\cdots,2n,2n+1\)</span>, after first round it remains <spanclass="math inline">\(3,5,\cdots ,2n+1\)</span>, each correspond to then-people situation, hence:</p><p><span class="math display">\[J_{2n+1}=2J_{n}+1\]</span> And define <span class="math inline">\(m\triangleq \lfloorlog_2 n\rfloor\)</span> , so <span class="math inline">\(l\triangleqn-2^m\in[0,\dfrac{n}{2})\)</span>, and after <spanclass="math inline">\(l\)</span> times the number is power of 2 and thefirst guy that is currently pointed is lucky. Hence: <spanclass="math display">\[J_{n}=2l+1=2(n-2^{\lfloor log_2 n \rfloor})+1\]</span></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">long</span> <span class="hljs-type">long</span> <span class="hljs-title">BinarySolutionToJosephusTwo</span><span class="hljs-params">(<span class="hljs-type">long</span> <span class="hljs-type">long</span> a)</span> </span>&#123;<span class="hljs-comment">//time complexity O(logn)</span><br>    <span class="hljs-type">long</span> <span class="hljs-type">long</span> A = a;<br>    <span class="hljs-keyword">while</span> ((A &amp; (A - <span class="hljs-number">1</span>)) != <span class="hljs-number">0</span>)<span class="hljs-comment">//get the first 1</span><br>        A &amp;= (A - <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> ((a - A) &lt;&lt; <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>To generalize it, we assume that <spanclass="math inline">\(f(j)=\alpha_j(1\leq j&lt;d)\)</span> and <spanclass="math display">\[f(dn+j)=cf(n)+\beta_j(0\leq j\]</span> Use base system, the result is: <span class="math display">\[f((b_mb_{m-1}\cdotsb_1b_0)_d)=(\alpha_{b_m}\beta_{b_{m-1}}\beta_{b_{m-2}}\cdots\beta_{b_1}\beta_{b_0})_c\]</span> Beautiful proof of<strong>AGM</strong>(Arithmetic-Geometric-Mean inequality), let <spanclass="math inline">\(P(n)\)</span> means when there are n numbers istrue: <span class="math display">\[P(2)\ is\ true ,P(n)\to P(n-1),P(n)\ and \ P(2)\to P(2n)\]</span> <strong>repertoire method</strong>: Use undetermined functionmethod to solve recurrent problem, for instance <spanclass="math display">\[\begin{aligned}&amp;R_{0}=\alpha \\&amp;R_{n}=2R_{n-1}+\beta n+\gamma\end{aligned}\]</span> Set <span class="math inline">\(R_{n}=A(n) \alpha+B(n)\beta+C(n) \gamma\)</span>, use some special situations to get <spanclass="math inline">\(A(n),B(n),C(n)\)</span> <spanclass="math display">\[\begin{cases}R_{n}=1\Longrightarrow \alpha=1,\gamma=-1,\beta=0\LongrightarrowA(n)-C(n)=1\\R_{n}=n\Longrightarrow \alpha=0,n=2\cdot (n-1)+\betan+\gamma,\beta=-1,\gamma=2\Longrightarrow2C(n)-B(n)=n\\R_{n}=2^n\Longrightarrow \alpha=1,2^n=2\cdot 2^{n-1}+\betan+\gamma\Longrightarrow\beta=\gamma=0\Longrightarrow A(n)=2^{n}\end{cases}\]</span> Solution <spanclass="math inline">\(\begin{cases}A(n)=2^n\\B(n)=2^{n+1}-n-2\\C(n)=2^{n}-1\end{cases}\)</span>,then <span class="math inline">\(R_{n}=(\alpha+2\beta+\gamma)2^{n}-\betan-(2\beta+\gamma)\)</span></p><p><span class="math inline">\(n\)</span> planes divide the threedimensions space into <span class="math inline">\(\largeC_{n}^{0}+C_{n}^{1}+C_{n}^{2}+C_{n}^{3}\)</span> pieces at most.</p><p>consider <span class="math inline">\(T_{n}\)</span> and <spanclass="math inline">\(T_{n-1}\)</span>, the pieces that are added is<span class="math inline">\(n-1\)</span> lines that cut the new plane,so that <span class="math display">\[T_{n}=T_{n-1}+\large C_{n-1}^{0}+C_{n-1}^{1}+C_{n-1}^{2}\]</span> So we can guess that when the super-plane is <spanclass="math inline">\(d-1\)</span> dimensions, then <spanclass="math inline">\(n\)</span> super-planes cut the <spanclass="math inline">\(d\)</span> dimensions space into <spanclass="math inline">\(\displaystyle \sum_{k=0}^{d}\largeC_{n}^{i}\)</span> pieces at most.</p>]]></content>
    
    
    <categories>
      
      <category>数学</category>
      
      <category>具体数学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>具体数学</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
